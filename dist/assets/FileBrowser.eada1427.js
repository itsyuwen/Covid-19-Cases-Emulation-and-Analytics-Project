import{bf as EffectScope,bg as ReactiveEffect,bh as customRef,bi as effect,bj as effectScope,bk as getCurrentScope,bl as isProxy,bm as isReactive,bn as isReadonly,aF as isRef,bo as isShallow,bp as markRaw,bq as onScopeDispose,br as proxyRefs,Q as reactive,av as readonly,r as ref,bs as shallowReactive,bt as shallowReadonly,b8 as shallowRef,bu as stop$1,bv as toRaw,a3 as toRef,t as toRefs,bw as triggerRef,g as unref,bx as camelize$3,by as capitalize,n as normalizeClass,bz as normalizeProps$2,G as normalizeStyle,q as toDisplayString,bA as toHandlerKey,bB as BaseTransition,an as Comment,X as Fragment$1,bC as KeepAlive,bD as Static,bE as Suspense,as as Teleport,am as Text,bF as callWithAsyncErrorHandling,bG as callWithErrorHandling,al as cloneVNode,bH as compatUtils,A as computed,l as createBlock,F as createCommentVNode,e as createElementBlock,k as createBaseVNode,bI as createHydrationRenderer,bJ as createPropsRestProxy,bK as createRenderer,bL as createSlots,bM as createStaticVNode,a5 as createTextVNode$1,B as createVNode$1,bN as defineAsyncComponent,d as defineComponent,bO as defineEmits,bP as defineExpose,bQ as defineProps,bR as devtools,s as getCurrentInstance,bS as getTransitionRawChildren,bT as guardReactiveProps,U as h,bU as handleError$1,bV as initCustomFormatter,j as inject,bW as isMemoSame,bX as isRuntimeOnly,bY as isVNode,bZ as mergeDefaults,H as mergeProps,a2 as nextTick$1,b_ as onActivated,aj as onBeforeMount,S as onBeforeUnmount,b$ as onBeforeUpdate,aw as onDeactivated,c0 as onErrorCaptured,o as onMounted,c1 as onRenderTracked,c2 as onRenderTriggered,c3 as onServerPrefetch,ae as onUnmounted,aK as onUpdated,c as openBlock,ab as popScopeId,p as provide,aa as pushScopeId,c4 as queuePostFlushCb,c5 as registerRuntimeCompiler,a9 as renderList,f as renderSlot,a4 as resolveComponent,aP as resolveDirective,m as resolveDynamicComponent,c6 as resolveFilter,c7 as resolveTransitionHooks,c8 as setBlockTracking,c9 as setDevtoolsHook,ca as setTransitionHooks,cb as ssrContextKey,cc as ssrUtils,I as toHandlers,cd as transformVNodeArgs,b7 as useAttrs,ce as useSSRContext,J as useSlots,cf as useTransitionState,cg as version$2,ch as warn,R as watch,aR as watchEffect,ci as watchPostEffect,cj as watchSyncEffect,ck as withAsyncContext,w as withCtx,cl as withDefaults,V as withDirectives,cm as withMemo,cn as withScopeId,T as Transition,co as TransitionGroup,cp as VueElement,cq as createApp,cr as createSSRApp,cs as defineCustomElement,ct as defineSSRCustomElement,cu as hydrate$1,cv as initDirectivesForSSR,cw as render$5,cx as useCssModule,cy as useCssVars,aM as vModelCheckbox,cz as vModelDynamic,cA as vModelRadio,cB as vModelSelect,cC as vModelText,W as vShow,cD as withKeys,D as withModifiers,cE as commonjsGlobal,cF as commonjsRequire,cG as getAugmentedNamespace,cH as getDefaultExportFromCjs,be as axios}from"./index.7b9a5795.js";import{_ as _export_sfc}from"./plugin-vue_export-helper.21dcd24c.js";const compile=()=>{};var vue_runtime_esmBundler=Object.freeze(Object.defineProperty({__proto__:null,compile,EffectScope,ReactiveEffect,customRef,effect,effectScope,getCurrentScope,isProxy,isReactive,isReadonly,isRef,isShallow,markRaw,onScopeDispose,proxyRefs,reactive,readonly,ref,shallowReactive,shallowReadonly,shallowRef,stop:stop$1,toRaw,toRef,toRefs,triggerRef,unref,camelize:camelize$3,capitalize,normalizeClass,normalizeProps:normalizeProps$2,normalizeStyle,toDisplayString,toHandlerKey,BaseTransition,Comment,Fragment:Fragment$1,KeepAlive,Static,Suspense,Teleport,Text,callWithAsyncErrorHandling,callWithErrorHandling,cloneVNode,compatUtils,computed,createBlock,createCommentVNode,createElementBlock,createElementVNode:createBaseVNode,createHydrationRenderer,createPropsRestProxy,createRenderer,createSlots,createStaticVNode,createTextVNode:createTextVNode$1,createVNode:createVNode$1,defineAsyncComponent,defineComponent,defineEmits,defineExpose,defineProps,get devtools(){return devtools},getCurrentInstance,getTransitionRawChildren,guardReactiveProps,h,handleError:handleError$1,initCustomFormatter,inject,isMemoSame,isRuntimeOnly,isVNode,mergeDefaults,mergeProps,nextTick:nextTick$1,onActivated,onBeforeMount,onBeforeUnmount,onBeforeUpdate,onDeactivated,onErrorCaptured,onMounted,onRenderTracked,onRenderTriggered,onServerPrefetch,onUnmounted,onUpdated,openBlock,popScopeId,provide,pushScopeId,queuePostFlushCb,registerRuntimeCompiler,renderList,renderSlot,resolveComponent,resolveDirective,resolveDynamicComponent,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,ssrContextKey,ssrUtils,toHandlers,transformVNodeArgs,useAttrs,useSSRContext,useSlots,useTransitionState,version:version$2,warn,watch,watchEffect,watchPostEffect,watchSyncEffect,withAsyncContext,withCtx,withDefaults,withDirectives,withMemo,withScopeId,Transition,TransitionGroup,VueElement,createApp,createSSRApp,defineCustomElement,defineSSRCustomElement,hydrate:hydrate$1,initDirectivesForSSR,render:render$5,useCssModule,useCssVars,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,vShow,withKeys,withModifiers},Symbol.toStringTag,{value:"Module"})),fileManager={},types={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string","[object Null]":"null"},type=function(t){var e=Object.prototype.toString.call(t);return typeof t=="object"?types[e]||"object":typeof t},isBoolean=function(t){return typeof t=="boolean"},isExponential=function(t){return isNumeric$1(t)&&t.toString().indexOf("e")!==-1},isDate=function(t){return type(t)==="date"},isDefined=function(t){return t!=null},isFunction$2=function(t){return typeof t=="function"},isString$2=function(t){return typeof t=="string"},isNumeric$1=function(t){return typeof t=="number"&&isFinite(t)||!isNaN(t-parseFloat(t))},isObject=function(t){return type(t)==="object"},isEmptyObject=function(t){var e;for(e in t)return!1;return!0},isPlainObject=function(t){if(!t||Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t),r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&Object.toString.call(r)===Object.toString.call(Object)},isPrimitive=function(t){return["object","array","function"].indexOf(type(t))===-1},isWindow=function(t){return t!=null&&t===t.window},isRenderer=function(t){return!!t&&!!(t.jquery||t.dxRenderer)},isPromise$1=function(t){return!!t&&isFunction$2(t.then)},isDeferred=function(t){return!!t&&isFunction$2(t.done)&&isFunction$2(t.fail)},isEvent=function(t){return!!(t&&t.preventDefault)},extendFromObject=function(t,e,r){t=t||{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];(!(n in t)||r)&&(t[n]=i)}return t},extend=function t(e){e=e||{};var r=1,n=!1;for(typeof e=="boolean"&&(n=e,e=arguments[1]||{},r++);r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var a in i){var o=e[a],s=i[a],l=!1,u=void 0;a==="__proto__"||a==="constructor"||e===s||(n&&s&&(isPlainObject(s)||(l=Array.isArray(s)))?(l?u=o&&Array.isArray(o)?o:[]:u=o&&isPlainObject(o)?o:{},e[a]=t(n,u,s)):s!==void 0&&(e[a]=s))}}return e},map=(t,e)=>{if(Array.isArray(t))return t.map(e);var r=[];for(var n in t)r.push(e(t[n],n));return r},each=(t,e)=>{if(!!t){if("length"in t)for(var r=0;r<t.length&&e.call(t[r],r,t[r])!==!1;r++);else for(var n in t)if(e.call(t[n],n,t[n])===!1)break;return t}},noop$1=function(){},getConsoleMethod=function(t){return typeof console=="undefined"||!isFunction$2(console[t])?noop$1:console[t].bind(console)},logger={info:getConsoleMethod("info"),warn:getConsoleMethod("warn"),error:getConsoleMethod("error")},encodeHtml=function(){var t=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(t[0],"&amp;").replace(t[1],"&quot;").replace(t[2],"&#39;").replace(t[3],"&lt;").replace(t[4],"&gt;")}}();function format(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return isFunction$2(t)?t(...r):(r.forEach((i,a)=>{isString$2(i)&&(i=i.replace(/\$/g,"$$$$"));var o=new RegExp("\\{"+a+"\\}","gm");t=t.replace(o,i)}),t)}var isEmpty=function(){var t=/\s/g;return function(e){return!e||!e.replace(t,"")}}(),version$1="22.1.6",ERROR_URL="http://js.devexpress.com/error/"+version$1.split(".").slice(0,2).join("_")+"/";function errorUtils(t,e){var r={ERROR_MESSAGES:extend(e,t),Error:function(){return o([].slice.call(arguments))},log:function(l){var u="log";/^E\d+$/.test(l)?u="error":/^W\d+$/.test(l)&&(u="warn"),logger[u](u==="log"?l:n([].slice.call(arguments)))}};function n(l){var u=l[0];return l=l.slice(1),a(u,i(u,l))}function i(l,u){return u=[r.ERROR_MESSAGES[l]].concat(u),format.apply(this,u).replace(/\.*\s*?$/,"")}function a(l,u){return format.apply(this,[`{0} - {1}. See:
{2}`,l,u,s(l)])}function o(l){var u=l[0];l=l.slice(1);var m=i(u,l),b=s(u),_=a(u,m);return extend(new Error(_),{__id:u,__details:m,url:b})}function s(l){return ERROR_URL+l}return r}var errors$3=errorUtils({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2'}),wrapOverridden=function(t,e,r){return function(){var n=this.callBase;this.callBase=t[e];try{return r.apply(this,arguments)}finally{this.callBase=n}}},clonePrototype=function(t){var e=function(){};return e.prototype=t.prototype,new e},redefine=function(t){var e,r,n;if(!t)return this;for(r in t)n=t[r],e=typeof this.prototype[r]=="function"&&typeof n=="function",this.prototype[r]=e?wrapOverridden(this.parent.prototype,r,n):n;return this},include=function(){var t=this,e,r,n,i=Object.prototype.hasOwnProperty.bind(t),a=!i("_includedCtors")&&!i("_includedPostCtors");for(a&&(t._includedCtors=t._includedCtors.slice(0),t._includedPostCtors=t._includedPostCtors.slice(0)),n=0;n<arguments.length;n++){e=arguments[n],e.ctor&&t._includedCtors.push(e.ctor),e.postCtor&&t._includedPostCtors.push(e.postCtor);for(r in e)r==="ctor"||r==="postCtor"||r==="default"||(t.prototype[r]=e[r])}return t},subclassOf=function(t){var e=Object.prototype.hasOwnProperty.bind(this)("parent"),r=!e&&this.parent;if(r){var n=Object.getPrototypeOf(this);return n===t||n.subclassOf(t)}else return this.parent===t?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(t)},abstract$5=function(){throw errors$3.Error("E0001")},copyStatic=function(){var t=Object.prototype.hasOwnProperty;return function(e,r){for(var n in e){if(!t.call(e,n))return;r[n]=e[n]}}}(),classImpl=function(){};classImpl.inherit=function(t){var e=function(){if(!this||isWindow(this)||typeof this.constructor!="function")throw errors$3.Error("E0003");var r=this,n=r.ctor,i=r.constructor._includedCtors,a=r.constructor._includedPostCtors,o;for(o=0;o<i.length;o++)i[o].call(r);for(n&&n.apply(r,arguments),o=0;o<a.length;o++)a[o].call(r)};return e.prototype=clonePrototype(this),copyStatic(this,e),e.inherit=this.inherit,e.abstract=abstract$5,e.redefine=redefine,e.include=include,e.subclassOf=subclassOf,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(t),e};classImpl.abstract=abstract$5;var Class=classImpl;function dependencyInjector(t){var e=Class.inherit(t),r=e,n=new r(t),i={},a=function(o,s){each(o,function(l){isFunction$2(n[l])?(s||!t[l])&&(t[l]=function(){return n[l].apply(t,arguments)}):(s&&(i[l]=t[l]),t[l]=n[l])})};return a(t,!0),t.inject=function(o){r=r.inherit(o),n=new r,a(o)},t.resetInjection=function(){extend(t,i),r=e,n=new e},t}var config$4={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:t=>{t.trim().charAt(0)!=="{"&&(t="{"+t+"}");try{return new Function("return "+t)()}catch(e){throw errors$3.Error("E3018",e,t)}}},deprecatedFields=["decimalSeparator","thousandsSeparator"],configMethod=function(){if(!arguments.length)return config$4;var t=arguments.length<=0?void 0:arguments[0];deprecatedFields.forEach(e=>{if(t[e]){var r="Now, the ".concat(e," is selected based on the specified locale.");errors$3.log("W0003","config",e,"19.2",r)}}),extend(config$4,t)};typeof DevExpress!="undefined"&&DevExpress.config&&configMethod(DevExpress.config);var config$5=configMethod,Guid=Class.inherit({ctor:function(t){t&&(t=String(t)),this._value=this._normalize(t||this._generate())},_normalize:function(t){for(t=t.replace(/[^a-f0-9]/gi,"").toLowerCase();t.length<32;)t+="0";return[t.substr(0,8),t.substr(8,4),t.substr(12,4),t.substr(16,4),t.substr(20,12)].join("-")},_generate:function(){for(var t="",e=0;e<32;e++)t+=Math.round(15*Math.random()).toString(16);return t},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),Guid$1=Guid,Callback=function(t){this._options=t||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};Callback.prototype._fireCore=function(t,e){var r=this._firingIndexes,n=this._list,i=this._options.stopOnFalse,a=r.length;for(r[a]=0;r[a]<n.length;r[a]++){var o=n[r[a]].apply(t,e);if(o===!1&&i)break}r.pop()};Callback.prototype.add=function(t){return typeof t=="function"&&(!this._options.unique||!this.has(t))&&this._list.push(t),this};Callback.prototype.remove=function(t){var e=this._list,r=this._firingIndexes,n=e.indexOf(t);if(n>-1&&(e.splice(n,1),this._firing&&r.length))for(var i=0;i<r.length;i++)n<=r[i]&&r[i]--;return this};Callback.prototype.has=function(t){var e=this._list;return t?e.indexOf(t)>-1:!!e.length};Callback.prototype.empty=function(t){return this._list=[],this};Callback.prototype.fireWith=function(t,e){var r=this._queue;if(e=e||[],e=e.slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(t,e);else{if(r.push([t,e]),this._firing)return;for(this._firing=!0;r.length;){var n=r.shift();this._fireCore(n[0],n[1])}}return this._firing=!1,this._fired=!0,this};Callback.prototype.fire=function(){this.fireWith(this,arguments)};Callback.prototype.fired=function(){return this._fired};var Callbacks=function(t){return new Callback(t)},callbacks$3=Object.freeze(Object.defineProperty({__proto__:null,default:Callbacks},Symbol.toStringTag,{value:"Module"})),deferredConfig=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],_DeferredObj=function(){var t=this;this._state="pending",this._promise={},deferredConfig.forEach(function(e){var r=e.method;this[r+"Callbacks"]=new Callbacks,this[r]=function(){return this[r+"With"](this._promise,arguments)}.bind(this),this._promise[e.handler]=function(n){if(!n)return this;var i=t[r+"Callbacks"];return i.fired()?n.apply(t[r+"Context"],t[r+"Args"]):i.add(function(a,o){n.apply(a,o)}.bind(this)),this}}.bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(e,r){var n=new _DeferredObj;return["done","fail"].forEach(function(i){var a=i==="done"?e:r;this[i](function(){if(!a){n[i==="done"?"resolve":"reject"].apply(this,arguments);return}var o=a&&a.apply(this,arguments);isDeferred(o)?o.done(n.resolve).fail(n.reject):isPromise$1(o)?o.then(n.resolve,n.reject):n.resolve.apply(this,isDefined(o)?[o]:arguments)})}.bind(this)),n.promise()},this._promise.state=function(){return t._state},this._promise.promise=function(e){return e?extend(e,t._promise):t._promise},this._promise.promise(this)};deferredConfig.forEach(function(t){var e=t.method,r=t.state;_DeferredObj.prototype[e+"With"]=function(n,i){var a=this[e+"Callbacks"];return this.state()==="pending"&&(this[e+"Args"]=i,this[e+"Context"]=n,r&&(this._state=r),a.fire(n,i)),this}});function fromPromise(t,e){if(isDeferred(t))return t;if(isPromise$1(t)){var r=new _DeferredObj;return t.then(function(){r.resolveWith.apply(r,[e].concat([[].slice.call(arguments)]))},function(){r.rejectWith.apply(r,[e].concat([[].slice.call(arguments)]))}),r}return new _DeferredObj().resolveWith(e,[t])}var whenFunc=function(){if(arguments.length===1)return fromPromise(arguments[0]);for(var t=[].slice.call(arguments),e=[],r=0,n=new _DeferredObj,i=function(o){return function(s){e[o]=this,t[o]=arguments.length>1?[].slice.call(arguments):s,r++,r===t.length&&n.resolveWith(e,t)}},a=0;a<t.length;a++)isDeferred(t[a])?t[a].promise().done(i(a)).fail(n.reject):r++;return r===t.length&&n.resolveWith(e,t),n.promise()};function Deferred(){return new _DeferredObj}function when(){return whenFunc.apply(this,arguments)}var variableWrapper=dependencyInjector({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(t){return t},unwrap:function(t){return t},assign:function(){logger.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}}),assignValueToProperty=function(t,e,r,n){!n&&variableWrapper.isWrapped(t[e])?variableWrapper.assign(t[e],r):t[e]=r},deepExtendArraySafe=function t(e,r,n,i){var a,o;for(var s in r)if(a=e[s],o=r[s],!(s==="__proto__"||s==="constructor"||e===o)){if(isPlainObject(o)){var l=n?isObject(a):isPlainObject(a);o=t(l?a:{},o,n,i)}o!==void 0&&a!==o&&assignValueToProperty(e,s,o,i)}return e},unwrapVariable=variableWrapper.unwrap,isWrapped=variableWrapper.isWrapped,assign=variableWrapper.assign,bracketsToDots=function(t){return t.replace(/\[/g,".").replace(/\]/g,"")},getPathParts$1=function(t){return bracketsToDots(t).split(".")},readPropValue=function(t,e,r){return r=r||{},unwrap(e==="this"?t:t[e],r)},assignPropValue=function(t,e,r,n){if(e==="this")throw new errors$3.Error("E4016");var i=t[e];n.unwrapObservables&&isWrapped(i)?assign(i,r):t[e]=r},prepareOptions=function(t){return t=t||{},t.unwrapObservables=t.unwrapObservables!==void 0?t.unwrapObservables:!0,t};function unwrap(t,e){return e.unwrapObservables?unwrapVariable(t):t}var compileGetter=function(t){if(arguments.length>1&&(t=[].slice.call(arguments)),!t||t==="this")return function(r){return r};if(typeof t=="string"){var e=getPathParts$1(t);return function(r,n){n=prepareOptions(n);for(var i=n.functionsAsIs,a=("defaultValue"in n),o=unwrap(r,n),s=0;s<e.length;s++){if(!o){if(o==null&&a)return n.defaultValue;break}var l=e[s];if(a&&isObject(o)&&!(l in o))return n.defaultValue;var u=unwrap(o[l],n);!i&&isFunction$2(u)&&(u=u.call(o)),o=u}return o}}if(Array.isArray(t))return combineGetters(t);if(isFunction$2(t))return t};function combineGetters(t){for(var e={},r=0,n=t.length;r<n;r++){var i=t[r];e[i]=compileGetter(i)}return function(a,o){var s;return each(e,function(l){var u=this(a,o);if(u!==void 0){for(var m=s||(s={}),b=l.split("."),_=b.length-1,I=0;I<_;I++){var j=b[I];j in m||(m[j]={}),m=m[j]}m[b[_]]=u}}),s}}var ensurePropValueDefined=function(t,e,r,n){if(isDefined(r))return r;var i={};return assignPropValue(t,e,i,n),i},compileSetter=function(t){t=getPathParts$1(t||"this");var e=t.length-1;return function(r,n,i){i=prepareOptions(i);var a=unwrap(r,i);t.forEach(function(o,s){var l=readPropValue(a,o,i),u=!i.functionsAsIs&&isFunction$2(l)&&!isWrapped(l);s===e?i.merge&&isPlainObject(n)&&(!isDefined(l)||isPlainObject(l))?(l=ensurePropValueDefined(a,o,l,i),deepExtendArraySafe(l,n,!1,!0)):u?a[o](n):assignPropValue(a,o,n,i):(l=ensurePropValueDefined(a,o,l,i),u&&(l=l.call(a)),a=l)})}},toComparable$2=function(t,e){return t instanceof Date?t.getTime():t&&t instanceof Class&&t.valueOf?t.valueOf():!e&&typeof t=="string"?t.toLowerCase():t},ensureDefined=function(t,e){return isDefined(t)?t:e},executeAsync=function(t,e){var r=new Deferred,n=e||this,i={promise:r.promise(),abort:function(){clearTimeout(o),r.rejectWith(n)}},a=function(){var s=t.call(n);s&&s.done&&isFunction$2(s.done)?s.done(function(){r.resolveWith(n)}):r.resolveWith(n)},o=(arguments[2]||setTimeout)(a,typeof e=="number"?e:0);return i},delayedFuncs=[],delayedNames=[],delayedDeferreds=[],executingName,deferExecute=function(t,e,r){if(executingName&&executingName!==t)return delayedFuncs.push(e),delayedNames.push(t),r=r||new Deferred,delayedDeferreds.push(r),r;var n=executingName,i=delayedDeferreds.length;executingName=t;var a=e();return a||(delayedDeferreds.length>i?a=when.apply(this,delayedDeferreds.slice(i)):r&&r.resolve()),executingName=n,r&&a&&a.done&&a.done(r.resolve).fail(r.reject),!executingName&&delayedFuncs.length&&(delayedNames.shift()==="render"?deferRender:deferUpdate)(delayedFuncs.shift(),delayedDeferreds.shift()),a||when()},deferRender=function(t,e){return deferExecute("render",t,e)},deferUpdate=function(t,e){return deferExecute("update",t,e)},deferRenderer=function(t){return function(){var e=this;return deferExecute("render",function(){return t.call(e)})}},deferUpdater=function(t){return function(){var e=this;return deferExecute("update",function(){return t.call(e)})}},findBestMatches=function(t,e,r){var n=[],i=0;return each(e,(a,o)=>{var s=0,l=r?r(o):o;each(t,(u,m)=>{var b=l[u];if(b!==void 0){if(match(b,m)){s++;return}return s=-1,!1}}),!(s<i)&&(s>i&&(n.length=0,i=s),n.push(o))}),n},match=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){var r=!1;return each(t,(n,i)=>{if(i!==e[n])return r=!0,!1}),!r}return t===e},splitPair=function(t){var e,r;switch(type(t)){case"string":return t.split(/\s+/,2);case"object":return[(e=t.x)!==null&&e!==void 0?e:t.h,(r=t.y)!==null&&r!==void 0?r:t.v];case"number":return[t];case"array":return t;default:return null}},pairToObject=function(t,e){var r=splitPair(t),n=e?parseFloat(r&&r[0]):parseInt(r&&r[0],10),i=e?parseFloat(r&&r[1]):parseInt(r&&r[1],10);return isFinite(n)||(n=0),isFinite(i)||(i=n),{h:n,v:i}},getKeyHash=function(t){if(t instanceof Guid$1)return t.toString();if(isObject(t)||Array.isArray(t))try{var e=JSON.stringify(t);return e==="{}"?t:e}catch{return t}return t},escapeRegExp=function(t){return t.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},noop=function(){},asyncNoop=function(){return new Deferred().resolve().promise()},grep=function(t,e,r){for(var n=[],i,a=!r,o=0;o<t.length;o++)i=!!e(t[o],o),i===a&&n.push(t[o]);return n},arraysEqualByValue=function(t,e,r){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!equalByValue(t[n],e[n],r+1))return!1;return!0},objectsEqualByValue=function(t,e,r,n){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!equalByValue(t[i],e[i],r+1,n))return!1;for(var a in e)if(!(a in t))return!1;return!0},maxEqualityDepth=3,equalByValue=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;t=toComparable$2(t,!0),e=toComparable$2(e,!0);var i=n?t===e:t==e;return i||r>=maxEqualityDepth?!0:isObject(t)&&isObject(e)?objectsEqualByValue(t,e,r,n):Array.isArray(t)&&Array.isArray(e)?arraysEqualByValue(t,e,r):!1},ELEMENT_NODE=1,TEXT_NODE$1=3,DOCUMENT_NODE=9,nativeDOMAdapterStrategy={querySelectorAll:(t,e)=>t.querySelectorAll(e),elementMatches(t,e){var r=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||(n=>{var i=t.document||t.ownerDocument;if(!i)return!1;for(var a=this.querySelectorAll(i,n),o=0;o<a.length;o++)if(a[o]===t)return!0});return r.call(t,e)},createElement(t,e){return e=e||this._document,e.createElement(t)},createElementNS(t,e,r){return r=r||this._document,r.createElementNS(t,e)},createTextNode(t,e){return e=e||this._document,e.createTextNode(t)},isNode:t=>t&&typeof t=="object"&&"nodeType"in t&&"nodeName"in t,isElementNode:t=>t&&t.nodeType===ELEMENT_NODE,isTextNode:t=>t&&t.nodeType===TEXT_NODE$1,isDocument:t=>t&&t.nodeType===DOCUMENT_NODE,removeElement(t){var e=t&&t.parentNode;e&&e.removeChild(t)},insertElement(t,e,r){t&&e&&t!==e&&(r?t.insertBefore(e,r):t.appendChild(e))},getAttribute:(t,e)=>t.getAttribute(e),setAttribute(t,e,r){t.setAttribute(e,r)},removeAttribute(t,e){t.removeAttribute(e)},setProperty(t,e,r){t[e]=r},setText(t,e){t&&(t.textContent=e)},setClass(t,e,r){t.nodeType===1&&e&&(r?t.classList.add(e):t.classList.remove(e))},setStyle(t,e,r){t.style[e]=r||""},_document:typeof document=="undefined"?void 0:document,getDocument(){return this._document},getActiveElement(t){var e,r,n=(e=t==null||(r=t.getRootNode)===null||r===void 0?void 0:r.call(t))!==null&&e!==void 0?e:this._document;return n.activeElement},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(t){return t in this._document},listen(t,e,r,n){return!t||!("addEventListener"in t)?noop:(t.addEventListener(e,r,n),()=>{t.removeEventListener(e,r)})},elementsFromPoint(t,e){return this._document.elementsFromPoint(t,e)}},domAdapter=dependencyInjector(nativeDOMAdapterStrategy),dom_adapter=Object.freeze(Object.defineProperty({__proto__:null,default:domAdapter},Symbol.toStringTag,{value:"Module"}));function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_extends.apply(this,arguments)}class MemorizedCallbacks{constructor(){this.memory=[],this.callbacks=Callbacks()}add(e){each(this.memory,(r,n)=>e.apply(e,n)),this.callbacks.add(e)}remove(e){this.callbacks.remove(e)}fire(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.memory.push(r),this.callbacks.fire.apply(this.callbacks,r)}}var callbacks$2=new MemorizedCallbacks,hasWindowValue=typeof window!="undefined",hasWindow=()=>hasWindowValue,windowObject=hasWindow()?window:void 0;windowObject||(windowObject={},windowObject.window=windowObject);var getWindow=()=>windowObject,hasProperty=t=>hasWindow()&&t in windowObject,getNavigator=()=>hasWindow()?windowObject.navigator:{userAgent:""},touchPropsToHook=["pageX","pageY","screenX","screenY","clientX","clientY"],touchPropHook=function(t,e){if(e[t]&&!e.touches||!e.touches)return e[t];var r=e.touches.length?e.touches:e.changedTouches;if(!!r.length)return r[0][t]};function hookTouchProps(t){touchPropsToHook.forEach(function(e){t(e,function(r){return touchPropHook(e,r)})},this)}var callOnce=function(t){var e,r=function(){return e=t.apply(this,arguments),r=function(){return e},e};return function(){return r.apply(this,arguments)}},callOnce$1=callOnce,window$t=getWindow(),EMPTY_EVENT_NAME="dxEmptyEventType",NATIVE_EVENTS_TO_SUBSCRIBE={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},NATIVE_EVENTS_TO_TRIGGER={focusin:"focus",focusout:"blur"},NO_BUBBLE_EVENTS=["blur","focus","load"],forcePassiveFalseEventNames=["touchmove","wheel","mousewheel","touchstart"],EVENT_PROPERTIES=["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"];function matchesSafe(t,e){return!isWindow(t)&&t.nodeName!=="#document"&&domAdapter.elementMatches(t,e)}var elementDataMap=new WeakMap,guid=0,skipEvent,special=function(){var t={};return callbacks$2.add(function(e,r){t[e]=r}),{getField:function(e,r){return t[e]&&t[e][r]},callMethod:function(e,r,n,i){return t[e]&&t[e][r]&&t[e][r].apply(n,i)}}}(),eventsEngine=dependencyInjector({on:getHandler(normalizeOnArguments(iterate(function(t,e,r,n,i){var a=getHandlersController(t,e);a.addHandler(i,r,n)}))),one:getHandler(normalizeOnArguments(function(t,e,r,n,i){eventsEngine.on(t,e,r,n,function a(){eventsEngine.off(t,e,r,a),i.apply(this,arguments)})})),off:getHandler(normalizeOffArguments(iterate(function(t,e,r,n){var i=getHandlersController(t,e);i.removeHandler(n,r)}))),trigger:getHandler(normalizeTriggerArguments(function(t,e,r){var n=e.type,i=getHandlersController(t,e.type);special.callMethod(n,"trigger",t,[e,r]),i.callHandlers(e,r);var a=special.getField(n,"noBubble")||e.isPropagationStopped()||NO_BUBBLE_EVENTS.indexOf(n)!==-1;if(!a){var o=[];(function u(m){var b,_=(b=m.parentNode)!==null&&b!==void 0?b:m.host;_&&(o.push(_),u(_))})(t),o.push(window$t);for(var s=0;o[s]&&!e.isPropagationStopped();){var l=getHandlersController(o[s],e.type);l.callHandlers(extend(e,{currentTarget:o[s]}),r),s++}}(t.nodeType||isWindow(t))&&(special.callMethod(n,"_default",t,[e,r]),callNativeMethod(n,t))})),triggerHandler:getHandler(normalizeTriggerArguments(function(t,e,r){var n=getHandlersController(t,e.type);n.callHandlers(e,r)}))});function applyForEach(t,e){var r=t[0];if(!!r)if(domAdapter.isNode(r)||isWindow(r))e.apply(eventsEngine,t);else if(!isString$2(r)&&"length"in r){var n=Array.prototype.slice.call(t,0);Array.prototype.forEach.call(r,function(i){n[0]=i,applyForEach(n,e)})}else throw errors$3.Error("E0025")}function getHandler(t){return function(){applyForEach(arguments,t)}}function detectPassiveEventHandlersSupport(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});window$t.addEventListener("test",null,e)}catch{}return t}var passiveEventHandlersSupported=callOnce$1(detectPassiveEventHandlersSupport),contains$1=(t,e)=>isWindow(t)?contains$1(t.document,e):t.contains?t.contains(e):!!(e.compareDocumentPosition(t)&e.DOCUMENT_POSITION_CONTAINS);function getHandlersController(t,e){var r=elementDataMap.get(t);e=e||"";var n=e.split("."),i=n.slice(1),a=!!n[0];e=n[0]||EMPTY_EVENT_NAME,r||(r={},elementDataMap.set(t,r)),r[e]||(r[e]={handleObjects:[],nativeHandler:null});var o=r[e];return{addHandler:function(s,l,u){var m=function(L,z){var M=[L],R=L.currentTarget,w=L.relatedTarget,k,A;e in NATIVE_EVENTS_TO_SUBSCRIBE&&(k=w&&R&&(w===R||contains$1(R,w))),z!==void 0&&M.push(z),special.callMethod(e,"handle",t,[L,u]),k||(A=s.apply(R,M)),A===!1&&(L.preventDefault(),L.stopPropagation())},b={handler:s,wrappedHandler:function(L,z){if(!(skipEvent&&L.type===skipEvent))if(L.data=u,L.delegateTarget=t,l)for(var M=L.target;M&&M!==t;)matchesSafe(M,l)&&(L.currentTarget=M,m(L,z)),M=M.parentNode;else L.currentTarget=L.delegateTarget||L.target,m(L,z)},selector:l,type:e,data:u,namespace:i.join("."),namespaces:i,guid:++guid};o.handleObjects.push(b);var _=o.handleObjects.length===1,I=_&&a,j;I&&(I=!special.callMethod(e,"setup",t,[u,i,s])),I&&(o.nativeHandler=getNativeHandler(e),passiveEventHandlersSupported()&&forcePassiveFalseEventNames.indexOf(e)>-1&&(j={passive:!1}),o.removeListener=domAdapter.listen(t,NATIVE_EVENTS_TO_SUBSCRIBE[e]||e,o.nativeHandler,j)),special.callMethod(e,"add",t,[b])},removeHandler:function(s,l){var u=function(_){var I=r[_];if(!I.handleObjects.length){delete r[_];return}var j;I.handleObjects=I.handleObjects.filter(function(M){var R=i.length&&!isSubset(M.namespaces,i)||s&&M.handler!==s||l&&M.selector!==l;return R||(j=M.handler,special.callMethod(_,"remove",t,[M])),R});var L=!I.handleObjects.length,z=L&&_!==EMPTY_EVENT_NAME;z&&(special.callMethod(_,"teardown",t,[i,j]),I.nativeHandler&&I.removeListener(),delete r[_])};if(a)u(e);else for(var m in r)u(m);var b=Object.keys(r).length===0;b&&elementDataMap.delete(t)},callHandlers:function(s,l){var u=!1,m=function(b){u||(!i.length||isSubset(b.namespaces,i))&&(b.wrappedHandler(s,l),u=s.isImmediatePropagationStopped())};o.handleObjects.forEach(m),i.length&&r[EMPTY_EVENT_NAME]&&r[EMPTY_EVENT_NAME].handleObjects.forEach(m)}}}function getNativeHandler(t){return function(e,r){var n=getHandlersController(this,t);e=eventsEngine.Event(e),n.callHandlers(e,r)}}function isSubset(t,e){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])<0)return!1;return!0}function normalizeOnArguments(t){return function(e,r,n,i,a){a||(a=i,i=void 0),typeof n!="string"&&(i=n,n=void 0),!a&&typeof r=="string"&&(a=i||n,n=void 0,i=void 0),t(e,r,n,i,a)}}function normalizeOffArguments(t){return function(e,r,n,i){typeof n=="function"&&(i=n,n=void 0),t(e,r,n,i)}}function normalizeTriggerArguments(t){return function(e,r,n){typeof r=="string"&&(r={type:r}),r.target||(r.target=e),r.currentTarget=e,r.delegateTarget||(r.delegateTarget=e),!r.type&&r.originalEvent&&(r.type=r.originalEvent.type),t(e,r instanceof eventsEngine.Event?r:eventsEngine.Event(r),n)}}function normalizeEventArguments(t){return eventsEngine.Event=function(e,r){if(!(this instanceof eventsEngine.Event))return new eventsEngine.Event(e,r);e||(e={}),typeof e=="string"&&(e={type:e}),r||(r={}),t.call(this,e,r)},_extends(eventsEngine.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),eventsEngine.Event}function iterate(t){var e=function(r,n){if(n&&n.indexOf(" ")>-1){var i=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(a){i[1]=a,t.apply(this,i)})}else t.apply(this,arguments)};return function(r,n){if(typeof n=="object"){var i=Array.prototype.slice.call(arguments,0);for(var a in n)i[1]=a,i[i.length-1]=n[a],e.apply(this,i)}else e.apply(this,arguments)}}function callNativeMethod(t,e){var r=NATIVE_EVENTS_TO_TRIGGER[t]||t;(function(n,i){return n==="click"&&i.localName==="a"})(t,e)||isFunction$2(e[r])&&(skipEvent=t,e[r](),skipEvent=void 0)}function calculateWhich(t){return function(e){return e.which==null&&e.type.indexOf("key")===0}(t)?t.charCode!=null?t.charCode:t.keyCode:function(e){return!e.which&&e.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)}(t)?{1:1,2:3,3:1,4:2}[t.button]:t.which}function initEvent(t){t&&(eventsEngine.Event=t,eventsEngine.Event.prototype=t.prototype)}initEvent(normalizeEventArguments(function(t,e){var r,n=t instanceof eventsEngine.Event||hasWindow()&&t instanceof window$t.Event||((r=t.view)===null||r===void 0?void 0:r.Event)&&t instanceof t.view.Event;n?(this.originalEvent=t,this.type=t.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(t,"isTrusted")&&(this.isTrusted=t.isTrusted),this.timeStamp=t.timeStamp||Date.now()):_extends(this,t),addProperty("which",calculateWhich,this),t.type.indexOf("touch")===0&&(delete e.pageX,delete e.pageY),_extends(this,e),this.guid=++guid}));function addProperty(t,e,r){Object.defineProperty(r||eventsEngine.Event.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&e(this.originalEvent)},set:function(n){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}})}EVENT_PROPERTIES.forEach(t=>addProperty(t,e=>e[t]));hookTouchProps(addProperty);var beforeSetStrategy=Callbacks(),afterSetStrategy=Callbacks();eventsEngine.set=function(t){beforeSetStrategy.fire(),eventsEngine.inject(t),initEvent(t.Event),afterSetStrategy.fire()};eventsEngine.subscribeGlobal=function(){applyForEach(arguments,normalizeOnArguments(function(){var t=arguments;eventsEngine.on.apply(this,t),beforeSetStrategy.add(function(){var e=Array.prototype.slice.call(t,0);e.splice(3,1),eventsEngine.off.apply(this,e)}),afterSetStrategy.add(function(){eventsEngine.on.apply(this,t)})}))};eventsEngine.forcePassiveFalseEventNames=forcePassiveFalseEventNames;eventsEngine.passiveEventHandlersSupported=passiveEventHandlersSupported;var eventsEngine$1=eventsEngine,dataMap=new WeakMap,strategy$2,strategyChanging=new MemorizedCallbacks,beforeCleanDataFunc=function(){},setDataStrategy=function(t){strategyChanging.fire(t),strategy$2=t;var e=strategy$2.cleanData;strategy$2.cleanData=function(r){beforeCleanDataFunc(r);var n=e.call(this,r);return n}};setDataStrategy({data:function(){var t=arguments[0],e=arguments[1],r=arguments[2];if(!!t){var n=dataMap.get(t);return n||(n={},dataMap.set(t,n)),e===void 0?n:arguments.length===2?n[e]:(n[e]=r,r)}},removeData:function(t,e){if(!!t)if(e===void 0)dataMap.delete(t);else{var r=dataMap.get(t);r&&delete r[e]}},cleanData:function(t){for(var e=0;e<t.length;e++)eventsEngine$1.off(t[e]),dataMap.delete(t[e])}});function data(){return strategy$2.data.apply(this,arguments)}function beforeCleanData(t){beforeCleanDataFunc=t}function removeData(t,e){return strategy$2.removeData.call(this,t,e)}function cleanDataRecursive(t,e){if(!!domAdapter.isElementNode(t)){var r=t.getElementsByTagName("*");strategy$2.cleanData(r),e&&strategy$2.cleanData([t])}}var _normalize=function(t){return t==null?"":String(t)},_upperCaseFirst=function(t){return _normalize(t).charAt(0).toUpperCase()+t.substr(1)},_chop=function(t){return _normalize(t).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},dasherize=function(t){return map(_chop(t),function(e){return e.toLowerCase()}).join("-")},camelize$2=function(t,e){return map(_chop(t),function(r,n){return r=r.toLowerCase(),(e||n>0)&&(r=_upperCaseFirst(r)),r}).join("")},humanize=function(t){return _upperCaseFirst(dasherize(t).replace(/-/g," "))},titleize=function(t){return map(_chop(t),function(e){return _upperCaseFirst(e.toLowerCase())}).join(" ")},jsPrefixes=["","Webkit","Moz","O","Ms"],cssPrefixes={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},getStyles=callOnce$1(function(){return domAdapter.createElement("dx").style}),forEachPrefixes=function(t,e){t=camelize$2(t,!0);for(var r,n=0,i=jsPrefixes.length;n<i;n++){var a=jsPrefixes[n],o=a+t,s=camelize$2(o);if(r=e(s,a),r===void 0&&(r=e(o,a)),r!==void 0)break}return r||""},styleProp=function(t){if(t in getStyles())return t;var e=t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var r=1;r<jsPrefixes.length;r++){var n=jsPrefixes[r].toLowerCase()+t;if(n in getStyles())return n}return e},stylePropPrefix=function(t){return forEachPrefixes(t,function(e,r){if(e in getStyles())return cssPrefixes[r]})},pxExceptions=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],normalizeStyleProp=function(t,e){return isNumeric$1(e)&&pxExceptions.indexOf(t)===-1&&(e+="px"),e},window$s=getWindow(),SPECIAL_HEIGHT_VALUES=["auto","none","inherit","initial"],getSizeByStyles=function(t,e){var r=0;return e.forEach(function(n){r+=parseFloat(t[n])||0}),r},getElementBoxParams=function(t,e){var r=t==="width"?"Left":"Top",n=t==="width"?"Right":"Bottom";return{padding:getSizeByStyles(e,["padding"+r,"padding"+n]),border:getSizeByStyles(e,["border"+r+"Width","border"+n+"Width"]),margin:getSizeByStyles(e,["margin"+r,"margin"+n])}},getElementComputedStyle$1=function(t){var e,r=(t==null||(e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||window$s;return r.getComputedStyle&&r.getComputedStyle(t)},getCSSProperty=function(t,e,r,n){var i;return(e==null?void 0:e[r])||((i=t.style)===null||i===void 0?void 0:i[r])||n},boxIndices={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},dimensionComponents={width:["left","right"],height:["top","bottom"]};function getComponentThickness(t,e,r,n){var i=(o,s,l)=>parseFloat(getCSSProperty(o,s,l,"0"))||0,a=r==="border"?"-width":"";return i(t,n,"".concat(r,"-").concat(dimensionComponents[e][0]).concat(a))+i(t,n,"".concat(r,"-").concat(dimensionComponents[e][1]).concat(a))}var getSize=function(t,e,r){var n=e==="width"?"offsetWidth":"offsetHeight",i=getElementComputedStyle$1(t),a=getCSSProperty(t,i,e);(a===""||a==="auto")&&(a=t[n]),a=parseFloat(a)||0;var o=getCSSProperty(t,i,"boxSizing","content-box"),s=r||o,l=boxIndices[s],u=boxIndices[o];if(l===void 0||u===void 0)throw new Error;if(u===l)return a;var m=Math.sign(l-u),b=!1,_=!1,I=!1,j=!1;m===1&&(l+=1,u+=1);for(var L=u;L!==l;L+=m)switch(L){case boxIndices.content:break;case boxIndices.padding:b=m*getComponentThickness(t,e,"padding",i);break;case boxIndices.border:_=m*getComponentThickness(t,e,"border",i);break;case boxIndices.margin:I=m*getComponentThickness(t,e,"margin",i)}if(b||_){var z=(b===!1?m*getComponentThickness(t,e,"padding",i):b)+(_===!1?m*getComponentThickness(t,e,"border",i):_);j=m*Math.max(0,Math.floor(t[n]-a-m*z))||0}return a+I+b+_+j},getContainerHeight=function(t){return isWindow(t)?t.innerHeight:t.offsetHeight},parseHeight=function(t,e){return t.indexOf("px")>0?t=parseInt(t.replace("px","")):t.indexOf("%")>0?t=parseInt(t.replace("%",""))*getContainerHeight(e)/100:isNaN(t)?t.indexOf("vh")>0&&(t=window$s.innerHeight/100*parseInt(t.replace("vh",""))):t=parseInt(t),t},getHeightWithOffset=function(t,e,r){if(!t)return null;if(SPECIAL_HEIGHT_VALUES.indexOf(t)>-1)return e?null:t;if(isString$2(t)&&(t=parseHeight(t,r)),isNumeric$1(t))return Math.max(0,t+e);var n=e<0?" - ":" ";return"calc("+t+n+Math.abs(e)+"px)"},addOffsetToMaxHeight=function(t,e,r){var n=getHeightWithOffset(t,e,r);return n!==null?n:"none"},addOffsetToMinHeight=function(t,e,r){var n=getHeightWithOffset(t,e,r);return n!==null?n:0},getVerticalOffsets=function(t,e){if(!t)return 0;var r=getElementBoxParams("height",window$s.getComputedStyle(t));return r.padding+r.border+(e?r.margin:0)},getVisibleHeight=function(t){if(t){var e=t.getBoundingClientRect();if(e.height)return e.height}return 0},implementationsMap={getWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("width",...e)},setWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("width",...e)},getHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("height",...e)},setHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("height",...e)},getOuterWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("outerWidth",...e)},setOuterWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("outerWidth",...e)},getOuterHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("outerHeight",...e)},setOuterHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("outerHeight",...e)},getInnerWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("innerWidth",...e)},setInnerWidth:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("innerWidth",...e)},getInnerHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("innerHeight",...e)},setInnerHeight:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return elementSizeHelper("innerHeight",...e)}};function elementSizeHelper(t,e,r){return arguments.length===2?elementSize(e,t):elementSize(e,t,r)}var getWidth=t=>implementationsMap.getWidth(t),setWidth=(t,e)=>implementationsMap.setWidth(t,e),getHeight=t=>implementationsMap.getHeight(t),setHeight=(t,e)=>implementationsMap.setHeight(t,e),getOuterWidth=(t,e)=>implementationsMap.getOuterWidth(t,e||!1),getOuterHeight=(t,e)=>implementationsMap.getOuterHeight(t,e||!1),getInnerWidth=t=>implementationsMap.getInnerWidth(t),getInnerHeight=t=>implementationsMap.getInnerHeight(t),elementSize=function t(e,r,n){var i=r.toLowerCase().indexOf("width")>=0?"Width":"Height",a=i.toLowerCase(),o=r.indexOf("outer")===0,s=r.indexOf("inner")===0,l=arguments.length===2||typeof n=="boolean";if(isRenderer(e)){if(e.length>1&&!l){for(var u=0;u<e.length;u++)t(e[u],r,n);return}e=e[0]}if(!!e){if(isWindow(e))return o?e["inner"+i]:domAdapter.getDocumentElement()["client"+i];if(domAdapter.isDocument(e)){var m=domAdapter.getDocumentElement(),b=domAdapter.getBody();return Math.max(b["scroll"+i],b["offset"+i],m["scroll"+i],m["offset"+i],m["client"+i])}if(l){var _="content";return o&&(_=n?"margin":"border"),s&&(_="padding"),getSize(e,a,_)}if(isNumeric$1(n)){var I=getElementComputedStyle$1(e),j=getElementBoxParams(a,I),L=I.boxSizing==="border-box";n=Number(n),o?n-=L?0:j.border+j.padding:s?n+=L?j.border:-j.padding:L&&(n+=j.border+j.padding)}return n+=isNumeric$1(n)?"px":"",domAdapter.setStyle(e,a,n),null}},getWindowByElement=t=>isWindow(t)?t:t.defaultView,getOffset=t=>{if(!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect(),r=getWindowByElement(t.ownerDocument),n=t.ownerDocument.documentElement;return{top:e.top+r.pageYOffset-n.clientTop,left:e.left+r.pageXOffset-n.clientLeft}},isTagName=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,tagWrappers={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};tagWrappers.tbody=tagWrappers.colgroup=tagWrappers.caption=tagWrappers.tfoot=tagWrappers.thead;tagWrappers.th=tagWrappers.td;var parseHTML=function(t){if(typeof t!="string")return null;var e=domAdapter.createDocumentFragment(),r=e.appendChild(domAdapter.createElement("div")),n=isTagName.exec(t),i=n&&n[1].toLowerCase(),a=tagWrappers[i]||tagWrappers.default;r.innerHTML=a.startTags+t+a.endTags;for(var o=0;o<a.tagsCount;o++)r=r.lastChild;return[...r.childNodes]},isTablePart=function(t){var e=isTagName.exec(t);return e&&e[1]in tagWrappers},window$r=getWindow(),renderer$1,initRender=function(t,e){return t?typeof t=="string"?t==="body"?(this[0]=e?e.body:domAdapter.getBody(),this.length=1,this):(e=e||domAdapter.getDocument(),t[0]==="<"?(this[0]=domAdapter.createElement(t.slice(1,-1),e),this.length=1,this):([].push.apply(this,domAdapter.querySelectorAll(e,t)),this)):domAdapter.isNode(t)||isWindow(t)?(this[0]=t,this.length=1,this):Array.isArray(t)?([].push.apply(this,t),this):renderer$1(t.toArray?t.toArray():[t]):(this.length=0,this)};renderer$1=function(t,e){return new initRender(t,e)};renderer$1.fn={dxRenderer:!0};initRender.prototype=renderer$1.fn;var repeatMethod=function(t,e){for(var r=0;r<this.length;r++){var n=renderer$1(this[r]);n[t].apply(n,e)}return this},setAttributeValue=function(t,e,r){r!=null?domAdapter.setAttribute(t,e,r):domAdapter.removeAttribute(t,e)};initRender.prototype.show=function(){return this.toggle(!0)};initRender.prototype.hide=function(){return this.toggle(!1)};initRender.prototype.toggle=function(t){return this[0]&&this.toggleClass("dx-state-invisible",!t),this};initRender.prototype.attr=function(t,e){if(this.length>1&&arguments.length>1)return repeatMethod.call(this,"attr",arguments);if(!this[0])return isObject(t)||e!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(t,e);if(typeof t=="string"&&arguments.length===1){var r=this[0].getAttribute(t);return r==null?void 0:r}else if(isPlainObject(t))for(var n in t)this.attr(n,t[n]);else setAttributeValue(this[0],t,e);return this};initRender.prototype.removeAttr=function(t){return this[0]&&domAdapter.removeAttribute(this[0],t),this};initRender.prototype.prop=function(t,e){if(!this[0])return this;if(typeof t=="string"&&arguments.length===1)return this[0][t];if(isPlainObject(t))for(var r in t)this.prop(r,t[r]);else domAdapter.setProperty(this[0],t,e);return this};initRender.prototype.addClass=function(t){return this.toggleClass(t,!0)};initRender.prototype.removeClass=function(t){return this.toggleClass(t,!1)};initRender.prototype.hasClass=function(t){if(!this[0]||this[0].className===void 0)return!1;for(var e=t.split(" "),r=0;r<e.length;r++)if(this[0].classList){if(this[0].classList.contains(e[r]))return!0}else{var n=isString$2(this[0].className)?this[0].className:domAdapter.getAttribute(this[0],"class");if((n||"").split(" ").indexOf(e[r])>=0)return!0}return!1};initRender.prototype.toggleClass=function(t,e){if(this.length>1)return repeatMethod.call(this,"toggleClass",arguments);if(!this[0]||!t)return this;e=e===void 0?!this.hasClass(t):e;for(var r=t.split(" "),n=0;n<r.length;n++)domAdapter.setClass(this[0],r[n],e);return this};initRender.prototype.html=function(t){return arguments.length?(this.empty(),typeof t=="string"&&!isTablePart(t)||typeof t=="number"?(this[0].innerHTML=t,this):this.append(parseHTML(t))):this[0].innerHTML};var appendElements=function(t,e){if(!(!this[0]||!t)){typeof t=="string"?t=parseHTML(t):t.nodeType?t=[t]:isNumeric$1(t)&&(t=[domAdapter.createTextNode(t)]);for(var r=0;r<t.length;r++){var n=t[r],i=this[0],a=i.tagName==="TABLE"&&n.tagName==="TR";a&&i.tBodies&&i.tBodies.length&&(i=i.tBodies[0]),domAdapter.insertElement(i,n.nodeType?n:n[0],e)}}},setCss=function(t,e){if(!(!this[0]||!this[0].style)&&!(e===null||typeof e=="number"&&isNaN(e))){t=styleProp(t);for(var r=0;r<this.length;r++)this[r].style[t]=normalizeStyleProp(t,e)}};initRender.prototype.css=function(t,e){if(isString$2(t))if(arguments.length===2)setCss.call(this,t,e);else{if(!this[0])return;t=styleProp(t);var r=window$r.getComputedStyle(this[0])[t]||this[0].style[t];return isNumeric$1(r)?r.toString():r}else if(isPlainObject(t))for(var n in t)setCss.call(this,n,t[n]);return this};initRender.prototype.prepend=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return appendElements.apply(this,[t,this[0].firstChild]),this};initRender.prototype.append=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return appendElements.apply(this,[t]),this};initRender.prototype.prependTo=function(t){if(this.length>1){for(var e=this.length-1;e>=0;e--)renderer$1(this[e]).prependTo(t);return this}return t=renderer$1(t),t[0]&&domAdapter.insertElement(t[0],this[0],t[0].firstChild),this};initRender.prototype.appendTo=function(t){return this.length>1?repeatMethod.call(this,"appendTo",arguments):(domAdapter.insertElement(renderer$1(t)[0],this[0]),this)};initRender.prototype.insertBefore=function(t){return t&&t[0]&&domAdapter.insertElement(t[0].parentNode,this[0],t[0]),this};initRender.prototype.insertAfter=function(t){return t&&t[0]&&domAdapter.insertElement(t[0].parentNode,this[0],t[0].nextSibling),this};initRender.prototype.before=function(t){return this[0]&&domAdapter.insertElement(this[0].parentNode,t[0],this[0]),this};initRender.prototype.after=function(t){return this[0]&&domAdapter.insertElement(this[0].parentNode,t[0],this[0].nextSibling),this};initRender.prototype.wrap=function(t){if(this[0]){var e=renderer$1(t);e.insertBefore(this),e.append(this)}return this};initRender.prototype.wrapInner=function(t){var e=this.contents();return e.length?e.wrap(t):this.append(t),this};initRender.prototype.replaceWith=function(t){if(!!(t&&t[0]))return t.is(this)?this:(t.insertBefore(this),this.remove(),t)};initRender.prototype.remove=function(){return this.length>1?repeatMethod.call(this,"remove",arguments):(cleanDataRecursive(this[0],!0),domAdapter.removeElement(this[0]),this)};initRender.prototype.detach=function(){return this.length>1?repeatMethod.call(this,"detach",arguments):(domAdapter.removeElement(this[0]),this)};initRender.prototype.empty=function(){return this.length>1?repeatMethod.call(this,"empty",arguments):(cleanDataRecursive(this[0]),domAdapter.setText(this[0],""),this)};initRender.prototype.clone=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e].cloneNode(!0));return renderer$1(t)};initRender.prototype.text=function(t){if(!arguments.length){for(var e="",r=0;r<this.length;r++)e+=this[r]&&this[r].textContent||"";return e}var n=isFunction$2(t)?t():t;return cleanDataRecursive(this[0],!1),domAdapter.setText(this[0],isDefined(n)?n:""),this};initRender.prototype.val=function(t){return arguments.length===1?this.prop("value",isDefined(t)?t:""):this.prop("value")};initRender.prototype.contents=function(){if(!this[0])return renderer$1();var t=[];return t.push.apply(t,this[0].childNodes),renderer$1(t)};initRender.prototype.find=function(t){var e=renderer$1();if(!t)return e;var r=[],n;if(typeof t=="string")for(t=t.trim(),n=0;n<this.length;n++){var i=this[n];if(domAdapter.isElementNode(i)){var a=i.getAttribute("id"),o=a||"dx-query-children";a||setAttributeValue(i,"id",o),o="[id='"+o+"'] ";var s=o+t.replace(/([^\\])(,)/g,"$1, "+o);r.push.apply(r,domAdapter.querySelectorAll(i,s)),setAttributeValue(i,"id",a)}else domAdapter.isDocument(i)&&r.push.apply(r,domAdapter.querySelectorAll(i,t))}else for(n=0;n<this.length;n++)t=domAdapter.isNode(t)?t:t[0],this[n]!==t&&this[n].contains(t)&&r.push(t);return e.add(r)};var isVisible=function(t,e){var r;return e=(r=e.host)!==null&&r!==void 0?r:e,e.nodeType?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!0};initRender.prototype.filter=function(t){if(!t)return renderer$1();if(t===":visible")return this.filter(isVisible);if(t===":hidden")return this.filter(function(a,o){return!isVisible(a,o)});for(var e=[],r=0;r<this.length;r++){var n=this[r];if(domAdapter.isElementNode(n)&&type(t)==="string")domAdapter.elementMatches(n,t)&&e.push(n);else if(domAdapter.isNode(t)||isWindow(t))t===n&&e.push(n);else if(isFunction$2(t))t.call(n,r,n)&&e.push(n);else for(var i=0;i<t.length;i++)t[i]===n&&e.push(n)}return renderer$1(e)};initRender.prototype.not=function(t){for(var e=[],r=this.filter(t).toArray(),n=0;n<this.length;n++)r.indexOf(this[n])===-1&&e.push(this[n]);return renderer$1(e)};initRender.prototype.is=function(t){return!!this.filter(t).length};initRender.prototype.children=function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r]?this[r].childNodes:[],i=0;i<n.length;i++)domAdapter.isElementNode(n[i])&&e.push(n[i]);return e=renderer$1(e),t?e.filter(t):e};initRender.prototype.siblings=function(){var t=this[0];if(!t||!t.parentNode)return renderer$1();for(var e=[],r=t.parentNode.childNodes||[],n=0;n<r.length;n++){var i=r[n];domAdapter.isElementNode(i)&&i!==t&&e.push(i)}return renderer$1(e)};initRender.prototype.each=function(t){for(var e=0;e<this.length&&t.call(this[e],e,this[e])!==!1;e++);};initRender.prototype.index=function(t){return t?(t=renderer$1(t),this.toArray().indexOf(t[0])):this.parent().children().index(this)};initRender.prototype.get=function(t){return this[t<0?this.length+t:t]};initRender.prototype.eq=function(t){return t=t<0?this.length+t:t,renderer$1(this[t])};initRender.prototype.first=function(){return this.eq(0)};initRender.prototype.last=function(){return this.eq(-1)};initRender.prototype.parent=function(t){if(!this[0])return renderer$1();var e=renderer$1(this[0].parentNode);return!t||e.is(t)?e:renderer$1()};initRender.prototype.parents=function(t){for(var e=[],r=this.parent();r&&r[0]&&!domAdapter.isDocument(r[0]);)domAdapter.isElementNode(r[0])&&(!t||r.is(t))&&e.push(r.get(0)),r=r.parent();return renderer$1(e)};initRender.prototype.closest=function(t){if(this.is(t))return this;for(var e=this.parent();e&&e.length;){if(e.is(t))return e;e=e.parent()}return renderer$1()};initRender.prototype.next=function(t){if(!this[0])return renderer$1();var e=renderer$1(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(t))return e;e=e.next()}return renderer$1()};initRender.prototype.prev=function(){return this[0]?renderer$1(this[0].previousSibling):renderer$1()};initRender.prototype.add=function(t){for(var e=renderer$1(t),r=this.toArray(),n=0;n<e.length;n++){var i=e[n];r.indexOf(i)===-1&&r.push(i)}return renderer$1(r)};var emptyArray=[];initRender.prototype.splice=function(){return renderer$1(emptyArray.splice.apply(this,arguments))};initRender.prototype.slice=function(){return renderer$1(emptyArray.slice.apply(this,arguments))};initRender.prototype.toArray=function(){return emptyArray.slice.call(this)};initRender.prototype.offset=function(){if(!!this[0])return getOffset(this[0])};initRender.prototype.offsetParent=function(){if(!this[0])return renderer$1();for(var t=renderer$1(this[0].offsetParent);t[0]&&t.css("position")==="static";)t=renderer$1(t[0].offsetParent);return t=t[0]?t:renderer$1(domAdapter.getDocumentElement()),t};initRender.prototype.position=function(){if(!!this[0]){var t,e=parseFloat(this.css("marginTop")),r=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return t=this[0].getBoundingClientRect(),{top:t.top-e,left:t.left-r};t=this.offset();var n=this.offsetParent(),i={top:0,left:0};return n[0].nodeName!=="HTML"&&(i=n.offset()),i={top:i.top+parseFloat(n.css("borderTopWidth")),left:i.left+parseFloat(n.css("borderLeftWidth"))},{top:t.top-i.top-e,left:t.left-i.left-r}}};[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(t,e){t.scrollTo(e,t.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(t,e){t.scrollTo(t.pageXOffset,e)}}].forEach(function(t){var e=t.name;initRender.prototype[e]=function(r){if(!!this[0]){var n=getWindowByElement(this[0]);return r===void 0?n?n[t.offsetProp]:this[0][e]:(n?t.scrollWindow(n,r):this[0][e]=r,this)}}});initRender.prototype.data=function(t,e){if(!!this[0])return arguments.length<2?data.call(renderer$1,this[0],t):(data.call(renderer$1,this[0],t,e),this)};initRender.prototype.removeData=function(t){return this[0]&&removeData(this[0],t),this};var rendererWrapper=function(){return renderer$1.apply(this,arguments)};Object.defineProperty(rendererWrapper,"fn",{enumerable:!0,configurable:!0,get:function(){return renderer$1.fn},set:function(t){renderer$1.fn=t}});var rendererBase={set:function(t){renderer$1=t},get:function(){return rendererWrapper}},$=rendererBase.get(),parentLocales={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"},PARENT_LOCALE_SEPARATOR="-",getParentLocale=(t,e)=>{var r=t[e];return r?r!=="root"&&r:e.substr(0,e.lastIndexOf(PARENT_LOCALE_SEPARATOR))},DEFAULT_LOCALE="en",localizationCoreUtils=dependencyInjector({locale:(()=>{var t=DEFAULT_LOCALE;return e=>{if(!e)return t;t=e}})(),getValueByClosestLocale:function(t){for(var e=this.locale(),r=t(e),n;!r&&!n;)e=getParentLocale(parentLocales,e),e?r=t(e):n=!0;return r===void 0&&e!==DEFAULT_LOCALE?t(DEFAULT_LOCALE):r}}),defaultMessages={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}"}},baseDictionary=extend(!0,{},defaultMessages),getDataByLocale=(t,e)=>t[e]||{},newMessages={},messageLocalization=dependencyInjector({engine:function(){return"base"},_dictionary:baseDictionary,load:function(t){extend(!0,this._dictionary,t)},_localizablePrefix:"@",setup:function(t){this._localizablePrefix=t},localizeString:function(t){var e=this,r=new RegExp("(^|[^a-zA-Z_0-9"+e._localizablePrefix+"-]+)("+e._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),n=e._localizablePrefix+e._localizablePrefix;return t.replace(r,(i,a,o,s)=>{var l=e._localizablePrefix+s,u;return o!==n&&(u=e.format(s)),u||(newMessages[s]=humanize(s)),a+(u||l)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(t){return t?newMessages:extend({},newMessages,this.getMessagesByLocales()[localizationCoreUtils.locale()])},getFormatter:function(t){return this._getFormatterBase(t)||this._getFormatterBase(t,"en")},_getFormatterBase:function(t,e){var r=localizationCoreUtils.getValueByClosestLocale(n=>getDataByLocale(this._dictionary,n)[t]);if(r)return function(){var n=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return n.unshift(r),format.apply(this,n)}},format:function(t){var e=this.getFormatter(t),r=Array.prototype.slice.call(arguments,1);return e&&e.apply(this,r)||""}}),messageLocalization$1=messageLocalization,callbacks$1=new MemorizedCallbacks,registerEvent=function(t,e){var r={};"noBubble"in e&&(r.noBubble=e.noBubble),"bindType"in e&&(r.bindType=e.bindType),"delegateType"in e&&(r.delegateType=e.delegateType),each(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(n,i){!e[i]||(r[i]=function(){var a=[].slice.call(arguments);return a.unshift(this),e[i].apply(e,a)})}),callbacks$2.fire(t,r)};registerEvent.callbacks=callbacks$2;var registerEvent$1=registerEvent,removeEvent="dxremove",eventPropName="dxRemoveEvent";beforeCleanData(function(t){t=[].slice.call(t);for(var e=0;e<t.length;e++){var r=$(t[e]);r.prop(eventPropName)&&(r[0][eventPropName]=null,eventsEngine$1.triggerHandler(r,removeEvent))}});registerEvent$1(removeEvent,{noBubble:!0,setup:function(t){$(t).prop(eventPropName,!0)}});var COMPONENT_NAMES_DATA_KEY="dxComponents",ANONYMOUS_COMPONENT_DATA_KEY="dxPrivateComponent",componentNames=new WeakMap,nextAnonymousComponent=0,getName$1=function(t,e){if(isDefined(e)){componentNames.set(t,e);return}if(!componentNames.has(t)){var r=ANONYMOUS_COMPONENT_DATA_KEY+nextAnonymousComponent++;return componentNames.set(t,r),r}return componentNames.get(t)};function attachInstanceToElement(t,e,r){var n=data(t.get(0)),i=getName$1(e.constructor);n[i]=e,r&&eventsEngine$1.one(t,removeEvent,function(){r.call(e)}),n[COMPONENT_NAMES_DATA_KEY]||(n[COMPONENT_NAMES_DATA_KEY]=[]),n[COMPONENT_NAMES_DATA_KEY].push(i)}function getInstanceByElement(t,e){var r=getName$1(e);return data(t.get(0),r)}var registerComponent=function(t,e,r){r?e[t]=r:r=e,getName$1(r,t),callbacks$1.fire(t,r)},registerRendererComponent=function(t,e){$.fn[t]=function(r){var n=typeof r=="string",i;if(n){var a=r,o=[].slice.call(arguments).slice(1);this.each(function(){var s=e.getInstance(this);if(!s)throw errors$3.Error("E0009",t);var l=s[a],u=l.apply(s,o);i===void 0&&(i=u)})}else this.each(function(){var s=e.getInstance(this);s?s.option(r):new e(this,r)}),i=this;return i}};callbacks$1.add(registerRendererComponent);var registerComponent$1=registerComponent;class Action{constructor(e,r){r=r||{},this._action=e,this._context=r.context||getWindow(),this._beforeExecute=r.beforeExecute,this._afterExecute=r.afterExecute,this._component=r.component,this._validatingTargetName=r.validatingTargetName;var n=this._excludeValidators={};if(r.excludeValidators)for(var i=0;i<r.excludeValidators.length;i++)n[r.excludeValidators[i]]=!0}execute(){var e={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},r=this._beforeExecute,n=this._afterExecute,i=e.args[0]||{};if(!!this._validateAction(e)&&(r==null||r.call(this._context,e),!e.cancel)){var a=this._executeAction(e);if(!i.cancel)return n==null||n.call(this._context,e),a}}_validateAction(e){var r=this._excludeValidators,{executors:n}=Action;for(var i in n)if(!r[i]){var a,o=n[i];if((a=o.validate)===null||a===void 0||a.call(o,e),e.cancel)return!1}return!0}_executeAction(e){var r,{executors:n}=Action;for(var i in n){var a,o=n[i];if((a=o.execute)===null||a===void 0||a.call(o,e),e.handled){r=e.result;break}}return r}static registerExecutor(e,r){if(isPlainObject(e)){each(e,Action.registerExecutor);return}Action.executors[e]=r}static unregisterExecutor(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];each(r,function(){delete Action.executors[this]})}}Action.executors={};var createValidatorByTargetElement=t=>e=>{if(!!e.args.length){var r=e.args[0],n=r[e.validatingTargetName]||r.element;n&&t($(n))&&(e.cancel=!0)}};Action.registerExecutor({disabled:{validate:createValidatorByTargetElement(t=>t.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:createValidatorByTargetElement(t=>t.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:t=>{t.action||(t.result=void 0,t.handled=!0)}},func:{execute:t=>{isFunction$2(t.action)&&(t.result=t.action.call(t.context,t.args[0]),t.handled=!0)}}});var callbacks=[],subscribeReady=callOnce$1(()=>{var t=domAdapter.listen(domAdapter.getDocument(),"DOMContentLoaded",()=>{readyCallbacks.fire(),t()})}),readyCallbacks={add:t=>{var e=hasWindow();e&&domAdapter.getReadyState()!=="loading"?t():(callbacks.push(t),e&&subscribeReady())},fire:()=>{callbacks.forEach(t=>t()),callbacks=[]}},readyCallback=dependencyInjector(readyCallbacks),resizeCallbacks=function(){var t,e=Callbacks(),r=e.add,n=e.remove;if(!hasWindow())return e;var i=function(){var l=getWindow();return{width:l.innerWidth,height:l.innerHeight}},a=function(){var l=i();if(!(l.width===t.width&&l.height===t.height)){var u;l.width===t.width&&(u="height"),l.height===t.height&&(u="width"),t=l,e.fire(u)}},o=callOnce$1(function(){t=i()}),s;return e.add=function(){var l=r.apply(e,arguments);return o(),readyCallback.add(function(){!s&&e.has()&&(s=domAdapter.listen(getWindow(),"resize",a))}),l},e.remove=function(){var l=n.apply(e,arguments);return!e.has()&&s&&(s(),s=void 0),l},e}(),resizeCallbacks$1=resizeCallbacks,hasNegation=function(t,e){return 1/t===1/e},equals=function(t,e){if(t=toComparable$2(t,!0),e=toComparable$2(e,!0),t&&e&&isRenderer(t)&&isRenderer(e))return e.is(t);var r=t!==t,n=e!==e;return r&&n?!0:t===0&&e===0?hasNegation(t,e):t===null||typeof t!="object"||domAdapter.isElementNode(t)?t===e:!1};class EventsStrategy{constructor(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=e,this._options=r}static create(e,r){return r?isFunction$2(r)?r(e):r:new EventsStrategy(e)}hasEvent(e){var r=this._events[e];return r?r.has():!1}fireEvent(e,r){var n=this._events[e];return n&&n.fireWith(this._owner,r),this._owner}on(e,r){if(isPlainObject(e))each(e,(a,o)=>{this.on(a,o)});else{var n=this._events[e];n||(n=Callbacks({syncStrategy:this._options.syncStrategy}),this._events[e]=n);var i=n.originalAdd||n.add;i.call(n,r)}}off(e,r){var n=this._events[e];n&&(isFunction$2(r)?n.remove(r):n.empty())}dispose(){each(this._events,(e,r)=>{r.empty()})}}var window$q=getWindow(),getSessionStorage=function(){var t;try{t=window$q.sessionStorage}catch{}return t},ready$5=readyCallback.add,changeCallback=Callbacks(),$originalViewPort=$(),value=function(){var t;return function(e){if(!arguments.length)return t;var r=$(e);$originalViewPort=r;var n=!!r.length,i=value();t=n?r:$("body"),changeCallback.fire(n?value():$(),i)}}();ready$5(function(){value(".dx-viewport")});function originalViewPort(){return $originalViewPort}var navigator$4=getNavigator(),window$p=getWindow(),KNOWN_UA_TABLE={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},DEFAULT_DEVICE={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},uaParsers={generic(t){var e=/windows phone/i.test(t)||t.match(/WPDesktop/),r=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(t),n=!e&&!r&&/msapphost/i.test(t),i=/((intel|ppc) mac os x)/.test(t.toLowerCase());if(!!(e||r||n||i))return{deviceType:e?"phone":r?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:i}},ios(t){if(!!/ip(hone|od|ad)/i.test(t)){var e=/ip(hone|od)/i.test(t),r=t.match(/os (\d+)_(\d+)_?(\d+)?/i),n=r?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3]||0,10)]:[],i=window$p.screen.height===480,a=i?"B":"A";return{deviceType:e?"phone":"tablet",platform:"ios",version:n,grade:a}}},android(t){if(!!/android|htc_|silk/i.test(t)){var e=/mobile/i.test(t),r=t.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),n=r?[parseInt(r[1],10),parseInt(r[2]||0,10),parseInt(r[3]||0,10)]:[],i=n.length>1&&(n[0]<4||n[0]===4&&n[1]<4),a=i?"B":"A";return{deviceType:e?"phone":"tablet",platform:"android",version:n,grade:a}}}};class Devices{constructor(e){this._window=(e==null?void 0:e.window)||window$p,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new EventsStrategy(this),this.changed=Callbacks(),hasWindow()&&(readyCallback.add(this._recalculateOrientation.bind(this)),resizeCallbacks$1.add(this._recalculateOrientation.bind(this)))}current(e){if(e){this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch{e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return extend({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){var r=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(r.push("dx-device-".concat(e.deviceType)),e.deviceType!=="desktop"&&r.push("dx-device-mobile")),r.push("dx-device-".concat(n.platform)),n.version&&n.version.length&&r.push("dx-device-".concat(n.platform,"-").concat(n.version[0])),this.isSimulator()&&r.push("dx-simulator"),config$5().rtlEnabled&&r.push("dx-rtl"),r}attachCssClasses(e,r){this._deviceClasses=this._getCssClasses(r).join(" "),$(e).addClass(this._deviceClasses)}detachCssClasses(e){$(e).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||hasWindow()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if(e==="genericPhone"&&(e={deviceType:"phone",platform:"generic",generic:!0}),isPlainObject(e))return this._fromConfig(e);var r;if(e){if(r=KNOWN_UA_TABLE[e],!r)throw errors$3.Error("E0005")}else r=navigator$4.userAgent;return this._fromUA(r)}_getDeviceOrNameFromWindowScope(){var e;return hasWindow()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(e=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),e}_getDeviceNameFromSessionStorage(){var e=getSessionStorage();if(!!e){var r=e.getItem("dx-force-device");try{return JSON.parse(r)}catch{return r}}}_fromConfig(e){var r=extend({},DEFAULT_DEVICE,this._currentDevice,e),n={phone:r.deviceType==="phone",tablet:r.deviceType==="tablet",android:r.platform==="android",ios:r.platform==="ios",generic:r.platform==="generic"};return extend(r,n)}_fromUA(e){var r;return each(uaParsers,(n,i)=>(r=i(e),!r)),r?this._fromConfig(r):DEFAULT_DEVICE}_changeOrientation(){var e=$(this._window),r=getHeight(e)>getWidth(e)?"portrait":"landscape";this._currentOrientation!==r&&(this._currentOrientation=r,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:r}]))}_recalculateOrientation(){var e=getWidth(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,r){return this._eventsStrategy.on(e,r),this}off(e,r){return this._eventsStrategy.off(e,r),this}}var devices=new Devices,viewPortElement=value();viewPortElement&&devices.attachCssClasses(viewPortElement);changeCallback.add((t,e)=>{devices.detachCssClasses(e),devices.attachCssClasses(t)});var devices$1=devices,cachedGetters$1={},convertRulesToOptions=t=>{var e=devices$1.current();return t.reduce((r,n)=>{var{device:i,options:a}=n,o=i||{},s=isFunction$2(o)?o(e):deviceMatch(e,o);return s&&extend(!0,r,a),r},{})},normalizeOptions=(t,e)=>typeof t!="string"?t:{[t]:e},deviceMatch=(t,e)=>isEmptyObject(e)||findBestMatches(t,[e]).length>0,getFieldName=t=>t.substr(t.lastIndexOf(".")+1),getParentName=t=>t.substr(0,t.lastIndexOf(".")),getNestedOptionValue=function(t,e){return cachedGetters$1[e]=cachedGetters$1[e]||compileGetter(e),cachedGetters$1[e](t,{functionsAsIs:!0})},createDefaultOptionRules=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t},cachedGetters={},cachedSetters={};class OptionManager{constructor(e,r){this._options=e,this._optionsByReference=r,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(e,r){extend(!0,e,r);for(var n in this._optionsByReference)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}_setPreparedValue(e,r,n,i){var a=this.get(this._options,e,!1);if(!equals(a,r)){var o=getPathParts$1(e);!i&&this._changingCallback(e,a,r),cachedSetters[e]=cachedSetters[e]||compileSetter(e),cachedSetters[e](this._options,r,{functionsAsIs:!0,merge:isDefined(n)?n:!this._optionsByReference[e],unwrapObservables:o.length>1&&!!this._optionsByReference[o[0]]}),!i&&this._changedCallback(e,r,a)}}_prepareRelevantNames(e,r,n,i){if(isPlainObject(n))for(var a in n)this._prepareRelevantNames(e,"".concat(r,".").concat(a),n[a]);this._namePreparedCallbacks(e,r,n,i)}get(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return cachedGetters[r]=cachedGetters[r]||compileGetter(r),cachedGetters[r](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,r,n,i){e=normalizeOptions(e,r);for(var a in e)this._prepareRelevantNames(e,a,e[a],i);for(var o in e)this._setPreparedValue(o,e[o],n,i)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}dispose(){this._changingCallback=noop,this._changedCallback=noop}}class Options{constructor(e,r,n,i){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=r,this._deprecated=i,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new OptionManager(e,n),this._optionManager.onRelevantNamesPrepared((a,o,s,l)=>this._setRelevantNames(a,o,s,l)),this._cachedOptions={},this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){var e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(var e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,convertRulesToOptions(e)}_notifyDeprecated(e){var r=this._deprecated[e];r&&this._deprecatedCallback(e,r)}_setRelevantNames(e,r,n,i){if(r){var a=this._normalizeName(r,i);a&&a!==r&&(this._setField(e,a,n),this._clearField(e,r))}}_setField(e,r,n){var i="",a=null;do i=i?".".concat(i):"",i=getFieldName(r)+i,r=getParentName(r),a=r?this._optionManager.get(e,r,!1):e;while(!a);a[i]=n}_clearField(e,r){delete e[r];var n=getParentName(r),i=n?this._optionManager.get(e,n,!1):e;i&&delete i[getFieldName(r)]}_normalizeName(e,r){if(this._deprecatedNames.length&&e){for(var n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){var i=this._deprecated[e];if(i)return!r&&this._notifyDeprecated(e),i.alias||e}}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){var r=this._getByRules(e);this.silent(r)}dispose(){this._deprecatedCallback=noop,this._startChangeCallback=noop,this._endChangeCallback=noop,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){var r=this.silent(e),n=this.initial(e),i=isFunction$2(r)&&isFunction$2(n);return i?r.toString()===n.toString():equalByValue(r,n)}initial(e){return getNestedOptionValue(this._initial,e)}option(e,r){var n=arguments.length<2&&type(e)!=="object";if(n)return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,r)}finally{this._endChangeCallback()}}silent(e,r){var n=arguments.length<2&&type(e)!=="object";if(n)return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,r,void 0,!0)}reset(e){if(e){var r=getPathParts$1(e),n=r.reduce((a,o)=>a?a[o]:this.initial(o),null),i=isObject(n)?_extends({},n):n;this._optionManager.set(e,i,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter(r=>e===this._deprecated[r].alias)}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,r){var n=arguments.length<2;if(n)return this._cachedOptions[e];this._cachedOptions[e]=extend(this._cachedOptions[e],r)}}class PostponedOperations{constructor(){this._postponedOperations={}}add(e,r,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{var i=new Deferred;this._postponedOperations[e]={fn:r,completePromise:i,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(var e in this._postponedOperations){var r=this._postponedOperations[e];isDefined(r)&&(r.promises&&r.promises.length?when(...r.promises).done(r.fn).then(r.completePromise.resolve):r.fn().done(r.completePromise.resolve))}this._postponedOperations={}}}var getEventName$1=t=>t.charAt(2).toLowerCase()+t.substr(3),isInnerOption=t=>t.indexOf("_",0)===0,Component$1=Class.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(t){this._options.applyRules(t)},_convertRulesToOptions:t=>convertRulesToOptions(t),_isInitialOptionValue(t){return this._options.isInitial(t)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:e,_disposingCallbacks:r}=t;this.NAME=getName$1(this.constructor),this._eventsStrategy=EventsStrategy.create(this,t.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=e||Callbacks(),this._disposingCallbacks=r||Callbacks(),this.postponedOperations=new PostponedOperations,this._createOptions(t)},_createOptions(t){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new Options(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((e,r,n)=>this._initialized&&this._optionChanging(e,r,n)),this._options.onDeprecated((e,r)=>this._logDeprecatedOptionWarning(e,r)),this._options.onChanged((e,r,n)=>this._notifyOptionChanged(e,r,n)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),t&&t.onInitializing&&t.onInitializing.apply(this,[t]),this._setOptionsByDevice(t.defaultOptionsRules),this._initOptions(t)}finally{this.endUpdate()}},_initOptions(t){this.option(t)},_init(){this._createOptionChangedAction(),this.on("disposing",t=>{this._disposingCallbacks.fireWith(this,[t])})},_logDeprecatedOptionWarning(t,e){var r=e.message||"Use the '".concat(e.alias,"' option instead");errors$3.log("W0001",this.NAME,t,e.since,r)},_logDeprecatedComponentWarning(t,e){errors$3.log("W0000",this.NAME,t,"Use the '".concat(e,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(t){switch(t.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:noop,_notifyOptionChanged(t,e,r){if(this._initialized)for(var n=[t].concat(this._options.getAliasesByName(t)),i=0;i<n.length;i++){var a=n[i],o={name:getPathParts$1(a)[0],fullName:a,value:e,previousValue:r};isInnerOption(a)||(this._optionChangedCallbacks.fireWith(this,[extend(this._defaultActionArgs(),o)]),this._optionChangedAction(extend({},o))),!this._disposed&&this._cancelOptionChange!==a&&this._optionChanged(o)}},initialOption(t){return this._options.initial(t)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(t,e){var r;return n=>(isDefined(n)||(n={}),isPlainObject(n)||(n={actionValue:n}),r=r||new Action(t,extend(e,this._defaultActionConfig())),r.execute.call(r,extend(n,this._defaultActionArgs())))},_createActionByOption(t,e){var r=this,n,i,a,o=function(){if(!i){if(e=e||{},typeof t!="string")throw errors$3.Error("E0008");t.indexOf("on")===0&&(i=getEventName$1(t)),a=r.option(t)}if(!(!n&&!a&&!e.beforeExecute&&!e.afterExecute&&!r._eventsStrategy.hasEvent(i))){if(!n){var l=e.beforeExecute;e.beforeExecute=function(){for(var j=arguments.length,L=new Array(j),z=0;z<j;z++)L[z]=arguments[z];l&&l.apply(r,L),r._eventsStrategy.fireEvent(i,L[0].args)},n=r._createAction(a,e)}for(var u=arguments.length,m=new Array(u),b=0;b<u;b++)m[b]=arguments[b];if(config$5().wrapActionsBeforeExecute){var _=r.option("beforeActionExecute")||noop,I=_(r,n,e)||n;return I.apply(r,m)}return n.apply(r,m)}};if(config$5().wrapActionsBeforeExecute)return o;var s=this.option("onActionCreated")||noop;return s(this,o,e)||o},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this},hasActionSubscription:function(t){return!!this._options.silent(t)||this._eventsStrategy.hasEvent(getEventName$1(t))},isOptionDeprecated(t){return this._options.isDeprecated(t)},_setOptionWithoutOptionChange(t,e){this._cancelOptionChange=t,this.option(t,e),this._cancelOptionChange=!1},_getOptionValue(t,e){var r=this.option(t);return isFunction$2(r)?r.bind(e)():r},option(){return this._options.option(...arguments)},resetOption(t){this.beginUpdate(),this._options.reset(t),this.endUpdate()}}),window$o=getWindow(),resetActiveElement=()=>{var t=domAdapter.getActiveElement();if(t&&t!==domAdapter.getBody()){var e;(e=t.blur)===null||e===void 0||e.call(t)}},clearSelection=()=>{var t=window$o.getSelection();if(!!t&&t.type!=="Caret"){if(t.empty)t.empty();else if(t.removeAllRanges)try{t.removeAllRanges()}catch{}}},closestCommonParent=(t,e)=>{var r=$(t),n=$(e);if(r[0]===n[0])return r[0];for(var i=r.parents(),a=n.parents(),o=Math.min(i.length,a.length),s=-o;s<0;s++)if(i.get(s)===a.get(s))return i.get(s)},normalizeTemplateElement=t=>{var e=isDefined(t)&&(t.nodeType||isRenderer(t))?$(t):$("<div>").html(t).contents();return e.length===1&&(e.is("script")?e=normalizeTemplateElement(e.html().trim()):e.is("table")&&(e=e.children("tbody").contents())),e},clipboardText=(t,e)=>{var r=t.originalEvent&&t.originalEvent.clipboardData||window$o.clipboardData;if(!e)return r&&r.getData("Text");r&&r.setData("Text",e)},contains=(t,e)=>e?(domAdapter.isTextNode(e)&&(e=e.parentNode),domAdapter.isDocument(t)?t.documentElement.contains(e):isWindow(t)?contains(t.document,e):t.contains?t.contains(e):!!(e.compareDocumentPosition(t)&e.DOCUMENT_POSITION_CONTAINS)):!1,insertBefore=(t,e)=>(e&&domAdapter.insertElement(t.parentNode,e,t),t),replaceWith=(t,e)=>{if(!!(e&&e[0]))return e.is(t)?t:(each(e,(r,n)=>{insertBefore(t[0],n)}),t.remove(),e)},triggerVisibilityChangeEvent=function(t){return function(e){for(var r=$(e||"body"),n=r.filter(".dx-visibility-change-handler").add(r.find(".dx-visibility-change-handler")),i=0;i<n.length;i++)eventsEngine$1.triggerHandler(n[i],t)}},triggerShownEvent=triggerVisibilityChangeEvent("dxshown"),triggerHidingEvent=triggerVisibilityChangeEvent("dxhiding"),triggerResizeEvent=triggerVisibilityChangeEvent("dxresize"),renderedCallbacks=Callbacks({syncStrategy:!0});class TemplateBase{render(e){e=e||{};var r=e.onRendered;delete e.onRendered;var n;return e.renovated&&e.transclude&&this._element?n=$("<div>").append(this._element).contents():n=this._renderCore(e),this._ensureResultInContainer(n,e.container),renderedCallbacks.fire(n,e.container),r&&r(),n}_ensureResultInContainer(e,r){if(!!r){var n=$(r),i=contains(n.get(0),e.get(0));if(n.append(e),!i){var a=domAdapter.getBody().contains(n.get(0));!a||triggerShownEvent(e)}}}_renderCore(){throw errors$3.Error("E0001")}}class FunctionTemplate extends TemplateBase{constructor(e){super(),this._render=e}_renderCore(e){return normalizeTemplateElement(this._render(e))}}class EmptyTemplate extends TemplateBase{_renderCore(){return $()}}class ChildDefaultTemplate extends TemplateBase{constructor(e){super(),this.name=e}}var templateEngines={},currentTemplateEngine;function registerTemplateEngine(t,e){templateEngines[t]=e}function setTemplateEngine(t){if(isString$2(t)){if(currentTemplateEngine=templateEngines[t],!currentTemplateEngine)throw errors$3.Error("E0020",t)}else currentTemplateEngine=t}function getCurrentTemplateEngine(){return currentTemplateEngine}registerTemplateEngine("default",{compile:t=>normalizeTemplateElement(t),render:(t,e,r)=>t.clone()});setTemplateEngine("default");class Template extends TemplateBase{constructor(e){super(),this._element=e}_renderCore(e){var r=e.transclude;return!r&&!this._compiledTemplate&&(this._compiledTemplate=getCurrentTemplateEngine().compile(this._element)),$("<div>").append(r?this._element:getCurrentTemplateEngine().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return $(this._element).clone()}}function createOccurrenceMap(t){return t.reduce((e,r)=>{var n;return e[r]=((n=e[r])!==null&&n!==void 0?n:0)+1,e},{})}var wrapToArray=function(t){return Array.isArray(t)?t:[t]},getUniqueValues=function(t){return[...new Set(t)]},removeDuplicates=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=createOccurrenceMap(e);return t.filter(n=>!r[n]--)},groupBy=(t,e)=>t.reduce((r,n)=>{var i,a=e(n);return r[a]=(i=r[a])!==null&&i!==void 0?i:[],r[a].push(n),r},{}),findTemplates=(t,e)=>{var r=$(t).contents().filter("[".concat("data-options",'*="').concat(e,'"]'));return[].slice.call(r).map(n=>{var i=$(n).attr("data-options")||"";return{element:n,options:config$5().optionsParser(i)[e]}}).filter(n=>!!n.options)},suitableTemplatesByName=t=>{var e=groupBy(t,n=>n.options.name);if(e[void 0])throw errors$3.Error("E0023");var r={};return Object.keys(e).forEach(n=>{var i,a=(i=findBestMatches(devices$1.current(),e[n],o=>o.options)[0])===null||i===void 0?void 0:i.element;a&&(r[n]=a)}),r},addOneRenderedCall=t=>{var e=t.render.bind(t);return extend({},t,{render(r){var n=e(r);return r&&r.onRendered&&r.onRendered(),n}})},getNormalizedTemplateArgs=t=>{var e=[];return"model"in t&&e.push(t.model),"index"in t&&e.push(t.index),e.push(t.container),e},validateTemplateSource=t=>typeof t=="string"?normalizeTemplateElement(t):t,templateKey=t=>isRenderer(t)&&t[0]||t,defaultCreateElement=t=>new Template(t),acquireIntegrationTemplate=(t,e,r,n)=>{var i=null;return(!n||n.indexOf(t)===-1)&&(i=e[t],i&&!(i instanceof TemplateBase)&&!r&&(i=addOneRenderedCall(i))),i},acquireTemplate=(t,e,r,n,i,a)=>t==null?new EmptyTemplate:t instanceof ChildDefaultTemplate?a[t.name]:t instanceof TemplateBase?t:isFunction$2(t.render)&&!isRenderer(t)?n?t:addOneRenderedCall(t):t.nodeType||isRenderer(t)?e($(t)):acquireIntegrationTemplate(t,r,n,i)||a[t]||e(t),TEXT_NODE=3,ANONYMOUS_TEMPLATE_NAME$3="template",TEMPLATE_OPTIONS_NAME="dxTemplate",TEMPLATE_WRAPPER_CLASS$2="dx-template-wrapper",DX_POLYMORPH_WIDGET_TEMPLATE=new FunctionTemplate(t=>{var{model:e,parent:r}=t,n=e.widget;if(!n)return $();var i=$("<div>"),a=e.options||{};return r?r._createComponent(i,n,a):i[n](a),i});class TemplateManager{constructor(e,r){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=r||ANONYMOUS_TEMPLATE_NAME$3,this._createElement=e||defaultCreateElement,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.skipImmediate||r(e()),noop},templates:{"dx-polymorph-widget":DX_POLYMORPH_WIDGET_TEMPLATE},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=extend({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach(e=>{e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]}extractTemplates(e){var r=this._extractTemplates(e),n=this._extractAnonymousTemplate(e);return{templates:r,anonymousTemplateMeta:n}}_extractTemplates(e){var r=findTemplates(e,TEMPLATE_OPTIONS_NAME),n=suitableTemplatesByName(r);return r.forEach(i=>{var{element:a,options:{name:o}}=i;a===n[o]?$(a).addClass(TEMPLATE_WRAPPER_CLASS$2).detach():$(a).remove()}),Object.keys(n).map(i=>({name:i,template:this._createTemplate(n[i])}))}_extractAnonymousTemplate(e){var r=e.contents().detach(),n=r.filter((i,a)=>{var o=a.nodeType===TEXT_NODE,s=$(a).text().trim().length<1;return!(o&&s)});return n.length>0?{template:this._createTemplate(r),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){var r=this._tempTemplates.filter(i=>i.source===templateKey(e))[0];if(r)return r.template;var n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:templateKey(e)}),n}_createTemplate(e){return this._createElement(validateTemplateSource(e))}getTemplate(e,r,n,i){var{isAsyncTemplate:a,skipTemplates:o}=n;return isFunction$2(e)?new FunctionTemplate(s=>{var l=e.apply(i,getNormalizedTemplateArgs(s));if(!isDefined(l))return new EmptyTemplate;var u=!1,m=acquireTemplate(l,_=>_.nodeType||isRenderer(_)&&!$(_).is("script")?new FunctionTemplate(()=>_):(u=!0,this._createTemplate(_)),r,a,o,this._defaultTemplates),b=m.render(s);return u&&m.dispose&&m.dispose(),b}):acquireTemplate(e,this._createTemplateIfNeeded,r,a,o,this._defaultTemplates)}}var strategy$1=function(t){return t&&t.get(0)};function getPublicElement(t){return strategy$1(t)}var addNamespace$2=(t,e)=>{if(!e)throw errors$3.Error("E0017");return Array.isArray(t)?t.map(r=>addNamespace$2(r,e)).join(" "):t.indexOf(" ")!==-1?addNamespace$2(t.split(/\s+/g),e):"".concat(t,".").concat(e)},mappedAddNamespace=addNamespace$2,focusableFn=function(t,e){if(!visible(t))return!1;var r=t.nodeName.toLowerCase(),n=!isNaN(e),i=t.disabled,a=/^(input|select|textarea|button|object|iframe)$/.test(r),o=r==="a",s=!0,l=t.isContentEditable;return a||l?s=!i:o?s=t.href||n:s=n,s};function visible(t){var e=$(t);return e.is(":visible")&&e.css("visibility")!=="hidden"&&e.parents().css("visibility")!=="hidden"}var focusable=function(t,e){return focusableFn(e,$(e).attr("tabIndex"))},tabbable=function(t,e){var r=$(e).attr("tabIndex");return(isNaN(r)||r>=0)&&focusableFn(e,r)},focused=function(t){var e=$(t).get(0);return domAdapter.getActiveElement(e)===e},KEY_MAP={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},LEGACY_KEY_CODES={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},EVENT_SOURCES_REGEX={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},fixMethod=t=>t,copyEvent=t=>fixMethod(eventsEngine$1.Event(t,t)),isDxEvent=t=>eventSource(t)==="dx",isNativeMouseEvent=t=>eventSource(t)==="mouse",isNativeTouchEvent=t=>eventSource(t)==="touch",eventSource=t=>{var{type:e}=t,r="other";return each(EVENT_SOURCES_REGEX,function(n){if(this.test(e))return r=n,!1}),r},isPointerEvent=t=>eventSource(t)==="pointer",isMouseEvent=t=>isNativeMouseEvent(t)||(isPointerEvent(t)||isDxEvent(t))&&t.pointerType==="mouse",isDxMouseWheelEvent=t=>t&&t.type==="dxmousewheel",isTouchEvent=t=>isNativeTouchEvent(t)||(isPointerEvent(t)||isDxEvent(t))&&t.pointerType==="touch",eventData=t=>{var{pageX:e,pageY:r,timeStamp:n}=t;return{x:e,y:r,time:n}},eventDelta=(t,e)=>({x:e.x-t.x,y:e.y-t.y,time:e.time-t.time||1}),hasTouches=t=>{var{originalEvent:e,pointers:r}=t;return isNativeTouchEvent(t)?(e.touches||[]).length:isDxEvent(t)?(r||[]).length:0},needSkipEvent=t=>{var{target:e}=t,r=$(e),n=(e==null?void 0:e.isContentEditable)||(e==null?void 0:e.hasAttribute("contenteditable")),i=r.is("input, textarea, select")||n;if(isDxMouseWheelEvent(t)){var a=r.is("textarea")&&r.hasClass("dx-texteditor-input");if(a||n)return!1;var o=r.is("input[type='number'], textarea, select")&&r.is(":focus");return o}if(isMouseEvent(t))return i||t.which>1;if(isTouchEvent(t))return i&&focused(r)},createEvent=(t,e)=>{var r=copyEvent(t);return e&&extend(r,e),r},fireEvent=t=>{var{originalEvent:e,delegateTarget:r}=t,n=createEvent(e,t);return eventsEngine$1.trigger(r||n.target,n),n},normalizeKeyName=t=>{var{key:e,which:r}=t,n=KEY_MAP[e==null?void 0:e.toLowerCase()]||e,i=LEGACY_KEY_CODES[r];return i&&n===e?i:!n&&r?String.fromCharCode(r):n},getChar=t=>{var{key:e,which:r}=t;return e||String.fromCharCode(r)},addNamespace$1=mappedAddNamespace,isCommandKeyPressed=t=>{var{ctrlKey:e,metaKey:r}=t;return e||r},COMPOSITION_START_EVENT="compositionstart",COMPOSITION_END_EVENT="compositionend",KEYDOWN_EVENT="keydown",NAMESPACE="KeyboardProcessor",createKeyDownOptions=t=>({keyName:normalizeKeyName(t),key:t.key,code:t.code,ctrl:t.ctrlKey,location:t.location,metaKey:t.metaKey,shift:t.shiftKey,alt:t.altKey,which:t.which,originalEvent:t}),KeyboardProcessor=Class.inherit({_keydown:addNamespace$1(KEYDOWN_EVENT,NAMESPACE),_compositionStart:addNamespace$1(COMPOSITION_START_EVENT,NAMESPACE),_compositionEnd:addNamespace$1(COMPOSITION_END_EVENT,NAMESPACE),ctor:function(t){t=t||{},t.element&&(this._element=$(t.element)),t.focusTarget&&(this._focusTarget=t.focusTarget),this._handler=t.handler,this._element&&(this._processFunction=e=>{var r=$(this._focusTarget).toArray(),n=this._focusTarget&&this._focusTarget!==e.target&&!r.includes(e.target),i=this._isComposingJustFinished&&e.which===229||this._isComposing||n;this._isComposingJustFinished=!1,i||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),eventsEngine$1.on(this._element,this._keydown,this._processFunction),eventsEngine$1.on(this._element,this._compositionStart,this._toggleProcessingWithContext),eventsEngine$1.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(eventsEngine$1.off(this._element,this._keydown,this._processFunction),eventsEngine$1.off(this._element,this._compositionStart,this._toggleProcessingWithContext),eventsEngine$1.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(t){this._handler(createKeyDownOptions(t))},toggleProcessing:function(t){var{type:e}=t;this._isComposing=e===COMPOSITION_START_EVENT,this._isComposingJustFinished=!this._isComposing}});KeyboardProcessor.createKeyDownOptions=createKeyDownOptions;var KeyboardProcessor$1=KeyboardProcessor;function addNamespace(t,e){return e?addNamespace$1(t,e):t}function executeAction(t,e){return typeof t=="function"?t(e):t.execute(e)}var active={on:(t,e,r,n)=>{var{selector:i,showTimeout:a,hideTimeout:o,namespace:s}=n;eventsEngine$1.on(t,addNamespace("dxactive",s),i,{timeout:a},l=>executeAction(e,{event:l,element:l.currentTarget})),eventsEngine$1.on(t,addNamespace("dxinactive",s),i,{timeout:o},l=>executeAction(r,{event:l,element:l.currentTarget}))},off:(t,e)=>{var{namespace:r,selector:n}=e;eventsEngine$1.off(t,addNamespace("dxactive",r),n),eventsEngine$1.off(t,addNamespace("dxinactive",r),n)}},resize={on:function(t,e){var{namespace:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};eventsEngine$1.on(t,addNamespace("dxresize",r),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};eventsEngine$1.off(t,addNamespace("dxresize",e))}},hover={on:(t,e,r,n)=>{var{selector:i,namespace:a}=n;eventsEngine$1.on(t,addNamespace("dxhoverend",a),i,o=>r(o)),eventsEngine$1.on(t,addNamespace("dxhoverstart",a),i,o=>executeAction(e,{element:o.target,event:o}))},off:(t,e)=>{var{selector:r,namespace:n}=e;eventsEngine$1.off(t,addNamespace("dxhoverstart",n),r),eventsEngine$1.off(t,addNamespace("dxhoverend",n),r)}},visibility={on:(t,e,r,n)=>{var{namespace:i}=n;eventsEngine$1.on(t,addNamespace("dxhiding",i),r),eventsEngine$1.on(t,addNamespace("dxshown",i),e)},off:(t,e)=>{var{namespace:r}=e;eventsEngine$1.off(t,addNamespace("dxhiding",r)),eventsEngine$1.off(t,addNamespace("dxshown",r))}},focus={on:(t,e,r,n)=>{var{namespace:i}=n;eventsEngine$1.on(t,addNamespace("focusin",i),e),eventsEngine$1.on(t,addNamespace("focusout",i),r)},off:(t,e)=>{var{namespace:r}=e;eventsEngine$1.off(t,addNamespace("focusin",r)),eventsEngine$1.off(t,addNamespace("focusout",r))},trigger:t=>eventsEngine$1.trigger(t,"focus")},dxClick={on:function(t,e){var{namespace:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};eventsEngine$1.on(t,addNamespace("dxclick",r),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};eventsEngine$1.off(t,addNamespace("dxclick",e))}},click={on:function(t,e){var{namespace:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};eventsEngine$1.on(t,addNamespace("click",r),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};eventsEngine$1.off(t,addNamespace("click",e))}},index=0,keyboardProcessors={},generateListenerId=()=>"keyboardProcessorId".concat(index++),keyboard={on:(t,e,r)=>{var n=generateListenerId();return keyboardProcessors[n]=new KeyboardProcessor$1({element:t,focusTarget:e,handler:r}),n},off:t=>{t&&keyboardProcessors[t]&&(keyboardProcessors[t].dispose(),delete keyboardProcessors[t])},_getProcessor:t=>keyboardProcessors[t]},{abstract:abstract$4}=Component$1,DOMComponent=Component$1.inherit({_getDefaultOptions(){return extend(this.callBase(),{width:void 0,height:void 0,rtlEnabled:config$5().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?TemplateManager.createDefaultOptions():{})},ctor(t,e){this._customClass=null,this._createElement(t),attachInstanceToElement(this._$element,this,this._dispose),this.callBase(e)},_createElement(t){this._$element=$(t)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(t){this.option("_ignoreFunctionValueDeprecation")||t.forEach(e=>{isFunction$2(this.option(e))&&errors$3.log("W0017",e)})},_visibilityChanged:abstract$4,_dimensionChanged:abstract$4,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(t){this.callBase([].concat(this.constructor._classCustomRules||[],t||[]))},_isInitialOptionValue(t){var e=this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),t);return!e&&this.callBase(t)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var t=this._windowResizeCallBack=this._dimensionChanged.bind(this);resizeCallbacks$1.add(t)}},_isDimensionChangeSupported(){return this._dimensionChanged!==abstract$4},_renderComponent(){this._initMarkup(),hasWindow()&&this._render()},_initMarkup(){var{rtlEnabled:t}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(t),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers()},_renderElementAttributes(){var{elementAttr:t}=this.option()||{},e=extend({},t),r=e.class;delete e.class,this.$element().attr(e).removeClass(this._customClass).addClass(r),this._customClass=r},_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){var t=this.$element();t.addClass("dx-visibility-change-handler")}},_renderDimensions(){var t=this.$element(),e=t.get(0),r=this._getOptionValue("width",e),n=this._getOptionValue("height",e);this._isCssUpdateRequired(e,n,r)&&t.css({width:r===null?"":r,height:n===null?"":n})},_isCssUpdateRequired:(t,e,r)=>!!(isDefined(r)||isDefined(e)||t.style.width||t.style.height),_attachDimensionChangeHandlers(){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");resize.off(t,{namespace:e}),resize.on(t,()=>this._dimensionChanged(),{namespace:e})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),visibility.off(t,{namespace:e}),visibility.on(t,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:e})}},_isVisible(){var t=this.$element();return t.is(":visible")},_checkVisibilityChanged(t){var e=this._isVisible();e&&(t==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):t==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==abstract$4&&hasWindow()},_clean:noop,_modelByElement(){var{modelByElement:t}=this.option(),e=this.$element();return t?t(e):void 0},_invalidate(){if(this._isUpdateAllowed())throw errors$3.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&resizeCallbacks$1.remove(this._windowResizeCallBack)},_toggleRTLDirection(t){var e=this.$element();e.toggleClass("dx-rtl",t)},_createComponent(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=grep(this._getSynchronizableOptionsForCreateComponent(),m=>!(m in r)),{integrationOptions:i}=this.option(),{nestedComponentOptions:a}=this.option();a=a||noop;var o=extend({integrationOptions:i},a(this));n.forEach(m=>o[m]=this.option(m)),this._extendConfig(r,o);var s=void 0;if(isString$2(e)){var l=$(t)[e](r);s=l[e]("instance")}else t&&(s=e.getInstance(t),s?s.option(r):s=new e(t,r));if(s){var u=m=>{var{name:b,value:_}=m;n.includes(b)&&s.option(b,_)};this.on("optionChanged",u),s.on("disposing",()=>this.off("optionChanged",u))}return s},_extendConfig(t,e){each(e,(r,n)=>{!Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=n)})},_defaultActionConfig(){var t=this.$element(),e=this._modelByElement(t);return extend(this.callBase(),{context:e})},_defaultActionArgs(){var t=this.$element(),e=this._modelByElement(t),r=this.element();return extend(this.callBase(),{element:r,model:e})},_optionChanged(t){switch(t.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(t)}},_removeAttributes(t){for(var e=t.attributes,r=e.length-1;r>=0;r--){var n=e[r];if(n){var{name:i}=n;(!i.indexOf("aria-")||i.indexOf("dx-")!==-1||i==="role"||i==="style"||i==="tabindex")&&t.removeAttribute(i)}}},_removeClasses(t){t.className=t.className.split(" ").filter(e=>e.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(t){t?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var t=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(t)},$element(){return this._$element},element(){var t=this.$element();return getPublicElement(t)},dispose(){var t=this.$element().get(0);cleanDataRecursive(t,!0),t.textContent="",this._removeAttributes(t),this._removeClasses(t)},resetOption(t){if(this.callBase(t),t==="width"||t==="height"){var e=this.initialOption(t);!isDefined(e)&&this.$element().css(t,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!(this._templateManager||!this._useTemplates())){var{integrationOptions:t={}}=this.option(),{createTemplate:e}=t;this._templateManager=new TemplateManager(e,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:t,anonymousTemplateMeta:e}=this._templateManager.extractTemplates(this.$element()),r=this.option("integrationOptions.templates.".concat(e.name));t.forEach(n=>{var{name:i,template:a}=n;this._options.silent("integrationOptions.templates.".concat(i),a)}),e.name&&!r&&(this._options.silent("integrationOptions.templates.".concat(e.name),e.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(t){return this._getTemplate(this.option(t))},_getTemplate(t){var e=this.option("integrationOptions.templates"),r=this.option("templatesRenderAsynchronously"),n=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(t,e,{isAsyncTemplate:r,skipTemplates:n},this)},_saveTemplate(t,e){this._setOptionWithoutOptionChange("integrationOptions.templates."+t,this._templateManager._createTemplate(e))},_useTemplates:()=>!0});DOMComponent.getInstance=function(t){return getInstanceByElement($(t),this)};DOMComponent.defaultOptions=function(t){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(t)};var DOMComponent$1=DOMComponent;function compare$1(t,e,r){function n(l){return typeof l=="string"?l.split("."):typeof l=="number"?[l]:l}t=n(t),e=n(e);var i=Math.max(t.length,e.length);isFinite(r)&&(i=Math.min(i,r));for(var a=0;a<i;a++){var o=parseInt(t[a]||0,10),s=parseInt(e[a]||0,10);if(o<s)return-1;if(o>s)return 1}return 0}var window$n=hasWindow()?getWindow():{},FRAME_ANIMATION_STEP_TIME=1e3/60,request=function(t){return setTimeout(t,FRAME_ANIMATION_STEP_TIME)},cancel=function(t){clearTimeout(t)},setAnimationFrameMethods=callOnce$1(function(){var t=window$n.requestAnimationFrame||window$n.webkitRequestAnimationFrame||window$n.mozRequestAnimationFrame||window$n.oRequestAnimationFrame||window$n.msRequestAnimationFrame,e=window$n.cancelAnimationFrame||window$n.webkitCancelAnimationFrame||window$n.mozCancelAnimationFrame||window$n.oCancelAnimationFrame||window$n.msCancelAnimationFrame;t&&e&&(request=t,cancel=e)});function requestAnimationFrame(){return setAnimationFrameMethods(),request.apply(window$n,arguments)}function cancelAnimationFrame(){setAnimationFrameMethods(),cancel.apply(window$n,arguments)}function nodesByEvent(t){return t&&[t.target,t.delegateTarget,t.relatedTarget,t.currentTarget].filter(e=>!!e)}var subscribeNodesDisposing=(t,e)=>{eventsEngine$1.one(nodesByEvent(t),removeEvent,e)},unsubscribeNodesDisposing=(t,e)=>{eventsEngine$1.off(nodesByEvent(t),removeEvent,e)},{maxTouchPoints}=getNavigator(),transitionEndEventNames={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},supportProp=function(t){return!!styleProp(t)},isNativeScrollingSupported=function(){var{platform:t,mac:e}=devices$1.real(),r=t==="ios"||t==="android"||e;return r},inputType=function(t){if(t==="text")return!0;var e=domAdapter.createElement("input");try{return e.setAttribute("type",t),e.value="wrongValue",!e.value}catch{return!1}},detectTouchEvents=function(t,e){return(t("ontouchstart")||!!e)&&!t("callPhantom")},detectPointerEvent=function(t){return t("PointerEvent")},touchEvents=detectTouchEvents(hasProperty,maxTouchPoints),pointerEvents$1=detectPointerEvent(hasProperty),touchPointersPresent=!!maxTouchPoints,touch=touchEvents||pointerEvents$1&&touchPointersPresent,transition=callOnce$1(function(){return supportProp("transition")}),transitionEndEventName=callOnce$1(function(){return transitionEndEventNames[styleProp("transition")]}),animation$1=callOnce$1(function(){return supportProp("animation")}),nativeScrolling=isNativeScrollingSupported(),support=Object.freeze(Object.defineProperty({__proto__:null,touchEvents,pointerEvents:pointerEvents$1,styleProp,stylePropPrefix,supportProp,inputType,touch,transition,transitionEndEventName,animation:animation$1,nativeScrolling},Symbol.toStringTag,{value:"Module"})),navigator$3=getNavigator(),webkitRegExp=/(webkit)[ /]([\w.]+)/,mozillaRegExp=/(mozilla)(?:.*? rv:([\w.]+))/,browserFromUA=t=>{t=t.toLowerCase();var e={},r=webkitRegExp.exec(t)||t.indexOf("compatible")<0&&mozillaRegExp.exec(t)||[],n=r[1],i=r[2];return n==="webkit"&&(e.webkit=!0,t.indexOf("chrome")>=0||t.indexOf("crios")>=0?(n="chrome",i=/(?:chrome|crios)\/(\d+\.\d+)/.exec(t),i=i&&i[1]):t.indexOf("fxios")>=0?(n="mozilla",i=/fxios\/(\d+\.\d+)/.exec(t),i=i&&i[1]):t.indexOf("safari")>=0&&/version|phantomjs/.test(t)?(n="safari",i=/(?:version|phantomjs)\/([0-9.]+)/.exec(t),i=i&&i[1]):(n="unknown",i=/applewebkit\/([0-9.]+)/.exec(t),i=i&&i[1])),n&&(e[n]=!0,e.version=i),e},browser=extend({_fromUA:browserFromUA},browserFromUA(navigator$3.userAgent)),POINTER_EVENTS_NAMESPACE="dxPointerEvents",BaseStrategy=Class.inherit({ctor:function(t,e){this._eventName=t,this._originalEvents=addNamespace$1(e,POINTER_EVENTS_NAMESPACE),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var t=this._eventName;return t==="dxpointerenter"||t==="dxpointerleave"},_handler:function(t){var e,r=this._getDelegateTarget(t),n={type:this._eventName,pointerType:t.pointerType||eventSource(t),originalEvent:t,delegateTarget:r,timeStamp:browser.mozilla?new Date().getTime():t.timeStamp},i=t.originalEvent;if(i!=null&&(e=i.target)!==null&&e!==void 0&&e.shadowRoot){var a,o,s=(a=i.path)!==null&&a!==void 0?a:(o=i.composedPath)===null||o===void 0?void 0:o.call(i);n.target=s[0]}return this._fireEvent(n)},_getDelegateTarget:function(t){var e;return this.noBubble&&(e=t.delegateTarget),e},_fireEvent:function(t){return fireEvent(t)},_setSelector:function(t){this._selector=this.noBubble&&t?t.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(t,e){if(this._handlerCount<=0||this.noBubble){t=this.noBubble?t:domAdapter.getDocument(),this._setSelector(e);var r=this;eventsEngine$1.on(t,this._originalEvents,this._getSelector(),function(n){r._handler(n)})}this.noBubble||this._handlerCount++},remove:function(t){this._setSelector(t),this.noBubble||this._handlerCount--},teardown:function(t){this._handlerCount&&!this.noBubble||(t=this.noBubble?t:domAdapter.getDocument(),this._originalEvents!=="."+POINTER_EVENTS_NAMESPACE&&eventsEngine$1.off(t,this._originalEvents,this._getSelector()))},dispose:function(t){t=this.noBubble?t:domAdapter.getDocument(),eventsEngine$1.off(t,this._originalEvents)}}),BaseStrategy$1=BaseStrategy,eventMap$2={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},normalizeTouchEvent=function(t){var e=[];return each(t.touches,function(r,n){e.push(extend({pointerId:n.identifier},n))}),{pointers:e,pointerId:t.changedTouches[0].identifier}},skipTouchWithSameIdentifier=function(t){return devices$1.real().platform==="ios"&&(t==="dxpointerdown"||t==="dxpointerup")},TouchStrategy=BaseStrategy$1.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(t){if(skipTouchWithSameIdentifier(this._eventName)){var e=t.changedTouches[0];if(this._pointerId===e.identifier&&this._pointerId!==0)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(t){return this.callBase(extend(normalizeTouchEvent(t.originalEvent),t))}});TouchStrategy.map=eventMap$2;TouchStrategy.normalize=normalizeTouchEvent;var TouchStrategy$1=TouchStrategy,addEventsListener=function(t,e){readyCallback.add(function(){t.split(" ").forEach(function(r){domAdapter.listen(domAdapter.getDocument(),r,e,!0)})})},Observer=function(t,e,r){r=r||function(){};var n=[],i=function(o){var s=-1;return each(n,function(l,u){return e(o,u)?(s=l,!1):!0}),s},a=function(o){var s=i(o);s>-1&&n.splice(s,1)};addEventsListener(t.dxpointerdown,function(o){i(o)===-1&&(r(o),n.push(o))}),addEventsListener(t.dxpointermove,function(o){n[i(o)]=o}),addEventsListener(t.dxpointerup,a),addEventsListener(t.dxpointercancel,a),this.pointers=function(){return n},this.reset=function(){n=[]}},Observer$1=Observer,eventMap$1={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},normalizeMouseEvent=function(t){return t.pointerId=1,{pointers:observer.pointers(),pointerId:1}},observer,activated$1=!1,activateStrategy$1=function(){activated$1||(observer=new Observer$1(eventMap$1,function(){return!0}),activated$1=!0)},MouseStrategy=BaseStrategy$1.inherit({ctor:function(){this.callBase.apply(this,arguments),activateStrategy$1()},_fireEvent:function(t){return this.callBase(extend(normalizeMouseEvent(t.originalEvent),t))}});MouseStrategy.map=eventMap$1;MouseStrategy.normalize=normalizeMouseEvent;MouseStrategy.activate=activateStrategy$1;MouseStrategy.resetObserver=function(){observer.reset()};var MouseStrategy$1=MouseStrategy,eventMap={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},activated=!1,activateStrategy=function(){activated||(MouseStrategy$1.activate(),activated=!0)},MouseAndTouchStrategy=BaseStrategy$1.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),activateStrategy()},_handler:function(t){var e=isMouseEvent(t);if(e||(this._skipNextEvents=!0),!(e&&this._mouseLocked)){if(e&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var r=this;this._unlockMouseTimer=setTimeout(function(){r._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(t)}},_fireEvent:function(t){var e=isMouseEvent(t.originalEvent)?MouseStrategy$1.normalize:TouchStrategy$1.normalize;return this.callBase(extend(e(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});MouseAndTouchStrategy.map=eventMap;MouseAndTouchStrategy.resetObserver=MouseStrategy$1.resetObserver;var MouseAndTouchStrategy$1=MouseAndTouchStrategy,getStrategy=(t,e)=>{var{tablet:r,phone:n}=e;return t.touch&&!(r||n)?MouseAndTouchStrategy$1:t.touch?TouchStrategy$1:MouseStrategy$1},EventStrategy=getStrategy(support,devices$1.real());each(EventStrategy.map,(t,e)=>{registerEvent$1(t,new EventStrategy(t,e))});var pointer={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"},pointerEvents=pointer,Emitter=Class.inherit({ctor:function(t){this._$element=$(t),this._cancelCallback=Callbacks(),this._acceptCallback=Callbacks()},getElement:function(){return this._$element},validate:function(t){return!isDxMouseWheelEvent(t)},validatePointers:function(t){return hasTouches(t)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(t){extend(this,t)},addCancelCallback:function(t){this._cancelCallback.add(t)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(t){this._cancelCallback.fire(this,t)},addAcceptCallback:function(t){this._acceptCallback.add(t)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(t){this._acceptCallback.fire(this,t)},_requestAccept:function(t){this._acceptRequestEvent=t},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:noop,move:noop,end:noop,cancel:noop,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(t,e,r){var n=extend({type:t,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},r);return e=fireEvent(n),e.cancel&&this._cancel(e),e},_getEmitterTarget:function(t){return(this.delegateSelector?$(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:noop}),Emitter$1=Emitter,EVENT_NAME="dxmousewheel",EVENT_NAMESPACE="dxWheel",NATIVE_EVENT_NAME="wheel",PIXEL_MODE=0,DELTA_MUTLIPLIER=30,wheel={setup:function(t){var e=$(t);eventsEngine$1.on(e,addNamespace$1(NATIVE_EVENT_NAME,EVENT_NAMESPACE),wheel._wheelHandler.bind(wheel))},teardown:function(t){eventsEngine$1.off(t,".".concat(EVENT_NAMESPACE))},_wheelHandler:function(t){var{deltaMode:e,deltaY:r,deltaX:n,deltaZ:i}=t.originalEvent;fireEvent({type:EVENT_NAME,originalEvent:t,delta:this._normalizeDelta(r,e),deltaX:n,deltaY:r,deltaZ:i,deltaMode:e,pointerType:"mouse"}),t.stopPropagation()},_normalizeDelta(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PIXEL_MODE;return e===PIXEL_MODE?-t:-DELTA_MUTLIPLIER*t}};registerEvent$1(EVENT_NAME,wheel);var MANAGER_EVENT="dxEventManager",EMITTER_DATA="dxEmitter",EventManager=Class.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){readyCallback.add(function(){var t=domAdapter.getDocument();eventsEngine$1.subscribeGlobal(t,addNamespace$1(pointerEvents.down,MANAGER_EVENT),this._pointerDownHandler.bind(this)),eventsEngine$1.subscribeGlobal(t,addNamespace$1(pointerEvents.move,MANAGER_EVENT),this._pointerMoveHandler.bind(this)),eventsEngine$1.subscribeGlobal(t,addNamespace$1([pointerEvents.up,pointerEvents.cancel].join(" "),MANAGER_EVENT),this._pointerUpHandler.bind(this)),eventsEngine$1.subscribeGlobal(t,addNamespace$1(EVENT_NAME,MANAGER_EVENT),this._mouseWheelHandler.bind(this))}.bind(this))},_eachEmitter:function(t){for(var e=this._activeEmitters||[],r=0;e.length>r;){var n=e[r];if(t(n)===!1)break;e[r]===n&&r++}},_applyToEmitters:function(t,e){this._eachEmitter(function(r){r[t].call(r,e)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(t){this._proxiedCancelHandler(t)},_pointerDownHandler:function(t){isMouseEvent(t)&&t.which>1||this._updateEmitters(t)},_updateEmitters:function(t){!this._isSetChanged(t)||(this._cleanEmitters(t),this._fetchEmitters(t))},_isSetChanged:function(t){var e=this._closestEmitter(t),r=this._emittersSet||[],n=e.length!==r.length;return each(e,function(i,a){return n=n||r[i]!==a,!n}),this._emittersSet=e,n},_closestEmitter:function(t){var e=this,r=[],n=$(t.target);function i(o,s){!!s&&s.validatePointers(t)&&s.validate(t)&&(s.addCancelCallback(e._proxiedCancelHandler),s.addAcceptCallback(e._proxiedAcceptHandler),r.push(s))}for(;n.length;){var a=data(n.get(0),EMITTER_DATA)||[];each(a,i),n=n.parent()}return r},_acceptHandler:function(t,e){var r=this;this._eachEmitter(function(n){n!==t&&r._cancelEmitter(n,e)})},_cancelHandler:function(t,e){this._cancelEmitter(t,e)},_cancelEmitter:function(t,e){var r=this._activeEmitters;e?t.cancel(e):t.reset(),t.removeCancelCallback(),t.removeAcceptCallback();var n=r.indexOf(t);n>-1&&r.splice(n,1)},_cleanEmitters:function(t){this._applyToEmitters("end",t),this.reset(t)},_fetchEmitters:function(t){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",t)},_pointerMoveHandler:function(t){this._applyToEmitters("move",t)},_pointerUpHandler:function(t){this._updateEmitters(t)},_mouseWheelHandler:function(t){!this._allowInterruptionByMouseWheel()||(t.pointers=[null],this._pointerDownHandler(t),this._adjustWheelEvent(t),this._pointerMoveHandler(t),t.pointers=[],this._pointerUpHandler(t))},_allowInterruptionByMouseWheel:function(){var t=!0;return this._eachEmitter(function(e){return t=e.allowInterruptionByMouseWheel()&&t,t}),t},_adjustWheelEvent:function(t){var e=null;if(this._eachEmitter(function(a){if(!!a.gesture){var o=a.getDirection(t);if(o!=="horizontal"&&!t.shiftKey||o!=="vertical"&&t.shiftKey)return e=a,!1}}),!!e){var r=e.getDirection(t),n=r==="both"&&!t.shiftKey||r==="vertical",i=n?"pageY":"pageX";t[i]+=t.delta}},isActive:function(t){var e=!1;return this._eachEmitter(function(r){e=e||r.getElement().is(t)}),e}}),eventManager=new EventManager,EMITTER_SUBSCRIPTION_DATA="dxEmitterSubscription",registerEmitter=function(t){var e=t.emitter,r=t.events[0],n=t.events;each(n,function(i,a){registerEvent$1(a,{noBubble:!t.bubble,setup:function(o){var s=data(o,EMITTER_SUBSCRIPTION_DATA)||{},l=data(o,EMITTER_DATA)||{},u=l[r]||new e(o);s[a]=!0,l[r]=u,data(o,EMITTER_DATA,l),data(o,EMITTER_SUBSCRIPTION_DATA,s)},add:function(o,s){var l=data(o,EMITTER_DATA),u=l[r];u.configure(extend({delegateSelector:s.selector},s.data),s.type)},teardown:function(o){var s=data(o,EMITTER_SUBSCRIPTION_DATA),l=data(o,EMITTER_DATA),u=l[r];delete s[a];var m=!0;each(n,function(b,_){return m=m&&!s[_],m}),m&&(eventManager.isActive(o)&&eventManager.resetEmitter(u),u&&u.dispose(),delete l[r])}})})},registerEmitter$1=registerEmitter,CLICK_EVENT_NAME="dxclick",prevented=null,lastFiredEvent=null,onNodeRemove=()=>{lastFiredEvent=null},clickHandler=function(t){var e=t.originalEvent,r=lastFiredEvent===e||e&&e.DXCLICK_FIRED,n=!t.which||t.which===1;n&&!prevented&&!r&&(e&&(e.DXCLICK_FIRED=!0),unsubscribeNodesDisposing(lastFiredEvent,onNodeRemove),lastFiredEvent=e,subscribeNodesDisposing(lastFiredEvent,onNodeRemove),fireEvent({type:CLICK_EVENT_NAME,originalEvent:t}))},ClickEmitter=Emitter$1.inherit({ctor:function(t){this.callBase(t),eventsEngine$1.on(this.getElement(),"click",clickHandler)},start:function(t){prevented=null},cancel:function(){prevented=!0},dispose:function(){eventsEngine$1.off(this.getElement(),"click",clickHandler)}});(function(){var t=devices$1.real().generic;if(!t){var e=null,r=!1,n=domAdapter.getDocument();eventsEngine$1.subscribeGlobal(n,addNamespace$1(pointerEvents.down,"NATIVE_CLICK_FIXER"),function(i){e=i.target,r=i.isDefaultPrevented()}),eventsEngine$1.subscribeGlobal(n,addNamespace$1("click","NATIVE_CLICK_FIXER"),function(i){var a=$(i.target);!r&&e&&!a.is(e)&&!$(e).is("label")&&(o=a,$(o).is("input, textarea, select, button ,:focus, :focus *"))&&resetActiveElement();var o;e=null,r=!1})}})();registerEmitter$1({emitter:ClickEmitter,bubble:!0,events:[CLICK_EVENT_NAME]});var HOVERSTART_NAMESPACE="dxHoverStart",HOVERSTART="dxhoverstart",POINTERENTER_NAMESPACED_EVENT_NAME=addNamespace$1(pointerEvents.enter,HOVERSTART_NAMESPACE),HOVEREND_NAMESPACE="dxHoverEnd",HOVEREND="dxhoverend",POINTERLEAVE_NAMESPACED_EVENT_NAME=addNamespace$1(pointerEvents.leave,HOVEREND_NAMESPACE),Hover=Class.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(t){data(t,this._handlerArrayKeyPath,{})},add:function(t,e){var r=this,n=function(i){r._handler(i)};eventsEngine$1.on(t,this._originalEventName,e.selector,n),data(t,this._handlerArrayKeyPath)[e.guid]=n},_handler:function(t){isTouchEvent(t)||devices$1.isSimulator()||fireEvent({type:this._eventName,originalEvent:t,delegateTarget:t.delegateTarget})},remove:function(t,e){var r=data(t,this._handlerArrayKeyPath)[e.guid];eventsEngine$1.off(t,this._originalEventName,e.selector,r)},teardown:function(t){removeData(t,this._handlerArrayKeyPath)}}),HoverStart=Hover.inherit({ctor:function(){this._eventNamespace=HOVERSTART_NAMESPACE,this._eventName=HOVERSTART,this._originalEventName=POINTERENTER_NAMESPACED_EVENT_NAME,this.callBase()},_handler:function(t){var e=t.pointers||[];e.length||this.callBase(t)}}),HoverEnd=Hover.inherit({ctor:function(){this._eventNamespace=HOVEREND_NAMESPACE,this._eventName=HOVEREND,this._originalEventName=POINTERLEAVE_NAMESPACED_EVENT_NAME,this.callBase()}});registerEvent$1(HOVERSTART,new HoverStart);registerEvent$1(HOVEREND,new HoverEnd);function setAttribute(t,e,r){t=t==="role"||t==="id"?t:"aria-".concat(t),e=isDefined(e)?e.toString():null,r.attr(t,e)}var Widget$1=DOMComponent$1.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return extend(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=devices$1.real(),e=t.platform,r=t.version;return e==="ios"&&compare$1(r,"13.3")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(t,e){var r=Widget$1.getOptionsFromContainer(e);t&&t.option(r),this._options.cache(e.name,r)},_bindInnerWidgetOptions(t,e){var r=()=>this._options.silent(e,extend({},t.option()));r(),t.on("optionChanged",r)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:t,visible:e}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(t),this._toggleVisibility(e),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:t}=this.option();this.$element().attr("title",t||null)},_renderContent(){deferRender(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:noop,_fireContentReadyAction:deferRenderer(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(t){this.$element().toggleClass("dx-state-invisible",!t),this.setAria("hidden",!t||void 0)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var t=this._focusTarget(),{accessKey:e}=this.option();t.attr("accesskey",e)},_isFocusable(){var{focusStateEnabled:t,disabled:e}=this.option();return t&&!e},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_isFocusTarget:function(t){var e=$(this._focusTarget()).toArray();return e.includes(t)},_getActiveElement(){var t=this._eventBindingTarget();return this._activeStateUnit?t.find(this._activeStateUnit).not(".dx-state-disabled"):t},_renderFocusTarget(){var{tabIndex:t}=this.option();this._focusTarget().attr("tabIndex",t)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(t,!0),excludeValidators:["readOnly"]})({event:t})},_focusOutHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(t,!1),excludeValidators:["readOnly","disabled"]})({event:t})},_updateFocusState(t,e){var{target:r}=t;this._isFocusTarget(r)&&this._toggleFocusClass(e,$(r))},_toggleFocusClass(t,e){var r=e&&e.length?e:this._focusTarget();r.toggleClass("dx-state-focused",t)},_hasFocusClass(t){var e=$(t||this._focusTarget());return e.hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:t,onKeyboardHandled:e}=this.option(),r=this._getKeyboardListeners().length,n=!!e,i=t||r||n;i&&(this._keyboardListenerId=keyboard.on(this._keyboardEventBindingTarget(),this._focusTarget(),a=>this._keyboardHandler(a)))},_keyboardHandler(t,e){if(!e){var{originalEvent:r,keyName:n,which:i}=t,a=this._supportedKeys(r),o=a[n]||a[i];if(o!==void 0){var s=o.bind(this),l=s(r,t);if(!l)return!1}}var u=this._getKeyboardListeners(),{onKeyboardHandled:m}=this.option();return u.forEach(b=>b&&b._keyboardHandler(t)),m&&m(t),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){var t=this._focusTarget();t.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){keyboard.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:t}=this.option(),e=this._activeStateUnit,r=this._eventBindingTarget();hover.off(r,{selector:e,namespace:"UIFeedback"}),t&&hover.on(r,new Action(n=>{var{event:i,element:a}=n;this._hoverStartHandler(i),this.option("hoveredElement",$(a))},{excludeValidators:["readOnly"]}),n=>{this.option("hoveredElement",null),this._hoverEndHandler(n)},{selector:e,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:t}=this.option(),e=this._activeStateUnit,r=this._eventBindingTarget();active.off(r,{namespace:"UIFeedback",selector:e}),t&&active.on(r,new Action(n=>{var{event:i,element:a}=n;return this._toggleActiveState($(a),!0,i)}),new Action(n=>{var{event:i,element:a}=n;return this._toggleActiveState($(a),!1,i)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:e,namespace:"UIFeedback"})},_detachFocusEvents(){var t=this._focusEventTarget();focus.off(t,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){var t=this._focusEventTarget();focus.on(t,e=>this._focusInHandler(e),e=>this._focusOutHandler(e),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(e,r)=>$(r).is(focusable)})},_hoverStartHandler:noop,_hoverEndHandler:noop,_toggleActiveState(t,e){this.option("isActive",e),t.toggleClass("dx-state-active",e)},_updatedHover(){var t=this._options.silent("hoveredElement");this._hover(t,t)},_findHoverTarget(t){return t&&t.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(t,e){var{hoverStateEnabled:r,disabled:n,isActive:i}=this.option();if(e=this._findHoverTarget(e),e&&e.toggleClass("dx-state-hover",!1),t&&r&&!n&&!i){var a=this._findHoverTarget(t);a&&a.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(t){this.$element().toggleClass("dx-state-disabled",Boolean(t)),this.setAria("disabled",t||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(t,e){if(!!this[t]){if(isPlainObject(e[0])){each(e[0],(a,o)=>this._setWidgetOption(t,[a,o]));return}var r=e[0],n=e[1];e.length===1&&(n=this.option(r));var i=this["".concat(t,"OptionMap")];this[t].option(i?i(r):r,n)}},_optionChanged(t){var{name:e,value:r,previousValue:n}=t;switch(e){case"disabled":this._toggleDisabledState(r),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(r,n);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(r),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(r?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(t)}},_isVisible(){var{visible:t}=this.option();return this.callBase()&&t},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(t){if(arguments.length===0)return this._isReady;this._isReady=t},setAria(){if(!isPlainObject(arguments.length<=0?void 0:arguments[0]))setAttribute(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{var t=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();each(arguments.length<=0?void 0:arguments[0],(e,r)=>setAttribute(e,r,t))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){focus.trigger(this._focusTarget())},registerKeyHandler(t,e){var r=this._supportedKeys();this._supportedKeys=()=>extend(r,{[t]:e})}});Widget$1.getOptionsFromContainer=t=>{var{name:e,fullName:r,value:n}=t,i={};if(e===r)i=n;else{var a=r.split(".").pop();i[a]=n}return i};var Widget$2=Widget$1,TRANSLATOR_DATA_KEY="dxTranslator",TRANSFORM_MATRIX_REGEX=/matrix(3d)?\((.+?)\)/,TRANSLATE_REGEX=/translate(?:3d)?\((.+?)\)/,locate=function(t){t=$(t);var e=getTranslate(t);return{left:e.x,top:e.y}};function isPercentValue(t){return type(t)==="string"&&t[t.length-1]==="%"}function cacheTranslate(t,e){t.length&&data(t.get(0),TRANSLATOR_DATA_KEY,e)}var clearCache=function(t){t.length&&removeData(t.get(0),TRANSLATOR_DATA_KEY)},getTranslateCss=function(t){t.x=t.x||0,t.y=t.y||0;var e=isPercentValue(t.x)?t.x:t.x+"px",r=isPercentValue(t.y)?t.y:t.y+"px";return"translate("+e+", "+r+")"},getTranslate=function(t){var e=t.length?data(t.get(0),TRANSLATOR_DATA_KEY):null;if(!e){var r=t.css("transform")||getTranslateCss({x:0,y:0}),n=r.match(TRANSFORM_MATRIX_REGEX),i=n&&n[1];n?(n=n[2].split(","),i==="3d"?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},cacheTranslate(t,e)}return e},move=function(t,e){t=$(t);var r=e.left,n=e.top,i;r===void 0?(i=getTranslate(t),i.y=n||0):n===void 0?(i=getTranslate(t),i.x=r||0):(i={x:r||0,y:n||0,z:0},cacheTranslate(t,i)),t.css({transform:getTranslateCss(i)}),(isPercentValue(r)||isPercentValue(n))&&clearCache(t)},resetPosition=function(t,e){t=$(t);var r,n={left:0,top:0,transform:"none"};e&&(r=t.css("transition"),n.transition="none"),t.css(n),clearCache(t),e&&(t.get(0).offsetHeight,t.css("transition",r))},parseTranslate=function(t){var e=t.match(TRANSLATE_REGEX);if(!(!e||!e[1]))return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])},e},CSS_TRANSITION_EASING_REGEX=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,TransitionTimingFuncMap={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},polynomBezier=function(t,e,r,n){var i=3*t,a=3*(r-t)-i,o=1-i-a,s=3*e,l=3*(n-e)-s,u=1-s-l,m=function(_){return _*(i+_*(a+_*o))},b=function(_){return i+_*(2*a+3*_*o)};return function(_){return function(I){return I*(s+I*(l+I*u))}(function(I){for(var j=I,L=0,z;L<14&&(z=m(j)-I,!(Math.abs(z)<.001));)j-=z/b(j),L++;return j}(_))}},easing={},convertTransitionTimingFuncToEasing=function(t){t=TransitionTimingFuncMap[t]||t;var e=t.match(CSS_TRANSITION_EASING_REGEX),r;e||(r="linear",e=TransitionTimingFuncMap[r].match(CSS_TRANSITION_EASING_REGEX)),e=e.slice(1,5);for(var n=0;n<e.length;n++)e[n]=parseFloat(e[n]);var i=r||"cubicbezier_"+e.join("_").replace(/\./g,"p");return isFunction$2(easing[i])||(easing[i]=function(a,o,s,l,u){return l*polynomBezier(e[0],e[1],e[2],e[3])(o/u)+s}),i};function getEasing(t){return easing[t]}var getDefaultAlignment=t=>{var e=t!=null?t:config$5().rtlEnabled;return e?"right":"left"},getBoundingRect=t=>isWindow(t)?{width:t.outerWidth,height:t.outerHeight}:t.getBoundingClientRect(),window$m=getWindow(),horzRe=/left|right/,vertRe=/top|bottom/,collisionRe=/fit|flip|none/,scaleRe=/scale\(.+?\)/,IS_SAFARI=browser.safari,normalizeAlign=function(t){var e={h:"center",v:"center"},r=splitPair(t);return r&&each(r,function(){var n=String(this).toLowerCase();horzRe.test(n)?e.h=n:vertRe.test(n)&&(e.v=n)}),e},normalizeOffset=function(t){return pairToObject(t)},normalizeCollision=function(t){var e=splitPair(t),r=String(e&&e[0]).toLowerCase(),n=String(e&&e[1]).toLowerCase();return collisionRe.test(r)||(r="none"),collisionRe.test(n)||(n=r),{h:r,v:n}},getAlignFactor=function(t){switch(t){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},inverseAlign=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}},calculateOversize=function(t,e){var r=0;return t.myLocation<e.min&&(r+=e.min-t.myLocation),t.myLocation>e.max&&(r+=t.myLocation-e.max),r},collisionSide=function(t,e,r){return e.myLocation<r.min?t==="h"?"left":"top":e.myLocation>r.max?t==="h"?"right":"bottom":"none"},initMyLocation=function(t){t.myLocation=t.atLocation+getAlignFactor(t.atAlign)*t.atSize-getAlignFactor(t.myAlign)*t.mySize+t.offset},collisionResolvers={fit:function(t,e){var r=!1;t.myLocation>e.max&&(t.myLocation=e.max,r=!0),t.myLocation<e.min&&(t.myLocation=e.min,r=!0),t.fit=r},flip:function(t,e){if(t.flip=!1,!(t.myAlign==="center"&&t.atAlign==="center")&&(t.myLocation<e.min||t.myLocation>e.max)){var r=extend({},t,{myAlign:inverseAlign(t.myAlign),atAlign:inverseAlign(t.atAlign),offset:-t.offset});initMyLocation(r),r.oversize=calculateOversize(r,e),(r.myLocation>=e.min&&r.myLocation<=e.max||t.oversize>r.oversize)&&(t.myLocation=r.myLocation,t.oversize=r.oversize,t.flip=!0)}},flipfit:function(t,e){this.flip(t,e),this.fit(t,e)},none:function(t){t.oversize=0}},scrollbarWidth,calculateScrollbarWidth=function(){var t=$("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo($("body")),e=t.get(0).offsetWidth-t.get(0).clientWidth;t.remove(),scrollbarWidth=e},defaultPositionResult={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},calculatePosition=function(t,e){var r=$(t),n=r.offset(),i=extend(!0,{},defaultPositionResult,{h:{location:n.left},v:{location:n.top}});if(!e)return i;var a=normalizeAlign(e.my),o=normalizeAlign(e.at),s=$(e.of).length&&e.of||window$m,l=normalizeOffset(e.offset),u=normalizeCollision(e.collision),m=e.boundary,b=normalizeOffset(e.boundaryOffset),_={mySize:getOuterWidth(r),myAlign:a.h,atAlign:o.h,offset:l.h,collision:u.h,boundaryOffset:b.h},I={mySize:getOuterHeight(r),myAlign:a.v,atAlign:o.v,offset:l.v,collision:u.v,boundaryOffset:b.v};if(s.preventDefault)_.atLocation=s.pageX,I.atLocation=s.pageY,_.atSize=0,I.atSize=0;else if(s=$(s),isWindow(s[0]))_.atLocation=s.scrollLeft(),I.atLocation=s.scrollTop(),devices$1.real().deviceType==="phone"&&s[0].visualViewport?(_.atLocation=Math.max(_.atLocation,s[0].visualViewport.offsetLeft),I.atLocation=Math.max(I.atLocation,s[0].visualViewport.offsetTop),_.atSize=s[0].visualViewport.width,I.atSize=s[0].visualViewport.height):(_.atSize=s[0].innerWidth>s[0].outerWidth?s[0].innerWidth:getWidth(s),I.atSize=s[0].innerHeight>s[0].outerHeight||IS_SAFARI?s[0].innerHeight:getHeight(s));else if(s[0].nodeType===9)_.atLocation=0,I.atLocation=0,_.atSize=getWidth(s),I.atSize=getHeight(s);else{var j=getBoundingRect(s.get(0)),L=getOffsetWithoutScale(s);_.atLocation=L.left,I.atLocation=L.top,_.atSize=Math.max(j.width,getOuterWidth(s)),I.atSize=Math.max(j.height,getOuterHeight(s))}initMyLocation(_),initMyLocation(I);var z=function(){var R=$(window$m),w=getWidth(R),k=getHeight(R),A=R.scrollLeft(),D=R.scrollTop(),P=domAdapter.getDocumentElement(),T=touch?P.clientWidth/w:1,x=touch?P.clientHeight/k:1;scrollbarWidth===void 0&&calculateScrollbarWidth();var g=w,f=k;if(m){var d=$(m),v=d.offset();A=v.left,D=v.top,g=getWidth(d),f=getHeight(d)}return{h:{min:A+_.boundaryOffset,max:A+g/T-_.mySize-_.boundaryOffset},v:{min:D+I.boundaryOffset,max:D+f/x-I.mySize-I.boundaryOffset}}}();_.oversize=calculateOversize(_,z.h),I.oversize=calculateOversize(I,z.v),_.collisionSide=collisionSide("h",_,z.h),I.collisionSide=collisionSide("v",I,z.v),collisionResolvers[_.collision]&&collisionResolvers[_.collision](_,z.h),collisionResolvers[I.collision]&&collisionResolvers[I.collision](I,z.v);var M=function(R){return e.precise?R:Math.round(R)};return extend(!0,i,{h:{location:M(_.myLocation),oversize:M(_.oversize),fit:_.fit,flip:_.flip,collisionSide:_.collisionSide},v:{location:M(I.myLocation),oversize:M(I.oversize),fit:I.fit,flip:I.flip,collisionSide:I.collisionSide},precise:e.precise}),i},setScaleProperty=function(t,e,r,n,i){var a=isDefined(t.style)&&!domAdapter.isNode(t.style);a?t.style.transform=i?r.replace(e,""):r:t.setAttribute("style",i?n.replace(e,""):n)},getOffsetWithoutScale=function t(e){var r,n,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=a.get(0);if(!o)return e.offset();var s=((r=o.getAttribute)===null||r===void 0?void 0:r.call(o,"style"))||"",l=(n=o.style)===null||n===void 0?void 0:n.transform,u=(i=s.match(scaleRe))===null||i===void 0?void 0:i[0],m;return u?(setScaleProperty(o,u,l,s,!0),m=t(e,a.parent()),setScaleProperty(o,u,l,s,!1)):m=t(e,a.parent()),m},position=function(t,e){var r=$(t);if(!e)return r.offset();resetPosition(r,!0);var n=getOffsetWithoutScale(r),i=e.h&&e.v?e:calculatePosition(r,e),a=function(o){return e.precise?o:Math.round(o)};return move(r,{left:i.h.location-a(n.left),top:i.v.location-a(n.top)}),i},offset=function(t){return t=$(t).get(0),isWindow(t)?null:t&&"pageY"in t&&"pageX"in t?{top:t.pageY,left:t.pageX}:$(t).offset()};position.inverseAlign||(position.inverseAlign=inverseAlign);position.normalizeAlign||(position.normalizeAlign=normalizeAlign);var positionUtils={calculateScrollbarWidth,calculate:calculatePosition,setup:position,offset},window$l=getWindow(),removeEventName=addNamespace$1(removeEvent,"dxFX"),RELATIVE_VALUE_REGEX=/^([+-])=(.*)/i,ANIM_DATA_KEY="dxAnimData",ANIM_QUEUE_KEY="dxAnimQueue",TRANSFORM_PROP="transform",TransitionAnimationStrategy={initAnimation:function(t,e){t.css({transitionProperty:"none"}),typeof e.from=="string"?t.addClass(e.from):setProps(t,e.from);var r=this,n=new Deferred,i=e.cleanupWhen;e.transitionAnimation={deferred:n,finish:function(){r._finishTransition(t),i?when(n,i).always(function(){r._cleanup(t,e)}):r._cleanup(t,e),n.resolveWith(t,[e,t])}},this._completeAnimationCallback(t,e).done(function(){e.transitionAnimation.finish()}).fail(function(){n.rejectWith(t,[e,t])}),e.duration||e.transitionAnimation.finish(),t.css("transform")},animate:function(t,e){return this._startAnimation(t,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(t,e){var r=this,n=Date.now()+e.delay,i=new Deferred,a=new Deferred,o=new Deferred,s,l=transitionEndEventName()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(s),clearTimeout(u),eventsEngine$1.off(t,l),eventsEngine$1.off(t,removeEventName)},eventsEngine$1.one(t,l,function(){Date.now()-n>=e.duration&&a.reject()}),eventsEngine$1.off(t,removeEventName),eventsEngine$1.on(t,removeEventName,function(){r.stop(t,e),i.reject()});var u=setTimeout(function(){s=setTimeout(function(){o.reject()},e.duration+e.delay+fx._simulatedTransitionEndDelay),when(a,o).fail(function(){i.resolve()}.bind(this))});return i.promise()},_startAnimation:function(t,e){t.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),typeof e.to=="string"?t[0].className+=" "+e.to:e.to&&setProps(t,e.to)},_finishTransition:function(t){t.css("transition","none")},_cleanup:function(t,e){e.transitionAnimation.cleanup(),typeof e.from=="string"&&(t.removeClass(e.from),t.removeClass(e.to))},stop:function(t,e,r){!e||(r?e.transitionAnimation.finish():(isPlainObject(e.to)&&each(e.to,function(n){t.css(n,t.css(n))}),this._finishTransition(t),this._cleanup(t,e)))}},FrameAnimationStrategy={initAnimation:function(t,e){setProps(t,e.from)},animate:function(t,e){var r=new Deferred,n=this;return e?(each(e.to,function(i){e.from[i]===void 0&&(e.from[i]=n._normalizeValue(t.css(i)))}),e.to[TRANSFORM_PROP]&&(e.from[TRANSFORM_PROP]=n._parseTransform(e.from[TRANSFORM_PROP]),e.to[TRANSFORM_PROP]=n._parseTransform(e.to[TRANSFORM_PROP])),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:convertTransitionTimingFuncToEasing(e.easing),duration:e.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),cancelAnimationFrame(e.frameAnimation.animationFrameId),r.resolve()},draw:function(){if(e.draw){e.draw(this.currentValue);return}var i=extend({},this.currentValue);i[TRANSFORM_PROP]&&(i[TRANSFORM_PROP]=map(i[TRANSFORM_PROP],function(a,o){if(o==="translate")return getTranslateCss(a);if(o==="scale")return"scale("+a+")";if(o.substr(0,o.length-1)==="rotate")return o+"("+a+"deg)"}).join(" ")),t.css(i)}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout(function(){n._startAnimation(t,e)},e.delay)):n._startAnimation(t,e),r.promise()):r.reject().promise()},_startAnimation:function(t,e){eventsEngine$1.off(t,removeEventName),eventsEngine$1.on(t,removeEventName,function(){e.frameAnimation&&cancelAnimationFrame(e.frameAnimation.animationFrameId)}),this._animationStep(t,e)},_parseTransform:function(t){var e={};return each(t.match(/\w+\d*\w*\([^)]*\)\s*/g),function(r,n){var i=parseTranslate(n),a=n.match(/scale\((.+?)\)/),o=n.match(/(rotate.)\((.+)deg\)/);i&&(e.translate=i),a&&a[1]&&(e.scale=parseFloat(a[1])),o&&o[1]&&(e[o[1]]=parseFloat(o[2]))}),e},stop:function(t,e,r){var n=e&&e.frameAnimation;!n||(cancelAnimationFrame(n.animationFrameId),clearTimeout(n.delayTimeout),r&&n.finish(),delete e.frameAnimation)},_animationStep:function(t,e){var r=e&&e.frameAnimation;if(!!r){var n=new Date().valueOf();if(n>=r.startTime+r.duration){r.finish();return}r.currentValue=this._calcStepValue(r,n-r.startTime),r.draw();var i=this;r.animationFrameId=requestAnimationFrame(function(){i._animationStep(t,e)})}},_calcStepValue:function(t,e){return function r(n,i){var a=Array.isArray(i)?[]:{};return each(i,function(o,s){if(typeof s=="string"&&parseFloat(s,10)===!1)return!0;a[o]=typeof s=="object"?r(n[o],s):function(l){var u=e/t.duration,m=e,b=1*n[l],_=i[l]-n[l],I=t.duration;return getEasing(t.easing)(u,m,b,_,I)}(o)}),a}(t.from,t.to)},_normalizeValue:function(t){var e=parseFloat(t,10);return e===!1?t:e}},FallbackToNoAnimationStrategy={initAnimation:function(){},animate:function(){return new Deferred().resolve().promise()},stop:noop,isSynchronous:!0},getAnimationStrategy=function(t){t=t||{};var e={transition:transition()?TransitionAnimationStrategy:FrameAnimationStrategy,frame:FrameAnimationStrategy,noAnimation:FallbackToNoAnimationStrategy},r=t.strategy||"transition";return t.type==="css"&&!transition()&&(r="noAnimation"),e[r]},baseConfigValidator=function(t,e,r,n){each(["from","to"],function(){if(!r(t[this]))throw errors$3.Error("E0010",e,this,n)})},isObjectConfigValidator=function(t,e){return baseConfigValidator(t,e,function(r){return isPlainObject(r)},"a plain object")},isStringConfigValidator=function(t,e){return baseConfigValidator(t,e,function(r){return typeof r=="string"},"a string")},CustomAnimationConfigurator={setup:function(){}},CssAnimationConfigurator={validateConfig:function(t){isStringConfigValidator(t,"css")},setup:function(){}},positionAliases={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},SlideAnimationConfigurator={validateConfig:function(t){isObjectConfigValidator(t,"slide")},setup:function(t,e){var r=locate(t);if(e.type!=="slide"){var n=e.type==="slideIn"?e.from:e.to;n.position=extend({of:window$l},positionAliases[e.direction]),setupPosition(t,n)}this._setUpConfig(r,e.from),this._setUpConfig(r,e.to),clearCache(t)},_setUpConfig:function(t,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(t,e)},_initNewPosition:function(t,e){var r={left:e.left,top:e.top};delete e.left,delete e.top;var n=this._getRelativeValue(r.left);n!==void 0?r.left=n+t.left:e.left=0,n=this._getRelativeValue(r.top),n!==void 0?r.top=n+t.top:e.top=0,e[TRANSFORM_PROP]=getTranslateCss({x:r.left,y:r.top})},_getRelativeValue:function(t){var e;if(typeof t=="string"&&(e=RELATIVE_VALUE_REGEX.exec(t)))return parseInt(e[1]+"1")*e[2]}},FadeAnimationConfigurator={setup:function(t,e){var r,n,i=e.from,a=e.to,o=e.type==="fadeOut"?1:0,s=e.type==="fadeOut"?0:1,l=isPlainObject(i)?String((r=i.opacity)!==null&&r!==void 0?r:o):String(i),u=isPlainObject(a)?String((n=a.opacity)!==null&&n!==void 0?n:s):String(a);switch(e.skipElementInitialStyles||(l=t.css("opacity")),e.type){case"fadeIn":u=1;break;case"fadeOut":u=0}e.from={visibility:"visible",opacity:l},e.to={opacity:u}}},PopAnimationConfigurator={validateConfig:function(t){isObjectConfigValidator(t,"pop")},setup:function(t,e){var r=e.from,n=e.to,i="opacity"in r?r.opacity:t.css("opacity"),a="opacity"in n?n.opacity:1,o="scale"in r?r.scale:0,s="scale"in n?n.scale:1;e.from={opacity:i};var l=getTranslate(t);e.from[TRANSFORM_PROP]=this._getCssTransform(l,o),e.to={opacity:a},e.to[TRANSFORM_PROP]=this._getCssTransform(l,s)},_getCssTransform:function(t,e){return getTranslateCss(t)+"scale("+e+")"}},animationConfigurators={custom:CustomAnimationConfigurator,slide:SlideAnimationConfigurator,slideIn:SlideAnimationConfigurator,slideOut:SlideAnimationConfigurator,fade:FadeAnimationConfigurator,fadeIn:FadeAnimationConfigurator,fadeOut:FadeAnimationConfigurator,pop:PopAnimationConfigurator,css:CssAnimationConfigurator},getAnimationConfigurator=function(t){var e=animationConfigurators[t.type];if(!e)throw errors$3.Error("E0011",t.type);return e},defaultJSConfig={type:"custom",from:{},to:{},duration:400,start:noop,complete:noop,easing:"ease",delay:0},defaultCssConfig={duration:400,easing:"ease",delay:0};function setupAnimationOnElement(){var t=this.element,e=this.config;if(setupPosition(t,e.from),setupPosition(t,e.to),this.configurator.setup(t,e),t.data(ANIM_DATA_KEY,this),this.strategy.initAnimation(t,e),e.start){var r=getPublicElement(t);e.start.apply(this,[r,e])}}var onElementAnimationComplete=function(t){var e=t.element,r=t.config;if(e.removeData(ANIM_DATA_KEY),r.complete){var n=getPublicElement(e);r.complete.apply(this,[n,r])}t.deferred.resolveWith(this,[e,r])},startAnimationOnElement=function(){var t=this,e=t.element,r=t.config;return t.isStarted=!0,t.strategy.animate(e,r).done(function(){onElementAnimationComplete(t)}).fail(function(){t.deferred.rejectWith(this,[e,r])})},stopAnimationOnElement=function(t){var e=this.element,r=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(e,r,t)},scopedRemoveEvent=addNamespace$1(removeEvent,"dxFXStartAnimation"),subscribeToRemoveEvent=function(t){eventsEngine$1.off(t.element,scopedRemoveEvent),eventsEngine$1.on(t.element,scopedRemoveEvent,function(){fx.stop(t.element)}),t.deferred.always(function(){eventsEngine$1.off(t.element,scopedRemoveEvent)})},createAnimation=function(t,e){var r=e.type==="css"?defaultCssConfig:defaultJSConfig,n=extend(!0,{},r,e),i=getAnimationConfigurator(n),a=getAnimationStrategy(n),o={element:$(t),config:n,configurator:i,strategy:a,isSynchronous:a.isSynchronous,setup:setupAnimationOnElement,start:startAnimationOnElement,stop:stopAnimationOnElement,deferred:new Deferred};return isFunction$2(i.validateConfig)&&i.validateConfig(n),subscribeToRemoveEvent(o),o},animate=function(t,e){var r=$(t);if(!r.length)return new Deferred().resolve().promise();var n=createAnimation(r,e);return pushInAnimationQueue(r,n),n.deferred.promise()};function pushInAnimationQueue(t,e){var r=getAnimQueueData(t);writeAnimQueueData(t,r),r.push(e),isAnimating(t)||shiftFromAnimationQueue(t,r)}function getAnimQueueData(t){return t.data(ANIM_QUEUE_KEY)||[]}function writeAnimQueueData(t,e){t.data(ANIM_QUEUE_KEY,e)}var destroyAnimQueueData=function(t){t.removeData(ANIM_QUEUE_KEY)};function isAnimating(t){return!!t.data(ANIM_DATA_KEY)}function shiftFromAnimationQueue(t,e){if(e=getAnimQueueData(t),!!e.length){var r=e.shift();e.length===0&&destroyAnimQueueData(t),executeAnimation(r).done(function(){isAnimating(t)||shiftFromAnimationQueue(t)})}}function executeAnimation(t){return t.setup(),t.isSynchronous?t.start():t.startTimeout=setTimeout(function(){t.start()}),t.deferred.promise()}function setupPosition(t,e){if(!(!e||!e.position)){var r=$(window$l),n=0,i=0,a=positionUtils.calculate(t,e.position),o=t.offset(),s=t.position();s.top>o.top&&(i=r.scrollTop()),s.left>o.left&&(n=r.scrollLeft()),extend(e,{left:a.h.location-o.left+s.left-n,top:a.v.location-o.top+s.top-i}),delete e.position}}function setProps(t,e){each(e,function(r,n){try{t.css(r,isFunction$2(n)?n():n)}catch{}})}var stop=function(t,e){var r=$(t),n=getAnimQueueData(r);each(n,function(a,o){o.config.delay=0,o.config.duration=0,o.isSynchronous=!0}),isAnimating(r)||shiftFromAnimationQueue(r,n);var i=r.data(ANIM_DATA_KEY);i&&i.stop(e),r.removeData(ANIM_DATA_KEY),destroyAnimQueueData(r)},fx={off:!1,animationTypes:animationConfigurators,animate,createAnimation,isAnimating,stop,_simulatedTransitionEndDelay:100},fx$1=fx,sign=function(t){return t===0?0:t/Math.abs(t)},fitIntoRange=function(t,e,r){var n=!e&&e!==0,i=!r&&r!==0;return n&&(e=i?t:Math.min(t,r)),i&&(r=n?t:Math.max(t,e)),Math.min(Math.max(t,e),r)},inRange=function(t,e,r){return t>=e&&t<=r};function getExponent(t){return Math.abs(parseInt(t.toExponential().split("e")[1]))}function getExponentialNotation(t){var e=t.toExponential().split("e"),r=parseFloat(e[0]),n=parseInt(e[1]);return{exponent:n,mantissa:r}}function multiplyInExponentialForm(t,e){var r=getExponentialNotation(t);return parseFloat("".concat(r.mantissa,"e").concat(r.exponent+e))}function _isEdgeBug(){return 3e-4 .toPrecision(3)!=="0.000300"}function adjust(t,e){var r=getPrecision(e||0)+2,n=t.toString().split("."),i=t,a=Math.abs(t),o,s=isExponential(t),l=a>1?10:0;return n.length===1?t:(s||(isExponential(e)&&(r=n[0].length+getExponent(e)),t=a,t=t-Math.floor(t)+l),r=_isEdgeBug()&&getExponent(t)>6||r>7?15:7,!s&&(o=parseFloat(t.toPrecision(r)).toString().split("."),o[0]===l.toString())?parseFloat(n[0]+"."+o[1]):parseFloat(i.toPrecision(r)))}function getPrecision(t){var e=t.toString();if(e.indexOf(".")<0)return 0;var r=e.split("."),n=r[1].indexOf("e");return n>=0?n:r[1].length}var ready$4=readyCallback.add,abs$1=Math.abs,SLEEP=0,INITED=1,STARTED=2,TOUCH_BOUNDARY$1=10,IMMEDIATE_TOUCH_BOUNDARY=0,IMMEDIATE_TIMEOUT=180,supportPointerEvents=function(){return styleProp("pointer-events")},setGestureCover=callOnce$1(function(){var t=devices$1.real().deviceType==="desktop";if(!supportPointerEvents()||!t)return noop;var e=$("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return eventsEngine$1.subscribeGlobal(e,"dxmousewheel",function(r){r.preventDefault()}),ready$4(function(){e.appendTo("body")}),function(r,n){e.css("pointerEvents",r?"all":"none"),r&&e.css("cursor",n)}}),gestureCover=function(t,e){var r=setGestureCover();r(t,e)},GestureEmitter=Emitter$1.inherit({gesture:!0,configure:function(t){this.getElement().css("msTouchAction",t.immediate?"pinch-zoom":""),this.callBase(t)},allowInterruptionByMouseWheel:function(){return this._stage!==STARTED},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=SLEEP},start:function(t){if(t._needSkipEvent||needSkipEvent(t)){this._cancel(t);return}this._startEvent=createEvent(t),this._startEventData=eventData(t),this._stage=INITED,this._init(t),this._setupImmediateTimer()},_setupImmediateTimer:function(){clearTimeout(this._immediateTimer),this._immediateAccepted=!1,this.immediate&&(this._immediateTimer=setTimeout(function(){this._immediateAccepted=!0}.bind(this),IMMEDIATE_TIMEOUT))},move:function(t){if(this._stage===INITED&&this._directionConfirmed(t)){if(this._stage=STARTED,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(t),this._adjustStartEvent(t),this._start(this._startEvent),this._stage===SLEEP)return;this._requestAccept(t),this._move(t),this._forgetAccept()}else this._stage===STARTED&&(this._clearSelection(t),this._move(t))},_directionConfirmed:function(t){var e=this._getTouchBoundary(t),r=eventDelta(this._startEventData,eventData(t)),n=abs$1(r.x),i=abs$1(r.y),a=this._validateMove(e,n,i),o=this._validateMove(e,i,n),s=this.getDirection(t),l=s==="both"&&(a||o),u=s==="horizontal"&&a,m=s==="vertical"&&o;return l||u||m||this._immediateAccepted},_validateMove:function(t,e,r){return e&&e>=t&&(this.immediate?e>=r:!0)},_getTouchBoundary:function(t){return this.immediate||isDxMouseWheelEvent(t)?IMMEDIATE_TOUCH_BOUNDARY:TOUCH_BOUNDARY$1},_adjustStartEvent:function(t){var e=this._getTouchBoundary(t),r=eventDelta(this._startEventData,eventData(t));this._startEvent.pageX+=sign(r.x)*e,this._startEvent.pageY+=sign(r.y)*e},_resetActiveElement:function(){devices$1.real().platform==="ios"&&this.getElement().find(":focus").length&&resetActiveElement()},_toggleGestureCover:function(t){this._toggleGestureCoverImpl(t)},_toggleGestureCoverImpl:function(t){var e=this._stage===STARTED;e&&gestureCover(t,this.getElement().css("cursor"))},_clearSelection:function(t){isDxMouseWheelEvent(t)||isTouchEvent(t)||clearSelection()},end:function(t){this._toggleGestureCover(!1),this._stage===STARTED?this._end(t):this._stage===INITED&&this._stop(t),this._stage=SLEEP},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:noop,_start:noop,_move:noop,_stop:noop,_end:noop});GestureEmitter.initialTouchBoundary=TOUCH_BOUNDARY$1;GestureEmitter.touchBoundary=function(t){if(isDefined(t)){TOUCH_BOUNDARY$1=t;return}return TOUCH_BOUNDARY$1};var GestureEmitter$1=GestureEmitter,DRAG_START_EVENT="dxdragstart",DRAG_EVENT="dxdrag",DRAG_END_EVENT="dxdragend",DRAG_ENTER_EVENT="dxdragenter",DRAG_LEAVE_EVENT="dxdragleave",DROP_EVENT="dxdrop",DX_DRAG_EVENTS_COUNT_KEY="dxDragEventsCount",knownDropTargets=[],knownDropTargetSelectors=[],knownDropTargetConfigs=[],dropTargetRegistration={setup:function(t,e){var r=knownDropTargets.includes(t);r||(knownDropTargets.push(t),knownDropTargetSelectors.push([]),knownDropTargetConfigs.push(e||{}))},add:function(t,e){var r=knownDropTargets.indexOf(t);this.updateEventsCounter(t,e.type,1);var n=e.selector;knownDropTargetSelectors[r].includes(n)||knownDropTargetSelectors[r].push(n)},updateEventsCounter:function(t,e,r){if([DRAG_ENTER_EVENT,DRAG_LEAVE_EVENT,DROP_EVENT].indexOf(e)>-1){var n=data(t,DX_DRAG_EVENTS_COUNT_KEY)||0;data(t,DX_DRAG_EVENTS_COUNT_KEY,Math.max(0,n+r))}},remove:function(t,e){this.updateEventsCounter(t,e.type,-1)},teardown:function(t){var e=data(t,DX_DRAG_EVENTS_COUNT_KEY);if(!e){var r=knownDropTargets.indexOf(t);knownDropTargets.splice(r,1),knownDropTargetSelectors.splice(r,1),knownDropTargetConfigs.splice(r,1),removeData(t,DX_DRAG_EVENTS_COUNT_KEY)}}};registerEvent$1(DRAG_ENTER_EVENT,dropTargetRegistration);registerEvent$1(DRAG_LEAVE_EVENT,dropTargetRegistration);registerEvent$1(DROP_EVENT,dropTargetRegistration);var getItemDelegatedTargets=function(t){var e=knownDropTargets.indexOf(t.get(0)),r=knownDropTargetSelectors[e].filter(i=>i),n=t.find(r.join(", "));return knownDropTargetSelectors[e].includes(void 0)&&(n=n.add(t)),n},getItemConfig=function(t){var e=knownDropTargets.indexOf(t.get(0));return knownDropTargetConfigs[e]},getItemPosition=function(t,e){return t.itemPositionFunc?t.itemPositionFunc(e):e.offset()},getItemSize=function(t,e){return t.itemSizeFunc?t.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},DragEmitter=GestureEmitter$1.inherit({ctor:function(t){this.callBase(t),this.direction="both"},_init:function(t){this._initEvent=t},_start:function(t){if(t=this._fireEvent(DRAG_START_EVENT,this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset,t.targetElements||t.targetElements===null){var e=wrapToArray(t.targetElements||[]);this._dropTargets=map(e,function(r){return $(r).get(0)})}else this._dropTargets=knownDropTargets},_move:function(t){var e=eventData(t),r=this._calculateOffset(e);t=this._fireEvent(DRAG_EVENT,t,{offset:r}),this._processDropTargets(t),t._cancelPreventDefault||t.preventDefault()},_calculateOffset:function(t){return{x:this._calculateXOffset(t),y:this._calculateYOffset(t)}},_calculateXOffset:function(t){if(this.direction!=="vertical"){var e=t.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(t){if(this.direction!=="horizontal"){var e=t.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(t,e,r){return e!=null&&(t=Math.max(t,-e)),r!=null&&(t=Math.min(t,r)),t},_processDropTargets:function(t){var e=this._findDropTarget(t),r=e===this._currentDropTarget;r||(this._fireDropTargetEvent(t,DRAG_LEAVE_EVENT),this._currentDropTarget=e,this._fireDropTargetEvent(t,DRAG_ENTER_EVENT))},_fireDropTargetEvent:function(t,e){if(!!this._currentDropTarget){var r={type:e,originalEvent:t,draggingElement:this._$element.get(0),target:this._currentDropTarget};fireEvent(r)}},_findDropTarget:function(t){var e=this,r;return each(knownDropTargets,function(n,i){if(!!e._checkDropTargetActive(i)){var a=$(i);each(getItemDelegatedTargets(a),function(o,s){var l=$(s);e._checkDropTarget(getItemConfig(a),l,$(r),t)&&(r=s)})}}),r},_checkDropTargetActive:function(t){var e=!1;return each(this._dropTargets,function(r,n){return e=e||n===t||contains(n,t),!e}),e},_checkDropTarget:function(t,e,r,n){var i=e.get(0)===$(n.target).get(0);if(i)return!1;var a=getItemPosition(t,e);if(n.pageX<a.left||n.pageY<a.top)return!1;var o=getItemSize(t,e);return n.pageX>a.left+o.width||n.pageY>a.top+o.height||r.length&&r.closest(e).length||t.checkDropTarget&&!t.checkDropTarget(e,n)?!1:e},_end:function(t){var e=eventData(t);this._fireEvent(DRAG_END_EVENT,t,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(t,DROP_EVENT),delete this._currentDropTarget}});registerEmitter$1({emitter:DragEmitter,events:[DRAG_START_EVENT,DRAG_EVENT,DRAG_END_EVENT]});var hideCallback=function(){var t=[];return{add:function(e){t.includes(e)||t.push(e)},remove:function(e){var r=t.indexOf(e);r!==-1&&t.splice(r,1)},fire:function(){var e=t.pop(),r=!!e;return r&&e(),r},hasCallback:function(){return t.length>0}}}(),baseZIndex=1500,zIndexStack=[],base=t=>(baseZIndex=ensureDefined(t,baseZIndex),baseZIndex),create=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:baseZIndex,e=zIndexStack.length,r=(e?zIndexStack[e-1]:t)+1;return zIndexStack.push(r),r},remove$3=t=>{var e=zIndexStack.indexOf(t);e>=0&&zIndexStack.splice(e,1)},isLastZIndexInStack=t=>zIndexStack.length&&zIndexStack[zIndexStack.length-1]===t,SWATCH_CONTAINER_CLASS_PREFIX="dx-swatch-",getSwatchContainer=t=>{var e=$(t),r=e.closest('[class^="'.concat(SWATCH_CONTAINER_CLASS_PREFIX,'"], [class*=" ').concat(SWATCH_CONTAINER_CLASS_PREFIX,'"]')),n=value();if(!r.length)return n;var i=new RegExp("(\\s|^)(".concat(SWATCH_CONTAINER_CLASS_PREFIX,".*?)(\\s|$)")),a=r[0].className.match(i)[2],o=n.children("."+a);return o.length||(o=$("<div>").addClass(a).appendTo(n)),o},swatchContainer={getSwatchContainer},window$k=getWindow(),OVERLAY_POSITION_ALIASES={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},OVERLAY_DEFAULT_BOUNDARY_OFFSET={h:0,v:0};class OverlayPositionController{constructor(e){var{position:r,container:n,visualContainer:i,$root:a,$content:o,$wrapper:s,onPositioned:l,onVisualPositionChanged:u,restorePosition:m,_fixWrapperPosition:b}=e;this._props={position:r,container:n,visualContainer:i,restorePosition:m,onPositioned:l,onVisualPositionChanged:u,_fixWrapperPosition:b},this._$root=a,this._$content=o,this._$wrapper=s,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(n),this.updatePosition(r),this.updateVisualContainer(i)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(e){this._props._fixWrapperPosition=e,this.styleWrapperPosition()}set restorePosition(e){this._props.restorePosition=e}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){var e=this._props.restorePosition;this.restorePositionOnNextRender(e)}updatePosition(e){this._props.position=e,this._position=this._normalizePosition(e),this.updateVisualContainer()}updateContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.container;this._props.container=e,this._$markupContainer=e?$(e):swatchContainer.getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.visualContainer;this._props.visualContainer=e,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(move(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&positionUtils.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var e=isWindow(this.$visualContainer.get(0))||this._props._fixWrapperPosition,r=e?"fixed":"absolute";this._$wrapper.css("position",r)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=locate(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),resetPosition(this._$content);var e=this._$wrapper.css("overflow");this._$wrapper.css("overflow","hidden");var r=positionUtils.setup(this._$content,this._position);this._$wrapper.css("overflow",e),this._initialPosition=r,this.detectVisualPositionChange()}_raisePositionedEvents(e){var r=this._previousVisualPosition,n=this._visualPosition,i=(r==null?void 0:r.top)!==n.top||(r==null?void 0:r.left)!==n.left;i&&this._props.onVisualPositionChanged({previousPosition:r,position:n,event:e}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){var e,r=(e=this._position)!==null&&e!==void 0?e:{boundaryOffset:OVERLAY_DEFAULT_BOUNDARY_OFFSET};this._$content.css("margin","".concat(r.v,"px ").concat(r.h,"px"))}_getVisualContainer(){var e,r,n=this._props.container,i=this._props.visualContainer,a=isEvent((e=this._props.position)===null||e===void 0?void 0:e.of)?this._props.position.of.target:(r=this._props.position)===null||r===void 0?void 0:r.of;return $(i||n||a||window$k)}_normalizePosition(e){var r={boundaryOffset:OVERLAY_DEFAULT_BOUNDARY_OFFSET};return isDefined(e)?extend(!0,{},r,this._positionToObject(e)):r}_positionToObject(e){return isString$2(e)?extend({},OVERLAY_POSITION_ALIASES[e]):e}}var ready$3=readyCallback.add,window$j=getWindow(),viewPortChanged$1=changeCallback,OVERLAY_CLASS="dx-overlay",OVERLAY_WRAPPER_CLASS="dx-overlay-wrapper",OVERLAY_CONTENT_CLASS$1="dx-overlay-content",OVERLAY_SHADER_CLASS="dx-overlay-shader",INNER_OVERLAY_CLASS="dx-inner-overlay",INVISIBLE_STATE_CLASS$3="dx-state-invisible",ANONYMOUS_TEMPLATE_NAME$2="content",RTL_DIRECTION_CLASS="dx-rtl",OVERLAY_STACK=[],PREVENT_SAFARI_SCROLLING_CLASS="dx-prevent-safari-scrolling",TAB_KEY="tab";ready$3(()=>{eventsEngine$1.subscribeGlobal(domAdapter.getDocument(),pointerEvents.down,t=>{for(var e=OVERLAY_STACK.length-1;e>=0;e--)if(!OVERLAY_STACK[e]._proxiedDocumentDownHandler(t))return})});var Overlay=Widget$2.inherit({_supportedKeys:function(){return extend(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){return extend(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:extend({},OVERLAY_POSITION_ALIASES.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,to:{opacity:0,scale:.55},from:{opacity:1,scale:1}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!hasWindow()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),extend(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),extend(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(t,e){this.callBase(t,e),e&&(e.copyRootClassesToWrapper&&!e._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),e.elementAttr&&!e._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}))},_init:function(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=$("<div>").addClass(OVERLAY_WRAPPER_CLASS),this._$content=$("<div>").addClass(OVERLAY_CONTENT_CLASS$1),this._initInnerOverlayClass();var t=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(t.attr("class")),t.addClass(OVERLAY_CLASS),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:e=>{this._hideOnParentsScrollHandler(e)}},this.warnPositionAsFunction()},warnPositionAsFunction(){isFunction$2(this.option("position"))&&errors$3.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass(INNER_OVERLAY_CLASS,this.option("innerOverlay"))},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){this._actions={};var t=this._getActionsList();each(t,(e,r)=>{this._actions[r]=this._createActionByOption(r,{excludeValidators:["disabled","readOnly"]})||noop})},_initHideOnOutsideClickHandler:function(){var t=this;this._proxiedDocumentDownHandler=function(){return t._documentDownHandler(...arguments)}},_areContentDimensionsRendered:function(t){var e,r,n,i=(e=t.contentBoxSize)===null||e===void 0?void 0:e[0];if(i){var a,o;return parseInt(i.inlineSize,10)===((a=this._renderedDimensions)===null||a===void 0?void 0:a.width)&&parseInt(i.blockSize,10)===((o=this._renderedDimensions)===null||o===void 0?void 0:o.height)}var s=t.contentRect;return parseInt(s.width,10)===((r=this._renderedDimensions)===null||r===void 0?void 0:r.width)&&parseInt(s.height,10)===((n=this._renderedDimensions)===null||n===void 0?void 0:n.height)},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(t){this._showAnimationProcessing&&this._stopAnimation();var e=$(window$j.document).is(t.target)||contains(window$j.document,t.target),r=$(t.target).closest(".".concat(INNER_OVERLAY_CLASS)).length,n=e&&!r&&!(this._$content.is(t.target)||contains(this._$content.get(0),t.target));return n&&this._shouldHideOnOutsideClick(t)&&this._outsideClickHandler(t),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(t){var{hideOnOutsideClick:e}=this.option();return isFunction$2(e)?e(t):e},_outsideClickHandler(t){this.option("shading")&&t.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return ANONYMOUS_TEMPLATE_NAME$2},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new EmptyTemplate}),this.callBase()},_isTopOverlay:function(){for(var t=this._overlayStack(),e=t.length-1;e>=0;e--){var r=t[e]._findTabbableBounds();if(r.first||r.last)return t[e]===this}return!1},_overlayStack:function(){return OVERLAY_STACK},_zIndexInitValue:function(){return Overlay.baseZIndex()},_toggleViewPortSubscription:function(t){var e=this;viewPortChanged$1.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=function(){e._viewPortChangeHandler(...arguments)},viewPortChanged$1.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:t}=this.option(),e=extend({},t),r=e.class;delete e.class,this.$wrapper().attr(e).removeClass(this._customWrapperClass).addClass(r),this._customWrapperClass=r},_renderVisibilityAnimate:function(t){return this._stopAnimation(),t?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_animateShowing:function(){var t,e,r,n=this,i=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},a=this._normalizeAnimation(i.show,"to"),o=(e=a==null?void 0:a.start)!==null&&e!==void 0?e:noop,s=(r=a==null?void 0:a.complete)!==null&&r!==void 0?r:noop;this._animate(a,function(){if(!n._isAnimationPaused){n.option("focusStateEnabled")&&eventsEngine$1.trigger(n._focusTarget(),"focus");for(var l=arguments.length,u=new Array(l),m=0;m<l;m++)u[m]=arguments[m];s.call(n,...u),n._showAnimationProcessing=!1,n._isHidden=!1,n._actions.onShown(),n._toggleSafariScrolling(),n._showingDeferred.resolve()}},function(){if(!n._isAnimationPaused){for(var l=arguments.length,u=new Array(l),m=0;m<l;m++)u[m]=arguments[m];o.call(n,...u),n._showAnimationProcessing=!0}})},_show:function(){if(this._showingDeferred=new Deferred,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return new Deferred().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.resolve();else{var t=()=>{this._stopAnimation(),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass(INVISIBLE_STATE_CLASS$3,!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();var e={cancel:!1};this._actions.onShowing(e),e.cancel?(this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass(INVISIBLE_STATE_CLASS$3,!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this.option("visible",!1),this._showingDeferred.resolve()):(this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing())};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(t)):t()}return this._showingDeferred.promise()},_normalizeAnimation:function(t,e){return t&&(t=extend({type:"slide",skipElementInitialStyles:!0},t),isObject(t[e])&&extend(t[e],{position:this._positionController.position})),t},_animateHiding:function(){var t,e,r,n=this,i=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},a=this._normalizeAnimation(i.hide,"from"),o=(e=a==null?void 0:a.start)!==null&&e!==void 0?e:noop,s=(r=a==null?void 0:a.complete)!==null&&r!==void 0?r:noop;this._animate(a,function(){var l;n._$content.css("pointerEvents",""),n._renderVisibility(!1);for(var u=arguments.length,m=new Array(u),b=0;b<u;b++)m[b]=arguments[b];s.call(n,...m),n._hideAnimationProcessing=!1,(l=n._actions)===null||l===void 0||l.onHidden(),n._hidingDeferred.resolve()},function(){n._$content.css("pointerEvents","none");for(var l=arguments.length,u=new Array(l),m=0;m<l;m++)u[m]=arguments[m];o.call(n,...u),n._hideAnimationProcessing=!0})},_hide:function(){if(!this._currentVisible)return new Deferred().resolve().promise();this._currentVisible=!1,this._hidingDeferred=new Deferred;var t={cancel:!1};return this._isShowingActionCanceled?this._hidingDeferred.resolve():(this._actions.onHiding(t),this._toggleSafariScrolling(),t.cancel?(this._isHidingActionCanceled=!0,this.option("visible",!0),this._hidingDeferred.resolve()):(this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding())),this._hidingDeferred.promise()},_forceFocusLost:function(){var t=domAdapter.getActiveElement(),e=!!this._$content.find(t).length;e&&resetActiveElement()},_animate:function(t,e,r){t?(r=r||t.start||noop,fx$1.animate(this._$content,extend({},t,{start:r,complete:e}))):e()},_stopAnimation:function(){fx$1.stop(this._$content,!0)},_renderVisibility:function(t){t&&this._isParentHidden()||(this._currentVisible=t,this._stopAnimation(),t||triggerHidingEvent(this._$content),t?(this._moveToContainer(),this._renderGeometry(),triggerShownEvent(this._$content),triggerResizeEvent(this._$content)):(this._toggleVisibility(t),this._$content.toggleClass(INVISIBLE_STATE_CLASS$3,!t),this._updateZIndexStackPosition(t),this._moveFromContainer()),this._toggleShading(t),this._toggleSubscriptions(t))},_updateZIndexStackPosition:function(t){var e=this._overlayStack(),r=e.indexOf(this);t?(r===-1&&(this._zIndex=create(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):r!==-1&&(e.splice(r,1),remove$3(this._zIndex))},_toggleShading:function(t){this._$wrapper.toggleClass(OVERLAY_SHADER_CLASS,t&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(t&&this.option("shading"))},_initTabTerminatorHandler:function(){var t=this;this._proxiedTabTerminatorHandler=function(){t._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(t){var e=addNamespace$1("keydown",this.NAME);t?eventsEngine$1.on(domAdapter.getDocument(),e,this._proxiedTabTerminatorHandler):eventsEngine$1.off(domAdapter.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var t=this._$wrapper.find("*"),e=t.length-1,r={first:null,last:null},n=0;n<=e&&(!r.first&&t.eq(n).is(tabbable)&&(r.first=t.eq(n)),!r.last&&t.eq(e-n).is(tabbable)&&(r.last=t.eq(e-n)),!(r.first&&r.last));n++);return r},_tabKeyHandler:function(t){if(!(normalizeKeyName(t)!==TAB_KEY||!this._isTopOverlay())){var e=this._findTabbableBounds(),r=e.first,n=e.last,i=!t.shiftKey&&t.target===n.get(0),a=t.shiftKey&&t.target===r.get(0),o=e.length===0,s=!contains(this._$wrapper.get(0),t.target);if(i||a||o||s){t.preventDefault();var l=t.shiftKey?n:r;eventsEngine$1.trigger(l,"focusin"),eventsEngine$1.trigger(l,"focus")}}},_toggleSubscriptions:function(t){hasWindow()&&(this._toggleHideTopOverlayCallback(t),this._toggleHideOnParentsScrollSubscription(t))},_toggleHideTopOverlayCallback:function(t){!this._hideTopOverlayHandler||(t?hideCallback.add(this._hideTopOverlayHandler):hideCallback.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(t){var e,r=addNamespace$1("scroll",this.NAME),{prevTargets:n,handler:i}=(e=this._parentsScrollSubscriptionInfo)!==null&&e!==void 0?e:{};eventsEngine$1.off(n,r,i);var a=this.option("hideOnParentScroll");if(t&&a){var o=this._hideOnParentScrollTarget().parents();devices$1.real().deviceType==="desktop"&&(o=o.add(window$j)),eventsEngine$1.on(o,r,i),this._parentsScrollSubscriptionInfo.prevTargets=o}},_hideOnParentsScrollHandler:function(t){var e=!1,r=this.option("hideOnParentScroll");isFunction$2(r)&&(e=r(t)),!e&&!this._showAnimationProcessing&&this.hide()},_hideOnParentScrollTarget:function(){return this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var t=!this._currentVisible&&this.option("deferRendering"),e=this.option("visible")&&this._isParentHidden();if(e){this._isHidden=!0;return}this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;var t=this.$element().parent();if(t.is(":visible"))return!1;var e=!1;return t.add(t.parents()).each(function(){var r=$(this);if(r.css("display")==="none")return e=!0,!1}),e||!domAdapter.getBody().contains(t.get(0))},_renderContentImpl:function(){var t=new Deferred,e=this.option("contentTemplate"),r=this._getTemplate(e),n=this._templateManager.anonymousTemplateName===e;return r&&r.render({container:getPublicElement(this.$content()),noModel:!0,transclude:n,onRendered:()=>{t.resolve()}}),this._renderScrollTerminator(),t.done(()=>{this.option("visible")&&this._moveToContainer()}),t.promise()},_getPositionControllerConfig(){var{container:t,visualContainer:e,_fixWrapperPosition:r,restorePosition:n}=this.option();return{container:t,visualContainer:e,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:n,_fixWrapperPosition:r}},_initPositionController(){this._positionController=new OverlayPositionController(this._getPositionControllerConfig())},_renderScrollTerminator:function(){var t=this._$wrapper,e=addNamespace$1(DRAG_EVENT,this.NAME);eventsEngine$1.off(t,e),eventsEngine$1.on(t,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(r){r||this._toggleGestureCoverImpl(r)},_clearSelection:noop,isNative:!0},r=>{var n=r.originalEvent.originalEvent,{type:i}=n||{},a=i==="wheel",o=i==="mousemove",s=a&&!isCommandKeyPressed(r);r._cancelPreventDefault=!0,n&&r.cancelable!==!1&&(!o&&!a||s)&&r.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._$wrapper.appendTo(this._positionController.$container),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(t){var{visible:e}=this.option();e&&hasWindow()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return isWindow(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var t=this.option("visible"),e=$(domAdapter.getBody()),r=devices$1.real().platform==="ios"&&browser.safari,n=this._isAllWindowCovered(),i=e.hasClass(PREVENT_SAFARI_SCROLLING_CLASS),a=!i&&t&&n,o=i&&(!t||!n||this._disposed);r&&(o?(e.removeClass(PREVENT_SAFARI_SCROLLING_CLASS),window$j.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):a&&(this._cachedBodyScrollTop=window$j.pageYOffset,e.addClass(PREVENT_SAFARI_SCROLLING_CLASS)))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var t=this._positionController.$visualContainer,e=domAdapter.getDocumentElement(),r=isWindow(t.get(0)),n=r?e.clientWidth:getOuterWidth(t),i=r?window$j.innerHeight:getOuterHeight(t);this._$wrapper.css({width:n,height:i})},_renderDimensions:function(){var t=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",t),maxWidth:this._getOptionValue("maxWidth",t),minHeight:this._getOptionValue("minHeight",t),maxHeight:this._getOptionValue("maxHeight",t),width:this._getOptionValue("width",t),height:this._getOptionValue("height",t)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=keyboard.on(this._$content,null,t=>this._keyboardHandler(t))},_keyboardHandler:function(t){var e=t.originalEvent,r=$(e.target);(r.is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(t){t?this.option("visible")&&this._renderVisibilityAnimate(t):this._renderVisibilityAnimate(t)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var t=this.option();!this._contentAlreadyRendered&&!t.isRenovated&&this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){fx$1.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&remove$3(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(t){this._$content.toggleClass(RTL_DIRECTION_CLASS,t)},_optionChanged:function(t){var e=t.value;if(this._getActionsList().includes(t.name)){this._initActions();return}switch(t.name){case"animation":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(e).done(()=>{!this._animateDeferred||this._animateDeferred.resolveWith(this)});break;case"container":this._positionController.updateContainer(e),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(e),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(t.value),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(t);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=e;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=t.value;break;default:this.callBase(t)}},toggle:function(t){t=t===void 0?!this.option("visible"):t;var e=new Deferred;if(t===this.option("visible"))return e.resolveWith(this,[t]).promise();var r=new Deferred;return this._animateDeferred=r,this.option("visible",t),r.promise().done(()=>{delete this._animateDeferred,e.resolveWith(this,[this.option("visible")])}),e.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return getPublicElement(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),triggerResizeEvent(this._$content)):this.callBase()}});Overlay.baseZIndex=t=>base(t);registerComponent$1("dxOverlay",Overlay);var Overlay$1=Overlay,themeReadyCallback=new Callbacks,errors$2=errorUtils(errors$3.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created because of an internal error: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals',W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true"}),window$i=getWindow(),ready$2=readyCallback.add,viewPort=value,viewPortChanged=changeCallback,initDeferred=new Deferred,DX_LINK_SELECTOR="link[rel=dx-theme]",THEME_ATTR="data-theme",ACTIVE_ATTR="data-active",DX_HAIRLINES_CLASS="dx-hairlines",ANY_THEME="any",context,$activeThemeLink,knownThemes,currentThemeName,pendingThemeName,defaultTimeout=15e3,THEME_MARKER_PREFIX="dx.";function readThemeMarker(){if(!hasWindow())return null;var t=$("<div>",context).addClass("dx-theme-marker").appendTo(context.documentElement),e;try{return e=window$i.getComputedStyle(t.get(0)).fontFamily,!e||(e=e.replace(/["']/g,""),e.substr(0,THEME_MARKER_PREFIX.length)!==THEME_MARKER_PREFIX)?null:e.substr(THEME_MARKER_PREFIX.length)}finally{t.remove()}}function waitForThemeLoad(t){var e,r,n=!0;pendingThemeName=t;function i(){pendingThemeName=null,clearInterval(r),n=!0,themeReadyCallback.fire(),themeReadyCallback.empty(),initDeferred.resolve()}if(isPendingThemeLoaded()||!defaultTimeout)i();else{if(!n){pendingThemeName&&(pendingThemeName=t);return}e=Date.now(),n=!1,r=setInterval(function(){var a=isPendingThemeLoaded(),o=!a&&Date.now()-e>defaultTimeout;o&&errors$2.log("W0004",pendingThemeName),(a||o)&&i()},10)}}function isPendingThemeLoaded(){if(!pendingThemeName)return!0;var t=pendingThemeName===ANY_THEME;if(initDeferred.state()==="resolved"&&t)return!0;var e=readThemeMarker();return e&&t?!0:e===pendingThemeName}function processMarkup(){var t=$(DX_LINK_SELECTOR,context);!t.length||(knownThemes={},$activeThemeLink=$(parseHTML("<link rel=stylesheet>"),context),t.each(function(){var e=$(this,context),r=e.attr(THEME_ATTR),n=e.attr("href"),i=e.attr(ACTIVE_ATTR)==="true";knownThemes[r]={url:n,isActive:i}}),t.last().after($activeThemeLink),t.remove())}function resolveFullThemeName(t){var e=t?t.split("."):[],r=null;if(knownThemes){if(t in knownThemes)return t;each(knownThemes,function(n,i){var a=n.split(".");if(!(e[0]&&a[0]!==e[0])&&!(e[1]&&e[1]!==a[1])&&!(e[2]&&e[2]!==a[2])&&((!r||i.isActive)&&(r=n),i.isActive))return!1})}return r}function initContext(t){try{t!==context&&(knownThemes=null)}catch{knownThemes=null}context=t}function init(t){t=t||{},initContext(t.context||domAdapter.getDocument()),context&&(processMarkup(),currentThemeName=void 0,current(t))}function current(t){if(!arguments.length)return currentThemeName=currentThemeName||readThemeMarker(),currentThemeName;detachCssClasses(viewPort()),t=t||{},typeof t=="string"&&(t={theme:t});var e=t._autoInit,r=t.loadCallback,n;if(currentThemeName=resolveFullThemeName(t.theme||currentThemeName),currentThemeName&&(n=knownThemes[currentThemeName]),r&&themeReadyCallback.add(r),n)$activeThemeLink.attr("href",knownThemes[currentThemeName].url),(themeReadyCallback.has()||initDeferred.state()!=="resolved"||t._forceTimeout)&&waitForThemeLoad(currentThemeName);else if(e)hasWindow()&&waitForThemeLoad(ANY_THEME),themeReadyCallback.fire(),themeReadyCallback.empty();else throw errors$2.Error("E0021",currentThemeName);initDeferred.done(()=>attachCssClasses(originalViewPort(),currentThemeName))}function getCssClasses$3(t){t=t||current();var e=[],r=t&&t.split(".");return r&&(e.push("dx-theme-"+r[0],"dx-theme-"+r[0]+"-typography"),r.length>1&&e.push("dx-color-scheme-"+r[1]+(isMaterial(t)?"-"+r[2]:""))),e}var themeClasses;function attachCssClasses(t,e){themeClasses=getCssClasses$3(e).join(" "),$(t).addClass(themeClasses),function(){var r=hasWindow()&&window$i.devicePixelRatio;if(!(!r||r<2)){var n=$("<div>");n.css("border",".5px solid transparent"),$("body").append(n),getOuterHeight(n)===1&&($(t).addClass(DX_HAIRLINES_CLASS),themeClasses+=" "+DX_HAIRLINES_CLASS),n.remove()}}()}function detachCssClasses(t){$(t).removeClass(themeClasses)}function isTheme(t,e){return e||(e=currentThemeName||readThemeMarker()),new RegExp(t).test(e)}function isMaterial(t){return isTheme("material",t)}function isGeneric(t){return isTheme("generic",t)}function isCompact(t){return isTheme("compact",t)}function isWebFontLoaded(t,e){var r=domAdapter.getDocument(),n=r.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=e,n.innerHTML=t,r.body.appendChild(n);var i=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";var a=n.offsetWidth;return n.parentNode.removeChild(n),i!==a}function waitWebFont(t,e){return new Promise(r=>{var n=()=>{clearInterval(i),clearTimeout(a),r()},i=setInterval(()=>{isWebFontLoaded(t,e)&&n()},15),a=setTimeout(n,2e3)})}function autoInit(){if(init({_autoInit:!0,_forceTimeout:!0}),$(DX_LINK_SELECTOR,context).length)throw errors$2.Error("E0022")}hasWindow()?autoInit():ready$2(autoInit);viewPortChanged.add(function(t,e){initDeferred.done(function(){detachCssClasses(e),attachCssClasses(t)})});devices$1.changed.add(function(){init({_autoInit:!0})});var window$h=getWindow(),ready$1=readyCallback.add,TOAST_CLASS="dx-toast",TOAST_CLASS_PREFIX=TOAST_CLASS+"-",TOAST_WRAPPER_CLASS=TOAST_CLASS_PREFIX+"wrapper",TOAST_CONTENT_CLASS=TOAST_CLASS_PREFIX+"content",TOAST_MESSAGE_CLASS=TOAST_CLASS_PREFIX+"message",TOAST_ICON_CLASS=TOAST_CLASS_PREFIX+"icon",WIDGET_NAME="dxToast",toastTypes=["info","warning","error","success"],TOAST_STACK=[],FIRST_Z_INDEX_OFFSET=8e3,visibleToastInstance=null,POSITION_ALIASES={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}},DEFAULT_BOUNDARY_OFFSET={h:0,v:0};ready$1(function(){eventsEngine$1.subscribeGlobal(domAdapter.getDocument(),pointerEvents.down,function(t){for(var e=TOAST_STACK.length-1;e>=0;e--)if(!TOAST_STACK[e]._proxiedDocumentDownHandler(t))return})});var Toast=Overlay$1.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},shading:!1,height:"auto",hideTopOverlayHandler:null,closeOnSwipe:!0,closeOnClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{hideOnOutsideClick:!0,width:"auto",position:{at:"bottom left",my:"bottom left",offset:"20 -20"},animation:{show:{type:"slide",duration:200,from:{position:{my:"top",at:"bottom",of:window$h}}},hide:{type:"slide",duration:200,to:{position:{my:"top",at:"bottom",of:window$h}}}}}},{device:function(t){var e=t.deviceType==="phone",r=t.platform==="android";return e&&r},options:{width:"100vw",position:{at:"bottom center",my:"bottom center",offset:"0 0"}}},{device:function(t){return t.deviceType==="phone"},options:{width:"100vw"}},{device:function(){return isMaterial()},options:{minWidth:344,maxWidth:568,displayTime:4e3}}])},_init:function(){this.callBase(),this._posStringToObject()},_renderContentImpl:function(){this.option("message")&&(this._message=$("<div>").addClass(TOAST_MESSAGE_CLASS).text(this.option("message")).appendTo(this.$content())),this.setAria("role","alert",this._message),toastTypes.includes(this.option("type").toLowerCase())&&this.$content().prepend($("<div>").addClass(TOAST_ICON_CLASS)),this.callBase()},_render:function(){this.callBase(),this.$element().addClass(TOAST_CLASS),this.$wrapper().addClass(TOAST_WRAPPER_CLASS),this.$content().addClass(TOAST_CLASS_PREFIX+String(this.option("type")).toLowerCase()),this.$content().addClass(TOAST_CONTENT_CLASS),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")},_renderScrollTerminator:noop,_toggleCloseEvents:function(t){var e="dx"+t.toLowerCase();eventsEngine$1.off(this.$content(),e),this.option("closeOn"+t)&&eventsEngine$1.on(this.$content(),e,this.hide.bind(this))},_posStringToObject:function(){if(!!isString$2(this.option("position"))){var t=this.option("position").split(" ")[0],e=this.option("position").split(" ")[1];switch(this.option("position",extend({boundaryOffset:DEFAULT_BOUNDARY_OFFSET},POSITION_ALIASES[t])),e){case"center":case"left":case"right":this.option("position").at+=" "+e,this.option("position").my+=" "+e}}},_show:function(){return visibleToastInstance&&visibleToastInstance!==this&&(clearTimeout(visibleToastInstance._hideTimeout),visibleToastInstance.hide()),visibleToastInstance=this,this.callBase.apply(this,arguments).done(function(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(this.hide.bind(this),this.option("displayTime"))}.bind(this))},_hide:function(){return visibleToastInstance=null,this.callBase.apply(this,arguments)},_overlayStack:function(){return TOAST_STACK},_zIndexInitValue:function(){return this.callBase()+FIRST_Z_INDEX_OFFSET},_dispose:function(){clearTimeout(this._hideTimeout),visibleToastInstance=null,this.callBase()},_optionChanged:function(t){switch(t.name){case"type":this.$content().removeClass(TOAST_CLASS_PREFIX+t.previousValue),this.$content().addClass(TOAST_CLASS_PREFIX+String(t.value).toLowerCase());break;case"message":this._message&&this._message.text(t.value);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":break;default:this.callBase(t)}}});registerComponent$1(WIDGET_NAME,Toast);var Toast$1=Toast,window$g=getWindow(),$notify=null,$containers={};function notify(t,e,r){var n=isPlainObject(t)?t:{message:t},i=isPlainObject(e)?e:void 0,a=isPlainObject(e)?void 0:e,{onHidden:o}=n;if(i!=null&&i.position){var{position:s}=i,l=i.direction||getDefaultDirection(s),u=isString$2(s)?s:"".concat(s.top,"-").concat(s.left,"-").concat(s.bottom,"-").concat(s.right),{onShowing:m}=n,b=getStackContainer(u);setContainerClasses(b,l),extend(n,{container:b,onShowing:function(_){setContainerStyles(b,l,s),new Action(m,{context:_.model}).execute(arguments)}})}extend(n,{type:a,displayTime:r,onHidden:function(_){$(_.element).remove(),new Action(o,{context:_.model}).execute(arguments)}}),$notify=$("<div>").appendTo(value()),new Toast$1($notify,n).show()}var getDefaultDirection=t=>isString$2(t)&&t.includes("top")?"down-push":"up-push",createStackContainer=t=>{var e=$("<div>").appendTo(value());return $containers[t]=e,e},getStackContainer=t=>{var e=$containers[t];return e||createStackContainer(t)},setContainerClasses=(t,e)=>{var r="dx-toast-stack dx-toast-stack-".concat(e,"-direction");t.removeAttr("class").addClass(r)},setContainerStyles=(t,e,r)=>{var{offsetWidth:n,offsetHeight:i}=t.children().first().get(0),a={toastWidth:n,toastHeight:i,windowHeight:window$g.innerHeight,windowWidth:window$g.innerWidth},o=isString$2(r)?getCoordinatesByAlias(r,a):r,s=getPositionStylesByCoordinates(e,o,a);t.css(s)},getCoordinatesByAlias=(t,e)=>{var{toastWidth:r,toastHeight:n,windowHeight:i,windowWidth:a}=e;switch(t){case"top left":return{top:10,left:10};case"top right":return{top:10,right:10};case"bottom left":return{bottom:10,left:10};case"bottom right":return{bottom:10,right:10};case"top center":return{top:10,left:Math.round(a/2-r/2)};case"left center":return{top:Math.round(i/2-n/2),left:10};case"right center":return{top:Math.round(i/2-n/2),right:10};case"center":return{top:Math.round(i/2-n/2),left:Math.round(a/2-r/2)};case"bottom center":default:return{bottom:10,left:Math.round(a/2-r/2)}}},getPositionStylesByCoordinates=(t,e,r)=>{var n,i,a,o,s,l,u,m,b,_,I,j,{toastWidth:L,toastHeight:z,windowHeight:M,windowWidth:R}=r;switch(t.replace(/-push|-stack/g,"")){case"up":return{bottom:(n=e.bottom)!==null&&n!==void 0?n:M-z-e.top,top:"",left:(i=e.left)!==null&&i!==void 0?i:"",right:(a=e.right)!==null&&a!==void 0?a:""};case"down":return{top:(o=e.top)!==null&&o!==void 0?o:M-z-e.bottom,bottom:"",left:(s=e.left)!==null&&s!==void 0?s:"",right:(l=e.right)!==null&&l!==void 0?l:""};case"left":return{right:(u=e.right)!==null&&u!==void 0?u:R-L-e.left,left:"",top:(m=e.top)!==null&&m!==void 0?m:"",bottom:(b=e.bottom)!==null&&b!==void 0?b:""};case"right":return{left:(_=e.left)!==null&&_!==void 0?_:R-L-e.right,right:"",top:(I=e.top)!==null&&I!==void 0?I:"",bottom:(j=e.bottom)!==null&&j!==void 0?j:""}}},whenSome=function(t,e,r){e=e||noop,r=r||noop,Array.isArray(t)||(t=[t]);var n=t.map((i,a)=>when(i).then(o=>(isFunction$2(e)&&e({item:i,index:a,result:o}),o),o=>(o||(o={}),o.index=a,isFunction$2(r)&&r(o),new Deferred().resolve().promise())));return when.apply(null,n)},getDisplayFileSize=function(t){for(var e=["B","KB","MB","GB","TB"],r=0,n=t;n>=1024&&r<=e.length-1;)n/=1024,r++;return n=Math.round(10*n)/10,"".concat(n," ").concat(e[r])},extendAttributes=function(t,e,r){return r.forEach(n=>{extend(!0,t,isDefined(e[n])?{[n]:e[n]}:{})}),t},findItemsByKeys=(t,e)=>{var r={};e.forEach(i=>{r[i]=null}),t.forEach(i=>{var a=i.fileItem.key;Object.prototype.hasOwnProperty.call(r,a)&&(r[a]=i)});var n=[];return e.forEach(i=>{var a=r[i];a&&n.push(a)}),n},getMapFromObject=function(t){var e=Object.keys(t),r=[];return e.forEach(n=>r.push(t[n])),{keys:e,values:r}};function leftPad(t,e){for(;t.length<e;)t="0"+t;return t}var FORMAT_TYPES$1={3:"abbreviated",4:"wide",5:"narrow"},LDML_FORMATTERS={y:function(t,e,r){var n=t[r?"getUTCFullYear":"getFullYear"]();return e===2&&(n%=100),leftPad(n.toString(),e)},M:function(t,e,r,n){var i=t[r?"getUTCMonth":"getMonth"](),a=FORMAT_TYPES$1[e];return a?n.getMonthNames(a,"format")[i]:leftPad((i+1).toString(),Math.min(e,2))},L:function(t,e,r,n){var i=t[r?"getUTCMonth":"getMonth"](),a=FORMAT_TYPES$1[e];return a?n.getMonthNames(a,"standalone")[i]:leftPad((i+1).toString(),Math.min(e,2))},Q:function(t,e,r,n){var i=t[r?"getUTCMonth":"getMonth"](),a=Math.floor(i/3),o=FORMAT_TYPES$1[e];return o?n.getQuarterNames(o)[a]:leftPad((a+1).toString(),Math.min(e,2))},E:function(t,e,r,n){var i=t[r?"getUTCDay":"getDay"](),a=FORMAT_TYPES$1[e<3?3:e];return n.getDayNames(a)[i]},a:function(t,e,r,n){var i=t[r?"getUTCHours":"getHours"](),a=i<12?0:1,o=FORMAT_TYPES$1[e];return n.getPeriodNames(o)[a]},d:function(t,e,r){return leftPad(t[r?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(t,e,r){return leftPad(t[r?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(t,e,r){var n=t[r?"getUTCHours":"getHours"]();return leftPad((n%12||12).toString(),Math.min(e,2))},m:function(t,e,r){return leftPad(t[r?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(t,e,r){return leftPad(t[r?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(t,e,r){return leftPad(t[r?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(t,e,r){var n=r?0:t.getTimezoneOffset(),i=n>0?"-":"+",a=Math.abs(n),o=Math.floor(a/60),s=a%60,l=leftPad(o.toString(),2),u=leftPad(s.toString(),2);return i+l+(e>=3?":":"")+(e>1||s?u:"")},X:function(t,e,r){return r||!t.getTimezoneOffset()?"Z":LDML_FORMATTERS.x(t,e,r)},Z:function(t,e,r){return LDML_FORMATTERS.X(t,e>=5?3:2,r)}},getFormatter$3=function(t,e){return function(r){var n,i,a,o=0,s=!1,l,u="";if(!r)return null;if(!t)return r;var m=t[t.length-1]==="Z"||t.slice(-3)==="'Z'";for(n=0;n<t.length;n++)a=t[n],i=LDML_FORMATTERS[a],l=a===t[n+1],o++,l||(i&&!s&&(u+=i(r,o,m,e)),o=0),a==="'"&&!l?s=!s:(s||!i)&&(u+=a),a==="'"&&l&&n++;return u}},MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"],DAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],PERIODS=["AM","PM"],QUARTERS=["Q1","Q2","Q3","Q4"],cutCaptions=(t,e)=>{var r={abbreviated:3,short:2,narrow:1};return map(t,n=>n.substr(0,r[e]))},defaultDateNames={getMonthNames:function(t){return cutCaptions(MONTHS,t)},getDayNames:function(t){return cutCaptions(DAYS,t)},getQuarterNames:function(t){return QUARTERS},getPeriodNames:function(t){return PERIODS}},NUMBER_SERIALIZATION_FORMAT="number",DATE_SERIALIZATION_FORMAT="yyyy/MM/dd",DATETIME_SERIALIZATION_FORMAT="yyyy/MM/dd HH:mm:ss",ISO8601_PATTERN=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,ISO8601_TIME_PATTERN=/^(\d{2}):(\d{2})(:(\d{2}))?$/,ISO8601_PATTERN_PARTS=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],DATE_SERIALIZATION_PATTERN=/^(\d{4})\/(\d{2})\/(\d{2})$/,MILLISECOND_LENGHT=3,dateParser=function(t,e){var r;return isString$2(t)&&!e&&(r=parseISO8601String(t)),r||parseDate(t)};function getTimePart(t){return+t||0}function parseDate(t){var e=getDateSerializationFormat(t)===DATE_SERIALIZATION_FORMAT,r=!isDate(t)&&Date.parse(t);if(!r&&e){var n=t.match(DATE_SERIALIZATION_PATTERN);if(n){var i=new Date(getTimePart(n[1]),getTimePart(n[2]),getTimePart(n[3]));return i.setFullYear(getTimePart(n[1])),i.setMonth(getTimePart(n[2])-1),i.setDate(getTimePart(n[3])),i}}return isNumeric$1(r)?new Date(r):t}function parseISO8601String(t){var e=t.match(ISO8601_PATTERN);if(!e)return e=t.match(ISO8601_TIME_PATTERN),e?new Date(0,0,0,getTimePart(e[1]),getTimePart(e[2]),getTimePart(e[4])):void 0;var r=getTimePart(e[1]),n=--e[3],i=e[5],a=0,o=0,s=_=>(r<100&&_.setFullYear(r),_);a=getTimePart(e[14]),o=getTimePart(e[16]),e[13]==="-"&&(a=-a,o=-o);var l=getTimePart(e[6])-a,u=getTimePart(e[8])-o,m=getTimePart(e[10]),b=function(_){return _=_||"",getTimePart(_)*Math.pow(10,MILLISECOND_LENGHT-_.length)}(e[11]);return e[12]?s(new Date(Date.UTC(r,n,i,l,u,m,b))):s(new Date(r,n,i,l,u,m,b))}var getIso8601Format=function(t,e){var r=t.match(ISO8601_PATTERN),n="";if(!r)return r=t.match(ISO8601_TIME_PATTERN),r?r[3]?"HH:mm:ss":"HH:mm":void 0;for(var i=1;i<ISO8601_PATTERN_PARTS.length;i++)r[i]&&(n+=ISO8601_PATTERN_PARTS[i]||r[i]);return r[12]==="Z"&&(n+="'Z'"),r[14]&&(r[15]?n+="xxx":r[16]?n+="xx":n+="x"),n},deserializeDate=function(t){return typeof t=="number"?new Date(t):dateParser(t,!config$5().forceIsoDateParsing)},serializeDate=function(t,e){return e?isDate(t)?e===NUMBER_SERIALIZATION_FORMAT?t&&t.valueOf?t.valueOf():null:getFormatter$3(e,defaultDateNames)(t):null:t},getDateSerializationFormat=function(t){if(typeof t=="number")return NUMBER_SERIALIZATION_FORMAT;if(isString$2(t)){var e;return config$5().forceIsoDateParsing&&(e=getIso8601Format(t)),e||(t.indexOf(":")>=0?DATETIME_SERIALIZATION_FORMAT:DATE_SERIALIZATION_FORMAT)}else if(t)return null},dateSerialization={dateParser,deserializeDate,serializeDate,getDateSerializationFormat},PATH_SEPARATOR="/",getFileExtension=t=>{var e=t.lastIndexOf(".");return e!==-1?t.substr(e):""},getName=t=>{var e=t.lastIndexOf(PATH_SEPARATOR);return e!==-1?t.substr(e+PATH_SEPARATOR.length):t},getPathParts=(t,e)=>{if(!t||t==="/")return[];for(var r=[],n="",i=0;i<t.length;i++){var a=t.charAt(i);if(a===PATH_SEPARATOR){var o=t.charAt(i+1);o!==PATH_SEPARATOR&&(n&&(r.push(n),n=""),a=o),i++}n+=a}if(n&&r.push(n),e)for(var s=0;s<r.length;s++)r[s]=pathCombine(s===0?"":r[s-1],getEscapedFileName(r[s]));return r},getEscapedFileName=function(t){return t.replace(/\/{1,1}/g,"//")},pathCombine=function(){var t="";return each(arguments,(e,r)=>{r&&(t&&(t+=PATH_SEPARATOR),t+=r)}),t};class FileSystemItem{constructor(){var e=isString$2(arguments[0])?this._publicCtor:this._internalCtor;e.apply(this,arguments)}_internalCtor(e,r,n,i){this.name=r||"",this.pathInfo=e&&[...e]||[],this.parentPath=this._getPathByPathInfo(this.pathInfo),this.relativeName=pathCombine(this.parentPath,r),this.key=i||this._getPathByPathInfo(this.getFullPathInfo(),!0),this.path=pathCombine(this.parentPath,r),this.pathKeys=this.pathInfo.map(a=>{var{key:o}=a;return o}),this.isRoot()||this.pathKeys.push(this.key),this._initialize(n)}_publicCtor(e,r,n){this.path=e||"",this.pathKeys=n||[];for(var i=[],a=getPathParts(e,!0),o=0;o<a.length-1;o++){var s=a[o],l={key:this.pathKeys[o]||s,name:getName(s)};i.push(l)}this.pathInfo=i,this.relativeName=e,this.name=getName(e),this.key=this.pathKeys.length?this.pathKeys[this.pathKeys.length-1]:e,this.parentPath=a.length>1?a[a.length-2]:"",this._initialize(r)}_initialize(e){this.isDirectory=!!e,this.size=0,this.dateModified=new Date,this.thumbnail="",this.tooltipText=""}getFullPathInfo(){var e=[...this.pathInfo];return this.isRoot()||e.push({key:this.key,name:this.name}),e}isRoot(){return this.path===""}getFileExtension(){return this.isDirectory?"":getFileExtension(this.name)}equals(e){return e&&this.key===e.key}createClone(){var e=new FileSystemItem(this.pathInfo,this.name,this.isDirectory,this.key);return e.key=this.key,e.size=this.size,e.dateModified=this.dateModified,e.thumbnail=this.thumbnail,e.tooltipText=this.tooltipText,e.hasSubDirectories=this.hasSubDirectories,e.dataItem=this.dataItem,e}_getPathByPathInfo(e,r){return e.map(n=>r?getEscapedFileName(n.name):n.name).join(PATH_SEPARATOR)}}var FileSystemItem$1=FileSystemItem,DEFAULT_FILE_UPLOAD_CHUNK_SIZE=2e5;class FileSystemProviderBase{constructor(e){e=ensureDefined(e,{}),this._keyGetter=compileGetter(this._getKeyExpr(e)),this._nameGetter=compileGetter(this._getNameExpr(e)),this._isDirGetter=compileGetter(this._getIsDirExpr(e)),this._sizeGetter=compileGetter(this._getSizeExpr(e)),this._dateModifiedGetter=compileGetter(this._getDateModifiedExpr(e)),this._thumbnailGetter=compileGetter(e.thumbnailExpr||"thumbnail")}getItems(e){return[]}renameItem(e,r){}createDirectory(e,r){}deleteItems(e){}moveItems(e,r){}copyItems(e,r){}uploadFileChunk(e,r,n){}abortFileUpload(e,r,n){}downloadItems(e){}getItemsContent(e){}getFileUploadChunkSize(){return DEFAULT_FILE_UPLOAD_CHUNK_SIZE}_convertDataObjectsToFileItems(e,r){var n=[];return each(e,(i,a)=>{var o=this._createFileItem(a,r);n.push(o)}),n}_createFileItem(e,r){var n=this._keyGetter(e),i=new FileSystemItem$1(r,this._nameGetter(e),!!this._isDirGetter(e),n);return i.size=this._sizeGetter(e),i.size===void 0&&(i.size=0),i.dateModified=dateSerialization.deserializeDate(this._dateModifiedGetter(e)),i.dateModified===void 0&&(i.dateModified=new Date),i.isDirectory&&(i.hasSubDirectories=this._hasSubDirs(e)),n||(i.key=i.relativeName),i.thumbnail=this._thumbnailGetter(e)||"",i.dataItem=e,i}_hasSubDirs(e){return!0}_getKeyExpr(e){return e.keyExpr||this._defaultKeyExpr}_defaultKeyExpr(e){if(arguments.length===2){e.__KEY__=arguments[1];return}return Object.prototype.hasOwnProperty.call(e,"__KEY__")?e.__KEY__:null}_getNameExpr(e){return e.nameExpr||"name"}_getIsDirExpr(e){return e.isDirectoryExpr||"isDirectory"}_getSizeExpr(e){return e.sizeExpr||"size"}_getDateModifiedExpr(e){return e.dateModifiedExpr||"dateModified"}_executeActionAsDeferred(e,r){var n=new Deferred;try{var i=e();isPromise$1(i)?fromPromise(i).done(a=>n.resolve(r&&a||void 0)).fail(a=>n.reject(a)):n.resolve(r&&i||void 0)}catch(a){return n.reject(a)}return n.promise()}}var FileSystemProviderBase$1=FileSystemProviderBase,errors$1=errorUtils(errors$3.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),errorHandler=null,handleError=function(t){var e;(e=errorHandler)===null||e===void 0||e(t)},window$f=getWindow(),navigator$2=getNavigator(),FILE_EXTESIONS={EXCEL:"xlsx",CSS:"css",PNG:"png",JPEG:"jpeg",GIF:"gif",SVG:"svg",PDF:"pdf"},MIME_TYPES={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",PNG:"image/png",JPEG:"image/jpeg",GIF:"image/gif",SVG:"image/svg+xml",PDF:"application/pdf"},fileSaver={_revokeObjectURLTimeout:3e4,_getDataUri:function(t,e){var r=this._getMimeType(t);return"data:".concat(r,";base64,").concat(e)},_getMimeType:function(t){return MIME_TYPES[t]||"application/octet-stream"},_linkDownloader:function(t,e){var r=domAdapter.createElement("a");return r.download=t,r.href=e,r.target="_blank",r},_formDownloader:function(t,e,r,n){var i={method:"post",action:t,enctype:"multipart/form-data"},a=$("<form>").css({display:"none"}).attr(i);function o(s,l){for(var u in l)s.setAttribute(u,l[u]);return s}a.append(o(domAdapter.createElement("input"),{type:"hidden",name:"fileName",value:e})),a.append(o(domAdapter.createElement("input"),{type:"hidden",name:"contentType",value:r})),a.append(o(domAdapter.createElement("input"),{type:"hidden",name:"data",value:n})),a.appendTo("body"),eventsEngine$1.trigger(a,"submit"),eventsEngine$1.trigger(a,"submit")&&a.remove()},_saveByProxy:function(t,e,r,n){var i=this._getMimeType(r);return this._formDownloader(t,e,i,n)},_winJSBlobSave:function(t,e,r){var n=new Windows.Storage.Pickers.FileSavePicker;n.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary;var i=FILE_EXTESIONS[r];if(i){var a=this._getMimeType(r);n.fileTypeChoices.insert(a,["."+i])}n.suggestedFileName=e,n.pickSaveFileAsync().then(function(o){o&&o.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function(s){var l=t.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(l,s).then(function(){s.flushAsync().done(function(){l.close(),s.close()})})})})},_click:function(t){try{t.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}catch{var e=domAdapter.getDocument().createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window$f,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}},_saveBlobAs:function(t,e,r){if(this._blobSaved=!1,isDefined(navigator$2.msSaveOrOpenBlob))navigator$2.msSaveOrOpenBlob(r,t),this._blobSaved=!0;else if(isDefined(window$f.WinJS))this._winJSBlobSave(r,t,e),this._blobSaved=!0;else{var n=window$f.URL||window$f.webkitURL||window$f.mozURL||window$f.msURL||window$f.oURL;if(isDefined(n)){var i=n.createObjectURL(r),a=this._linkDownloader(t,i);setTimeout(()=>{n.revokeObjectURL(i),this._objectUrlRevoked=!0},this._revokeObjectURLTimeout),this._click(a)}else logger.warn("window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined")}},saveAs:function(t,e,r,n,i){var a=FILE_EXTESIONS[e];if(a&&(t+="."+a),isDefined(n)&&errors$2.log("W0001","Export","proxyURL","19.2","This option is no longer required"),i)this._saveByProxy(n,t,e,r);else if(isFunction$2(window$f.Blob))this._saveBlobAs(t,e,r);else if(isDefined(n)&&!isDefined(navigator$2.userAgent.match(/iPad/i)))this._saveByProxy(n,t,e,r);else{isDefined(navigator$2.userAgent.match(/iPad/i))||errors$2.log("E1034");var o=this._linkDownloader(t,this._getDataUri(e,r));this._click(o)}}},jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(u,m){if(!i[u]){if(!n[u]){var b=typeof commonjsRequire=="function"&&commonjsRequire;if(!m&&b)return b(u,!0);if(s)return s(u,!0);var _=new Error("Cannot find module '"+u+"'");throw _.code="MODULE_NOT_FOUND",_}var I=i[u]={exports:{}};n[u][0].call(I.exports,function(j){var L=n[u][1][j];return o(L||j)},I,I.exports,r,n,i,a)}return i[u].exports}for(var s=typeof commonjsRequire=="function"&&commonjsRequire,l=0;l<a.length;l++)o(a[l]);return o}({1:[function(r,n,i){var a=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,m,b,_,I,j,L,z=[],M=0,R=l.length,w=R,k=a.getTypeOf(l)!=="string";M<l.length;)w=R-M,b=k?(u=l[M++],m=M<R?l[M++]:0,M<R?l[M++]:0):(u=l.charCodeAt(M++),m=M<R?l.charCodeAt(M++):0,M<R?l.charCodeAt(M++):0),_=u>>2,I=(3&u)<<4|m>>4,j=1<w?(15&m)<<2|b>>6:64,L=2<w?63&b:64,z.push(s.charAt(_)+s.charAt(I)+s.charAt(j)+s.charAt(L));return z.join("")},i.decode=function(l){var u,m,b,_,I,j,L=0,z=0,M="data:";if(l.substr(0,M.length)===M)throw new Error("Invalid base64 input, it looks like a data url.");var R,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&w--,l.charAt(l.length-2)===s.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=o.uint8array?new Uint8Array(0|w):new Array(0|w);L<l.length;)u=s.indexOf(l.charAt(L++))<<2|(_=s.indexOf(l.charAt(L++)))>>4,m=(15&_)<<4|(I=s.indexOf(l.charAt(L++)))>>2,b=(3&I)<<6|(j=s.indexOf(l.charAt(L++))),R[z++]=u,I!==64&&(R[z++]=m),j!==64&&(R[z++]=b);return R}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(m,b,_,I,j){this.compressedSize=m,this.uncompressedSize=b,this.crc32=_,this.compression=I,this.compressedContent=j}u.prototype={getContentWorker:function(){var m=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),b=this;return m.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(m,b,_){return m.pipe(new s).pipe(new l("uncompressedSize")).pipe(b.compressWorker(_)).pipe(new l("compressedSize")).withStreamInfo("compression",b)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),o=function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var m=0;m<8;m++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l}();n.exports=function(s,l){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?function(u,m,b,_){var I=o,j=_+b;u^=-1;for(var L=_;L<j;L++)u=u>>>8^I[255&(u^m[L])];return-1^u}(0|l,s,s.length,0):function(u,m,b,_){var I=o,j=_+b;u^=-1;for(var L=_;L<j;L++)u=u>>>8^I[255&(u^m.charCodeAt(L))];return-1^u}(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise!="undefined"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",o=r("pako"),s=r("./utils"),l=r("./stream/GenericWorker"),u=a?"uint8array":"array";function m(b,_){l.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=_,this.meta={}}i.magic="\b\0",s.inherits(m,l),m.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,b.data),!1)},m.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(_){b.push({data:_,meta:b.meta})}},i.compressWorker=function(b){return new m("Deflate",b)},i.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(I,j){var L,z="";for(L=0;L<j;L++)z+=String.fromCharCode(255&I),I>>>=8;return z}function o(I,j,L,z,M,R){var w,k,A=I.file,D=I.compression,P=R!==u.utf8encode,T=s.transformTo("string",R(A.name)),x=s.transformTo("string",u.utf8encode(A.name)),g=A.comment,f=s.transformTo("string",R(g)),d=s.transformTo("string",u.utf8encode(g)),v=x.length!==A.name.length,c=d.length!==g.length,O="",H="",N="",U=A.dir,y=A.date,C={crc32:0,compressedSize:0,uncompressedSize:0};j&&!L||(C.crc32=I.crc32,C.compressedSize=I.compressedSize,C.uncompressedSize=I.uncompressedSize);var E=0;j&&(E|=8),P||!v&&!c||(E|=2048);var F=0,X=0;U&&(F|=16),M==="UNIX"?(X=798,F|=function(q,ne){var ie=q;return q||(ie=ne?16893:33204),(65535&ie)<<16}(A.unixPermissions,U)):(X=20,F|=function(q){return 63&(q||0)}(A.dosPermissions)),w=y.getUTCHours(),w<<=6,w|=y.getUTCMinutes(),w<<=5,w|=y.getUTCSeconds()/2,k=y.getUTCFullYear()-1980,k<<=4,k|=y.getUTCMonth()+1,k<<=5,k|=y.getUTCDate(),v&&(H=a(1,1)+a(m(T),4)+x,O+="up"+a(H.length,2)+H),c&&(N=a(1,1)+a(m(f),4)+d,O+="uc"+a(N.length,2)+N);var G="";return G+=`
\0`,G+=a(E,2),G+=D.magic,G+=a(w,2),G+=a(k,2),G+=a(C.crc32,4),G+=a(C.compressedSize,4),G+=a(C.uncompressedSize,4),G+=a(T.length,2),G+=a(O.length,2),{fileRecord:b.LOCAL_FILE_HEADER+G+T+O,dirRecord:b.CENTRAL_FILE_HEADER+a(X,2)+G+a(f.length,2)+"\0\0\0\0"+a(F,4)+a(z,4)+T+O+f}}var s=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),m=r("../crc32"),b=r("../signature");function _(I,j,L,z){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=L,this.encodeFileName=z,this.streamFiles=I,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(_,l),_.prototype.push=function(I){var j=I.meta.percent||0,L=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(I):(this.bytesWritten+=I.data.length,l.prototype.push.call(this,{data:I.data,meta:{currentFile:this.currentFile,percent:L?(j+100*(L-z-1))/L:100}}))},_.prototype.openedSource=function(I){this.currentSourceOffset=this.bytesWritten,this.currentFile=I.file.name;var j=this.streamFiles&&!I.file.dir;if(j){var L=o(I,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:L.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(I){this.accumulate=!1;var j=this.streamFiles&&!I.file.dir,L=o(I,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(L.dirRecord),j)this.push({data:function(z){return b.DATA_DESCRIPTOR+a(z.crc32,4)+a(z.compressedSize,4)+a(z.uncompressedSize,4)}(I),meta:{percent:100}});else for(this.push({data:L.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var I=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var L=this.bytesWritten-I,z=function(M,R,w,k,A){var D=s.transformTo("string",A(k));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(M,2)+a(M,2)+a(R,4)+a(w,4)+a(D.length,2)+D}(this.dirRecords.length,L,I,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(I){this._sources.push(I);var j=this;return I.on("data",function(L){j.processChunk(L)}),I.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),I.on("error",function(L){j.error(L)}),this},_.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(I){var j=this._sources;if(!l.prototype.error.call(this,I))return!1;for(var L=0;L<j.length;L++)try{j[L].error(I)}catch{}return!0},_.prototype.lock=function(){l.prototype.lock.call(this);for(var I=this._sources,j=0;j<I.length;j++)I[j].lock()},n.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(s,l,u){var m=new o(l.streamFiles,u,l.platform,l.encodeFileName),b=0;try{s.forEach(function(_,I){b++;var j=function(R,w){var k=R||w,A=a[k];if(!A)throw new Error(k+" is not a valid compression method !");return A}(I.options.compression,l.compression),L=I.options.compressionOptions||l.compressionOptions||{},z=I.dir,M=I.date;I._compressWorker(j,L).withStreamInfo("file",{name:_,dir:z,date:M,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(m)}),m.entriesCount=b}catch(_){m.error(_)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),o=r("./external"),s=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function b(_){return new o.Promise(function(I,j){var L=_.decompressed.getContentWorker().pipe(new u);L.on("error",function(z){j(z)}).on("end",function(){L.streamInfo.crc32!==_.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):I()}).resume()})}n.exports=function(_,I){var j=this;return I=a.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),m.isNode&&m.isStream(_)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",_,!0,I.optimizedBinaryString,I.base64).then(function(L){var z=new l(I);return z.load(L),z}).then(function(L){var z=[o.Promise.resolve(L)],M=L.files;if(I.checkCRC32)for(var R=0;R<M.length;R++)z.push(b(M[R]));return o.Promise.all(z)}).then(function(L){for(var z=L.shift(),M=z.files,R=0;R<M.length;R++){var w=M[R],k=w.fileNameStr,A=a.resolve(w.fileNameStr);j.file(A,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:I.createFolders}),w.dir||(j.file(A).unsafeOriginalName=k)}return z.zipComment.length&&(j.comment=z.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function s(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(s,o),s.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(m){u.push({data:m,meta:{percent:0}})}).on("error",function(m){u.isPaused?this.generatedError=m:u.error(m)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function o(s,l,u){a.call(this,l),this._helper=s;var m=this;s.on("data",function(b,_){m.push(b)||m._helper.pause(),u&&u(_)}).on("error",function(b){m.emit("error",b)}).on("end",function(){m.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(A,D,P){var T,x=s.getTypeOf(D),g=s.extend(P||{},m);g.date=g.date||new Date,g.compression!==null&&(g.compression=g.compression.toUpperCase()),typeof g.unixPermissions=="string"&&(g.unixPermissions=parseInt(g.unixPermissions,8)),g.unixPermissions&&16384&g.unixPermissions&&(g.dir=!0),g.dosPermissions&&16&g.dosPermissions&&(g.dir=!0),g.dir&&(A=M(A)),g.createFolders&&(T=z(A))&&R.call(this,T,!0);var f=x==="string"&&g.binary===!1&&g.base64===!1;P&&P.binary!==void 0||(g.binary=!f),(D instanceof b&&D.uncompressedSize===0||g.dir||!D||D.length===0)&&(g.base64=!1,g.binary=!0,D="",g.compression="STORE",x="string");var d=null;d=D instanceof b||D instanceof l?D:j.isNode&&j.isStream(D)?new L(A,D):s.prepareContent(A,D,g.binary,g.optimizedBinaryString,g.base64);var v=new _(A,d,g);this.files[A]=v}var o=r("./utf8"),s=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),m=r("./defaults"),b=r("./compressedObject"),_=r("./zipObject"),I=r("./generate"),j=r("./nodejsUtils"),L=r("./nodejs/NodejsStreamInputAdapter"),z=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var D=A.lastIndexOf("/");return 0<D?A.substring(0,D):""},M=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},R=function(A,D){return D=D!==void 0?D:m.createFolders,A=M(A),this.files[A]||a.call(this,A,null,{dir:!0,createFolders:D}),this.files[A]};function w(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var D,P,T;for(D in this.files)T=this.files[D],(P=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&A(P,T)},filter:function(A){var D=[];return this.forEach(function(P,T){A(P,T)&&D.push(T)}),D},file:function(A,D,P){if(arguments.length!==1)return A=this.root+A,a.call(this,A,D,P),this;if(w(A)){var T=A;return this.filter(function(g,f){return!f.dir&&T.test(g)})}var x=this.files[this.root+A];return x&&!x.dir?x:null},folder:function(A){if(!A)return this;if(w(A))return this.filter(function(x,g){return g.dir&&A.test(x)});var D=this.root+A,P=R.call(this,D),T=this.clone();return T.root=P.name,T},remove:function(A){A=this.root+A;var D=this.files[A];if(D||(A.slice(-1)!=="/"&&(A+="/"),D=this.files[A]),D&&!D.dir)delete this.files[A];else for(var P=this.filter(function(x,g){return g.name.slice(0,A.length)===A}),T=0;T<P.length;T++)delete this.files[P[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var D,P={};try{if((P=s.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");s.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var T=P.comment||this.comment||"";D=I.generateWorker(this,P,T)}catch(x){(D=new l("error")).error(x)}return new u(D,P.type||"string",P.mimeType)},generateAsync:function(A,D){return this.generateInternalStream(A).accumulate(D)},generateNodeStream:function(A,D){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(D)}};n.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),u=s.charCodeAt(1),m=s.charCodeAt(2),b=s.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===l&&this.data[_+1]===u&&this.data[_+2]===m&&this.data[_+3]===b)return _-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),u=s.charCodeAt(1),m=s.charCodeAt(2),b=s.charCodeAt(3),_=this.readData(4);return l===_[0]&&u===_[1]&&m===_[2]&&b===_[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,u=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=s,u},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),o=r("../support"),s=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");n.exports=function(b){var _=a.getTypeOf(b);return a.checkSupport(_),_!=="string"||o.uint8array?_==="nodebuffer"?new u(b):o.uint8array?new m(a.transformTo("uint8array",b)):new s(a.transformTo("array",b)):new l(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function s(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,a),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,a),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(s,o),s.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(m){u.dataIsReady=!0,u.data=m,u.max=m&&m.length||0,u.type=a.getTypeOf(m),u.isPaused||u._tickAndRepeat()},function(m){u.error(m)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),o=r("./ConvertWorker"),s=r("./GenericWorker"),l=r("../base64"),u=r("../support"),m=r("../external"),b=null;if(u.nodestream)try{b=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(j,L){return new m.Promise(function(z,M){var R=[],w=j._internalType,k=j._outputType,A=j._mimeType;j.on("data",function(D,P){R.push(D),L&&L(P)}).on("error",function(D){R=[],M(D)}).on("end",function(){try{var D=function(P,T,x){switch(P){case"blob":return a.newBlob(a.transformTo("arraybuffer",T),x);case"base64":return l.encode(T);default:return a.transformTo(P,T)}}(k,function(P,T){var x,g=0,f=null,d=0;for(x=0;x<T.length;x++)d+=T[x].length;switch(P){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(f=new Uint8Array(d),x=0;x<T.length;x++)f.set(T[x],g),g+=T[x].length;return f;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+P+"'")}}(w,R),A);z(D)}catch(P){M(P)}R=[]}).resume()})}function I(j,L,z){var M=L;switch(L){case"blob":case"arraybuffer":M="uint8array";break;case"base64":M="string"}try{this._internalType=M,this._outputType=L,this._mimeType=z,a.checkSupport(M),this._worker=j.pipe(new o(M)),j.lock()}catch(R){this._worker=new s("error"),this._worker.error(R)}}I.prototype={accumulate:function(j){return _(this,j)},on:function(j,L){var z=this;return j==="data"?this._worker.on(j,function(M){L.call(z,M.data,M.meta)}):this._worker.on(j,function(){a.delay(L,arguments,z)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},j)}},n.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",i.nodebuffer=typeof Buffer!="undefined",i.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),m=0;m<256;m++)u[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;u[254]=u[254]=1;function b(){l.call(this,"utf-8 decode"),this.leftOver=null}function _(){l.call(this,"utf-8 encode")}i.utf8encode=function(I){return o.nodebuffer?s.newBufferFrom(I,"utf-8"):function(j){var L,z,M,R,w,k=j.length,A=0;for(R=0;R<k;R++)(64512&(z=j.charCodeAt(R)))==55296&&R+1<k&&(64512&(M=j.charCodeAt(R+1)))==56320&&(z=65536+(z-55296<<10)+(M-56320),R++),A+=z<128?1:z<2048?2:z<65536?3:4;for(L=o.uint8array?new Uint8Array(A):new Array(A),R=w=0;w<A;R++)(64512&(z=j.charCodeAt(R)))==55296&&R+1<k&&(64512&(M=j.charCodeAt(R+1)))==56320&&(z=65536+(z-55296<<10)+(M-56320),R++),z<128?L[w++]=z:(z<2048?L[w++]=192|z>>>6:(z<65536?L[w++]=224|z>>>12:(L[w++]=240|z>>>18,L[w++]=128|z>>>12&63),L[w++]=128|z>>>6&63),L[w++]=128|63&z);return L}(I)},i.utf8decode=function(I){return o.nodebuffer?a.transformTo("nodebuffer",I).toString("utf-8"):function(j){var L,z,M,R,w=j.length,k=new Array(2*w);for(L=z=0;L<w;)if((M=j[L++])<128)k[z++]=M;else if(4<(R=u[M]))k[z++]=65533,L+=R-1;else{for(M&=R===2?31:R===3?15:7;1<R&&L<w;)M=M<<6|63&j[L++],R--;1<R?k[z++]=65533:M<65536?k[z++]=M:(M-=65536,k[z++]=55296|M>>10&1023,k[z++]=56320|1023&M)}return k.length!==z&&(k.subarray?k=k.subarray(0,z):k.length=z),a.applyFromCharCode(k)}(I=a.transformTo(o.uint8array?"uint8array":"array",I))},a.inherits(b,l),b.prototype.processChunk=function(I){var j=a.transformTo(o.uint8array?"uint8array":"array",I.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var L=j;(j=new Uint8Array(L.length+this.leftOver.length)).set(this.leftOver,0),j.set(L,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var z=function(R,w){var k;for((w=w||R.length)>R.length&&(w=R.length),k=w-1;0<=k&&(192&R[k])==128;)k--;return k<0||k===0?w:k+u[R[k]]>w?k:w}(j),M=j;z!==j.length&&(o.uint8array?(M=j.subarray(0,z),this.leftOver=j.subarray(z,j.length)):(M=j.slice(0,z),this.leftOver=j.slice(z,j.length))),this.push({data:i.utf8decode(M),meta:I.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=b,a.inherits(_,l),_.prototype.processChunk=function(I){this.push({data:i.utf8encode(I.data),meta:I.meta})},i.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),l=r("./external");function u(L){return L}function m(L,z){for(var M=0;M<L.length;++M)z[M]=255&L.charCodeAt(M);return z}r("setimmediate"),i.newBlob=function(L,z){i.checkSupport("blob");try{return new Blob([L],{type:z})}catch{try{var M=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return M.append(L),M.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(L,z,M){var R=[],w=0,k=L.length;if(k<=M)return String.fromCharCode.apply(null,L);for(;w<k;)z==="array"||z==="nodebuffer"?R.push(String.fromCharCode.apply(null,L.slice(w,Math.min(w+M,k)))):R.push(String.fromCharCode.apply(null,L.subarray(w,Math.min(w+M,k)))),w+=M;return R.join("")},stringifyByChar:function(L){for(var z="",M=0;M<L.length;M++)z+=String.fromCharCode(L[M]);return z},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function _(L){var z=65536,M=i.getTypeOf(L),R=!0;if(M==="uint8array"?R=b.applyCanBeUsed.uint8array:M==="nodebuffer"&&(R=b.applyCanBeUsed.nodebuffer),R)for(;1<z;)try{return b.stringifyByChunk(L,M,z)}catch{z=Math.floor(z/2)}return b.stringifyByChar(L)}function I(L,z){for(var M=0;M<L.length;M++)z[M]=L[M];return z}i.applyFromCharCode=_;var j={};j.string={string:u,array:function(L){return m(L,new Array(L.length))},arraybuffer:function(L){return j.string.uint8array(L).buffer},uint8array:function(L){return m(L,new Uint8Array(L.length))},nodebuffer:function(L){return m(L,s.allocBuffer(L.length))}},j.array={string:_,array:u,arraybuffer:function(L){return new Uint8Array(L).buffer},uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return s.newBufferFrom(L)}},j.arraybuffer={string:function(L){return _(new Uint8Array(L))},array:function(L){return I(new Uint8Array(L),new Array(L.byteLength))},arraybuffer:u,uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return s.newBufferFrom(new Uint8Array(L))}},j.uint8array={string:_,array:function(L){return I(L,new Array(L.length))},arraybuffer:function(L){return L.buffer},uint8array:u,nodebuffer:function(L){return s.newBufferFrom(L)}},j.nodebuffer={string:_,array:function(L){return I(L,new Array(L.length))},arraybuffer:function(L){return j.nodebuffer.uint8array(L).buffer},uint8array:function(L){return I(L,new Uint8Array(L.length))},nodebuffer:u},i.transformTo=function(L,z){if(z=z||"",!L)return z;i.checkSupport(L);var M=i.getTypeOf(z);return j[M][L](z)},i.resolve=function(L){for(var z=L.split("/"),M=[],R=0;R<z.length;R++){var w=z[R];w==="."||w===""&&R!==0&&R!==z.length-1||(w===".."?M.pop():M.push(w))}return M.join("/")},i.getTypeOf=function(L){return typeof L=="string"?"string":Object.prototype.toString.call(L)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(L)?"nodebuffer":a.uint8array&&L instanceof Uint8Array?"uint8array":a.arraybuffer&&L instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(L){if(!a[L.toLowerCase()])throw new Error(L+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(L){var z,M,R="";for(M=0;M<(L||"").length;M++)R+="\\x"+((z=L.charCodeAt(M))<16?"0":"")+z.toString(16).toUpperCase();return R},i.delay=function(L,z,M){setImmediate(function(){L.apply(M||null,z||[])})},i.inherits=function(L,z){function M(){}M.prototype=z.prototype,L.prototype=new M},i.extend=function(){var L,z,M={};for(L=0;L<arguments.length;L++)for(z in arguments[L])Object.prototype.hasOwnProperty.call(arguments[L],z)&&M[z]===void 0&&(M[z]=arguments[L][z]);return M},i.prepareContent=function(L,z,M,R,w){return l.Promise.resolve(z).then(function(k){return a.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader!="undefined"?new l.Promise(function(A,D){var P=new FileReader;P.onload=function(T){A(T.target.result)},P.onerror=function(T){D(T.target.error)},P.readAsArrayBuffer(k)}):k}).then(function(k){var A=i.getTypeOf(k);return A?(A==="arraybuffer"?k=i.transformTo("uint8array",k):A==="string"&&(w?k=o.decode(k):M&&R!==!0&&(k=function(D){return m(D,a.uint8array?new Uint8Array(D.length):new Array(D.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+L+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),l=r("./zipEntry"),u=r("./support");function m(b){this.files=[],this.loadOptions=b}m.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(_)+", expected "+o.pretty(b)+")")}},isSignature:function(b,_){var I=this.reader.index;this.reader.setIndex(b);var j=this.reader.readString(4)===_;return this.reader.setIndex(I),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),_=u.uint8array?"uint8array":"array",I=o.transformTo(_,b);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,_,I,j=this.zip64EndOfCentralSize-44;0<j;)b=this.reader.readInt(2),_=this.reader.readInt(4),I=this.reader.readData(_),this.zip64ExtensibleData[b]={id:b,length:_,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,_;for(b=0;b<this.files.length;b++)_=this.files[b],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(b=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var _=b;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var j=_-I;if(0<j)this.isSignature(_,s.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(b){this.reader=a(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),m=r("./compressions"),b=r("./support");function _(I,j){this.options=I,this.loadOptions=j}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(I){var j,L;if(I.skip(22),this.fileNameLength=I.readInt(2),L=I.readInt(2),this.fileName=I.readData(this.fileNameLength),I.skip(L),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=function(z){for(var M in m)if(Object.prototype.hasOwnProperty.call(m,M)&&m[M].magic===z)return m[M];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,j,I.readData(this.compressedSize))},readCentralPart:function(I){this.versionMadeBy=I.readInt(2),I.skip(2),this.bitFlag=I.readInt(2),this.compressionMethod=I.readString(2),this.date=I.readDate(),this.crc32=I.readInt(4),this.compressedSize=I.readInt(4),this.uncompressedSize=I.readInt(4);var j=I.readInt(2);if(this.extraFieldsLength=I.readInt(2),this.fileCommentLength=I.readInt(2),this.diskNumberStart=I.readInt(2),this.internalFileAttributes=I.readInt(2),this.externalFileAttributes=I.readInt(4),this.localHeaderOffset=I.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");I.skip(j),this.readExtraFields(I),this.parseZIP64ExtraField(I),this.fileComment=I.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var I=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),I==0&&(this.dosPermissions=63&this.externalFileAttributes),I==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var I=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(I){var j,L,z,M=I.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});I.index+4<M;)j=I.readInt(2),L=I.readInt(2),z=I.readData(L),this.extraFields[j]={id:j,length:L,value:z};I.setIndex(M)},handleUTF8:function(){var I=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var L=o.transformTo(I,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(L)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var M=o.transformTo(I,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(M)}}},findExtraFieldUnicodePath:function(){var I=this.extraFields[28789];if(I){var j=a(I.value);return j.readInt(1)!==1||l(this.fileName)!==j.readInt(4)?null:u.utf8decode(j.readData(I.length-5))}return null},findExtraFieldUnicodeComment:function(){var I=this.extraFields[25461];if(I){var j=a(I.value);return j.readInt(1)!==1||l(this.fileComment)!==j.readInt(4)?null:u.utf8decode(j.readData(I.length-5))}return null}},n.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(j,L,z){this.name=j,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=L,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var o=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),m=r("./stream/GenericWorker");a.prototype={internalStream:function(j){var L=null,z="string";try{if(!j)throw new Error("No output type specified.");var M=(z=j.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),L=this._decompressWorker();var R=!this._dataBinary;R&&!M&&(L=L.pipe(new l.Utf8EncodeWorker)),!R&&M&&(L=L.pipe(new l.Utf8DecodeWorker))}catch(w){(L=new m("error")).error(w)}return new o(L,z,"")},async:function(j,L){return this.internalStream(j).accumulate(L)},nodeStream:function(j,L){return this.internalStream(j||"nodebuffer").toNodejsStream(L)},_compressWorker:function(j,L){if(this._data instanceof u&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(z,j,L)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof m?this._data:new s(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<b.length;I++)a.prototype[b[I]]=_;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var o,s,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,m=new l(j),b=a.document.createTextNode("");m.observe(b,{characterData:!0}),o=function(){b.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var L=a.document.createElement("script");L.onreadystatechange=function(){j(),L.onreadystatechange=null,L.parentNode.removeChild(L),L=null},a.document.documentElement.appendChild(L)}:function(){setTimeout(j,0)};else{var _=new a.MessageChannel;_.port1.onmessage=j,o=function(){_.port2.postMessage(0)}}var I=[];function j(){var L,z;s=!0;for(var M=I.length;M;){for(z=I,I=[],L=-1;++L<M;)z[L]();M=I.length}s=!1}n.exports=function(L){I.push(L)!==1||s||o()}}).call(this,typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function o(){}var s={},l=["REJECTED"],u=["FULFILLED"],m=["PENDING"];function b(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,M!==o&&L(this,M)}function _(M,R,w){this.promise=M,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function I(M,R,w){a(function(){var k;try{k=R(w)}catch(A){return s.reject(M,A)}k===M?s.reject(M,new TypeError("Cannot resolve promise with itself")):s.resolve(M,k)})}function j(M){var R=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof R=="function")return function(){R.apply(M,arguments)}}function L(M,R){var w=!1;function k(P){w||(w=!0,s.reject(M,P))}function A(P){w||(w=!0,s.resolve(M,P))}var D=z(function(){R(A,k)});D.status==="error"&&k(D.value)}function z(M,R){var w={};try{w.value=M(R),w.status="success"}catch(k){w.status="error",w.value=k}return w}(n.exports=b).prototype.finally=function(M){if(typeof M!="function")return this;var R=this.constructor;return this.then(function(w){return R.resolve(M()).then(function(){return w})},function(w){return R.resolve(M()).then(function(){throw w})})},b.prototype.catch=function(M){return this.then(null,M)},b.prototype.then=function(M,R){if(typeof M!="function"&&this.state===u||typeof R!="function"&&this.state===l)return this;var w=new this.constructor(o);return this.state!==m?I(w,this.state===u?M:R,this.outcome):this.queue.push(new _(w,M,R)),w},_.prototype.callFulfilled=function(M){s.resolve(this.promise,M)},_.prototype.otherCallFulfilled=function(M){I(this.promise,this.onFulfilled,M)},_.prototype.callRejected=function(M){s.reject(this.promise,M)},_.prototype.otherCallRejected=function(M){I(this.promise,this.onRejected,M)},s.resolve=function(M,R){var w=z(j,R);if(w.status==="error")return s.reject(M,w.value);var k=w.value;if(k)L(M,k);else{M.state=u,M.outcome=R;for(var A=-1,D=M.queue.length;++A<D;)M.queue[A].callFulfilled(R)}return M},s.reject=function(M,R){M.state=l,M.outcome=R;for(var w=-1,k=M.queue.length;++w<k;)M.queue[w].callRejected(R);return M},b.resolve=function(M){return M instanceof this?M:s.resolve(new this(o),M)},b.reject=function(M){var R=new this(o);return s.reject(R,M)},b.all=function(M){var R=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=M.length,k=!1;if(!w)return this.resolve([]);for(var A=new Array(w),D=0,P=-1,T=new this(o);++P<w;)x(M[P],P);return T;function x(g,f){R.resolve(g).then(function(d){A[f]=d,++D!==w||k||(k=!0,s.resolve(T,A))},function(d){k||(k=!0,s.reject(T,d))})}},b.race=function(M){var R=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=M.length,k=!1;if(!w)return this.resolve([]);for(var A=-1,D=new this(o);++A<w;)P=M[A],R.resolve(P).then(function(T){k||(k=!0,s.resolve(D,T))},function(T){k||(k=!0,s.reject(D,T))});var P;return D}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),m=Object.prototype.toString,b=0,_=-1,I=0,j=8;function L(M){if(!(this instanceof L))return new L(M);this.options=o.assign({level:_,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:I,to:""},M||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=a.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(w!==b)throw new Error(l[w]);if(R.header&&a.deflateSetHeader(this.strm,R.header),R.dictionary){var k;if(k=typeof R.dictionary=="string"?s.string2buf(R.dictionary):m.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(w=a.deflateSetDictionary(this.strm,k))!==b)throw new Error(l[w]);this._dict_set=!0}}function z(M,R){var w=new L(R);if(w.push(M,!0),w.err)throw w.msg||l[w.err];return w.result}L.prototype.push=function(M,R){var w,k,A=this.strm,D=this.options.chunkSize;if(this.ended)return!1;k=R===~~R?R:R===!0?4:0,typeof M=="string"?A.input=s.string2buf(M):m.call(M)==="[object ArrayBuffer]"?A.input=new Uint8Array(M):A.input=M,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(D),A.next_out=0,A.avail_out=D),(w=a.deflate(A,k))!==1&&w!==b)return this.onEnd(w),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(A.output,A.next_out))):this.onData(o.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&w!==1);return k===4?(w=a.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===b):k!==2||(this.onEnd(b),!(A.avail_out=0))},L.prototype.onData=function(M){this.chunks.push(M)},L.prototype.onEnd=function(M){M===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},i.Deflate=L,i.deflate=z,i.deflateRaw=function(M,R){return(R=R||{}).raw=!0,z(M,R)},i.gzip=function(M,R){return(R=R||{}).gzip=!0,z(M,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),m=r("./zlib/zstream"),b=r("./zlib/gzheader"),_=Object.prototype.toString;function I(L){if(!(this instanceof I))return new I(L);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},L||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||L&&L.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&(15&z.windowBits)==0&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var M=a.inflateInit2(this.strm,z.windowBits);if(M!==l.Z_OK)throw new Error(u[M]);this.header=new b,a.inflateGetHeader(this.strm,this.header)}function j(L,z){var M=new I(z);if(M.push(L,!0),M.err)throw M.msg||u[M.err];return M.result}I.prototype.push=function(L,z){var M,R,w,k,A,D,P=this.strm,T=this.options.chunkSize,x=this.options.dictionary,g=!1;if(this.ended)return!1;R=z===~~z?z:z===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof L=="string"?P.input=s.binstring2buf(L):_.call(L)==="[object ArrayBuffer]"?P.input=new Uint8Array(L):P.input=L,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new o.Buf8(T),P.next_out=0,P.avail_out=T),(M=a.inflate(P,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&x&&(D=typeof x=="string"?s.string2buf(x):_.call(x)==="[object ArrayBuffer]"?new Uint8Array(x):x,M=a.inflateSetDictionary(this.strm,D)),M===l.Z_BUF_ERROR&&g===!0&&(M=l.Z_OK,g=!1),M!==l.Z_STREAM_END&&M!==l.Z_OK)return this.onEnd(M),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&M!==l.Z_STREAM_END&&(P.avail_in!==0||R!==l.Z_FINISH&&R!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=s.utf8border(P.output,P.next_out),k=P.next_out-w,A=s.buf2string(P.output,w),P.next_out=k,P.avail_out=T-k,k&&o.arraySet(P.output,P.output,w,k,0),this.onData(A)):this.onData(o.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(g=!0)}while((0<P.avail_in||P.avail_out===0)&&M!==l.Z_STREAM_END);return M===l.Z_STREAM_END&&(R=l.Z_FINISH),R===l.Z_FINISH?(M=a.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===l.Z_OK):R!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(P.avail_out=0))},I.prototype.onData=function(L){this.chunks.push(L)},I.prototype.onEnd=function(L){L===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},i.Inflate=I,i.inflate=j,i.inflateRaw=function(L,z){return(z=z||{}).raw=!0,j(L,z)},i.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var m=u.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var b in m)m.hasOwnProperty(b)&&(l[b]=m[b])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,m,b,_){if(u.subarray&&l.subarray)l.set(u.subarray(m,m+b),_);else for(var I=0;I<b;I++)l[_+I]=u[m+I]},flattenChunks:function(l){var u,m,b,_,I,j;for(u=b=0,m=l.length;u<m;u++)b+=l[u].length;for(j=new Uint8Array(b),u=_=0,m=l.length;u<m;u++)I=l[u],j.set(I,_),_+=I.length;return j}},s={arraySet:function(l,u,m,b,_){for(var I=0;I<b;I++)l[_+I]=u[m+I]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function m(b,_){if(_<65537&&(b.subarray&&s||!b.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(b,_));for(var I="",j=0;j<_;j++)I+=String.fromCharCode(b[j]);return I}l[254]=l[254]=1,i.string2buf=function(b){var _,I,j,L,z,M=b.length,R=0;for(L=0;L<M;L++)(64512&(I=b.charCodeAt(L)))==55296&&L+1<M&&(64512&(j=b.charCodeAt(L+1)))==56320&&(I=65536+(I-55296<<10)+(j-56320),L++),R+=I<128?1:I<2048?2:I<65536?3:4;for(_=new a.Buf8(R),L=z=0;z<R;L++)(64512&(I=b.charCodeAt(L)))==55296&&L+1<M&&(64512&(j=b.charCodeAt(L+1)))==56320&&(I=65536+(I-55296<<10)+(j-56320),L++),I<128?_[z++]=I:(I<2048?_[z++]=192|I>>>6:(I<65536?_[z++]=224|I>>>12:(_[z++]=240|I>>>18,_[z++]=128|I>>>12&63),_[z++]=128|I>>>6&63),_[z++]=128|63&I);return _},i.buf2binstring=function(b){return m(b,b.length)},i.binstring2buf=function(b){for(var _=new a.Buf8(b.length),I=0,j=_.length;I<j;I++)_[I]=b.charCodeAt(I);return _},i.buf2string=function(b,_){var I,j,L,z,M=_||b.length,R=new Array(2*M);for(I=j=0;I<M;)if((L=b[I++])<128)R[j++]=L;else if(4<(z=l[L]))R[j++]=65533,I+=z-1;else{for(L&=z===2?31:z===3?15:7;1<z&&I<M;)L=L<<6|63&b[I++],z--;1<z?R[j++]=65533:L<65536?R[j++]=L:(L-=65536,R[j++]=55296|L>>10&1023,R[j++]=56320|1023&L)}return m(R,j)},i.utf8border=function(b,_){var I;for((_=_||b.length)>b.length&&(_=b.length),I=_-1;0<=I&&(192&b[I])==128;)I--;return I<0||I===0?_:I+l[b[I]]>_?I:_}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,o,s,l){for(var u=65535&a|0,m=a>>>16&65535|0,b=0;s!==0;){for(s-=b=2e3<s?2e3:s;m=m+(u=u+o[l++]|0)|0,--b;);u%=65521,m%=65521}return u|m<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s}();n.exports=function(o,s,l,u){var m=a,b=u+l;o^=-1;for(var _=u;_<b;_++)o=o>>>8^m[255&(o^s[_])];return-1^o}},{}],46:[function(r,n,i){var a,o=r("../utils/common"),s=r("./trees"),l=r("./adler32"),u=r("./crc32"),m=r("./messages"),b=0,_=4,I=0,j=-2,L=-1,z=4,M=2,R=8,w=9,k=286,A=30,D=19,P=2*k+1,T=15,x=3,g=258,f=g+x+1,d=42,v=113,c=1,O=2,H=3,N=4;function U(B,J){return B.msg=m[J],J}function y(B){return(B<<1)-(4<B?9:0)}function C(B){for(var J=B.length;0<=--J;)B[J]=0}function E(B){var J=B.state,Y=J.pending;Y>B.avail_out&&(Y=B.avail_out),Y!==0&&(o.arraySet(B.output,J.pending_buf,J.pending_out,Y,B.next_out),B.next_out+=Y,J.pending_out+=Y,B.total_out+=Y,B.avail_out-=Y,J.pending-=Y,J.pending===0&&(J.pending_out=0))}function F(B,J){s._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,J),B.block_start=B.strstart,E(B.strm)}function X(B,J){B.pending_buf[B.pending++]=J}function G(B,J){B.pending_buf[B.pending++]=J>>>8&255,B.pending_buf[B.pending++]=255&J}function q(B,J){var Y,K,Z=B.max_chain_length,Q=B.strstart,ue=B.prev_length,ce=B.nice_match,ae=B.strstart>B.w_size-f?B.strstart-(B.w_size-f):0,me=B.window,ve=B.w_mask,he=B.prev,ge=B.strstart+g,ye=me[Q+ue-1],pe=me[Q+ue];B.prev_length>=B.good_match&&(Z>>=2),ce>B.lookahead&&(ce=B.lookahead);do if(me[(Y=J)+ue]===pe&&me[Y+ue-1]===ye&&me[Y]===me[Q]&&me[++Y]===me[Q+1]){Q+=2,Y++;do;while(me[++Q]===me[++Y]&&me[++Q]===me[++Y]&&me[++Q]===me[++Y]&&me[++Q]===me[++Y]&&me[++Q]===me[++Y]&&me[++Q]===me[++Y]&&me[++Q]===me[++Y]&&me[++Q]===me[++Y]&&Q<ge);if(K=g-(ge-Q),Q=ge-g,ue<K){if(B.match_start=J,ce<=(ue=K))break;ye=me[Q+ue-1],pe=me[Q+ue]}}while((J=he[J&ve])>ae&&--Z!=0);return ue<=B.lookahead?ue:B.lookahead}function ne(B){var J,Y,K,Z,Q,ue,ce,ae,me,ve,he=B.w_size;do{if(Z=B.window_size-B.lookahead-B.strstart,B.strstart>=he+(he-f)){for(o.arraySet(B.window,B.window,he,he,0),B.match_start-=he,B.strstart-=he,B.block_start-=he,J=Y=B.hash_size;K=B.head[--J],B.head[J]=he<=K?K-he:0,--Y;);for(J=Y=he;K=B.prev[--J],B.prev[J]=he<=K?K-he:0,--Y;);Z+=he}if(B.strm.avail_in===0)break;if(ue=B.strm,ce=B.window,ae=B.strstart+B.lookahead,me=Z,ve=void 0,ve=ue.avail_in,me<ve&&(ve=me),Y=ve===0?0:(ue.avail_in-=ve,o.arraySet(ce,ue.input,ue.next_in,ve,ae),ue.state.wrap===1?ue.adler=l(ue.adler,ce,ve,ae):ue.state.wrap===2&&(ue.adler=u(ue.adler,ce,ve,ae)),ue.next_in+=ve,ue.total_in+=ve,ve),B.lookahead+=Y,B.lookahead+B.insert>=x)for(Q=B.strstart-B.insert,B.ins_h=B.window[Q],B.ins_h=(B.ins_h<<B.hash_shift^B.window[Q+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[Q+x-1])&B.hash_mask,B.prev[Q&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Q,Q++,B.insert--,!(B.lookahead+B.insert<x)););}while(B.lookahead<f&&B.strm.avail_in!==0)}function ie(B,J){for(var Y,K;;){if(B.lookahead<f){if(ne(B),B.lookahead<f&&J===b)return c;if(B.lookahead===0)break}if(Y=0,B.lookahead>=x&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+x-1])&B.hash_mask,Y=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),Y!==0&&B.strstart-Y<=B.w_size-f&&(B.match_length=q(B,Y)),B.match_length>=x)if(K=s._tr_tally(B,B.strstart-B.match_start,B.match_length-x),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=x){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+x-1])&B.hash_mask,Y=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else K=s._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(K&&(F(B,!1),B.strm.avail_out===0))return c}return B.insert=B.strstart<x-1?B.strstart:x-1,J===_?(F(B,!0),B.strm.avail_out===0?H:N):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?c:O}function ee(B,J){for(var Y,K,Z;;){if(B.lookahead<f){if(ne(B),B.lookahead<f&&J===b)return c;if(B.lookahead===0)break}if(Y=0,B.lookahead>=x&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+x-1])&B.hash_mask,Y=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=x-1,Y!==0&&B.prev_length<B.max_lazy_match&&B.strstart-Y<=B.w_size-f&&(B.match_length=q(B,Y),B.match_length<=5&&(B.strategy===1||B.match_length===x&&4096<B.strstart-B.match_start)&&(B.match_length=x-1)),B.prev_length>=x&&B.match_length<=B.prev_length){for(Z=B.strstart+B.lookahead-x,K=s._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-x),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=Z&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+x-1])&B.hash_mask,Y=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=x-1,B.strstart++,K&&(F(B,!1),B.strm.avail_out===0))return c}else if(B.match_available){if((K=s._tr_tally(B,0,B.window[B.strstart-1]))&&F(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return c}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(K=s._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<x-1?B.strstart:x-1,J===_?(F(B,!0),B.strm.avail_out===0?H:N):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?c:O}function te(B,J,Y,K,Z){this.good_length=B,this.max_lazy=J,this.nice_length=Y,this.max_chain=K,this.func=Z}function se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*P),this.dyn_dtree=new o.Buf16(2*(2*A+1)),this.bl_tree=new o.Buf16(2*(2*D+1)),C(this.dyn_ltree),C(this.dyn_dtree),C(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(T+1),this.heap=new o.Buf16(2*k+1),C(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*k+1),C(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(B){var J;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=M,(J=B.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?d:v,B.adler=J.wrap===2?0:1,J.last_flush=b,s._tr_init(J),I):U(B,j)}function de(B){var J=le(B);return J===I&&function(Y){Y.window_size=2*Y.w_size,C(Y.head),Y.max_lazy_match=a[Y.level].max_lazy,Y.good_match=a[Y.level].good_length,Y.nice_match=a[Y.level].nice_length,Y.max_chain_length=a[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=x-1,Y.match_available=0,Y.ins_h=0}(B.state),J}function oe(B,J,Y,K,Z,Q){if(!B)return j;var ue=1;if(J===L&&(J=6),K<0?(ue=0,K=-K):15<K&&(ue=2,K-=16),Z<1||w<Z||Y!==R||K<8||15<K||J<0||9<J||Q<0||z<Q)return U(B,j);K===8&&(K=9);var ce=new se;return(B.state=ce).strm=B,ce.wrap=ue,ce.gzhead=null,ce.w_bits=K,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=Z+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+x-1)/x),ce.window=new o.Buf8(2*ce.w_size),ce.head=new o.Buf16(ce.hash_size),ce.prev=new o.Buf16(ce.w_size),ce.lit_bufsize=1<<Z+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new o.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=J,ce.strategy=Q,ce.method=Y,de(B)}a=[new te(0,0,0,0,function(B,J){var Y=65535;for(Y>B.pending_buf_size-5&&(Y=B.pending_buf_size-5);;){if(B.lookahead<=1){if(ne(B),B.lookahead===0&&J===b)return c;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var K=B.block_start+Y;if((B.strstart===0||B.strstart>=K)&&(B.lookahead=B.strstart-K,B.strstart=K,F(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-f&&(F(B,!1),B.strm.avail_out===0))return c}return B.insert=0,J===_?(F(B,!0),B.strm.avail_out===0?H:N):(B.strstart>B.block_start&&(F(B,!1),B.strm.avail_out),c)}),new te(4,4,8,4,ie),new te(4,5,16,8,ie),new te(4,6,32,32,ie),new te(4,4,16,16,ee),new te(8,16,32,32,ee),new te(8,16,128,128,ee),new te(8,32,128,256,ee),new te(32,128,258,1024,ee),new te(32,258,258,4096,ee)],i.deflateInit=function(B,J){return oe(B,J,R,15,8,0)},i.deflateInit2=oe,i.deflateReset=de,i.deflateResetKeep=le,i.deflateSetHeader=function(B,J){return B&&B.state?B.state.wrap!==2?j:(B.state.gzhead=J,I):j},i.deflate=function(B,J){var Y,K,Z,Q;if(!B||!B.state||5<J||J<0)return B?U(B,j):j;if(K=B.state,!B.output||!B.input&&B.avail_in!==0||K.status===666&&J!==_)return U(B,B.avail_out===0?-5:j);if(K.strm=B,Y=K.last_flush,K.last_flush=J,K.status===d)if(K.wrap===2)B.adler=0,X(K,31),X(K,139),X(K,8),K.gzhead?(X(K,(K.gzhead.text?1:0)+(K.gzhead.hcrc?2:0)+(K.gzhead.extra?4:0)+(K.gzhead.name?8:0)+(K.gzhead.comment?16:0)),X(K,255&K.gzhead.time),X(K,K.gzhead.time>>8&255),X(K,K.gzhead.time>>16&255),X(K,K.gzhead.time>>24&255),X(K,K.level===9?2:2<=K.strategy||K.level<2?4:0),X(K,255&K.gzhead.os),K.gzhead.extra&&K.gzhead.extra.length&&(X(K,255&K.gzhead.extra.length),X(K,K.gzhead.extra.length>>8&255)),K.gzhead.hcrc&&(B.adler=u(B.adler,K.pending_buf,K.pending,0)),K.gzindex=0,K.status=69):(X(K,0),X(K,0),X(K,0),X(K,0),X(K,0),X(K,K.level===9?2:2<=K.strategy||K.level<2?4:0),X(K,3),K.status=v);else{var ue=R+(K.w_bits-8<<4)<<8;ue|=(2<=K.strategy||K.level<2?0:K.level<6?1:K.level===6?2:3)<<6,K.strstart!==0&&(ue|=32),ue+=31-ue%31,K.status=v,G(K,ue),K.strstart!==0&&(G(K,B.adler>>>16),G(K,65535&B.adler)),B.adler=1}if(K.status===69)if(K.gzhead.extra){for(Z=K.pending;K.gzindex<(65535&K.gzhead.extra.length)&&(K.pending!==K.pending_buf_size||(K.gzhead.hcrc&&K.pending>Z&&(B.adler=u(B.adler,K.pending_buf,K.pending-Z,Z)),E(B),Z=K.pending,K.pending!==K.pending_buf_size));)X(K,255&K.gzhead.extra[K.gzindex]),K.gzindex++;K.gzhead.hcrc&&K.pending>Z&&(B.adler=u(B.adler,K.pending_buf,K.pending-Z,Z)),K.gzindex===K.gzhead.extra.length&&(K.gzindex=0,K.status=73)}else K.status=73;if(K.status===73)if(K.gzhead.name){Z=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>Z&&(B.adler=u(B.adler,K.pending_buf,K.pending-Z,Z)),E(B),Z=K.pending,K.pending===K.pending_buf_size)){Q=1;break}Q=K.gzindex<K.gzhead.name.length?255&K.gzhead.name.charCodeAt(K.gzindex++):0,X(K,Q)}while(Q!==0);K.gzhead.hcrc&&K.pending>Z&&(B.adler=u(B.adler,K.pending_buf,K.pending-Z,Z)),Q===0&&(K.gzindex=0,K.status=91)}else K.status=91;if(K.status===91)if(K.gzhead.comment){Z=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>Z&&(B.adler=u(B.adler,K.pending_buf,K.pending-Z,Z)),E(B),Z=K.pending,K.pending===K.pending_buf_size)){Q=1;break}Q=K.gzindex<K.gzhead.comment.length?255&K.gzhead.comment.charCodeAt(K.gzindex++):0,X(K,Q)}while(Q!==0);K.gzhead.hcrc&&K.pending>Z&&(B.adler=u(B.adler,K.pending_buf,K.pending-Z,Z)),Q===0&&(K.status=103)}else K.status=103;if(K.status===103&&(K.gzhead.hcrc?(K.pending+2>K.pending_buf_size&&E(B),K.pending+2<=K.pending_buf_size&&(X(K,255&B.adler),X(K,B.adler>>8&255),B.adler=0,K.status=v)):K.status=v),K.pending!==0){if(E(B),B.avail_out===0)return K.last_flush=-1,I}else if(B.avail_in===0&&y(J)<=y(Y)&&J!==_)return U(B,-5);if(K.status===666&&B.avail_in!==0)return U(B,-5);if(B.avail_in!==0||K.lookahead!==0||J!==b&&K.status!==666){var ce=K.strategy===2?function(ae,me){for(var ve;;){if(ae.lookahead===0&&(ne(ae),ae.lookahead===0)){if(me===b)return c;break}if(ae.match_length=0,ve=s._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,ve&&(F(ae,!1),ae.strm.avail_out===0))return c}return ae.insert=0,me===_?(F(ae,!0),ae.strm.avail_out===0?H:N):ae.last_lit&&(F(ae,!1),ae.strm.avail_out===0)?c:O}(K,J):K.strategy===3?function(ae,me){for(var ve,he,ge,ye,pe=ae.window;;){if(ae.lookahead<=g){if(ne(ae),ae.lookahead<=g&&me===b)return c;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=x&&0<ae.strstart&&(he=pe[ge=ae.strstart-1])===pe[++ge]&&he===pe[++ge]&&he===pe[++ge]){ye=ae.strstart+g;do;while(he===pe[++ge]&&he===pe[++ge]&&he===pe[++ge]&&he===pe[++ge]&&he===pe[++ge]&&he===pe[++ge]&&he===pe[++ge]&&he===pe[++ge]&&ge<ye);ae.match_length=g-(ye-ge),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=x?(ve=s._tr_tally(ae,1,ae.match_length-x),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(ve=s._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),ve&&(F(ae,!1),ae.strm.avail_out===0))return c}return ae.insert=0,me===_?(F(ae,!0),ae.strm.avail_out===0?H:N):ae.last_lit&&(F(ae,!1),ae.strm.avail_out===0)?c:O}(K,J):a[K.level].func(K,J);if(ce!==H&&ce!==N||(K.status=666),ce===c||ce===H)return B.avail_out===0&&(K.last_flush=-1),I;if(ce===O&&(J===1?s._tr_align(K):J!==5&&(s._tr_stored_block(K,0,0,!1),J===3&&(C(K.head),K.lookahead===0&&(K.strstart=0,K.block_start=0,K.insert=0))),E(B),B.avail_out===0))return K.last_flush=-1,I}return J!==_?I:K.wrap<=0?1:(K.wrap===2?(X(K,255&B.adler),X(K,B.adler>>8&255),X(K,B.adler>>16&255),X(K,B.adler>>24&255),X(K,255&B.total_in),X(K,B.total_in>>8&255),X(K,B.total_in>>16&255),X(K,B.total_in>>24&255)):(G(K,B.adler>>>16),G(K,65535&B.adler)),E(B),0<K.wrap&&(K.wrap=-K.wrap),K.pending!==0?I:1)},i.deflateEnd=function(B){var J;return B&&B.state?(J=B.state.status)!==d&&J!==69&&J!==73&&J!==91&&J!==103&&J!==v&&J!==666?U(B,j):(B.state=null,J===v?U(B,-3):I):j},i.deflateSetDictionary=function(B,J){var Y,K,Z,Q,ue,ce,ae,me,ve=J.length;if(!B||!B.state||(Q=(Y=B.state).wrap)===2||Q===1&&Y.status!==d||Y.lookahead)return j;for(Q===1&&(B.adler=l(B.adler,J,ve,0)),Y.wrap=0,ve>=Y.w_size&&(Q===0&&(C(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),me=new o.Buf8(Y.w_size),o.arraySet(me,J,ve-Y.w_size,Y.w_size,0),J=me,ve=Y.w_size),ue=B.avail_in,ce=B.next_in,ae=B.input,B.avail_in=ve,B.next_in=0,B.input=J,ne(Y);Y.lookahead>=x;){for(K=Y.strstart,Z=Y.lookahead-(x-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[K+x-1])&Y.hash_mask,Y.prev[K&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=K,K++,--Z;);Y.strstart=K,Y.lookahead=x-1,ne(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=x-1,Y.match_available=0,B.next_in=ce,B.input=ae,B.avail_in=ue,Y.wrap=Q,I},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,o){var s,l,u,m,b,_,I,j,L,z,M,R,w,k,A,D,P,T,x,g,f,d,v,c,O;s=a.state,l=a.next_in,c=a.input,u=l+(a.avail_in-5),m=a.next_out,O=a.output,b=m-(o-a.avail_out),_=m+(a.avail_out-257),I=s.dmax,j=s.wsize,L=s.whave,z=s.wnext,M=s.window,R=s.hold,w=s.bits,k=s.lencode,A=s.distcode,D=(1<<s.lenbits)-1,P=(1<<s.distbits)-1;e:do{w<15&&(R+=c[l++]<<w,w+=8,R+=c[l++]<<w,w+=8),T=k[R&D];t:for(;;){if(R>>>=x=T>>>24,w-=x,(x=T>>>16&255)===0)O[m++]=65535&T;else{if(!(16&x)){if((64&x)==0){T=k[(65535&T)+(R&(1<<x)-1)];continue t}if(32&x){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}g=65535&T,(x&=15)&&(w<x&&(R+=c[l++]<<w,w+=8),g+=R&(1<<x)-1,R>>>=x,w-=x),w<15&&(R+=c[l++]<<w,w+=8,R+=c[l++]<<w,w+=8),T=A[R&P];r:for(;;){if(R>>>=x=T>>>24,w-=x,!(16&(x=T>>>16&255))){if((64&x)==0){T=A[(65535&T)+(R&(1<<x)-1)];continue r}a.msg="invalid distance code",s.mode=30;break e}if(f=65535&T,w<(x&=15)&&(R+=c[l++]<<w,(w+=8)<x&&(R+=c[l++]<<w,w+=8)),I<(f+=R&(1<<x)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(R>>>=x,w-=x,(x=m-b)<f){if(L<(x=f-x)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(v=M,(d=0)===z){if(d+=j-x,x<g){for(g-=x;O[m++]=M[d++],--x;);d=m-f,v=O}}else if(z<x){if(d+=j+z-x,(x-=z)<g){for(g-=x;O[m++]=M[d++],--x;);if(d=0,z<g){for(g-=x=z;O[m++]=M[d++],--x;);d=m-f,v=O}}}else if(d+=z-x,x<g){for(g-=x;O[m++]=M[d++],--x;);d=m-f,v=O}for(;2<g;)O[m++]=v[d++],O[m++]=v[d++],O[m++]=v[d++],g-=3;g&&(O[m++]=v[d++],1<g&&(O[m++]=v[d++]))}else{for(d=m-f;O[m++]=O[d++],O[m++]=O[d++],O[m++]=O[d++],2<(g-=3););g&&(O[m++]=O[d++],1<g&&(O[m++]=O[d++]))}break}}break}}while(l<u&&m<_);l-=g=w>>3,R&=(1<<(w-=g<<3))-1,a.next_in=l,a.next_out=m,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=m<_?_-m+257:257-(m-_),s.hold=R,s.bits=w}},{}],49:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),m=1,b=2,_=0,I=-2,j=1,L=852,z=592;function M(d){return(d>>>24&255)+(d>>>8&65280)+((65280&d)<<8)+((255&d)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(d){var v;return d&&d.state?(v=d.state,d.total_in=d.total_out=v.total=0,d.msg="",v.wrap&&(d.adler=1&v.wrap),v.mode=j,v.last=0,v.havedict=0,v.dmax=32768,v.head=null,v.hold=0,v.bits=0,v.lencode=v.lendyn=new a.Buf32(L),v.distcode=v.distdyn=new a.Buf32(z),v.sane=1,v.back=-1,_):I}function k(d){var v;return d&&d.state?((v=d.state).wsize=0,v.whave=0,v.wnext=0,w(d)):I}function A(d,v){var c,O;return d&&d.state?(O=d.state,v<0?(c=0,v=-v):(c=1+(v>>4),v<48&&(v&=15)),v&&(v<8||15<v)?I:(O.window!==null&&O.wbits!==v&&(O.window=null),O.wrap=c,O.wbits=v,k(d))):I}function D(d,v){var c,O;return d?(O=new R,(d.state=O).window=null,(c=A(d,v))!==_&&(d.state=null),c):I}var P,T,x=!0;function g(d){if(x){var v;for(P=new a.Buf32(512),T=new a.Buf32(32),v=0;v<144;)d.lens[v++]=8;for(;v<256;)d.lens[v++]=9;for(;v<280;)d.lens[v++]=7;for(;v<288;)d.lens[v++]=8;for(u(m,d.lens,0,288,P,0,d.work,{bits:9}),v=0;v<32;)d.lens[v++]=5;u(b,d.lens,0,32,T,0,d.work,{bits:5}),x=!1}d.lencode=P,d.lenbits=9,d.distcode=T,d.distbits=5}function f(d,v,c,O){var H,N=d.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new a.Buf8(N.wsize)),O>=N.wsize?(a.arraySet(N.window,v,c-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(O<(H=N.wsize-N.wnext)&&(H=O),a.arraySet(N.window,v,c-O,H,N.wnext),(O-=H)?(a.arraySet(N.window,v,c-O,O,0),N.wnext=O,N.whave=N.wsize):(N.wnext+=H,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=H))),0}i.inflateReset=k,i.inflateReset2=A,i.inflateResetKeep=w,i.inflateInit=function(d){return D(d,15)},i.inflateInit2=D,i.inflate=function(d,v){var c,O,H,N,U,y,C,E,F,X,G,q,ne,ie,ee,te,se,le,de,oe,B,J,Y,K,Z=0,Q=new a.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!d||!d.state||!d.output||!d.input&&d.avail_in!==0)return I;(c=d.state).mode===12&&(c.mode=13),U=d.next_out,H=d.output,C=d.avail_out,N=d.next_in,O=d.input,y=d.avail_in,E=c.hold,F=c.bits,X=y,G=C,J=_;e:for(;;)switch(c.mode){case j:if(c.wrap===0){c.mode=13;break}for(;F<16;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if(2&c.wrap&&E===35615){Q[c.check=0]=255&E,Q[1]=E>>>8&255,c.check=s(c.check,Q,2,0),F=E=0,c.mode=2;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&E)<<8)+(E>>8))%31){d.msg="incorrect header check",c.mode=30;break}if((15&E)!=8){d.msg="unknown compression method",c.mode=30;break}if(F-=4,B=8+(15&(E>>>=4)),c.wbits===0)c.wbits=B;else if(B>c.wbits){d.msg="invalid window size",c.mode=30;break}c.dmax=1<<B,d.adler=c.check=1,c.mode=512&E?10:12,F=E=0;break;case 2:for(;F<16;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if(c.flags=E,(255&c.flags)!=8){d.msg="unknown compression method",c.mode=30;break}if(57344&c.flags){d.msg="unknown header flags set",c.mode=30;break}c.head&&(c.head.text=E>>8&1),512&c.flags&&(Q[0]=255&E,Q[1]=E>>>8&255,c.check=s(c.check,Q,2,0)),F=E=0,c.mode=3;case 3:for(;F<32;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}c.head&&(c.head.time=E),512&c.flags&&(Q[0]=255&E,Q[1]=E>>>8&255,Q[2]=E>>>16&255,Q[3]=E>>>24&255,c.check=s(c.check,Q,4,0)),F=E=0,c.mode=4;case 4:for(;F<16;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}c.head&&(c.head.xflags=255&E,c.head.os=E>>8),512&c.flags&&(Q[0]=255&E,Q[1]=E>>>8&255,c.check=s(c.check,Q,2,0)),F=E=0,c.mode=5;case 5:if(1024&c.flags){for(;F<16;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}c.length=E,c.head&&(c.head.extra_len=E),512&c.flags&&(Q[0]=255&E,Q[1]=E>>>8&255,c.check=s(c.check,Q,2,0)),F=E=0}else c.head&&(c.head.extra=null);c.mode=6;case 6:if(1024&c.flags&&(y<(q=c.length)&&(q=y),q&&(c.head&&(B=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),a.arraySet(c.head.extra,O,N,q,B)),512&c.flags&&(c.check=s(c.check,O,q,N)),y-=q,N+=q,c.length-=q),c.length))break e;c.length=0,c.mode=7;case 7:if(2048&c.flags){if(y===0)break e;for(q=0;B=O[N+q++],c.head&&B&&c.length<65536&&(c.head.name+=String.fromCharCode(B)),B&&q<y;);if(512&c.flags&&(c.check=s(c.check,O,q,N)),y-=q,N+=q,B)break e}else c.head&&(c.head.name=null);c.length=0,c.mode=8;case 8:if(4096&c.flags){if(y===0)break e;for(q=0;B=O[N+q++],c.head&&B&&c.length<65536&&(c.head.comment+=String.fromCharCode(B)),B&&q<y;);if(512&c.flags&&(c.check=s(c.check,O,q,N)),y-=q,N+=q,B)break e}else c.head&&(c.head.comment=null);c.mode=9;case 9:if(512&c.flags){for(;F<16;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if(E!==(65535&c.check)){d.msg="header crc mismatch",c.mode=30;break}F=E=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),d.adler=c.check=0,c.mode=12;break;case 10:for(;F<32;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}d.adler=c.check=M(E),F=E=0,c.mode=11;case 11:if(c.havedict===0)return d.next_out=U,d.avail_out=C,d.next_in=N,d.avail_in=y,c.hold=E,c.bits=F,2;d.adler=c.check=1,c.mode=12;case 12:if(v===5||v===6)break e;case 13:if(c.last){E>>>=7&F,F-=7&F,c.mode=27;break}for(;F<3;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}switch(c.last=1&E,F-=1,3&(E>>>=1)){case 0:c.mode=14;break;case 1:if(g(c),c.mode=20,v!==6)break;E>>>=2,F-=2;break e;case 2:c.mode=17;break;case 3:d.msg="invalid block type",c.mode=30}E>>>=2,F-=2;break;case 14:for(E>>>=7&F,F-=7&F;F<32;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if((65535&E)!=(E>>>16^65535)){d.msg="invalid stored block lengths",c.mode=30;break}if(c.length=65535&E,F=E=0,c.mode=15,v===6)break e;case 15:c.mode=16;case 16:if(q=c.length){if(y<q&&(q=y),C<q&&(q=C),q===0)break e;a.arraySet(H,O,N,q,U),y-=q,N+=q,C-=q,U+=q,c.length-=q;break}c.mode=12;break;case 17:for(;F<14;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if(c.nlen=257+(31&E),E>>>=5,F-=5,c.ndist=1+(31&E),E>>>=5,F-=5,c.ncode=4+(15&E),E>>>=4,F-=4,286<c.nlen||30<c.ndist){d.msg="too many length or distance symbols",c.mode=30;break}c.have=0,c.mode=18;case 18:for(;c.have<c.ncode;){for(;F<3;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}c.lens[ue[c.have++]]=7&E,E>>>=3,F-=3}for(;c.have<19;)c.lens[ue[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,Y={bits:c.lenbits},J=u(0,c.lens,0,19,c.lencode,0,c.work,Y),c.lenbits=Y.bits,J){d.msg="invalid code lengths set",c.mode=30;break}c.have=0,c.mode=19;case 19:for(;c.have<c.nlen+c.ndist;){for(;te=(Z=c.lencode[E&(1<<c.lenbits)-1])>>>16&255,se=65535&Z,!((ee=Z>>>24)<=F);){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if(se<16)E>>>=ee,F-=ee,c.lens[c.have++]=se;else{if(se===16){for(K=ee+2;F<K;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if(E>>>=ee,F-=ee,c.have===0){d.msg="invalid bit length repeat",c.mode=30;break}B=c.lens[c.have-1],q=3+(3&E),E>>>=2,F-=2}else if(se===17){for(K=ee+3;F<K;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}F-=ee,B=0,q=3+(7&(E>>>=ee)),E>>>=3,F-=3}else{for(K=ee+7;F<K;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}F-=ee,B=0,q=11+(127&(E>>>=ee)),E>>>=7,F-=7}if(c.have+q>c.nlen+c.ndist){d.msg="invalid bit length repeat",c.mode=30;break}for(;q--;)c.lens[c.have++]=B}}if(c.mode===30)break;if(c.lens[256]===0){d.msg="invalid code -- missing end-of-block",c.mode=30;break}if(c.lenbits=9,Y={bits:c.lenbits},J=u(m,c.lens,0,c.nlen,c.lencode,0,c.work,Y),c.lenbits=Y.bits,J){d.msg="invalid literal/lengths set",c.mode=30;break}if(c.distbits=6,c.distcode=c.distdyn,Y={bits:c.distbits},J=u(b,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,Y),c.distbits=Y.bits,J){d.msg="invalid distances set",c.mode=30;break}if(c.mode=20,v===6)break e;case 20:c.mode=21;case 21:if(6<=y&&258<=C){d.next_out=U,d.avail_out=C,d.next_in=N,d.avail_in=y,c.hold=E,c.bits=F,l(d,G),U=d.next_out,H=d.output,C=d.avail_out,N=d.next_in,O=d.input,y=d.avail_in,E=c.hold,F=c.bits,c.mode===12&&(c.back=-1);break}for(c.back=0;te=(Z=c.lencode[E&(1<<c.lenbits)-1])>>>16&255,se=65535&Z,!((ee=Z>>>24)<=F);){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if(te&&(240&te)==0){for(le=ee,de=te,oe=se;te=(Z=c.lencode[oe+((E&(1<<le+de)-1)>>le)])>>>16&255,se=65535&Z,!(le+(ee=Z>>>24)<=F);){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}E>>>=le,F-=le,c.back+=le}if(E>>>=ee,F-=ee,c.back+=ee,c.length=se,te===0){c.mode=26;break}if(32&te){c.back=-1,c.mode=12;break}if(64&te){d.msg="invalid literal/length code",c.mode=30;break}c.extra=15&te,c.mode=22;case 22:if(c.extra){for(K=c.extra;F<K;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}c.length+=E&(1<<c.extra)-1,E>>>=c.extra,F-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=23;case 23:for(;te=(Z=c.distcode[E&(1<<c.distbits)-1])>>>16&255,se=65535&Z,!((ee=Z>>>24)<=F);){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if((240&te)==0){for(le=ee,de=te,oe=se;te=(Z=c.distcode[oe+((E&(1<<le+de)-1)>>le)])>>>16&255,se=65535&Z,!(le+(ee=Z>>>24)<=F);){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}E>>>=le,F-=le,c.back+=le}if(E>>>=ee,F-=ee,c.back+=ee,64&te){d.msg="invalid distance code",c.mode=30;break}c.offset=se,c.extra=15&te,c.mode=24;case 24:if(c.extra){for(K=c.extra;F<K;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}c.offset+=E&(1<<c.extra)-1,E>>>=c.extra,F-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){d.msg="invalid distance too far back",c.mode=30;break}c.mode=25;case 25:if(C===0)break e;if(q=G-C,c.offset>q){if((q=c.offset-q)>c.whave&&c.sane){d.msg="invalid distance too far back",c.mode=30;break}ne=q>c.wnext?(q-=c.wnext,c.wsize-q):c.wnext-q,q>c.length&&(q=c.length),ie=c.window}else ie=H,ne=U-c.offset,q=c.length;for(C<q&&(q=C),C-=q,c.length-=q;H[U++]=ie[ne++],--q;);c.length===0&&(c.mode=21);break;case 26:if(C===0)break e;H[U++]=c.length,C--,c.mode=21;break;case 27:if(c.wrap){for(;F<32;){if(y===0)break e;y--,E|=O[N++]<<F,F+=8}if(G-=C,d.total_out+=G,c.total+=G,G&&(d.adler=c.check=c.flags?s(c.check,H,G,U-G):o(c.check,H,G,U-G)),G=C,(c.flags?E:M(E))!==c.check){d.msg="incorrect data check",c.mode=30;break}F=E=0}c.mode=28;case 28:if(c.wrap&&c.flags){for(;F<32;){if(y===0)break e;y--,E+=O[N++]<<F,F+=8}if(E!==(4294967295&c.total)){d.msg="incorrect length check",c.mode=30;break}F=E=0}c.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;case 32:default:return I}return d.next_out=U,d.avail_out=C,d.next_in=N,d.avail_in=y,c.hold=E,c.bits=F,(c.wsize||G!==d.avail_out&&c.mode<30&&(c.mode<27||v!==4))&&f(d,d.output,d.next_out,G-d.avail_out)?(c.mode=31,-4):(X-=d.avail_in,G-=d.avail_out,d.total_in+=X,d.total_out+=G,c.total+=G,c.wrap&&G&&(d.adler=c.check=c.flags?s(c.check,H,G,d.next_out-G):o(c.check,H,G,d.next_out-G)),d.data_type=c.bits+(c.last?64:0)+(c.mode===12?128:0)+(c.mode===20||c.mode===15?256:0),(X==0&&G===0||v===4)&&J===_&&(J=-5),J)},i.inflateEnd=function(d){if(!d||!d.state)return I;var v=d.state;return v.window&&(v.window=null),d.state=null,_},i.inflateGetHeader=function(d,v){var c;return d&&d.state?(2&(c=d.state).wrap)==0?I:((c.head=v).done=!1,_):I},i.inflateSetDictionary=function(d,v){var c,O=v.length;return d&&d.state?(c=d.state).wrap!==0&&c.mode!==11?I:c.mode===11&&o(1,v,O,0)!==c.check?-3:f(d,v,O,O)?(c.mode=31,-4):(c.havedict=1,_):I},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(m,b,_,I,j,L,z,M){var R,w,k,A,D,P,T,x,g,f=M.bits,d=0,v=0,c=0,O=0,H=0,N=0,U=0,y=0,C=0,E=0,F=null,X=0,G=new a.Buf16(16),q=new a.Buf16(16),ne=null,ie=0;for(d=0;d<=15;d++)G[d]=0;for(v=0;v<I;v++)G[b[_+v]]++;for(H=f,O=15;1<=O&&G[O]===0;O--);if(O<H&&(H=O),O===0)return j[L++]=20971520,j[L++]=20971520,M.bits=1,0;for(c=1;c<O&&G[c]===0;c++);for(H<c&&(H=c),d=y=1;d<=15;d++)if(y<<=1,(y-=G[d])<0)return-1;if(0<y&&(m===0||O!==1))return-1;for(q[1]=0,d=1;d<15;d++)q[d+1]=q[d]+G[d];for(v=0;v<I;v++)b[_+v]!==0&&(z[q[b[_+v]]++]=v);if(P=m===0?(F=ne=z,19):m===1?(F=o,X-=257,ne=s,ie-=257,256):(F=l,ne=u,-1),d=c,D=L,U=v=E=0,k=-1,A=(C=1<<(N=H))-1,m===1&&852<C||m===2&&592<C)return 1;for(;;){for(T=d-U,g=z[v]<P?(x=0,z[v]):z[v]>P?(x=ne[ie+z[v]],F[X+z[v]]):(x=96,0),R=1<<d-U,c=w=1<<N;j[D+(E>>U)+(w-=R)]=T<<24|x<<16|g|0,w!==0;);for(R=1<<d-1;E&R;)R>>=1;if(R!==0?(E&=R-1,E+=R):E=0,v++,--G[d]==0){if(d===O)break;d=b[_+z[v]]}if(H<d&&(E&A)!==k){for(U===0&&(U=H),D+=c,y=1<<(N=d-U);N+U<O&&!((y-=G[N+U])<=0);)N++,y<<=1;if(C+=1<<N,m===1&&852<C||m===2&&592<C)return 1;j[k=E&A]=H<<24|N<<16|D-L|0}}return E!==0&&(j[D+E]=d-U<<24|64<<16|0),M.bits=H,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),o=0,s=1;function l(Z){for(var Q=Z.length;0<=--Q;)Z[Q]=0}var u=0,m=29,b=256,_=b+1+m,I=30,j=19,L=2*_+1,z=15,M=16,R=7,w=256,k=16,A=17,D=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],g=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(2*(_+2));l(f);var d=new Array(2*I);l(d);var v=new Array(512);l(v);var c=new Array(256);l(c);var O=new Array(m);l(O);var H,N,U,y=new Array(I);function C(Z,Q,ue,ce,ae){this.static_tree=Z,this.extra_bits=Q,this.extra_base=ue,this.elems=ce,this.max_length=ae,this.has_stree=Z&&Z.length}function E(Z,Q){this.dyn_tree=Z,this.max_code=0,this.stat_desc=Q}function F(Z){return Z<256?v[Z]:v[256+(Z>>>7)]}function X(Z,Q){Z.pending_buf[Z.pending++]=255&Q,Z.pending_buf[Z.pending++]=Q>>>8&255}function G(Z,Q,ue){Z.bi_valid>M-ue?(Z.bi_buf|=Q<<Z.bi_valid&65535,X(Z,Z.bi_buf),Z.bi_buf=Q>>M-Z.bi_valid,Z.bi_valid+=ue-M):(Z.bi_buf|=Q<<Z.bi_valid&65535,Z.bi_valid+=ue)}function q(Z,Q,ue){G(Z,ue[2*Q],ue[2*Q+1])}function ne(Z,Q){for(var ue=0;ue|=1&Z,Z>>>=1,ue<<=1,0<--Q;);return ue>>>1}function ie(Z,Q,ue){var ce,ae,me=new Array(z+1),ve=0;for(ce=1;ce<=z;ce++)me[ce]=ve=ve+ue[ce-1]<<1;for(ae=0;ae<=Q;ae++){var he=Z[2*ae+1];he!==0&&(Z[2*ae]=ne(me[he]++,he))}}function ee(Z){var Q;for(Q=0;Q<_;Q++)Z.dyn_ltree[2*Q]=0;for(Q=0;Q<I;Q++)Z.dyn_dtree[2*Q]=0;for(Q=0;Q<j;Q++)Z.bl_tree[2*Q]=0;Z.dyn_ltree[2*w]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function te(Z){8<Z.bi_valid?X(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function se(Z,Q,ue,ce){var ae=2*Q,me=2*ue;return Z[ae]<Z[me]||Z[ae]===Z[me]&&ce[Q]<=ce[ue]}function le(Z,Q,ue){for(var ce=Z.heap[ue],ae=ue<<1;ae<=Z.heap_len&&(ae<Z.heap_len&&se(Q,Z.heap[ae+1],Z.heap[ae],Z.depth)&&ae++,!se(Q,ce,Z.heap[ae],Z.depth));)Z.heap[ue]=Z.heap[ae],ue=ae,ae<<=1;Z.heap[ue]=ce}function de(Z,Q,ue){var ce,ae,me,ve,he=0;if(Z.last_lit!==0)for(;ce=Z.pending_buf[Z.d_buf+2*he]<<8|Z.pending_buf[Z.d_buf+2*he+1],ae=Z.pending_buf[Z.l_buf+he],he++,ce===0?q(Z,ae,Q):(q(Z,(me=c[ae])+b+1,Q),(ve=P[me])!==0&&G(Z,ae-=O[me],ve),q(Z,me=F(--ce),ue),(ve=T[me])!==0&&G(Z,ce-=y[me],ve)),he<Z.last_lit;);q(Z,w,Q)}function oe(Z,Q){var ue,ce,ae,me=Q.dyn_tree,ve=Q.stat_desc.static_tree,he=Q.stat_desc.has_stree,ge=Q.stat_desc.elems,ye=-1;for(Z.heap_len=0,Z.heap_max=L,ue=0;ue<ge;ue++)me[2*ue]!==0?(Z.heap[++Z.heap_len]=ye=ue,Z.depth[ue]=0):me[2*ue+1]=0;for(;Z.heap_len<2;)me[2*(ae=Z.heap[++Z.heap_len]=ye<2?++ye:0)]=1,Z.depth[ae]=0,Z.opt_len--,he&&(Z.static_len-=ve[2*ae+1]);for(Q.max_code=ye,ue=Z.heap_len>>1;1<=ue;ue--)le(Z,me,ue);for(ae=ge;ue=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],le(Z,me,1),ce=Z.heap[1],Z.heap[--Z.heap_max]=ue,Z.heap[--Z.heap_max]=ce,me[2*ae]=me[2*ue]+me[2*ce],Z.depth[ae]=(Z.depth[ue]>=Z.depth[ce]?Z.depth[ue]:Z.depth[ce])+1,me[2*ue+1]=me[2*ce+1]=ae,Z.heap[1]=ae++,le(Z,me,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(pe,_e){var Se,Ce,Ee,xe,ke,Ie,De=_e.dyn_tree,Le=_e.max_code,$e=_e.stat_desc.static_tree,Ve=_e.stat_desc.has_stree,ze=_e.stat_desc.extra_bits,Me=_e.stat_desc.extra_base,We=_e.stat_desc.max_length,nt=0;for(xe=0;xe<=z;xe++)pe.bl_count[xe]=0;for(De[2*pe.heap[pe.heap_max]+1]=0,Se=pe.heap_max+1;Se<L;Se++)We<(xe=De[2*De[2*(Ce=pe.heap[Se])+1]+1]+1)&&(xe=We,nt++),De[2*Ce+1]=xe,Le<Ce||(pe.bl_count[xe]++,ke=0,Me<=Ce&&(ke=ze[Ce-Me]),Ie=De[2*Ce],pe.opt_len+=Ie*(xe+ke),Ve&&(pe.static_len+=Ie*($e[2*Ce+1]+ke)));if(nt!==0){do{for(xe=We-1;pe.bl_count[xe]===0;)xe--;pe.bl_count[xe]--,pe.bl_count[xe+1]+=2,pe.bl_count[We]--,nt-=2}while(0<nt);for(xe=We;xe!==0;xe--)for(Ce=pe.bl_count[xe];Ce!==0;)Le<(Ee=pe.heap[--Se])||(De[2*Ee+1]!==xe&&(pe.opt_len+=(xe-De[2*Ee+1])*De[2*Ee],De[2*Ee+1]=xe),Ce--)}}(Z,Q),ie(me,ye,Z.bl_count)}function B(Z,Q,ue){var ce,ae,me=-1,ve=Q[1],he=0,ge=7,ye=4;for(ve===0&&(ge=138,ye=3),Q[2*(ue+1)+1]=65535,ce=0;ce<=ue;ce++)ae=ve,ve=Q[2*(ce+1)+1],++he<ge&&ae===ve||(he<ye?Z.bl_tree[2*ae]+=he:ae!==0?(ae!==me&&Z.bl_tree[2*ae]++,Z.bl_tree[2*k]++):he<=10?Z.bl_tree[2*A]++:Z.bl_tree[2*D]++,me=ae,ye=(he=0)===ve?(ge=138,3):ae===ve?(ge=6,3):(ge=7,4))}function J(Z,Q,ue){var ce,ae,me=-1,ve=Q[1],he=0,ge=7,ye=4;for(ve===0&&(ge=138,ye=3),ce=0;ce<=ue;ce++)if(ae=ve,ve=Q[2*(ce+1)+1],!(++he<ge&&ae===ve)){if(he<ye)for(;q(Z,ae,Z.bl_tree),--he!=0;);else ae!==0?(ae!==me&&(q(Z,ae,Z.bl_tree),he--),q(Z,k,Z.bl_tree),G(Z,he-3,2)):he<=10?(q(Z,A,Z.bl_tree),G(Z,he-3,3)):(q(Z,D,Z.bl_tree),G(Z,he-11,7));me=ae,ye=(he=0)===ve?(ge=138,3):ae===ve?(ge=6,3):(ge=7,4)}}l(y);var Y=!1;function K(Z,Q,ue,ce){G(Z,(u<<1)+(ce?1:0),3),function(ae,me,ve,he){te(ae),he&&(X(ae,ve),X(ae,~ve)),a.arraySet(ae.pending_buf,ae.window,me,ve,ae.pending),ae.pending+=ve}(Z,Q,ue,!0)}i._tr_init=function(Z){Y||(function(){var Q,ue,ce,ae,me,ve=new Array(z+1);for(ae=ce=0;ae<m-1;ae++)for(O[ae]=ce,Q=0;Q<1<<P[ae];Q++)c[ce++]=ae;for(c[ce-1]=ae,ae=me=0;ae<16;ae++)for(y[ae]=me,Q=0;Q<1<<T[ae];Q++)v[me++]=ae;for(me>>=7;ae<I;ae++)for(y[ae]=me<<7,Q=0;Q<1<<T[ae]-7;Q++)v[256+me++]=ae;for(ue=0;ue<=z;ue++)ve[ue]=0;for(Q=0;Q<=143;)f[2*Q+1]=8,Q++,ve[8]++;for(;Q<=255;)f[2*Q+1]=9,Q++,ve[9]++;for(;Q<=279;)f[2*Q+1]=7,Q++,ve[7]++;for(;Q<=287;)f[2*Q+1]=8,Q++,ve[8]++;for(ie(f,_+1,ve),Q=0;Q<I;Q++)d[2*Q+1]=5,d[2*Q]=ne(Q,5);H=new C(f,P,b+1,_,z),N=new C(d,T,0,I,z),U=new C(new Array(0),x,0,j,R)}(),Y=!0),Z.l_desc=new E(Z.dyn_ltree,H),Z.d_desc=new E(Z.dyn_dtree,N),Z.bl_desc=new E(Z.bl_tree,U),Z.bi_buf=0,Z.bi_valid=0,ee(Z)},i._tr_stored_block=K,i._tr_flush_block=function(Z,Q,ue,ce){var ae,me,ve=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=function(he){var ge,ye=4093624447;for(ge=0;ge<=31;ge++,ye>>>=1)if(1&ye&&he.dyn_ltree[2*ge]!==0)return o;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return s;for(ge=32;ge<b;ge++)if(he.dyn_ltree[2*ge]!==0)return s;return o}(Z)),oe(Z,Z.l_desc),oe(Z,Z.d_desc),ve=function(he){var ge;for(B(he,he.dyn_ltree,he.l_desc.max_code),B(he,he.dyn_dtree,he.d_desc.max_code),oe(he,he.bl_desc),ge=j-1;3<=ge&&he.bl_tree[2*g[ge]+1]===0;ge--);return he.opt_len+=3*(ge+1)+5+5+4,ge}(Z),ae=Z.opt_len+3+7>>>3,(me=Z.static_len+3+7>>>3)<=ae&&(ae=me)):ae=me=ue+5,ue+4<=ae&&Q!==-1?K(Z,Q,ue,ce):Z.strategy===4||me===ae?(G(Z,2+(ce?1:0),3),de(Z,f,d)):(G(Z,4+(ce?1:0),3),function(he,ge,ye,pe){var _e;for(G(he,ge-257,5),G(he,ye-1,5),G(he,pe-4,4),_e=0;_e<pe;_e++)G(he,he.bl_tree[2*g[_e]+1],3);J(he,he.dyn_ltree,ge-1),J(he,he.dyn_dtree,ye-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,ve+1),de(Z,Z.dyn_ltree,Z.dyn_dtree)),ee(Z),ce&&te(Z)},i._tr_tally=function(Z,Q,ue){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=Q>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&Q,Z.pending_buf[Z.l_buf+Z.last_lit]=255&ue,Z.last_lit++,Q===0?Z.dyn_ltree[2*ue]++:(Z.matches++,Q--,Z.dyn_ltree[2*(c[ue]+b+1)]++,Z.dyn_dtree[2*F(Q)]++),Z.last_lit===Z.lit_bufsize-1},i._tr_align=function(Z){G(Z,2,3),q(Z,w,f),function(Q){Q.bi_valid===16?(X(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)}(Z)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(o,s){if(!o.setImmediate){var l,u,m,b,_=1,I={},j=!1,L=o.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(o);z=z&&z.setTimeout?z:o,l={}.toString.call(o.process)==="[object process]"?function(k){process.nextTick(function(){R(k)})}:function(){if(o.postMessage&&!o.importScripts){var k=!0,A=o.onmessage;return o.onmessage=function(){k=!1},o.postMessage("","*"),o.onmessage=A,k}}()?(b="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(k){o.postMessage(b+k,"*")}):o.MessageChannel?((m=new MessageChannel).port1.onmessage=function(k){R(k.data)},function(k){m.port2.postMessage(k)}):L&&"onreadystatechange"in L.createElement("script")?(u=L.documentElement,function(k){var A=L.createElement("script");A.onreadystatechange=function(){R(k),A.onreadystatechange=null,u.removeChild(A),A=null},u.appendChild(A)}):function(k){setTimeout(R,0,k)},z.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var A=new Array(arguments.length-1),D=0;D<A.length;D++)A[D]=arguments[D+1];var P={callback:k,args:A};return I[_]=P,l(_),_++},z.clearImmediate=M}function M(k){delete I[k]}function R(k){if(j)setTimeout(R,0,k);else{var A=I[k];if(A){j=!0;try{(function(D){var P=D.callback,T=D.args;switch(T.length){case 0:P();break;case 1:P(T[0]);break;case 2:P(T[0],T[1]);break;case 3:P(T[0],T[1],T[2]);break;default:P.apply(s,T)}})(A)}finally{M(k),j=!1}}}}function w(k){k.source===o&&typeof k.data=="string"&&k.data.indexOf(b)===0&&R(+k.data.slice(b.length))}})(typeof self=="undefined"?a===void 0?this:a:self)}).call(this,typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(jszip_min);var JSZip=jszip_min.exports;class FileSystemError{constructor(e,r,n){this.errorCode=e,this.fileSystemItem=r,this.errorText=n}}var FileSystemError$1=FileSystemError,ErrorCode={NoAccess:0,FileExists:1,FileNotFound:2,DirectoryExists:3,DirectoryNotFound:4,WrongFileExtension:5,MaxFileSizeExceeded:6,InvalidSymbols:7,Other:32767},ErrorCode$1=ErrorCode,window$e=getWindow();class ObjectFileSystemProvider extends FileSystemProviderBase$1{constructor(e){e=ensureDefined(e,{}),super(e);var r=e.data;if(r&&!Array.isArray(r))throw errors$1.Error("E4006");var n=e.itemsExpr||"items";this._subFileItemsGetter=compileGetter(n),this._subFileItemsSetter=this._getSetter(n);var i=e.contentExpr||"content";this._contentGetter=compileGetter(i),this._contentSetter=this._getSetter(i);var a=this._getNameExpr(e);this._nameSetter=this._getSetter(a);var o=this._getIsDirExpr(e);this._getIsDirSetter=this._getSetter(o);var s=this._getKeyExpr(e);this._keySetter=this._getSetter(s);var l=this._getSizeExpr(e);this._sizeSetter=this._getSetter(l);var u=this._getDateModifiedExpr(e);this._dateModifiedSetter=this._getSetter(u),this._data=r||[]}getItems(e){return this._executeActionAsDeferred(()=>this._getItems(e),!0)}renameItem(e,r){return this._executeActionAsDeferred(()=>this._renameItemCore(e,r))}_renameItemCore(e,r){if(!!e){var n=this._findDataObject(e);this._nameSetter(n,r),e.name=r,e.key=this._ensureDataObjectKey(n)}}createDirectory(e,r){return this._executeActionAsDeferred(()=>{this._validateDirectoryExists(e),this._createDataObject(e,r,!0)})}deleteItems(e){return e.map(r=>this._executeActionAsDeferred(()=>this._deleteItem(r)))}moveItems(e,r){var n=this._findDataObject(r),i=this._getDirectoryDataItems(n),a=e.map(o=>this._executeActionAsDeferred(()=>{this._checkAbilityToMoveOrCopyItem(o,r);var s=this._findDataObject(o);this._deleteItem(o),i.push(s)}));return a}copyItems(e,r){var n=this._findDataObject(r),i=this._getDirectoryDataItems(n),a=e.map(o=>this._executeActionAsDeferred(()=>{this._checkAbilityToMoveOrCopyItem(o,r);var s=this._findDataObject(o),l=this._createCopy(s);i.push(l)}));return a}uploadFileChunk(e,r,n){if(r.chunkIndex>0)return r.customData.deferred;this._validateDirectoryExists(n);var i=r.customData.deferred=new Deferred,a=this._createFileReader();return a.readAsDataURL(e),a.onload=()=>{var o=a.result.split(",")[1],s=this._createDataObject(n,e.name,!1);this._sizeSetter(s,e.size),this._dateModifiedSetter(s,e.lastModifiedDate),this._contentSetter(s,o),i.resolve()},a.onerror=o=>i.reject(o),i}downloadItems(e){e.length===1?this._downloadSingleFile(e[0]):this._downloadMultipleFiles(e)}_downloadSingleFile(e){for(var r=this._getFileContent(e),n=window$e.atob(r),i=new ArrayBuffer(n.length),a=new Uint8Array(i),o=0;o<n.length;o++)a[o]=n.charCodeAt(o);var s=new window$e.Blob([i],{type:"application/octet-stream"});fileSaver.saveAs(e.name,null,s)}_downloadMultipleFiles(e){var r=getJSZip(),n=new r;e.forEach(o=>n.file(o.name,this._getFileContent(o),{base64:!0}));var i={type:"blob",compression:"DEFLATE",mimeType:"application/zip"},a=new Deferred;n.generateAsync?n.generateAsync(i).then(a.resolve):a.resolve(n.generate(i)),a.done(o=>fileSaver.saveAs("files.zip",null,o))}_getFileContent(e){var r=this._findDataObject(e);return this._contentGetter(r)||""}_validateDirectoryExists(e){if(!this._isFileItemExists(e)||this._isDirGetter(e.fileItem))throw new FileSystemError$1(ErrorCode$1.DirectoryNotFound,e)}_checkAbilityToMoveOrCopyItem(e,r){var n=this._findDataObject(e),i=this._getKeyFromDataObject(n,e.parentPath),a=r.getFullPathInfo(),o="";a.forEach(s=>{o=pathCombine(o,s.name);var l=this._getDataObjectKey(s.key,o);if(l===i)throw new FileSystemError$1(ErrorCode$1.Other,e)})}_createDataObject(e,r,n){var i={};this._nameSetter(i,r),this._getIsDirSetter(i,n),this._keySetter(i,String(new Guid$1));var a=this._findDataObject(e),o=this._getDirectoryDataItems(a);return o.push(i),i}_createCopy(e){var r={};this._nameSetter(r,this._nameGetter(e)),this._getIsDirSetter(r,this._isDirGetter(e));var n=this._subFileItemsGetter(e);if(Array.isArray(n)){var i=[];n.forEach(a=>{var o=this._createCopy(a);i.push(o)}),this._subFileItemsSetter(r,i)}return r}_deleteItem(e){var r=this._findDataObject(e),n=this._findFileItemObj(e.pathInfo),i=this._getDirectoryDataItems(n),a=i.indexOf(r);i.splice(a,1)}_getDirectoryDataItems(e){if(!e)return this._data;var r=this._subFileItemsGetter(e);return Array.isArray(r)||(r=[],this._subFileItemsSetter(e,r)),r}_getItems(e){this._validateDirectoryExists(e);var r=e.getFullPathInfo(),n=r&&r.length>0?r[r.length-1].key:null,i=this._data;if(n){var a=this._findFileItemObj(r);i=a&&this._subFileItemsGetter(a)||[]}return this._ensureKeysForDuplicateNameItems(i),this._convertDataObjectsToFileItems(i,r)}_ensureKeysForDuplicateNameItems(e){var r={};e.forEach(n=>{var i=this._nameGetter(n);r[i]?this._ensureDataObjectKey(n):r[i]=!0})}_findDataObject(e){if(e.isRoot())return null;var r=this._findFileItemObj(e.getFullPathInfo());if(!r){var n=e.isDirectory?ErrorCode$1.DirectoryNotFound:ErrorCode$1.FileNotFound;throw new FileSystemError$1(n,e)}return r}_findFileItemObj(e){var r=this;Array.isArray(e)||(e=[]);for(var n="",i=null,a=this._data,o=function(l){i=a.find(u=>{var m=r._isDirGetter(u)||l===e.length-1;return r._getKeyFromDataObject(u,n)===e[l].key&&r._nameGetter(u)===e[l].name&&m}),i&&(n=pathCombine(n,r._nameGetter(i)),a=r._subFileItemsGetter(i))},s=0;s<e.length&&(s===0||i);s++)o(s);return i}_getKeyFromDataObject(e,r){var n=this._keyGetter(e),i=pathCombine(r,this._nameGetter(e));return this._getDataObjectKey(n,i)}_getDataObjectKey(e,r){return e||r}_ensureDataObjectKey(e){var r=this._keyGetter(e);return r||(r=String(new Guid$1),this._keySetter(e,r)),r}_hasSubDirs(e){var r=ensureDefined(this._subFileItemsGetter(e),[]);if(!Array.isArray(r))return!0;for(var n=0;n<r.length;n++)if(this._isDirGetter(r[n])===!0)return!0;return!1}_getSetter(e){return isFunction$2(e)?e:compileSetter(e)}_isFileItemExists(e){return e.isDirectory&&e.isRoot()||!!this._findFileItemObj(e.getFullPathInfo())}_createFileReader(){return new window$e.FileReader}}function getJSZip(){if(!JSZip)throw errors$2.Error("E1041","JSZip");return JSZip}var ObjectFileSystemProvider$1=ObjectFileSystemProvider,window$d=getWindow(),nativeXMLHttpRequest={getXhr:function(){return new window$d.XMLHttpRequest}},httpRequest=dependencyInjector(nativeXMLHttpRequest),window$c=getWindow(),SUCCESS="success",ERROR="error",TIMEOUT="timeout",NO_CONTENT="nocontent",PARSER_ERROR="parsererror",isStatusSuccess=function(t){return 200<=t&&t<300},hasContent=function(t){return t!==204},paramsConvert=function(t){var e=[];for(var r in t){var n=t[r];n!==void 0&&(n===null&&(n=""),typeof n=="function"&&(n=n()),e.push(encodeURIComponent(r)+"="+encodeURIComponent(n)))}return e.join("&")},createScript=function(t){var e=domAdapter.createElement("script");for(var r in t)e[r]=t[r];return e},removeScript=function(t){t.parentNode.removeChild(t)},appendToHead=function(t){return domAdapter.getHead().appendChild(t)},evalScript=function(t){var e=createScript({text:t});appendToHead(e),removeScript(e)},evalCrossDomainScript=function(t){var e=createScript({src:t});return new Promise(function(r,n){var i={load:r,error:n},a=function(s){i[s.type](),removeScript(e)};for(var o in i)domAdapter.listen(e,o,a);appendToHead(e)})},getAcceptHeader=function(t){var e=t.dataType||"*",r="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:r,script:r};return extendFromObject(n,t.accepts,!0),n[e]?n[e]+(e!=="*"?", */*; q=0.01":""):n["*"]},getContentTypeHeader=function(t){var e;return t.data&&!t.upload&&getMethod(t)!=="GET"&&(e="application/x-www-form-urlencoded;charset=utf-8"),t.contentType||e},getDataFromResponse=function(t){return t.responseType&&t.responseType!=="text"||typeof t.responseText!="string"?t.response:t.responseText},postProcess=function(t,e,r){var n=getDataFromResponse(e);switch(r){case"jsonp":evalScript(n);break;case"script":evalScript(n),t.resolve(n,SUCCESS,e);break;case"json":try{t.resolve(JSON.parse(n),SUCCESS,e)}catch(i){t.reject(e,PARSER_ERROR,i)}break;default:t.resolve(n,SUCCESS,e)}},isCrossDomain=function(t){if(!hasWindow())return!0;var e=!1,r=domAdapter.createElement("a"),n=domAdapter.createElement("a");r.href=window$c.location.href;try{n.href=t,n.href=n.href,e=r.protocol+"//"+r.host!=n.protocol+"//"+n.host}catch{e=!0}return e},setHttpTimeout=function(t,e){return t&&setTimeout(function(){e.customStatus=TIMEOUT,e.abort()},t)},getJsonpOptions=function(t){if(t.dataType==="jsonp"){var e=Math.random().toString().replace(/\D/g,""),r=t.jsonpCallback||"dxCallback"+Date.now()+"_"+e,n=t.jsonp||"callback";return t.data=t.data||{},t.data[n]=r,r}},getRequestOptions=function(t,e){var r=t.data,n=typeof r=="string",i=t.url||window$c.location.href;return!n&&!t.cache&&(r=r||{},r._=Date.now()),r&&!t.upload&&(n||(r=paramsConvert(r)),getMethod(t)==="GET"?(r!==""&&(i+=(i.indexOf("?")>-1?"&":"?")+r),r=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(r=r.replace(/%20/g,"+"))),{url:i,parameters:r}};function getMethod(t){return(t.method||"GET").toUpperCase()}var getRequestHeaders=function(t){var e=t.headers||{};return e["Content-Type"]=e["Content-Type"]||getContentTypeHeader(t),e.Accept=e.Accept||getAcceptHeader(t),!t.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest"),e},sendRequest=function(t){var e=httpRequest.getXhr(),r=new Deferred,n=r.promise(),i=isDefined(t.async)?t.async:!0,a=t.dataType,o=t.timeout||0,s;t.crossDomain=isCrossDomain(t.url);var l=a==="jsonp"||a==="script";t.cache===void 0&&(t.cache=!l);var u=getJsonpOptions(t),m=getRequestHeaders(t),b=getRequestOptions(t,m),_=b.url,I=b.parameters;if(u&&(window$c[u]=function(z){r.resolve(z,SUCCESS,e)}),t.crossDomain&&l)return evalCrossDomainScript(_).then(function(){a!=="jsonp"&&r.resolve(null,SUCCESS,e)},function(){r.reject(e,ERROR)}),n;if(t.crossDomain&&!("withCredentials"in e))return r.reject(e,ERROR),n;if(e.open(getMethod(t),_,i,t.username,t.password),i&&(e.timeout=o,s=setHttpTimeout(o,e)),e.onreadystatechange=function(z){e.readyState===4&&(clearTimeout(s),isStatusSuccess(e.status)?hasContent(e.status)?postProcess(r,e,a):r.resolve(null,NO_CONTENT,e):r.reject(e,e.customStatus||ERROR))},t.upload&&(e.upload.onprogress=t.upload.onprogress,e.upload.onloadstart=t.upload.onloadstart,e.upload.onabort=t.upload.onabort),t.xhrFields)for(var j in t.xhrFields)e[j]=t.xhrFields[j];t.responseType==="arraybuffer"&&(e.responseType=t.responseType);for(var L in m)Object.prototype.hasOwnProperty.call(m,L)&&isDefined(m[L])&&e.setRequestHeader(L,m[L]);return t.beforeSend&&t.beforeSend(e),e.send(I),n.abort=function(){e.abort()},n},ajax=dependencyInjector({sendRequest}),window$b=getWindow(),FILE_CHUNK_BLOB_NAME="chunk",FILE_SYSTEM_COMMNAD={GET_DIR_CONTENTS:"GetDirContents",CREATE_DIR:"CreateDir",RENAME:"Rename",MOVE:"Move",COPY:"Copy",REMOVE:"Remove",UPLOAD_CHUNK:"UploadChunk",ABORT_UPLOAD:"AbortUpload",DOWLOAD:"Download"},REQUEST_METHOD={GET:"GET",POST:"POST"};class RemoteFileSystemProvider extends FileSystemProviderBase$1{constructor(e){e=ensureDefined(e,{}),super(e),this._endpointUrl=e.endpointUrl,this._beforeAjaxSend=e.beforeAjaxSend,this._beforeSubmit=e.beforeSubmit,this._requestHeaders=e.requestHeaders,this._hasSubDirsGetter=compileGetter(e.hasSubDirectoriesExpr||"hasSubDirectories")}getItems(e){var r=e.getFullPathInfo();return this._executeRequest(FILE_SYSTEM_COMMNAD.GET_DIR_CONTENTS,{pathInfo:r}).then(n=>this._convertDataObjectsToFileItems(n.result,r))}renameItem(e,r){return this._executeRequest(FILE_SYSTEM_COMMNAD.RENAME,{pathInfo:e.getFullPathInfo(),isDirectory:e.isDirectory,name:r})}createDirectory(e,r){return this._executeRequest(FILE_SYSTEM_COMMNAD.CREATE_DIR,{pathInfo:e.getFullPathInfo(),name:r})}deleteItems(e){return e.map(r=>this._executeRequest(FILE_SYSTEM_COMMNAD.REMOVE,{pathInfo:r.getFullPathInfo(),isDirectory:r.isDirectory}))}moveItems(e,r){return e.map(n=>this._executeRequest(FILE_SYSTEM_COMMNAD.MOVE,{sourcePathInfo:n.getFullPathInfo(),sourceIsDirectory:n.isDirectory,destinationPathInfo:r.getFullPathInfo()}))}copyItems(e,r){return e.map(n=>this._executeRequest(FILE_SYSTEM_COMMNAD.COPY,{sourcePathInfo:n.getFullPathInfo(),sourceIsDirectory:n.isDirectory,destinationPathInfo:r.getFullPathInfo()}))}uploadFileChunk(e,r,n){r.chunkIndex===0&&(r.customData.uploadId=new Guid$1);var i={destinationPathInfo:n.getFullPathInfo(),chunkMetadata:JSON.stringify({UploadId:r.customData.uploadId,FileName:e.name,Index:r.chunkIndex,TotalCount:r.chunkCount,FileSize:e.size})},a={url:this._endpointUrl,headers:this._requestHeaders||{},method:REQUEST_METHOD.POST,dataType:"json",data:{[FILE_CHUNK_BLOB_NAME]:r.chunkBlob,arguments:JSON.stringify(i),command:FILE_SYSTEM_COMMNAD.UPLOAD_CHUNK},upload:{onprogress:noop,onloadstart:noop,onabort:noop},xhrFields:{},cache:!1},o=new Deferred;return this._beforeSendInternal(a),ajax.sendRequest(a).done(s=>{!s.success&&o.reject(s)||o.resolve()}).fail(o.reject),o.promise()}abortFileUpload(e,r,n){return this._executeRequest(FILE_SYSTEM_COMMNAD.ABORT_UPLOAD,{uploadId:r.customData.uploadId})}downloadItems(e){var r=this._getDownloadArgs(e),n=$("<form>").css({display:"none"}).attr({method:REQUEST_METHOD.POST,action:r.url}),i={command:r.command,arguments:r.arguments};this._beforeSubmitInternal(i),this._appendFormDataInputsToForm(i,n),n.appendTo("body"),eventsEngine$1.trigger(n,"submit"),setTimeout(()=>n.remove())}getItemsContent(e){var r=this._getDownloadArgs(e),n={url:r.url,headers:this._requestHeaders||{},method:REQUEST_METHOD.POST,responseType:"arraybuffer",data:{command:r.command,arguments:r.arguments},upload:{onprogress:noop,onloadstart:noop,onabort:noop},xhrFields:{},cache:!1};return this._beforeSendInternal(n),ajax.sendRequest(n)}_getDownloadArgs(e){var r=e.map(a=>a.getFullPathInfo()),n={pathInfoList:r},i=JSON.stringify(n);return{url:this._endpointUrl,arguments:i,command:FILE_SYSTEM_COMMNAD.DOWLOAD}}_getItemsIds(e){return e.map(r=>r.relativeName)}_executeRequest(e,r){var n=e===FILE_SYSTEM_COMMNAD.GET_DIR_CONTENTS?REQUEST_METHOD.GET:REQUEST_METHOD.POST,i=new Deferred,a={url:this._getEndpointUrl(e,r),headers:this._requestHeaders||{},method:n,dataType:"json",data:{},xhrFields:{},cache:!1};return this._beforeSendInternal(a),ajax.sendRequest(a).then(o=>{!o.success&&i.reject(o)||i.resolve(o)},o=>i.reject(o)),i.promise()}_beforeSubmitInternal(e){isFunction$2(this._beforeSubmit)&&this._beforeSubmit({formData:e})}_beforeSendInternal(e){if(isFunction$2(this._beforeAjaxSend)){var r={headers:e.headers,formData:e.data,xhrFields:e.xhrFields};this._beforeAjaxSend(r),e.headers=r.headers,e.data=r.formData,e.xhrFields=r.xhrFields}isEmptyObject(e.data)?delete e.data:(e.responseType||e.upload)&&(e.data=this._createFormData(e.data))}_createFormData(e){var r=new window$b.FormData;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&isDefined(e[n])&&r.append(n,e[n]);return r}_appendFormDataInputsToForm(e,r){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&isDefined(e[n])&&$("<input>").attr({type:"hidden",name:n,value:e[n]}).appendTo(r)}_getEndpointUrl(e,r){var n=this._getQueryString({command:e,arguments:JSON.stringify(r)}),i=this._endpointUrl&&this._endpointUrl.indexOf("?")>0?"&":"?";return this._endpointUrl+i+n}_getQueryString(e){for(var r=[],n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],o=e[a];if(o!==void 0)if(o===null&&(o=""),Array.isArray(o))this._processQueryStringArrayParam(a,o,r);else{var s=this._getQueryStringPair(a,o);r.push(s)}}return r.join("&")}_processQueryStringArrayParam(e,r,n){each(r,(i,a)=>{var o=this._getQueryStringPair(e,a);n.push(o)})}_getQueryStringPair(e,r){return encodeURIComponent(e)+"="+encodeURIComponent(r)}_hasSubDirs(e){var r=this._hasSubDirsGetter(e);return typeof r=="boolean"?r:!0}_getKeyExpr(e){return e.keyExpr||"key"}}var RemoteFileSystemProvider$1=RemoteFileSystemProvider;class CustomFileSystemProvider extends FileSystemProviderBase$1{constructor(e){e=ensureDefined(e,{}),super(e),this._hasSubDirsGetter=compileGetter(e.hasSubDirectoriesExpr||"hasSubDirectories"),this._getItemsFunction=this._ensureFunction(e.getItems,()=>[]),this._renameItemFunction=this._ensureFunction(e.renameItem),this._createDirectoryFunction=this._ensureFunction(e.createDirectory),this._deleteItemFunction=this._ensureFunction(e.deleteItem),this._moveItemFunction=this._ensureFunction(e.moveItem),this._copyItemFunction=this._ensureFunction(e.copyItem),this._uploadFileChunkFunction=this._ensureFunction(e.uploadFileChunk),this._abortFileUploadFunction=this._ensureFunction(e.abortFileUpload),this._downloadItemsFunction=this._ensureFunction(e.downloadItems),this._getItemsContentFunction=this._ensureFunction(e.getItemsContent)}getItems(e){var r=e.getFullPathInfo();return this._executeActionAsDeferred(()=>this._getItemsFunction(e),!0).then(n=>this._convertDataObjectsToFileItems(n,r))}renameItem(e,r){return this._executeActionAsDeferred(()=>this._renameItemFunction(e,r))}createDirectory(e,r){return this._executeActionAsDeferred(()=>this._createDirectoryFunction(e,r))}deleteItems(e){return e.map(r=>this._executeActionAsDeferred(()=>this._deleteItemFunction(r)))}moveItems(e,r){return e.map(n=>this._executeActionAsDeferred(()=>this._moveItemFunction(n,r)))}copyItems(e,r){return e.map(n=>this._executeActionAsDeferred(()=>this._copyItemFunction(n,r)))}uploadFileChunk(e,r,n){return this._executeActionAsDeferred(()=>this._uploadFileChunkFunction(e,r,n))}abortFileUpload(e,r,n){return this._executeActionAsDeferred(()=>this._abortFileUploadFunction(e,r,n))}downloadItems(e){return this._executeActionAsDeferred(()=>this._downloadItemsFunction(e))}getItemsContent(e){return this._executeActionAsDeferred(()=>this._getItemsContentFunction(e))}_hasSubDirs(e){var r=this._hasSubDirsGetter(e);return typeof r=="boolean"?r:!0}_getKeyExpr(e){return e.keyExpr||"key"}_ensureFunction(e,r){return r=r||noop,isFunction$2(e)?e:r}}var CustomFileSystemProvider$1=CustomFileSystemProvider,DEFAULT_ROOT_FILE_SYSTEM_ITEM_NAME="Files";class FileItemsController{constructor(e){e=e||{},this._options=extend({},e),this._isInitialized=!1,this._dataLoading=!1,this._dataLoadingDeferred=null,this._rootDirectoryInfo=this._createRootDirectoryInfo(e.rootText),this._currentDirectoryInfo=this._rootDirectoryInfo,this._defaultIconMap=this._createDefaultIconMap(),this.startSingleLoad(),this._setSecurityController(),this._setProvider(e.fileProvider),this._initialize()}_initialize(){var e=this._options.currentPathKeys&&this._options.currentPathKeys.length?this.setCurrentPathByKeys(this._options.currentPathKeys):this.setCurrentPath(this._options.currentPath),r=()=>{this._isInitialized=!0,this._raiseInitialized()};e?when(e).always(r):r()}_setSecurityController(){this._securityController=new FileSecurityController({allowedFileExtensions:this._options.allowedFileExtensions,maxFileSize:this._options.uploadMaxFileSize}),this._resetState()}setAllowedFileExtensions(e){isDefined(e)&&(this._options.allowedFileExtensions=e),this._setSecurityController(),this.refresh()}setUploadOptions(e){var{maxFileSize:r,chunkSize:n}=e;isDefined(n)&&(this._options.uploadChunkSize=n),isDefined(r)&&(this._options.uploadMaxFileSize=r,this._setSecurityController(),this.refresh())}_setProvider(e){this._fileProvider=this._createFileProvider(e),this._resetState()}updateProvider(e,r){return isDefined(r)?when(this._getDirectoryByPathParts(this._rootDirectoryInfo,r,!0)).then(n=>{n!==this._rootDirectoryInfo&&this._resetCurrentDirectory(),this._setProvider(e)}).then(()=>this.setCurrentPathByKeys(r)):this._updateProviderOnly(e)}_updateProviderOnly(e){return this._resetCurrentDirectory(),this._setProvider(e),when(this.refresh())}_createFileProvider(e){if(e||(e=[]),Array.isArray(e))return new ObjectFileSystemProvider$1({data:e});if(e instanceof FileSystemProviderBase$1)return e;switch(e.type){case"remote":return new RemoteFileSystemProvider$1(e);case"custom":return new CustomFileSystemProvider$1(e)}return new ObjectFileSystemProvider$1(e)}setCurrentPath(e){var r=getPathParts(e),n=pathCombine(...r);return this.getCurrentDirectory().fileItem.relativeName===n?new Deferred().resolve().promise():this._setCurrentDirectoryByPathParts(r)}setCurrentPathByKeys(e){return equalByValue(this.getCurrentDirectory().fileItem.pathKeys,e,0,!0)?new Deferred().resolve().promise():this._setCurrentDirectoryByPathParts(e,!0)}getCurrentPath(){for(var e="",r=this.getCurrentDirectory();r&&!r.fileItem.isRoot();){var n=getEscapedFileName(r.fileItem.name);e=pathCombine(n,e),r=r.parentDirectory}return e}getCurrentPathKeys(){return this.getCurrentDirectory().fileItem.pathKeys}getCurrentDirectory(){return this._currentDirectoryInfo}setCurrentDirectory(e,r){if(!!e){if(r&&(e=this._getActualDirectoryInfo(e)),this._currentDirectoryInfo&&this._currentDirectoryInfo===e){this._raisePathPotentiallyChanged();return}var n=this._currentDirectoryInfo.fileItem.key!==e.fileItem.key;this._currentDirectoryInfo=e,n&&this._isInitialized&&(this._dataLoading||this._raiseDataLoading("navigation"),this._raiseSelectedDirectoryChanged(e))}}_resetCurrentDirectory(){this._currentDirectoryInfo=this._rootDirectoryInfo}getCurrentItems(e){return this._dataLoadingDeferred?this._dataLoadingDeferred.then(()=>this._getCurrentItemsInternal(e)):this._getCurrentItemsInternal(e)}_getCurrentItemsInternal(e){var r=this.getCurrentDirectory(),n=this.getDirectoryContents(r);return n.then(i=>{var a=this._separateItemsByType(i);return r.fileItem.hasSubDirectories=!!a.folders.length,e?a.files:i})}getDirectories(e,r){return this.getDirectoryContents(e,r).then(n=>n.filter(i=>i.fileItem.isDirectory))}_separateItemsByType(e){var r=[],n=[];return e.forEach(i=>i.fileItem.isDirectory?r.push(i):n.push(i)),{folders:r,files:n}}getDirectoryContents(e,r){if(!e)return new Deferred().resolve([this._rootDirectoryInfo]).promise();if(e.itemsLoaded)return new Deferred().resolve(e.items).promise();if(this._singleOperationLockId&&e.itemsSingleLoadErrorId===this._singleOperationLockId)return this._changeDirectoryOnError(e,r,!0),new Deferred().reject().promise();var n=e.getInternalKey(),i=this._loadedItems[n];return i||(i=this._getFileItems(e,r).then(a=>(a=a||[],e.items=a.map(o=>o.isDirectory&&this._createDirectoryInfo(o,e)||this._createFileInfo(o,e)),e.itemsLoaded=!0,e.items),()=>(this._singleOperationLockId&&e.itemsSingleLoadErrorId!==this._singleOperationLockId&&(e.itemsSingleLoadErrorId=this._singleOperationLockId),[])),this._loadedItems[n]=i,i.always(()=>{delete this._loadedItems[n]}),i)}_getFileItems(e,r){var n=null;try{n=this._fileProvider.getItems(e.fileItem)}catch(i){return this._handleItemLoadError(e,i,r)}return when(n).then(i=>this._securityController.getAllowedItems(i),i=>this._handleItemLoadError(e,i,r))}createDirectory(e,r){var n=e.fileItem,i=this._createDirInfoByName(r,e),a=this._createEditActionInfo("create",i,e);return this._processEditAction(a,o=>{o.parentDirectory=n,o.name=r,this._editingEvents.onDirectoryCreating(o)},()=>this._fileProvider.createDirectory(n,r).done(o=>(n.isRoot()||(n.hasSubDirectories=!0),o)),()=>{var o={parentDirectory:n,name:r};this._editingEvents.onDirectoryCreated(o)},()=>this._resetDirectoryState(e,!0))}renameItem(e,r){var n=e.fileItem.createClone(),i=this._createEditActionInfo("rename",e,e.parentDirectory,{itemNewName:r});return this._processEditAction(i,(a,o)=>{o.fileItem.isDirectory||this._securityController.validateExtension(r),a.item=n,a.newName=r,this._editingEvents.onItemRenaming(a)},a=>this._fileProvider.renameItem(a,r),()=>{var a={sourceItem:n,itemName:r};this._editingEvents.onItemRenamed(a)},()=>{var a=this._getActualDirectoryInfo(e.parentDirectory);this._resetDirectoryState(a),this.setCurrentDirectory(a)})}moveItems(e,r){var n=this._createEditActionInfo("move",e,r);return this._processEditAction(n,(i,a)=>{i.item=a.fileItem,i.destinationDirectory=r.fileItem,this._editingEvents.onItemMoving(i)},i=>this._fileProvider.moveItems([i],r.fileItem),i=>{var a={sourceItem:i.fileItem,parentDirectory:r.fileItem,itemName:i.fileItem.name,itemPath:pathCombine(r.fileItem.path,i.fileItem.name)};this._editingEvents.onItemMoved(a)},i=>{i&&(r=this._getActualDirectoryInfo(r),this._resetDirectoryState(r),this.setCurrentDirectory(r),r.expanded=!0),e.forEach(a=>this._resetDirectoryState(a.parentDirectory,!0))})}copyItems(e,r){var n=this._createEditActionInfo("copy",e,r);return this._processEditAction(n,(i,a)=>{i.item=a.fileItem,i.destinationDirectory=r.fileItem,this._editingEvents.onItemCopying(i)},i=>this._fileProvider.copyItems([i],r.fileItem),i=>{var a={sourceItem:i.fileItem,parentDirectory:r.fileItem,itemName:i.fileItem.name,itemPath:pathCombine(r.fileItem.path,i.fileItem.name)};this._editingEvents.onItemCopied(a)},i=>{i&&(r=this._getActualDirectoryInfo(r),this._resetDirectoryState(r),this.setCurrentDirectory(r),r.expanded=!0)})}deleteItems(e){var r=e.length>0?e[0].parentDirectory:null,n=this._createEditActionInfo("delete",e,r);return this._processEditAction(n,(i,a)=>{i.item=a.fileItem,this._editingEvents.onItemDeleting(i)},i=>this._fileProvider.deleteItems([i]),i=>this._editingEvents.onItemDeleted({item:i.fileItem}),()=>{e.forEach(i=>{var a=this._getActualDirectoryInfo(i.parentDirectory);this._resetDirectoryState(a),this.setCurrentDirectory(a)})})}processUploadSession(e,r){var n=this._getItemInfosForUploaderFiles(e.files,r),i=this._createEditActionInfo("upload",n,r,{sessionInfo:e});return this._processEditAction(i,()=>{},(a,o)=>e.deferreds[o],()=>{},()=>this._resetDirectoryState(r,!0))}uploadFileChunk(e,r,n){var i=null;r.chunkIndex===0?(this._securityController.validateMaxFileSize(e.size),this._securityController.validateExtension(e.name),i=this._processBeforeItemEditAction(o=>{o.fileData=e,o.destinationDirectory=n,this._editingEvents.onFileUploading(o)})):i=new Deferred().resolve().promise();var a=i.then(()=>this._fileProvider.uploadFileChunk(e,r,n));return r.chunkIndex===r.chunkCount-1&&(a=a.done(()=>{var o={fileData:e,parentDirectory:n};this._editingEvents.onFileUploaded(o)})),a}abortFileUpload(e,r,n){return when(this._fileProvider.abortFileUpload(e,r,n))}getFileUploadChunkSize(){var e=this._options.uploadChunkSize;return e&&e>0?e:this._fileProvider.getFileUploadChunkSize()}downloadItems(e){var r=e.map(n=>this._processBeforeItemEditAction(i=>{i.item=n.fileItem,this._editingEvents.onItemDownloading(i)},n));return when(...r).then(()=>{var n=e.map(i=>i.fileItem);return when(this._getItemActionResult(this._fileProvider.downloadItems(n))).then(()=>{},i=>{this._raiseDownloadItemsError(e,e[0].parentDirectory,i)})},n=>{this._raiseDownloadItemsError(e,e[0].parentDirectory,n)})}getItemContent(e){var r=e.map(n=>n.fileItem);return when(this._fileProvider.getItemsContent(r))}_handleItemLoadError(e,r,n){return e=this._getActualDirectoryInfo(e),this._raiseGetItemsError(e,r),this._changeDirectoryOnError(e,n),new Deferred().reject().promise()}_raiseGetItemsError(e,r){var n=this._createEditActionInfo("getItems",e,e);this._raiseEditActionStarting(n),this._raiseEditActionResultAcquired(n),this._raiseEditActionError(n,{errorCode:r.errorCode,errorText:r.errorText,fileItem:e.fileItem,index:0})}_raiseDownloadItemsError(e,r,n){var i=this._createEditActionInfo("download",e,r),a=e.length;i.singleRequest=a===1,this._raiseEditActionStarting(i),this._raiseEditActionResultAcquired(i);for(var o=0;o<a-1;o++)this._raiseEditActionItemError(i,{errorCode:n.errorCode,errorText:n.errorText,fileItem:e[o].fileItem,index:o});this._raiseEditActionError(i,{errorCode:n.errorCode,errorText:n.errorText,fileItem:e[a-1].fileItem,index:a-1})}_changeDirectoryOnError(e,r,n){n&&(e=this._getActualDirectoryInfo(e)),this._resetDirectoryState(e),e.expanded=!1,r||this.setCurrentDirectory(e.parentDirectory)}_getItemActionResult(e){return Array.isArray(e)?e[0]:e}_processEditAction(e,r,n,i,a){var o=!1;this._raiseEditActionStarting(e);var s=e.itemInfos.map((l,u)=>this._processBeforeItemEditAction(r,l).then(()=>{var m=this._getItemActionResult(n(l.fileItem,u));return m.done(()=>i(l))}));return e.singleRequest=s.length===1,this._raiseEditActionResultAcquired(e),whenSome(s,l=>{o=!0,this._raiseCompleteEditActionItem(e,l)},l=>this._raiseEditActionItemError(e,l)).then(()=>{a(o),this._raiseCompleteEditAction(e)})}_createEditActionInfo(e,r,n,i){r=Array.isArray(r)?r:[r],i=i||{};var a=r.map(o=>o.fileItem);return{name:e,itemInfos:r,items:a,directory:n,customData:i,singleRequest:!0}}_processBeforeItemEditAction(e,r){var n=new Deferred,i=this._createBeforeActionArgs();try{e(i,r)}catch(a){return n.reject(a).promise()}if(!i.cancel)n.resolve();else{if(i.cancel===!0)return n.reject({errorText:i.errorText,errorCode:i.errorCode});isPromise$1(i.cancel)&&when(i.cancel).then(a=>{a===!0?n.reject():isObject(a)&&a.cancel===!0&&n.reject({errorText:a.errorText,errorCode:a.errorCode}),n.resolve()},n.resolve)}return n.promise()}_createBeforeActionArgs(){return{errorCode:void 0,errorText:"",cancel:!1}}_getItemInfosForUploaderFiles(e,r){for(var n=this._getPathInfo(r),i=[],a=0;a<e.length;a++){var o=e[a],s=new FileSystemItem$1(n,o.name,!1),l=this._createFileInfo(s,r);i.push(l)}return i}refresh(){return this._lockRefresh?this._refreshDeferred:(this._lockRefresh=!0,this._executeDataLoad(()=>this._refreshDeferred=this._refreshInternal(),"refresh"))}startSingleLoad(){this._singleOperationLockId=new Guid$1().toString()}endSingleLoad(){delete this._singleOperationLockId}_refreshInternal(){var e={items:this._rootDirectoryInfo.items},r=this._getDirectoryPathKeyParts(this.getCurrentDirectory());return this._resetDirectoryState(this._rootDirectoryInfo),this._loadItemsRecursive(this._rootDirectoryInfo,e).then(()=>{var n=this._findDirectoryByPathKeyParts(r);this.setCurrentDirectory(n),delete this._lockRefresh})}_loadItemsRecursive(e,r){var n=this;return this.getDirectories(e).then(i=>{for(var a=[],o=function(u){var m=r.items.find(b=>i[u].fileItem.key===b.fileItem.key);if(!m)return"continue";i[u].expanded=m.expanded,i[u].expanded&&a.push(n._loadItemsRecursive(i[u],m))},s=0;s<i.length;s++)var l=o(s);return whenSome(a)},()=>null)}_setCurrentDirectoryByPathParts(e,r){return this._executeDataLoad(()=>this._setCurrentDirectoryByPathPartsInternal(e,r),"navigation")}_setCurrentDirectoryByPathPartsInternal(e,r){return this._getDirectoryByPathParts(this._rootDirectoryInfo,e,r).then(n=>{for(var i=n.parentDirectory;i;i=i.parentDirectory)i.expanded=!0;this.setCurrentDirectory(n)},()=>{this._raisePathPotentiallyChanged()})}_executeDataLoad(e,r){return this._dataLoadingDeferred?this._dataLoadingDeferred.then(()=>this._executeDataLoad(e,r)):(this._dataLoading=!0,this._dataLoadingDeferred=new Deferred,this._isInitialized&&this._raiseDataLoading(r),e().always(()=>{var n=this._dataLoadingDeferred;this._dataLoadingDeferred=null,this._dataLoading=!1,n.resolve()}))}_getDirectoryByPathParts(e,r,n){if(r.length<1)return new Deferred().resolve(e).promise();var i=n?"key":"name";return this.getDirectories(e).then(a=>{var o=a.find(l=>l.fileItem[i]===r[0]);if(!o)return new Deferred().reject().promise();var s=[...r].splice(1);return this._getDirectoryByPathParts(o,s,n)})}_getDirectoryPathKeyParts(e){for(var r=[];e&&e.parentDirectory;)r.unshift(e.fileItem.key),e=e.parentDirectory;return r}_findDirectoryByPathKeyParts(e){var r=this._rootDirectoryInfo;if(e.length===0)return r;for(var n=0,i=r;i&&n<e.length;)i=r.items.find(a=>a.fileItem.key===e[n]),i&&(r=i),n++;return r}_getActualDirectoryInfo(e){var r=this._getDirectoryPathKeyParts(e);return this._findDirectoryByPathKeyParts(r)}_createDirInfoByName(e,r){var n=this._getPathInfo(r),i=new FileSystemItem$1(n,e,!0);return this._createDirectoryInfo(i,r)}_createDirectoryInfo(e,r){return extend(this._createFileInfo(e,r),{icon:"folder",expanded:e.isRoot(),items:[]})}_createFileInfo(e,r){return{fileItem:e,parentDirectory:r,icon:this._getFileItemDefaultIcon(e),getInternalKey(){return"FIK_".concat(this.fileItem.key)},getDisplayName(){return this.displayName||this.fileItem.name}}}_resetDirectoryState(e,r){r&&(e=this._getActualDirectoryInfo(e)),e.itemsLoaded=!1,e.items=[]}_getFileItemDefaultIcon(e){if(e.isDirectory)return"folder";var r=e.getFileExtension(),n=this._defaultIconMap[r];return n||"doc"}_createDefaultIconMap(){var e={".txt":"txtfile",".rtf":"rtffile",".doc":"docfile",".docx":"docxfile",".xls":"xlsfile",".xlsx":"xlsxfile",".ppt":"pptfile",".pptx":"pptxfile",".pdf":"pdffile"};return[".png",".gif",".jpg",".jpeg",".ico",".bmp"].forEach(r=>{e[r]="image"}),e}_createRootDirectoryInfo(e){var r=new FileSystemItem$1(null,"",!0),n=this._createDirectoryInfo(r,null);return n.displayName=e||DEFAULT_ROOT_FILE_SYSTEM_ITEM_NAME,n}setRootText(e){this._rootDirectoryInfo.displayName=e||DEFAULT_ROOT_FILE_SYSTEM_ITEM_NAME}_raiseInitialized(){this._tryCallAction("onInitialized",{controller:this})}_raiseDataLoading(e){this._tryCallAction("onDataLoading",{operation:e})}_raiseSelectedDirectoryChanged(e){this._tryCallAction("onSelectedDirectoryChanged",{selectedDirectoryInfo:e})}_raiseEditActionStarting(e){this._tryCallAction("onEditActionStarting",e)}_raiseEditActionResultAcquired(e){this._tryCallAction("onEditActionResultAcquired",e)}_raiseEditActionError(e,r){this._tryCallAction("onEditActionError",e,r)}_raiseEditActionItemError(e,r){this._tryCallAction("onEditActionItemError",e,r)}_raiseCompleteEditActionItem(e,r){this._tryCallAction("onCompleteEditActionItem",e,r)}_raiseCompleteEditAction(e){this._tryCallAction("onCompleteEditAction",e)}_raisePathPotentiallyChanged(){this._tryCallAction("onPathPotentiallyChanged")}_tryCallAction(e){var r=Array.prototype.slice.call(arguments,1);this._isInitialized&&this._options[e]&&this._options[e](...r)}_resetState(){this._selectedDirectory=null,this._rootDirectoryInfo.items=[],this._rootDirectoryInfo.itemsLoaded=!1,this._loadedItems={}}_getPathInfo(e){for(var r=[],n=e;n&&!n.fileItem.isRoot();n=n.parentDirectory)r.unshift({key:n.fileItem.key,name:n.fileItem.name});return r}on(e,r){var n="on".concat(e);this._options[n]=r}get _editingEvents(){return this._options.editingEvents}}class FileSecurityController{constructor(e){this._options=extend({allowedFileExtensions:[],maxFileSize:0},e),this._extensionsMap={},this._allowedFileExtensions.forEach(r=>{this._extensionsMap[r.toUpperCase()]=!0})}getAllowedItems(e){return this._allowedFileExtensions.length===0?e:e.filter(r=>r.isDirectory||this._isValidExtension(r.name))}validateExtension(e){if(!this._isValidExtension(e))throw new FileSystemError$1(ErrorCode$1.WrongFileExtension,null)}validateMaxFileSize(e){if(this._maxFileSize&&e>this._maxFileSize)throw new FileSystemError$1(ErrorCode$1.MaxFileSizeExceeded,null)}_isValidExtension(e){if(this._allowedFileExtensions.length===0)return!0;var r=getFileExtension(e).toUpperCase();return this._extensionsMap[r]}get _allowedFileExtensions(){return this._options.allowedFileExtensions}get _maxFileSize(){return this._options.maxFileSize}}var defaultPermissions={create:!1,copy:!1,move:!1,delete:!1,rename:!1,upload:!1,download:!1};class FileManagerCommandManager{constructor(e){this._actions={},this._permissions=e||{},this._initCommands()}_initCommands(){this._commands=[{name:"create",text:messageLocalization$1.format("dxFileManager-commandCreate"),icon:"newfolder",enabled:this._permissions.create,noFileItemRequired:!0},{name:"rename",text:messageLocalization$1.format("dxFileManager-commandRename"),icon:"rename",enabled:this._permissions.rename,isSingleFileItemCommand:!0},{name:"move",text:messageLocalization$1.format("dxFileManager-commandMove"),icon:"movetofolder",enabled:this._permissions.move},{name:"copy",text:messageLocalization$1.format("dxFileManager-commandCopy"),icon:"copy",enabled:this._permissions.copy},{name:"delete",text:messageLocalization$1.format("dxFileManager-commandDelete"),icon:"trash",enabled:this._permissions.delete},{name:"download",text:messageLocalization$1.format("dxFileManager-commandDownload"),icon:"download",enabled:this._permissions.download},{name:"upload",text:messageLocalization$1.format("dxFileManager-commandUpload"),icon:"upload",enabled:this._permissions.upload,noFileItemRequired:!0},{name:"refresh",text:messageLocalization$1.format("dxFileManager-commandRefresh"),icon:"dx-filemanager-i dx-filemanager-i-refresh",enabled:!0,noFileItemRequired:!0},{name:"thumbnails",text:messageLocalization$1.format("dxFileManager-commandThumbnails"),icon:"mediumiconslayout",enabled:!0,noFileItemRequired:!0},{name:"details",text:messageLocalization$1.format("dxFileManager-commandDetails"),icon:"detailslayout",enabled:!0,noFileItemRequired:!0},{name:"clearSelection",text:messageLocalization$1.format("dxFileManager-commandClearSelection"),icon:"remove",enabled:!0},{name:"showNavPane",hint:messageLocalization$1.format("dxFileManager-commandShowNavPane"),icon:"menu",enabled:!1,noFileItemRequired:!0}],this._commandMap={},this._commands.forEach(e=>{this._commandMap[e.name]=e})}registerActions(e){this._actions=extend(this._actions,e)}executeCommand(e,r){var n=isString$2(e)?e:e.name,i=this._actions[n];if(i)return i(r)}updatePermissions(e){var r=extend({},defaultPermissions,e);this._permissions=r,each(this._permissions,n=>{this._commandMap[n].enabled=this._permissions[n]})}setCommandEnabled(e,r){var n=this.getCommandByName(e);n&&(n.enabled=r)}getCommandByName(e){return this._commandMap[e]}isCommandAvailable(e,r){var n=this.getCommandByName(e);if(!n||!n.enabled)return!1;if(n.noFileItemRequired)return!0;var i=r&&r.length||0;return i===0||r.some(a=>a.fileItem.isRoot()||a.fileItem.isParentFolder)?!1:e==="download"?r.every(a=>!a.fileItem.isDirectory):!n.isSingleFileItemCommand||i===1}}var INKRIPPLE_CLASS="dx-inkripple",INKRIPPLE_WAVE_CLASS="dx-inkripple-wave",INKRIPPLE_SHOWING_CLASS="dx-inkripple-showing",INKRIPPLE_HIDING_CLASS="dx-inkripple-hiding",DEFAULT_WAVE_SIZE_COEFFICIENT=2,MAX_WAVE_SIZE=4e3,ANIMATION_DURATION=300,HOLD_ANIMATION_DURATION=1e3,DEFAULT_WAVE_INDEX=0,initConfig=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:e,waveSizeCoefficient:r,isCentered:n,wavesNumber:i}=t;return{waveSizeCoefficient:r||DEFAULT_WAVE_SIZE_COEFFICIENT,isCentered:n||!1,wavesNumber:i||1,durations:getDurations(e!=null?e:!0)}},render$4=function(t){var e=initConfig(t);return{showWave:showWave.bind(this,e),hideWave:hideWave.bind(this,e)}},getInkRipple=function(t){var e=t.children("."+INKRIPPLE_CLASS);return e.length===0&&(e=$("<div>").addClass(INKRIPPLE_CLASS).appendTo(t)),e},getWaves=function(t,e){for(var r=getInkRipple($(t)),n=r.children("."+INKRIPPLE_WAVE_CLASS).toArray(),i=n.length;i<e;i++){var a=$("<div>").appendTo(r).addClass(INKRIPPLE_WAVE_CLASS);n.push(a[0])}return $(n)},getWaveStyleConfig=function(t,e){var r=$(e.element),n=getOuterWidth(r),i=getOuterHeight(r),a=parseInt(Math.sqrt(n*n+i*i)),o=Math.min(MAX_WAVE_SIZE,parseInt(a*t.waveSizeCoefficient)),s,l;if(t.isCentered)s=(n-o)/2,l=(i-o)/2;else{var u=e.event,m=r.offset(),b=u.pageX-m.left,_=u.pageY-m.top;s=b-o/2,l=_-o/2}return{left:s,top:l,height:o,width:o}};function showWave(t,e){var r=getWaves(e.element,t.wavesNumber).eq(e.wave||DEFAULT_WAVE_INDEX);t.hidingTimeout&&clearTimeout(t.hidingTimeout),hideSelectedWave(r),r.css(getWaveStyleConfig(t,e)),t.showingTimeout=setTimeout(showingWaveHandler.bind(this,t,r),0)}function showingWaveHandler(t,e){var r=t.durations.showingScale+"ms";e.addClass(INKRIPPLE_SHOWING_CLASS).css("transitionDuration",r)}function getDurations(t){return{showingScale:t?HOLD_ANIMATION_DURATION:ANIMATION_DURATION,hidingScale:ANIMATION_DURATION,hidingOpacity:ANIMATION_DURATION}}function hideSelectedWave(t){t.removeClass(INKRIPPLE_HIDING_CLASS).css("transitionDuration","")}function hideWave(t,e){t.showingTimeout&&clearTimeout(t.showingTimeout);var r=getWaves(e.element,e.wavesNumber).eq(e.wave||DEFAULT_WAVE_INDEX),n=t.durations,i=n.hidingScale+"ms, "+n.hidingOpacity+"ms";r.addClass(INKRIPPLE_HIDING_CLASS).removeClass(INKRIPPLE_SHOWING_CLASS).css("transitionDuration",i);var a=Math.max(n.hidingScale,n.hidingOpacity);t.hidingTimeout=setTimeout(hideSelectedWave.bind(this,r),a)}var ICON_CLASS$1="dx-icon",SVG_ICON_CLASS="dx-svg-icon",getImageSourceType=t=>!t||typeof t!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(t)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(t)?"image":/^[\w-_]+$/.test(t)?"dxIcon":/^\s?([\w-_]\s?)+$/.test(t)?"fontIcon":!1,getImageContainer=t=>{switch(getImageSourceType(t)){case"image":return $("<img>").attr("src",t).addClass(ICON_CLASS$1);case"fontIcon":return $("<i>").addClass("".concat(ICON_CLASS$1," ").concat(t));case"dxIcon":return $("<i>").addClass("".concat(ICON_CLASS$1," ").concat(ICON_CLASS$1,"-").concat(t));case"svg":return $("<i>").addClass("".concat(ICON_CLASS$1," ").concat(SVG_ICON_CLASS)).append(t);default:return null}};function stubComponent(t){return class{constructor(){throw new Error("Module '".concat(t,"' not found"))}static getInstance(){}}}var EditorClass=stubComponent("TextBox"),searchBoxMixin={_getDefaultOptions:function(){return extend(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var t=this.$element(),e=this.option("searchEnabled"),r=this._addWidgetPrefix("search"),n=this._addWidgetPrefix("with-search");if(!e){t.removeClass(n),this._removeSearchBox();return}var i=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(i):(t.addClass(n),this._$searchEditorElement=$("<div>").addClass(r).prependTo(t),this._searchEditor=this._createComponent(this._$searchEditorElement,EditorClass,i))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var t=this,e=t.option("searchEditorOptions"),r=messageLocalization$1.format("Search");return extend({mode:"search",placeholder:r,tabIndex:t.option("tabIndex"),value:t.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":r},onValueChanged:function(n){var i=t.option("searchTimeout");t._valueChangeDeferred=new Deferred,clearTimeout(t._valueChangeTimeout),t._valueChangeDeferred.done(function(){this.option("searchValue",n.value)}.bind(t)),n.event&&n.event.type==="input"&&i?t._valueChangeTimeout=setTimeout(function(){t._valueChangeDeferred.resolve()},i):t._valueChangeDeferred.resolve()}},e)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.$element()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(t,e){this.option("searchEnabled")&&this._toggleFocusClass(e,this.$element()),this.callBase(t,e)},getOperationBySearchMode:function(t){return t==="equals"?"=":t},_cleanAria:function(t){this.setAria({role:null,activedescendant:null},t),t.attr("tabIndex",null)},_optionChanged:function(t){switch(t.name){case"searchEnabled":case"searchEditorOptions":this._cleanAria(this.option("searchEnabled")?this.$element():this._itemContainer()),this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){errors$2.log("W1009");return}t.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(t.value)):this._dataSource[t.name](t.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(t)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(t){EditorClass=t}},{ios,mac}=devices$1.real(),isFocusingOnCaretChange=ios||mac,getCaret=function(t){var e;try{e={start:t.selectionStart,end:t.selectionEnd}}catch{e={start:0,end:0}}return e},setCaret=function(t,e){var r=domAdapter.getBody();if(!(!r.contains(t)&&!r.contains(t.getRootNode().host)))try{t.selectionStart=e.start,t.selectionEnd=e.end}catch{}},caret$1=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t=$(t).get(0),!isDefined(e))return getCaret(t);!r&&isFocusingOnCaretChange&&domAdapter.getActiveElement(t)!==t||setCaret(t,e)},caretUtils=caret$1;function isModernAndroidDevice(){var{android:t,version:e}=devices$1.real();return t&&e[0]>4}function isInputEventsL2Supported(){return"onbeforeinput"in domAdapter.createElement("input")&&!browser.chrome||isModernAndroidDevice()}var EMPTY_CHAR$3=" ",BaseMaskRule=Class.inherit({ctor:function(t){this._value=EMPTY_CHAR$3,extend(this,t)},next:function(t){if(!arguments.length)return this._next;this._next=t},text:noop,value:noop,rawValue:noop,handle:noop,_prepareHandlingArgs:function(t,e){var r,n,i;e=e||{};var a=Object.prototype.hasOwnProperty.call(t,"value")?"value":"text";return t[a]=(r=e.str)!==null&&r!==void 0?r:t[a],t.start=(n=e.start)!==null&&n!==void 0?n:t.start,t.length=(i=e.length)!==null&&i!==void 0?i:t.length,t.index=t.index+1,t},reset:noop,clear:noop,first:function(t){return t=t||0,this.next().first(t+1)},isAccepted:function(){return!1},adjustedCaret:function(t,e,r){return e?this._adjustedForward(t,0,r):this._adjustedBackward(t,0,r)},_adjustedForward:noop,_adjustedBackward:noop,isValid:noop}),EmptyMaskRule=BaseMaskRule.inherit({next:noop,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),MaskRule=BaseMaskRule.inherit({text:function(){return(this._value!==EMPTY_CHAR$3?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value")?t.value:t.text;if(!e||!e.length||!t.length)return 0;if(t.start)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start-1}));var r=e[0],n=e.substring(1);return this._tryAcceptChar(r,t),this._accepted()?this.next().handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))+1:this.handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))},clear:function(t){this._tryAcceptChar(EMPTY_CHAR$3,t),this.next().clear(this._prepareHandlingArgs(t))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(t,e){if(this._accepted(!1),!!this._isAllowed(t,e)){var r=t===EMPTY_CHAR$3?this.maskChar:t;e.fullText=e.fullText.substring(0,e.index)+r+e.fullText.substring(e.index+1),this._accepted(!0),this._value=t}},_accepted:function(t){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!t},first:function(t){return this._value===EMPTY_CHAR$3?t||0:this.callBase(t)},_isAllowed:function(t,e){return t===EMPTY_CHAR$3?!0:this._isValid(t,e)},_isValid:function(t,e){var r=this.allowedChars;return r instanceof RegExp?r.test(t):isFunction$2(r)?r(t,e.index,e.fullText):Array.isArray(r)?r.includes(t):r===t},isAccepted:function(t){return t===0?this._accepted():this.next().isAccepted(t-1)},_adjustedForward:function(t,e,r){return e>=t?e:this.next()._adjustedForward(t,e+1,r)||e+1},_adjustedBackward:function(t,e){return e>=t-1?t:this.next()._adjustedBackward(t,e+1)||e+1},isValid:function(t){return this._isValid(this._value,t)&&this.next().isValid(this._prepareHandlingArgs(t))}}),StubMaskRule=MaskRule.inherit({value:function(){return this.next().value()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value"),r=e?t.value:t.text;if(!r.length||!t.length)return 0;if(t.start||e)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start&&t.start-1}));var n=r[0],i=r.substring(1);this._tryAcceptChar(n);var a=this._isAllowed(n)?this._prepareHandlingArgs(t,{str:i,length:t.length-1}):t;return this.next().handle(a)+1},clear:function(t){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(t))},_tryAcceptChar:function(t){this._accepted(this._isValid(t))},_isValid:function(t){return t===this.maskChar},first:function(t){return t=t||0,this.next().first(t+1)},_adjustedForward:function(t,e,r){return e>=t&&r===this.maskChar?e:t===e+1&&this._accepted()?t:this.next()._adjustedForward(t,e+1,r)},_adjustedBackward:function(t,e){return e>=t-1?0:this.next()._adjustedBackward(t,e+1)},isValid:function(t){return this.next().isValid(this._prepareHandlingArgs(t))}}),DECIMAL_BASE$1=10;function roundByAbs(t){var e=sign(t);return e*Math.round(Math.abs(t))}function adjustValue(t,e){var r=Math.pow(DECIMAL_BASE$1,e),n=multiplyInExponentialForm(t,e);return roundByAbs(n)/r}function toFixed(t,e){var r=e||0,n=r>0?adjustValue(...arguments):t;return n.toFixed(r)}var DEFAULT_CONFIG={thousandsSeparator:",",decimalSeparator:"."},ESCAPING_CHAR="'",MAXIMUM_NUMBER_LENGTH=15,PERCENT_EXPONENT_SHIFT=2;function getGroupSizes(t){return t.split(",").slice(1).map(function(e){var r=0;return e.split("").filter(function(n,i){r+=n==="'";var a=n==="#"||n==="0",o=r%2;return a&&!o}).length})}function getSignParts(t){var e=t.split(";");return e.length===1&&e.push("-"+e[0]),e}function reverseString(t){return t.toString().split("").reverse().join("")}function isPercentFormat(t){return t.indexOf("%")!==-1&&!t.match(/'[^']*%[^']*'/g)}function removeStubs(t){return t.replace(/'.+'/g,"")}function getNonRequiredDigitCount(t){if(!t)return 0;var e=removeStubs(t);return e.length-e.replace(/[#]/g,"").length}function getRequiredDigitCount(t){if(!t)return 0;var e=removeStubs(t);return e.length-e.replace(/[0]/g,"").length}function normalizeValueString(t,e,r){if(!t)return"";for(t.length>r&&(t=t.substr(0,r));t.length>e&&t.slice(-1)==="0";)t=t.substr(0,t.length-1);for(;t.length<e;)t+="0";return t}function applyGroups(t,e,r){if(!e.length)return t;for(var n=[],i=0;t;){var a=e[i];if(!a)break;n.push(t.slice(0,a)),t=t.slice(a),i<e.length-1&&i++}return n.join(r)}function formatNumberPart(t,e){return t.split(ESCAPING_CHAR).map(function(r,n){var i=n%2;return!r&&i?ESCAPING_CHAR:i?r:r.replace(/[,#0]+/,e)}).join("")}function getFloatPointIndex(t){for(var e=!1,r=0;r<t.length;r++)if(t[r]==="'"&&(e=!e),t[r]==="."&&!e)return r;return t.length}function getFormatter$2(t,e){return e=e||DEFAULT_CONFIG,function(r){if(typeof r!="number"||isNaN(r))return"";var n=getSignParts(t),i=1/r===1/0,a=r>0||i,o=n[a?0:1],s=getFloatPointIndex(o),l=[o.substr(0,s),o.substr(s+1)],u=getRequiredDigitCount(l[1]),m=u+getNonRequiredDigitCount(l[1]);isPercentFormat(o)&&(r=multiplyInExponentialForm(r,PERCENT_EXPONENT_SHIFT)),a||(r=-r);var b=getRequiredDigitCount(l[0]),_=getNonRequiredDigitCount(l[0])||e.unlimitedIntegerDigits?void 0:b,I=Math.floor(r).toString().length,j=fitIntoRange(m,0,MAXIMUM_NUMBER_LENGTH-I),L=getGroupSizes(l[0]).reverse(),z=toFixed(r,j<0?0:j).split("."),M=normalizeValueString(reverseString(z[0]),b,_),R=normalizeValueString(z[1],u,m);M=applyGroups(M,L,e.thousandsSeparator);var w=reverseString(formatNumberPart(reverseString(l[0]),M)),k=m?formatNumberPart(l[1],R):"",A=w+(k.match(/\d/)?e.decimalSeparator:"")+k;return A}}var currencyLocalization={_formatNumberCore:function(t,e,r){if(e==="currency"){r.precision=r.precision||0;var n=this.format(t,extend({},r,{type:"fixedpoint"})),i=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return n=n.replace(/^(\D*)(\d.*)/,"$1"+i+"$2"),n}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}},openXmlCurrencyFormat=(t,e)=>{if(!!e){var r=t;if(typeof t=="string"){r="";for(var n=0;n<t.length;n++)t[n]!=="$"&&(r+="\\"),r+=t[n]}for(var i={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\\xA4":r},a=e.split(";"),o=0;o<a.length;o++)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[o]=a[o].replace(new RegExp(s,"g"),i[s]));return a.length===2?a[0]+"_);"+a[1]:a[0]}},accountingFormats={af:"\xA4#,##0.00;(\xA4#,##0.00)","af-NA":"\xA4#,##0.00;(\xA4#,##0.00)",agq:"#,##0.00\xA4",ak:"\xA4#,##0.00",am:"\xA4#,##0.00;(\xA4#,##0.00)",ar:"\xA4#,##0.00;(\xA4#,##0.00)","ar-AE":"\xA4#,##0.00;(\xA4#,##0.00)","ar-BH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DZ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EG":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-ER":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IL":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IQ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-JO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KW":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LB":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MR":"\xA4#,##0.00;(\xA4#,##0.00)","ar-OM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-PS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-QA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TN":"\xA4#,##0.00;(\xA4#,##0.00)","ar-YE":"\xA4#,##0.00;(\xA4#,##0.00)",as:"\xA4\xA0#,##,##0.00",asa:"#,##0.00\xA0\xA4",ast:"#,##0.00\xA0\xA4",az:"#,##0.00\xA0\xA4","az-Cyrl":"#,##0.00\xA0\xA4","az-Latn":"#,##0.00\xA0\xA4",bas:"#,##0.00\xA0\xA4",be:"#,##0.00\xA0\xA4","be-tarask":"#,##0.00\xA0\xA4",bem:"\xA4#,##0.00;(\xA4#,##0.00)",bez:"#,##0.00\xA4",bg:"0.00\xA0\xA4;(0.00\xA0\xA4)",bm:"\xA4#,##0.00;(\xA4#,##0.00)",bn:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","bn-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",bo:"\xA4\xA0#,##0.00","bo-IN":"\xA4\xA0#,##0.00",br:"#,##0.00\xA0\xA4",brx:"\xA4\xA0#,##,##0.00",bs:"#,##0.00\xA0\xA4","bs-Cyrl":"#,##0.00\xA0\xA4","bs-Latn":"#,##0.00\xA0\xA4",ca:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-AD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-ES-valencia":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-FR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-IT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ccp:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","ccp-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",ce:"#,##0.00\xA0\xA4",ceb:"\xA4#,##0.00;(\xA4#,##0.00)",cgg:"\xA4#,##0.00",chr:"\xA4#,##0.00;(\xA4#,##0.00)",ckb:"\xA4\xA0#,##0.00","ckb-IR":"\xA4\xA0#,##0.00",cs:"#,##0.00\xA0\xA4",cy:"\xA4#,##0.00;(\xA4#,##0.00)",da:"#,##0.00\xA0\xA4","da-GL":"#,##0.00\xA0\xA4",dav:"\xA4#,##0.00;(\xA4#,##0.00)",de:"#,##0.00\xA0\xA4","de-AT":"#,##0.00\xA0\xA4","de-BE":"#,##0.00\xA0\xA4","de-CH":"#,##0.00\xA0\xA4","de-IT":"#,##0.00\xA0\xA4","de-LI":"#,##0.00\xA0\xA4","de-LU":"#,##0.00\xA0\xA4",dje:"#,##0.00\xA4",doi:"\xA4#,##0.00",dsb:"#,##0.00\xA0\xA4",dua:"#,##0.00\xA0\xA4",dyo:"#,##0.00\xA0\xA4",dz:"\xA4#,##,##0.00",ebu:"\xA4#,##0.00;(\xA4#,##0.00)",ee:"\xA4#,##0.00;(\xA4#,##0.00)","ee-TG":"\xA4#,##0.00;(\xA4#,##0.00)",el:"#,##0.00\xA0\xA4","el-CY":"#,##0.00\xA0\xA4",en:"\xA4#,##0.00;(\xA4#,##0.00)","en-001":"\xA4#,##0.00;(\xA4#,##0.00)","en-150":"#,##0.00\xA0\xA4","en-AE":"\xA4#,##0.00;(\xA4#,##0.00)","en-AG":"\xA4#,##0.00;(\xA4#,##0.00)","en-AI":"\xA4#,##0.00;(\xA4#,##0.00)","en-AS":"\xA4#,##0.00;(\xA4#,##0.00)","en-AT":"\xA4\xA0#,##0.00","en-AU":"\xA4#,##0.00;(\xA4#,##0.00)","en-BB":"\xA4#,##0.00;(\xA4#,##0.00)","en-BE":"#,##0.00\xA0\xA4","en-BI":"\xA4#,##0.00;(\xA4#,##0.00)","en-BM":"\xA4#,##0.00;(\xA4#,##0.00)","en-BS":"\xA4#,##0.00;(\xA4#,##0.00)","en-BW":"\xA4#,##0.00;(\xA4#,##0.00)","en-BZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-CA":"\xA4#,##0.00;(\xA4#,##0.00)","en-CC":"\xA4#,##0.00;(\xA4#,##0.00)","en-CH":"\xA4\xA0#,##0.00;\xA4-#,##0.00","en-CK":"\xA4#,##0.00;(\xA4#,##0.00)","en-CM":"\xA4#,##0.00;(\xA4#,##0.00)","en-CX":"\xA4#,##0.00;(\xA4#,##0.00)","en-CY":"\xA4#,##0.00;(\xA4#,##0.00)","en-DE":"#,##0.00\xA0\xA4","en-DG":"\xA4#,##0.00;(\xA4#,##0.00)","en-DK":"#,##0.00\xA0\xA4","en-DM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ER":"\xA4#,##0.00;(\xA4#,##0.00)","en-FI":"#,##0.00\xA0\xA4","en-FJ":"\xA4#,##0.00;(\xA4#,##0.00)","en-FK":"\xA4#,##0.00;(\xA4#,##0.00)","en-FM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GB":"\xA4#,##0.00;(\xA4#,##0.00)","en-GD":"\xA4#,##0.00;(\xA4#,##0.00)","en-GG":"\xA4#,##0.00;(\xA4#,##0.00)","en-GH":"\xA4#,##0.00;(\xA4#,##0.00)","en-GI":"\xA4#,##0.00;(\xA4#,##0.00)","en-GM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GU":"\xA4#,##0.00;(\xA4#,##0.00)","en-GY":"\xA4#,##0.00;(\xA4#,##0.00)","en-HK":"\xA4#,##0.00;(\xA4#,##0.00)","en-IE":"\xA4#,##0.00;(\xA4#,##0.00)","en-IL":"\xA4#,##0.00;(\xA4#,##0.00)","en-IM":"\xA4#,##0.00;(\xA4#,##0.00)","en-IN":"\xA4#,##0.00;(\xA4#,##0.00)","en-IO":"\xA4#,##0.00;(\xA4#,##0.00)","en-JE":"\xA4#,##0.00;(\xA4#,##0.00)","en-JM":"\xA4#,##0.00;(\xA4#,##0.00)","en-KE":"\xA4#,##0.00;(\xA4#,##0.00)","en-KI":"\xA4#,##0.00;(\xA4#,##0.00)","en-KN":"\xA4#,##0.00;(\xA4#,##0.00)","en-KY":"\xA4#,##0.00;(\xA4#,##0.00)","en-LC":"\xA4#,##0.00;(\xA4#,##0.00)","en-LR":"\xA4#,##0.00;(\xA4#,##0.00)","en-LS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MG":"\xA4#,##0.00;(\xA4#,##0.00)","en-MH":"\xA4#,##0.00;(\xA4#,##0.00)","en-MO":"\xA4#,##0.00;(\xA4#,##0.00)","en-MP":"\xA4#,##0.00;(\xA4#,##0.00)","en-MS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MT":"\xA4#,##0.00;(\xA4#,##0.00)","en-MU":"\xA4#,##0.00;(\xA4#,##0.00)","en-MV":"\xA4\xA0#,##0.00","en-MW":"\xA4#,##0.00;(\xA4#,##0.00)","en-MY":"\xA4#,##0.00;(\xA4#,##0.00)","en-NA":"\xA4#,##0.00;(\xA4#,##0.00)","en-NF":"\xA4#,##0.00;(\xA4#,##0.00)","en-NG":"\xA4#,##0.00;(\xA4#,##0.00)","en-NL":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","en-NR":"\xA4#,##0.00;(\xA4#,##0.00)","en-NU":"\xA4#,##0.00;(\xA4#,##0.00)","en-NZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-PG":"\xA4#,##0.00;(\xA4#,##0.00)","en-PH":"\xA4#,##0.00;(\xA4#,##0.00)","en-PK":"\xA4#,##0.00;(\xA4#,##0.00)","en-PN":"\xA4#,##0.00;(\xA4#,##0.00)","en-PR":"\xA4#,##0.00;(\xA4#,##0.00)","en-PW":"\xA4#,##0.00;(\xA4#,##0.00)","en-RW":"\xA4#,##0.00;(\xA4#,##0.00)","en-SB":"\xA4#,##0.00;(\xA4#,##0.00)","en-SC":"\xA4#,##0.00;(\xA4#,##0.00)","en-SD":"\xA4#,##0.00;(\xA4#,##0.00)","en-SE":"#,##0.00\xA0\xA4","en-SG":"\xA4#,##0.00;(\xA4#,##0.00)","en-SH":"\xA4#,##0.00;(\xA4#,##0.00)","en-SI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","en-SL":"\xA4#,##0.00;(\xA4#,##0.00)","en-SS":"\xA4#,##0.00;(\xA4#,##0.00)","en-SX":"\xA4#,##0.00;(\xA4#,##0.00)","en-SZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-TC":"\xA4#,##0.00;(\xA4#,##0.00)","en-TK":"\xA4#,##0.00;(\xA4#,##0.00)","en-TO":"\xA4#,##0.00;(\xA4#,##0.00)","en-TT":"\xA4#,##0.00;(\xA4#,##0.00)","en-TV":"\xA4#,##0.00;(\xA4#,##0.00)","en-TZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-UG":"\xA4#,##0.00;(\xA4#,##0.00)","en-UM":"\xA4#,##0.00;(\xA4#,##0.00)","en-VC":"\xA4#,##0.00;(\xA4#,##0.00)","en-VG":"\xA4#,##0.00;(\xA4#,##0.00)","en-VI":"\xA4#,##0.00;(\xA4#,##0.00)","en-VU":"\xA4#,##0.00;(\xA4#,##0.00)","en-WS":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZA":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZW":"\xA4#,##0.00;(\xA4#,##0.00)",eo:"\xA4\xA0#,##0.00",es:"#,##0.00\xA0\xA4","es-419":"\xA4#,##0.00","es-AR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-BO":"\xA4#,##0.00","es-BR":"\xA4#,##0.00","es-BZ":"\xA4#,##0.00","es-CL":"\xA4#,##0.00","es-CO":"\xA4#,##0.00","es-CR":"\xA4#,##0.00","es-CU":"\xA4#,##0.00","es-DO":"\xA4#,##0.00;(\xA4#,##0.00)","es-EA":"#,##0.00\xA0\xA4","es-EC":"\xA4#,##0.00","es-GQ":"#,##0.00\xA0\xA4","es-GT":"\xA4#,##0.00","es-HN":"\xA4#,##0.00","es-IC":"#,##0.00\xA0\xA4","es-MX":"\xA4#,##0.00","es-NI":"\xA4#,##0.00","es-PA":"\xA4#,##0.00","es-PE":"\xA4#,##0.00","es-PH":"#,##0.00\xA0\xA4","es-PR":"\xA4#,##0.00","es-PY":"\xA4#,##0.00","es-SV":"\xA4#,##0.00","es-US":"\xA4#,##0.00","es-UY":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-VE":"\xA4#,##0.00",et:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",eu:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ewo:"#,##0.00\xA0\xA4",fa:"\u200E\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)","fa-AF":"\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)",ff:"#,##0.00\xA0\xA4","ff-Adlm":"\xA4\xA0#,##0.00","ff-Adlm-BF":"\xA4\xA0#,##0.00","ff-Adlm-CM":"\xA4\xA0#,##0.00","ff-Adlm-GH":"\xA4\xA0#,##0.00","ff-Adlm-GM":"\xA4\xA0#,##0.00","ff-Adlm-GW":"\xA4\xA0#,##0.00","ff-Adlm-LR":"\xA4\xA0#,##0.00","ff-Adlm-MR":"\xA4\xA0#,##0.00","ff-Adlm-NE":"\xA4\xA0#,##0.00","ff-Adlm-NG":"\xA4\xA0#,##0.00","ff-Adlm-SL":"\xA4\xA0#,##0.00","ff-Adlm-SN":"\xA4\xA0#,##0.00","ff-Latn":"#,##0.00\xA0\xA4","ff-Latn-BF":"#,##0.00\xA0\xA4","ff-Latn-CM":"#,##0.00\xA0\xA4","ff-Latn-GH":"#,##0.00\xA0\xA4","ff-Latn-GM":"#,##0.00\xA0\xA4","ff-Latn-GN":"#,##0.00\xA0\xA4","ff-Latn-GW":"#,##0.00\xA0\xA4","ff-Latn-LR":"#,##0.00\xA0\xA4","ff-Latn-MR":"#,##0.00\xA0\xA4","ff-Latn-NE":"#,##0.00\xA0\xA4","ff-Latn-NG":"#,##0.00\xA0\xA4","ff-Latn-SL":"#,##0.00\xA0\xA4",fi:"#,##0.00\xA0\xA4",fil:"\xA4#,##0.00;(\xA4#,##0.00)",fo:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fo-DK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GP":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-HT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-KM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-ML":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SY":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-VU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-WF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-YT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fur:"\xA4\xA0#,##0.00",fy:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",ga:"\xA4#,##0.00;(\xA4#,##0.00)","ga-GB":"\xA4#,##0.00;(\xA4#,##0.00)",gd:"\xA4#,##0.00;(\xA4#,##0.00)",gl:"#,##0.00\xA0\xA4",gsw:"#,##0.00\xA0\xA4","gsw-FR":"#,##0.00\xA0\xA4","gsw-LI":"#,##0.00\xA0\xA4",gu:"\xA4#,##,##0.00;(\xA4#,##,##0.00)",guz:"\xA4#,##0.00;(\xA4#,##0.00)",gv:"\xA4#,##0.00",ha:"\xA4\xA0#,##0.00","ha-GH":"\xA4\xA0#,##0.00","ha-NE":"\xA4\xA0#,##0.00",haw:"\xA4#,##0.00;(\xA4#,##0.00)",he:"#,##0.00\xA0\xA4",hi:"\xA4#,##,##0.00","hi-Latn":"\xA4#,##,##0.00",hr:"#,##0.00\xA0\xA4","hr-BA":"#,##0.00\xA0\xA4",hsb:"#,##0.00\xA0\xA4",hu:"#,##0.00\xA0\xA4",hy:"#,##0.00\xA0\xA4",ia:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",id:"\xA4#,##0.00",ig:"\xA4#,##0.00;(\xA4#,##0.00)",ii:"\xA4\xA0#,##0.00",is:"#,##0.00\xA0\xA4",it:"#,##0.00\xA0\xA4","it-CH":"#,##0.00\xA0\xA4","it-SM":"#,##0.00\xA0\xA4","it-VA":"#,##0.00\xA0\xA4",ja:"\xA4#,##0.00;(\xA4#,##0.00)",jgo:"\xA4\xA0#,##0.00",jmc:"\xA4#,##0.00",jv:"\xA4\xA0#,##0.00",ka:"#,##0.00\xA0\xA4",kab:"#,##0.00\xA4",kam:"\xA4#,##0.00;(\xA4#,##0.00)",kde:"\xA4#,##0.00;(\xA4#,##0.00)",kea:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",kgp:"\xA4\xA0#,##0.00",khq:"#,##0.00\xA4",ki:"\xA4#,##0.00;(\xA4#,##0.00)",kk:"#,##0.00\xA0\xA4",kkj:"\xA4\xA0#,##0.00",kl:"\xA4#,##0.00;\xA4-#,##0.00",kln:"\xA4#,##0.00;(\xA4#,##0.00)",km:"#,##0.00\xA4;(#,##0.00\xA4)",kn:"\xA4#,##0.00;(\xA4#,##0.00)",ko:"\xA4#,##0.00;(\xA4#,##0.00)","ko-KP":"\xA4#,##0.00;(\xA4#,##0.00)",kok:"\xA4#,##0.00;(\xA4#,##0.00)",ks:"\xA4#,##0.00","ks-Arab":"\xA4#,##0.00","ks-Deva":"\xA4\xA0#,##0.00",ksb:"#,##0.00\xA4",ksf:"#,##0.00\xA0\xA4",ksh:"#,##0.00\xA0\xA4",ku:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",kw:"\xA4#,##0.00",ky:"#,##0.00\xA0\xA4",lag:"\xA4\xA0#,##0.00",lb:"#,##0.00\xA0\xA4",lg:"#,##0.00\xA4",lkt:"\xA4\xA0#,##0.00",ln:"#,##0.00\xA0\xA4","ln-AO":"#,##0.00\xA0\xA4","ln-CF":"#,##0.00\xA0\xA4","ln-CG":"#,##0.00\xA0\xA4",lo:"\xA4#,##0.00;\xA4-#,##0.00",lrc:"\xA4\xA0#,##0.00","lrc-IQ":"\xA4\xA0#,##0.00",lt:"#,##0.00\xA0\xA4",lu:"#,##0.00\xA4",luo:"#,##0.00\xA4",luy:"\xA4#,##0.00;\xA4-\xA0#,##0.00",lv:"#,##0.00\xA0\xA4",mai:"\xA4\xA0#,##0.00",mas:"\xA4#,##0.00;(\xA4#,##0.00)","mas-TZ":"\xA4#,##0.00;(\xA4#,##0.00)",mer:"\xA4#,##0.00;(\xA4#,##0.00)",mfe:"\xA4\xA0#,##0.00",mg:"\xA4#,##0.00",mgh:"\xA4\xA0#,##0.00",mgo:"\xA4\xA0#,##0.00",mi:"\xA4\xA0#,##0.00",mk:"#,##0.00\xA0\xA4",ml:"\xA4#,##0.00;(\xA4#,##0.00)",mn:"\xA4\xA0#,##0.00",mni:"\xA4\xA0#,##0.00","mni-Beng":"\xA4\xA0#,##0.00",mr:"\xA4#,##0.00;(\xA4#,##0.00)",ms:"\xA4#,##0.00;(\xA4#,##0.00)","ms-BN":"\xA4#,##0.00;(\xA4#,##0.00)","ms-ID":"\xA4#,##0.00","ms-SG":"\xA4#,##0.00;(\xA4#,##0.00)",mt:"\xA4#,##0.00",mua:"\xA4#,##0.00;(\xA4#,##0.00)",my:"\xA4\xA0#,##0.00",mzn:"\xA4\xA0#,##0.00",naq:"\xA4#,##0.00",nb:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nb-SJ":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nd:"\xA4#,##0.00;(\xA4#,##0.00)",nds:"\xA4\xA0#,##0.00","nds-NL":"\xA4\xA0#,##0.00",ne:"\xA4\xA0#,##,##0.00","ne-IN":"\xA4\xA0#,##,##0.00",nl:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-AW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BE":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BQ":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-CW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SX":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nmg:"#,##0.00\xA0\xA4",nn:"#,##0.00\xA0\xA4",nnh:"\xA4\xA0#,##0.00",no:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nus:"\xA4#,##0.00;(\xA4#,##0.00)",nyn:"\xA4#,##0.00",om:"\xA4#,##0.00","om-KE":"\xA4#,##0.00",or:"\xA4#,##0.00;(\xA4#,##0.00)",os:"\xA4\xA0#,##0.00","os-RU":"\xA4\xA0#,##0.00",pa:"\xA4\xA0#,##0.00","pa-Arab":"\xA4\xA0#,##0.00","pa-Guru":"\xA4\xA0#,##0.00",pcm:"\xA4#,##0.00",pl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ps:"\xA4#,##0.00;(\xA4#,##0.00)","ps-PK":"\xA4#,##0.00;(\xA4#,##0.00)",pt:"\xA4\xA0#,##0.00","pt-AO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CV":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-PT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-ST":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-TL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",qu:"\xA4\xA0#,##0.00","qu-BO":"\xA4\xA0#,##0.00","qu-EC":"\xA4\xA0#,##0.00",rm:"#,##0.00\xA0\xA4",rn:"#,##0.00\xA4",ro:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ro-MD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",rof:"\xA4#,##0.00",ru:"#,##0.00\xA0\xA4","ru-BY":"#,##0.00\xA0\xA4","ru-KG":"#,##0.00\xA0\xA4","ru-KZ":"#,##0.00\xA0\xA4","ru-MD":"#,##0.00\xA0\xA4","ru-UA":"#,##0.00\xA0\xA4",rw:"\xA4\xA0#,##0.00",rwk:"#,##0.00\xA4",sa:"\xA4\xA0#,##0.00",sah:"#,##0.00\xA0\xA4",saq:"\xA4#,##0.00;(\xA4#,##0.00)",sat:"\xA4\xA0#,##0.00","sat-Olck":"\xA4\xA0#,##0.00",sbp:"#,##0.00\xA4",sc:"#,##0.00\xA0\xA4",sd:"\xA4\xA0#,##0.00","sd-Arab":"\xA4\xA0#,##0.00","sd-Deva":"\xA4\xA0#,##0.00",se:"#,##0.00\xA0\xA4","se-FI":"#,##0.00\xA0\xA4","se-SE":"#,##0.00\xA0\xA4",seh:"#,##0.00\xA4",ses:"#,##0.00\xA4",sg:"\xA4#,##0.00;\xA4-#,##0.00",shi:"#,##0.00\xA4","shi-Latn":"#,##0.00\xA4","shi-Tfng":"#,##0.00\xA4",si:"\xA4#,##0.00;(\xA4#,##0.00)",sk:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",smn:"#,##0.00\xA0\xA4",sn:"\xA4#,##0.00;(\xA4#,##0.00)",so:"\xA4#,##0.00;(\xA4#,##0.00)","so-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","so-ET":"\xA4#,##0.00;(\xA4#,##0.00)","so-KE":"\xA4#,##0.00;(\xA4#,##0.00)",sq:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-MK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",su:"\xA4#,##0.00","su-Latn":"\xA4#,##0.00",sv:"#,##0.00\xA0\xA4","sv-AX":"#,##0.00\xA0\xA4","sv-FI":"#,##0.00\xA0\xA4",sw:"\xA4\xA0#,##0.00","sw-CD":"\xA4\xA0#,##0.00","sw-KE":"\xA4\xA0#,##0.00","sw-UG":"\xA4\xA0#,##0.00",ta:"\xA4#,##0.00;(\xA4#,##0.00)","ta-LK":"\xA4#,##0.00;(\xA4#,##0.00)","ta-MY":"\xA4#,##0.00;(\xA4#,##0.00)","ta-SG":"\xA4#,##0.00;(\xA4#,##0.00)",te:"\xA4#,##0.00;(\xA4#,##0.00)",teo:"\xA4#,##0.00;(\xA4#,##0.00)","teo-KE":"\xA4#,##0.00;(\xA4#,##0.00)",tg:"#,##0.00\xA0\xA4",th:"\xA4#,##0.00;(\xA4#,##0.00)",ti:"\xA4#,##0.00","ti-ER":"\xA4#,##0.00",tk:"#,##0.00\xA0\xA4",to:"\xA4\xA0#,##0.00",tr:"\xA4#,##0.00;(\xA4#,##0.00)","tr-CY":"\xA4#,##0.00;(\xA4#,##0.00)",tt:"#,##0.00\xA0\xA4",twq:"#,##0.00\xA4",tzm:"#,##0.00\xA0\xA4",ug:"\xA4#,##0.00;(\xA4#,##0.00)",uk:"#,##0.00\xA0\xA4",und:"\xA4\xA0#,##0.00",ur:"\xA4#,##0.00;(\xA4#,##0.00)","ur-IN":"\xA4#,##0.00;(\xA4#,##0.00)",uz:"#,##0.00\xA0\xA4","uz-Arab":"\xA4\xA0#,##0.00","uz-Cyrl":"#,##0.00\xA0\xA4","uz-Latn":"#,##0.00\xA0\xA4",vai:"\xA4#,##0.00;(\xA4#,##0.00)","vai-Latn":"\xA4#,##0.00;(\xA4#,##0.00)","vai-Vaii":"\xA4#,##0.00;(\xA4#,##0.00)",vi:"#,##0.00\xA0\xA4",vun:"\xA4#,##0.00",wae:"\xA4\xA0#,##0.00",wo:"\xA4\xA0#,##0.00",xh:"\xA4#,##0.00",xog:"#,##0.00\xA0\xA4",yav:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",yi:"\xA4\xA0#,##0.00",yo:"\xA4#,##0.00;(\xA4#,##0.00)","yo-BJ":"\xA4#,##0.00;(\xA4#,##0.00)",yrl:"\xA4\xA0#,##0.00","yrl-CO":"\xA4\xA0#,##0.00","yrl-VE":"\xA4\xA0#,##0.00",yue:"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hant":"\xA4#,##0.00;(\xA4#,##0.00)",zgh:"#,##0.00\xA4",zh:"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-MO":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-SG":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-MO":"\xA4#,##0.00;(\xA4#,##0.00)",zu:"\xA4#,##0.00;(\xA4#,##0.00)"},CURRENCY_STYLES=["standard","accounting"],detectCurrencySymbolRegex=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,formattersCache$1={},getFormatter$1=t=>{var e=localizationCoreUtils.locale()+"/"+JSON.stringify(t);return formattersCache$1[e]||(formattersCache$1[e]=new Intl.NumberFormat(localizationCoreUtils.locale(),t).format),formattersCache$1[e]},getCurrencyFormatter=t=>new Intl.NumberFormat(localizationCoreUtils.locale(),{style:"currency",currency:t}),intlNumberLocalization={engine:function(){return"intl"},_formatNumberCore:function(t,e,r){return e==="exponential"?this.callBase.apply(this,arguments):getFormatter$1(this._normalizeFormatConfig(e,r,t))(t)},_normalizeFormatConfig:function(t,e,r){var n;if(t==="decimal"?n={minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:String(r).length,round:r<0?"ceil":"floor"}:n=this._getPrecisionConfig(e.precision),t==="percent")n.style="percent";else if(t==="currency"){var i,a=(i=e.useCurrencyAccountingStyle)!==null&&i!==void 0?i:config$5().defaultUseCurrencyAccountingStyle;n.style="currency",n.currency=e.currency||config$5().defaultCurrency,n.currencySign=CURRENCY_STYLES[+a]}return n},_getPrecisionConfig:function(t){var e;return t===null?e={minimumFractionDigits:0,maximumFractionDigits:20}:e={minimumFractionDigits:t||0,maximumFractionDigits:t||0},e},format:function(t,e){return typeof t!="number"?t:(e=this._normalizeFormat(e),e.currency==="default"&&(e.currency=config$5().defaultCurrency),!e||typeof e!="function"&&!e.type&&!e.formatter?getFormatter$1(e)(t):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(t){var e=getCurrencyFormatter(t);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(t){var e=detectCurrencySymbolRegex.exec(t)||[],r=e[1]?"before":"after",n=e[1]||e[4]||"",i=e[2]||e[3]||"";return{position:r,symbol:n,delimiter:i}},getCurrencySymbol:function(t){t||(t=config$5().defaultCurrency);var e=this._getCurrencySymbolInfo(t);return{symbol:e.symbol}},getOpenXmlCurrencyFormat:function(t){var e=t||config$5().defaultCurrency,r=this._getCurrencySymbolInfo(e).symbol,n=localizationCoreUtils.getValueByClosestLocale(i=>accountingFormats[i]);return openXmlCurrencyFormat(r,n)}},hasIntl$1=typeof Intl!="undefined",MAX_LARGE_NUMBER_POWER=4,DECIMAL_BASE=10,NUMERIC_FORMATS=["currency","fixedpoint","exponential","percent","decimal"],LargeNumberFormatPostfixes={1:"K",2:"M",3:"B",4:"T"},LargeNumberFormatPowers={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},numberLocalization=dependencyInjector({engine:function(){return"base"},numericFormats:NUMERIC_FORMATS,defaultLargeNumberFormatPostfixes:LargeNumberFormatPostfixes,_parseNumberFormatString:function(t){var e={};if(!(!t||typeof t!="string")){var r=t.toLowerCase().split(" ");if(each(r,(n,i)=>{NUMERIC_FORMATS.includes(i)?e.formatType=i:i in LargeNumberFormatPowers&&(e.power=LargeNumberFormatPowers[i])}),e.power&&!e.formatType&&(e.formatType="fixedpoint"),e.formatType)return e}},_calculateNumberPower:function(t,e,r,n){var i=Math.abs(t),a=0;if(i>1)for(;i&&i>=e&&(n===void 0||a<n);)a++,i/=e;else if(i>0&&i<1)for(;i<1&&(r===void 0||a>r);)a--,i*=e;return a},_getNumberByPower:function(t,e,r){for(var n=t;e>0;)n/=r,e--;for(;e<0;)n*=r,e++;return n},_formatNumber:function(t,e,r){e.power==="auto"&&(e.power=this._calculateNumberPower(t,1e3,0,MAX_LARGE_NUMBER_POWER)),e.power&&(t=this._getNumberByPower(t,e.power,1e3));var n=this.defaultLargeNumberFormatPostfixes[e.power]||"",i=this._formatNumberCore(t,e.formatType,r);return i=i.replace(/(\d|.$)(\D*)$/,"$1"+n+"$2"),i},_formatNumberExponential:function(t,e){var r=this._calculateNumberPower(t,DECIMAL_BASE),n=this._getNumberByPower(t,r,DECIMAL_BASE);e.precision===void 0&&(e.precision=1),n.toFixed(e.precision||0)>=DECIMAL_BASE&&(r++,n/=DECIMAL_BASE);var i=(r>=0?"+":"")+r.toString();return this._formatNumberCore(n,"fixedpoint",e)+"E"+i},_addZeroes:function(t,e){var r=Math.pow(10,e),n=t<0?"-":"";t=(Math.abs(t)*r>>>0)/r;for(var i=t.toString();i.length<e;)i="0"+i;return n+i},_addGroupSeparators:function(t){var e=t.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,config$5().thousandsSeparator)+(e[1]?config$5().decimalSeparator+e[1]:"")},_formatNumberCore:function(t,e,r){return e==="exponential"?this._formatNumberExponential(t,r):(e!=="decimal"&&r.precision!==null&&(r.precision=r.precision||0),e==="percent"&&(t*=100),r.precision!==void 0&&(e==="decimal"?t=this._addZeroes(t,r.precision):t=r.precision===null?t.toPrecision():toFixed(t,r.precision)),e!=="decimal"?t=this._addGroupSeparators(t):t=t.toString().replace(".",config$5().decimalSeparator),e==="percent"&&(t+="%"),t)},_normalizeFormat:function(t){return t?(typeof t=="function"||isPlainObject(t)||(t={type:t}),t):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(t,e){var r=this.format(90,"decimal");if(typeof t!="string"||r[1]==="0")return t;var n=e?r[1]:"0",i=e?"0":r[1],a=e?r[0]:"9",o=new RegExp("["+n+"-"+a+"]","g");return t.replace(o,s=>String.fromCharCode(s.charCodeAt(0)+(i.charCodeAt(0)-n.charCodeAt(0))))},getNegativeEtalonRegExp:function(t){var e=this._getSeparators(),r=new RegExp("[0-9"+escapeRegExp(e.decimalSeparator+e.thousandsSeparator)+"]+","g"),n=this.format(-1,t).replace(r,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(i=>{n=n.replace(new RegExp("\\".concat(i),"g"),"\\".concat(i))}),n=n.replace(/ /g,"\\s"),n=n.replace(/1/g,".*"),new RegExp(n,"g")},getSign:function(t,e){if(!e)return t.replace(/[^0-9-]/g,"").charAt(0)==="-"?-1:1;var r=this.getNegativeEtalonRegExp(e);return t.match(r)?-1:1},format:function(t,e){if(typeof t!="number"||typeof e=="number")return t;if(e=e&&e.formatter||e,typeof e=="function")return e(t);e=this._normalizeFormat(e),e.type||(e.type="decimal");var r=this._parseNumberFormatString(e.type);if(!r){var n=this._getSeparators();return n.unlimitedIntegerDigits=e.unlimitedIntegerDigits,this.convertDigits(getFormatter$2(e.type,n)(t))}return this._formatNumber(t,r,e)},parse:function(t,e){if(!!t){if(e&&e.parser)return e.parser(t);t=this.convertDigits(t,!0),e&&typeof e!="string"&&errors$3.log("W0011");var r=this.getDecimalSeparator(),n=new RegExp("[^0-9"+escapeRegExp(r)+"]","g"),i=t.replace(n,"").replace(r,".").replace(/\.$/g,"");if(i==="."||i==="")return null;if(this._calcSignificantDigits(i)>15)return NaN;var a=+i*this.getSign(t,e);e=this._normalizeFormat(e);var o=this._parseNumberFormatString(e.type),s=o==null?void 0:o.power;if(s){if(s==="auto"){var l=t.match(/\d(K|M|B|T)/);l&&(s=Object.keys(LargeNumberFormatPostfixes).find(u=>LargeNumberFormatPostfixes[u]===l[1]))}a*=Math.pow(10,3*s)}return(o==null?void 0:o.formatType)==="percent"&&(a/=100),a}},_calcSignificantDigits:function(t){var[e,r]=t.split("."),n=a=>{for(var o=-1,s=0;s<a.length;s++)if(a[s]!=="0"){o=s;break}return o>-1?a.length-o:0},i=0;return e&&(i+=n(e.split(""))),r&&(i+=n(r.split("").reverse())),i}});numberLocalization.inject(currencyLocalization);hasIntl$1&&numberLocalization.inject(intlNumberLocalization);var numberFormatter=numberLocalization,STATUS={valid:"valid",invalid:"invalid",pending:"pending"};class BaseRuleValidator{constructor(){this.NAME="base"}defaultMessage(e){return messageLocalization$1.getFormatter("validation-".concat(this.NAME))(e)}defaultFormattedMessage(e){return messageLocalization$1.getFormatter("validation-".concat(this.NAME,"-formatted"))(e)}_isValueEmpty(e){return!rulesValidators.required.validate(e,{})}validate(e,r){var n=Array.isArray(e)?e:[e],i=!0;return n.length?n.every(a=>(i=this._validate(a,r),i)):i=this._validate(null,r),i}}class RequiredRuleValidator extends BaseRuleValidator{constructor(){super(),this.NAME="required"}_validate(e,r){return!isDefined(e)||e===!1?!1:(e=String(e),(r.trim||!isDefined(r.trim))&&(e=e.trim()),e!=="")}}class NumericRuleValidator extends BaseRuleValidator{constructor(){super(),this.NAME="numeric"}_validate(e,r){return r.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:r.useCultureSettings&&isString$2(e)?!isNaN(numberFormatter.parse(e)):isNumeric$1(e)}}class RangeRuleValidator extends BaseRuleValidator{constructor(){super(),this.NAME="range"}_validate(e,r){if(r.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=rulesValidators.numeric.validate(e,r),i=isDefined(e)&&e!=="",a=n?parseFloat(e):i&&e.valueOf(),o=r.min,s=r.max;if(!(n||isDate(e))&&!i)return!1;if(isDefined(o))return isDefined(s)?a>=o&&a<=s:a>=o;if(isDefined(s))return a<=s;throw errors$3.Error("E0101")}}class StringLengthRuleValidator extends BaseRuleValidator{constructor(){super(),this.NAME="stringLength"}_validate(e,r){var n;return e=String((n=e)!==null&&n!==void 0?n:""),(r.trim||!isDefined(r.trim))&&(e=e.trim()),r.ignoreEmptyValue&&this._isValueEmpty(e)?!0:rulesValidators.range.validate(e.length,extend({},r))}}class CustomRuleValidator extends BaseRuleValidator{constructor(){super(),this.NAME="custom"}validate(e,r){if(r.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=r.validator,i=n&&isFunction$2(n.option)&&n.option("dataGetter"),a=isFunction$2(i)&&i(),o={value:e,validator:n,rule:r};return a&&extend(o,a),r.validationCallback(o)}}class AsyncRuleValidator extends CustomRuleValidator{constructor(){super(),this.NAME="async"}validate(e,r){if(isDefined(r.reevaluate)||extend(r,{reevaluate:!0}),r.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=r.validator,i=n&&isFunction$2(n.option)&&n.option("dataGetter"),a=isFunction$2(i)&&i(),o={value:e,validator:n,rule:r};a&&extend(o,a);var s=r.validationCallback(o);if(!isPromise$1(s))throw errors$3.Error("E0103");return this._getWrappedPromise(fromPromise(s).promise())}_getWrappedPromise(e){var r=new Deferred;return e.then(function(n){r.resolve(n)},function(n){var i={isValid:!1};isDefined(n)&&(isString$2(n)?i.message=n:isObject(n)&&isDefined(n.message)&&isString$2(n.message)&&(i.message=n.message)),r.resolve(i)}),r.promise()}}class CompareRuleValidator extends BaseRuleValidator{constructor(){super(),this.NAME="compare"}_validate(e,r){if(!r.comparisonTarget)throw errors$3.Error("E0102");if(r.ignoreEmptyValue&&this._isValueEmpty(e))return!0;extend(r,{reevaluate:!0});var n=r.comparisonTarget(),i=r.comparisonType||"==";switch(i){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}}class PatternRuleValidator extends BaseRuleValidator{constructor(){super(),this.NAME="pattern"}_validate(e,r){if(r.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=r.pattern;return isString$2(n)&&(n=new RegExp(n)),n.test(e)}}class EmailRuleValidator extends BaseRuleValidator{constructor(){super(),this.NAME="email"}_validate(e,r){return r.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:rulesValidators.pattern.validate(e,extend({},r,{pattern:/^[\d\w._-]+@[\d\w._-]+\.[\w]+$/i}))}}var rulesValidators={required:new RequiredRuleValidator,numeric:new NumericRuleValidator,range:new RangeRuleValidator,stringLength:new StringLengthRuleValidator,custom:new CustomRuleValidator,async:new AsyncRuleValidator,compare:new CompareRuleValidator,pattern:new PatternRuleValidator,email:new EmailRuleValidator},GroupConfig=Class.inherit({ctor(t){this.group=t,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new EventsStrategy(this)},validate(){var t={isValid:!0,brokenRules:[],validators:[],status:STATUS.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),each(this.validators,(e,r)=>{var n=r.validate();t.isValid=t.isValid&&n.isValid,n.brokenRules&&(t.brokenRules=t.brokenRules.concat(n.brokenRules)),t.validators.push(r),n.status===STATUS.pending&&this._addPendingValidator(r),this._subscribeToChangeEvents(r)}),this._pendingValidators.length?t.status=STATUS.pending:(t.status=t.isValid?STATUS.valid:STATUS.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(t)),this._updateValidationInfo(t),extend({},this._validationInfo.result)},_subscribeToChangeEvents(t){t.on("validating",this._onValidatorStatusChanged),t.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(t){t.off("validating",this._onValidatorStatusChanged),t.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){each(this.validators,(t,e)=>{this._unsubscribeFromChangeEvents(e)})},_updateValidationInfo(t){this._validationInfo.result=t,t.status===STATUS.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new Deferred,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(t){var e=grep(this._pendingValidators,function(r){return r===t})[0];e||this._pendingValidators.push(t)},_removePendingValidator(t){var e=this._pendingValidators.indexOf(t);e>=0&&this._pendingValidators.splice(e,1)},_orderBrokenRules(t){var e=[];return each(this.validators,function(r,n){var i=grep(t,function(a){return a.validator===n});i.length&&(e=e.concat(i))}),e},_updateBrokenRules(t){if(!!this._validationInfo.result){var e=this._validationInfo.result.brokenRules,r=grep(e,function(n){return n.validator!==t.validator});t.brokenRules&&(e=r.concat(t.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(e)}},_onValidatorStatusChanged(t){if(t.status===STATUS.pending){this._addPendingValidator(t.validator);return}this._resolveIfComplete(t)},_resolveIfComplete(t){if(this._removePendingValidator(t.validator),this._updateBrokenRules(t),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?STATUS.valid:STATUS.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===STATUS.valid;var e=extend({},this._validationInfo.result,{complete:null}),r=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(e),r&&setTimeout(()=>{r.resolve(e)})}},_raiseValidatedEvent(t){this._eventsStrategy.fireEvent("validated",[t])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(t){var e=this.validators.indexOf(t);e>-1&&(this.validators.splice(e,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:t}))},registerValidator(t){this.validators.includes(t)||(this.validators.push(t),this._synchronizeValidationInfo())},reset(){each(this.validators,function(t,e){e.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}}),ValidationEngine={groups:[],getGroupConfig(t){var e=grep(this.groups,function(r){return r.group===t});if(e.length)return e[0]},findGroup(t,e){var r,n,i=(r=t.data())===null||r===void 0||(n=r.dxComponents)===null||n===void 0?void 0:n.includes("dxValidationGroup"),a=i&&t.dxValidationGroup("instance");if(a)return a;var o=t.parents(".dx-validationgroup").first();return o.length?o.dxValidationGroup("instance"):e},initGroups(){this.groups=[],this.addGroup()},addGroup(t){var e=this.getGroupConfig(t);return e||(e=new GroupConfig(t),this.groups.push(e)),e},removeGroup(t){var e=this.getGroupConfig(t),r=this.groups.indexOf(e);return r>-1&&this.groups.splice(r,1),e},_setDefaultMessage(t){var{rule:e,validator:r,name:n}=t;isDefined(e.message)||(r.defaultFormattedMessage&&isDefined(n)?e.message=r.defaultFormattedMessage(n):e.message=r.defaultMessage())},_addBrokenRule(t){var{result:e,rule:r}=t;e.brokenRule||(e.brokenRule=r),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(r)},validate(t,e,r){var n,i={name:r,value:t,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:STATUS.valid,complete:null},a=e==null||(n=e[0])===null||n===void 0?void 0:n.validator,o=[];return each(e||[],(s,l)=>{var u=rulesValidators[l.type],m;if(u){if(isDefined(l.isValid)&&l.value===t&&!l.reevaluate)return l.isValid?!0:(i.isValid=!1,this._addBrokenRule({result:i,rule:l}),!1);if(l.value=t,l.type==="async")return o.push({rule:l,ruleValidator:u}),!0;if(m=u.validate(t,l),l.isValid=m,m||(i.isValid=!1,this._setDefaultMessage({rule:l,validator:u,name:r}),this._addBrokenRule({result:i,rule:l})),!l.isValid)return!1}else throw errors$3.Error("E0100")}),i.isValid&&!i.brokenRules&&o.length&&(i=this._validateAsyncRules({value:t,items:o,result:i,name:r})),this._synchronizeGroupValidationInfo(a,i),i.status=i.pendingRules?STATUS.pending:i.isValid?STATUS.valid:STATUS.invalid,i},_synchronizeGroupValidationInfo(t,e){var r;if(!!t){var n=ValidationEngine.getGroupConfig(t._validationGroup);n._updateBrokenRules.call(n,{validator:t,brokenRules:(r=e.brokenRules)!==null&&r!==void 0?r:[]})}},_validateAsyncRules(t){var{result:e,value:r,items:n,name:i}=t,a=[];return each(n,(o,s)=>{var l=s.ruleValidator.validate(r,s.rule);if(!isPromise$1(l))this._updateRuleConfig({rule:s.rule,ruleResult:this._getPatchedRuleResult(l),validator:s.ruleValidator,name:i});else{e.pendingRules||(e.pendingRules=[]),e.pendingRules.push(s.rule);var u=l.then(m=>{var b=this._getPatchedRuleResult(m);return this._updateRuleConfig({rule:s.rule,ruleResult:b,validator:s.ruleValidator,name:i}),b});a.push(u)}}),a.length&&(e.complete=Promise.all(a).then(o=>this._getAsyncRulesResult({result:e,values:o}))),e},_updateRuleConfig(t){var{rule:e,ruleResult:r,validator:n,name:i}=t;e.isValid=r.isValid,r.isValid||(isDefined(r.message)&&isString$2(r.message)&&r.message.length?e.message=r.message:this._setDefaultMessage({rule:e,validator:n,name:i}))},_getPatchedRuleResult(t){var e;return isObject(t)?(e=extend({},t),isDefined(e.isValid)||(e.isValid=!0)):e={isValid:isBoolean(t)?t:!0},e},_getAsyncRulesResult(t){var{values:e,result:r}=t;return each(e,(n,i)=>{if(i.isValid===!1){r.isValid=i.isValid;var a=r.pendingRules[n];this._addBrokenRule({result:r,rule:a})}}),r.pendingRules=null,r.complete=null,r.status=r.isValid?STATUS.valid:STATUS.invalid,r},registerValidatorInGroup(t,e){var r=ValidationEngine.addGroup(t);r.registerValidator.call(r,e)},_shouldRemoveGroup(t,e){var r=t===void 0,n=t&&t.NAME==="dxValidationGroup";return!r&&!n&&!e.length},removeRegisteredValidator(t,e){var r=ValidationEngine.getGroupConfig(t);if(r){r.removeRegisteredValidator.call(r,e);var n=r.validators;this._shouldRemoveGroup(t,n)&&this.removeGroup(t)}},initValidationOptions(t){var e={};return t&&["isValid","validationStatus","validationError","validationErrors"].forEach(r=>{r in t&&extend(e,this.synchronizeValidationOptions({name:r,value:t[r]},t))}),e},synchronizeValidationOptions(t,e){var{name:r,value:n}=t;switch(r){case"validationStatus":var i=n===STATUS.valid||n===STATUS.pending;return e.isValid!==i?{isValid:i}:{};case"isValid":var{validationStatus:a}=e,o=a;return n&&a===STATUS.invalid?o=STATUS.valid:!n&&a!==STATUS.invalid&&(o=STATUS.invalid),o!==a?{validationStatus:o}:{};case"validationErrors":var s=!n||!n.length?null:n[0];return e.validationError!==s?{validationError:s}:{};case"validationError":var{validationErrors:l}=e;if(!n&&l)return{validationErrors:null};if(n&&!l)return{validationErrors:[n]};if(n&&l&&n!==l[0])return l[0]=n,{validationErrors:l.slice()}}return{}},validateGroup(t){var e=ValidationEngine.getGroupConfig(t);if(!e)throw errors$3.Error("E0110");return e.validate()},resetGroup(t){var e=ValidationEngine.getGroupConfig(t);if(!e)throw errors$3.Error("E0110");return e.reset()}};ValidationEngine.initGroups();var ValidationEngine$1=ValidationEngine,INVALID_MESSAGE="dx-invalid-message",INVALID_MESSAGE_AUTO$2="dx-invalid-message-auto",INVALID_MESSAGE_ALWAYS="dx-invalid-message-always",INVALID_MESSAGE_CONTENT="dx-invalid-message-content",VALIDATION_MESSAGE_MIN_WIDTH=100,ValidationMessage$1=Overlay$1.inherit({_getDefaultOptions(){return extend(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,positionRequest:void 0,boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var{target:t}=this.option();this.option("position.of",t)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var t=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(t)},_toggleVisibilityClasses:function(t){t?(this.$element().addClass(INVALID_MESSAGE),this.$wrapper().addClass(INVALID_MESSAGE)):(this.$element().removeClass(INVALID_MESSAGE),this.$wrapper().removeClass(INVALID_MESSAGE))},_updateContentId(){var{container:t,contentId:e}=this.option(),r=e!=null?e:$(t).attr("aria-describedby");this.$content().addClass(INVALID_MESSAGE_CONTENT).attr("id",r)},_renderInnerHtml(t){var e=t&&$(t);e==null||e.html(this._textMarkup)},_getTextMarkup(){var t,e=(t=this.option("validationErrors"))!==null&&t!==void 0?t:[],r="";return e.forEach(n=>{var i,a=r?"<br />":"";r+=a+encodeHtml((i=n==null?void 0:n.message)!==null&&i!==void 0?i:"")}),r},_toggleModeClass(){var t=this.option("mode");this.$wrapper().toggleClass(INVALID_MESSAGE_AUTO$2,t==="auto").toggleClass(INVALID_MESSAGE_ALWAYS,t==="always")},updateMaxWidth(){var t=this.option("target"),e=getOuterWidth(t),r="100%";e&&(r=Math.max(e,VALIDATION_MESSAGE_MIN_WIDTH)),this.option({maxWidth:r})},_updatePosition:function(){var{positionRequest:t,rtlEnabled:e,offset:r,boundary:n}=this.option(),i=getDefaultAlignment(e),a=t==="below"?[" top"," bottom"]:[" bottom"," top"];e&&(r.h=-r.h),t!=="below"&&(r.v=-r.v),this.option("position",{offset:r,boundary:n,my:i+a[0],at:i+a[1],collision:"none flip"})},_optionChanged(t){var{name:e,value:r}=t;switch(e){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(t);break;case"boundary":this.option("position.boundary",r);break;case"mode":this._toggleModeClass(r);break;case"rtlEnabled":case"offset":case"positionRequest":this._updatePosition();break;case"container":this._updateContentId(),this.callBase(t);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(t)}}});registerComponent$1("dxValidationMessage",ValidationMessage$1);var LegacyValidationMessage=ValidationMessage$1,INVALID_MESSAGE_AUTO$1="dx-invalid-message-auto",READONLY_STATE_CLASS="dx-state-readonly",INVALID_CLASS="dx-invalid",DX_INVALID_BADGE_CLASS="dx-show-invalid-badge",VALIDATION_TARGET$1="dx-validation-target",VALIDATION_STATUS_VALID="valid",VALIDATION_STATUS_INVALID="invalid",READONLY_NAMESPACE="editorReadOnly",ALLOWED_STYLING_MODES=["outlined","filled","underlined"],VALIDATION_MESSAGE_KEYS_MAP={validationMessageMode:"mode",validationMessageOffset:"offset",validationBoundary:"boundary"},Editor$2=Widget$2.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=Callbacks(),this.callBase.apply(this,arguments)},_createElement:function(t){this.callBase(t);var e=this.$element();e&&data(e[0],VALIDATION_TARGET$1,this)},_initOptions:function(t){this.callBase.apply(this,arguments),this.option(ValidationEngine$1.initValidationOptions(t))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions"));var t=this.$element();t.addClass(DX_INVALID_BADGE_CLASS)},_getDefaultOptions:function(){return extend(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:VALIDATION_STATUS_VALID,validationMessageMode:"auto",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),extend(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var t;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),(t=this.option("_onMarkupRendered"))===null||t===void 0||t()},_raiseValueChangeAction:function(t,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(t,e))},_valueChangeArgs:function(t,e){return{value:t,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(t){this._valueChangeEventInstance=t},_focusInHandler:function(t){var e=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&e){var r,n=(r=this._validationMessage)===null||r===void 0?void 0:r.$wrapper();n==null||n.removeClass(INVALID_MESSAGE_AUTO$1),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>n==null?void 0:n.addClass(INVALID_MESSAGE_AUTO$1),150)}return this.callBase(t)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var t=this.option("stylingMode"),e=this._getStylingModePrefix(),r=ALLOWED_STYLING_MODES.map(o=>e+o);r.forEach(o=>this.$element().removeClass(o));var n=e+t;if(r.indexOf(n)===-1){var i=this._getDefaultOptions().stylingMode,a=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;n=e+(a||i)}this.$element().addClass(n)},_getValidationErrors:function(){var t=this.option("validationErrors");return!t&&this.option("validationError")&&(t=[this.option("validationError")]),t},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(t){this.$element().toggleClass(INVALID_CLASS,t),this.setAria(VALIDATION_STATUS_INVALID,t||void 0)},_renderValidationState:function(){var t=this.option("isValid")&&this.option("validationStatus")!==VALIDATION_STATUS_INVALID,e=this._getValidationErrors(),r=this.$element();if(this._toggleValidationClasses(!t),!!hasWindow()&&(this._disposeValidationMessage(),!t&&e)){var{validationMessageMode:n,validationMessageOffset:i,validationBoundary:a,rtlEnabled:o}=this.option();this._$validationMessage=$("<div>").appendTo(r);var s="dx-".concat(new Guid$1);this.setAria("describedby",s),this._validationMessage=new LegacyValidationMessage(this._$validationMessage,extend({validationErrors:e,rtlEnabled:o,target:this._getValidationMessageTarget(),visualContainer:r,mode:n,positionRequest:"below",offset:i,boundary:a,contentId:s},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var t=this.option("readOnly");this._toggleBackspaceHandler(t),this.$element().toggleClass(READONLY_STATE_CLASS,!!t),this.setAria("readonly",t||void 0)},_toggleBackspaceHandler:function(t){var e=this._keyboardEventBindingTarget(),r=addNamespace$1("keydown",READONLY_NAMESPACE);eventsEngine$1.off(e,r),t&&eventsEngine$1.on(e,r,n=>{normalizeKeyName(n)==="backspace"&&n.preventDefault()})},_dispose:function(){var t=this.$element()[0];data(t,VALIDATION_TARGET$1,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(t){var e=this._getSubmitElement();!e||(t.length>0?e.attr("name",t):e.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(t){var e,{name:r,value:n}=t,i=VALIDATION_MESSAGE_KEYS_MAP[r]?VALIDATION_MESSAGE_KEYS_MAP[r]:r;(e=this._validationMessage)===null||e===void 0||e.option(i,n)},_hasActiveElement:noop,_optionChanged:function(t){var e;switch(t.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":t.value!=t.previousValue&&this.validationRequest.fire({value:t.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(t.value,t.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(t),(e=this._validationMessage)===null||e===void 0||e.updateMaxWidth();break;case"name":this._setSubmitElementName(t.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(ValidationEngine$1.synchronizeValidationOptions(t,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessageOffset":this._setValidationMessageOption(t);break;case"rtlEnabled":this._setValidationMessageOption(t),this.callBase(t);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,t);break;default:this.callBase(t)}},blur:function(){this._hasActiveElement()&&resetActiveElement()},reset:function(){var t=this._getDefaultOptions();this.option("value",t.value)}});Editor$2.isEditor=t=>t instanceof Editor$2;var Editor$3=Editor$2;class TextEditorButton{constructor(e,r,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=r,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=$("<div>").appendTo(e)}_addToContainer(e){var{$placeMarker:r,$container:n}=this;r?r.replaceWith(e):e.appendTo(n)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:e,options:r}=this;return r.visible||!e.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:e,$placeMarker:r}=this;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),r&&r.remove()}render(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){var{instance:r,$element:n}=this._create();this.instance=r,this._attachEvents(r,n)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}}var pointerDown=pointerEvents.down,STATE_INVISIBLE_CLASS$1="dx-state-invisible",TEXTEDITOR_CLEAR_BUTTON_CLASS="dx-clear-button-area",TEXTEDITOR_CLEAR_ICON_CLASS="dx-icon-clear",TEXTEDITOR_ICON_CLASS="dx-icon",TEXTEDITOR_SHOW_CLEAR_BUTTON_CLASS="dx-show-clear-button";class ClearButton extends TextEditorButton{_create(){var e=$("<span>").addClass(TEXTEDITOR_CLEAR_BUTTON_CLASS).append($("<span>").addClass(TEXTEDITOR_ICON_CLASS).addClass(TEXTEDITOR_CLEAR_ICON_CLASS));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){var{editor:e}=this;return e._isClearButtonVisible()}_attachEvents(e,r){var{editor:n}=this,i=n.NAME;eventsEngine$1.on(r,addNamespace$1(pointerDown,i),a=>{a.preventDefault(),a.pointerType!=="mouse"&&n._clearValueHandler(a)}),eventsEngine$1.on(r,addNamespace$1(CLICK_EVENT_NAME,i),a=>n._clearValueHandler(a))}_legacyRender(e,r){e.toggleClass(TEXTEDITOR_SHOW_CLEAR_BUTTON_CLASS,r)}update(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!e&&super.update();var{editor:r,instance:n}=this,i=r.$element(),a=this._isVisible();n&&n.toggleClass(STATE_INVISIBLE_CLASS$1,!a),this._legacyRender(i,a)}}var isArray=Array.isArray;function isStringOrNumber(t){var e=typeof t;return e==="string"||e==="number"}function isNullOrUndef$2(t){return t==null}function isInvalid$1(t){return t===null||t===!1||t===!0||t===void 0}function isFunction$1(t){return typeof t=="function"}function isString$1(t){return typeof t=="string"}function isNumber(t){return typeof t=="number"}function isNull$1(t){return t===null}function isUndefined$1(t){return t===void 0}function combineFrom(t,e){var r={};if(t)for(var n in t)r[n]=t[n];if(e)for(var i in e)r[i]=e[i];return r}function isLinkEventObject(t){return!isNull$1(t)&&typeof t=="object"}var EMPTY_OBJ={},Fragment="$F";function normalizeEventName(t){return t.substr(2).toLowerCase()}function appendChild(t,e){t.appendChild(e)}function insertOrAppend(t,e,r){isNull$1(r)?appendChild(t,e):t.insertBefore(e,r)}function documentCreateElement(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}function replaceChild(t,e,r){t.replaceChild(e,r)}function removeChild(t,e){t.removeChild(e)}function callAll(t){for(var e=0;e<t.length;e++)t[e]()}function findChildVNode(t,e,r){var n=t.children;return r&4?n.$LI:r&8192?t.childFlags===2?n:n[e?0:n.length-1]:n}function findDOMfromVNode(t,e){for(var r;t;){if(r=t.flags,r&2033)return t.dom;t=findChildVNode(t,e,r)}return null}function removeVNodeDOM(t,e){do{var r=t.flags;if(r&2033){removeChild(e,t.dom);return}var n=t.children;if(r&4&&(t=n.$LI),r&8&&(t=n),r&8192)if(t.childFlags===2)t=n;else{for(var i=0,a=n.length;i<a;++i)removeVNodeDOM(n[i],e);return}}while(t)}function moveVNodeDOM(t,e,r){do{var n=t.flags;if(n&2033){insertOrAppend(e,t.dom,r);return}var i=t.children;if(n&4&&(t=i.$LI),n&8&&(t=i),n&8192)if(t.childFlags===2)t=i;else{for(var a=0,o=i.length;a<o;++a)moveVNodeDOM(i[a],e,r);return}}while(t)}function createDerivedState(t,e,r){return t.constructor.getDerivedStateFromProps?combineFrom(r,t.constructor.getDerivedStateFromProps(e,r)):r}var renderCheck={v:!1},options={componentComparator:null,createVNode:null,renderComplete:null};function setTextContent(t,e){t.textContent=e}function isLastValueSameLinkEvent(t,e){return isLinkEventObject(t)&&t.event===e.event&&t.data===e.data}function mergeUnsetProperties(t,e){for(var r in e)isUndefined$1(t[r])&&(t[r]=e[r]);return t}function safeCall1(t,e){return!!isFunction$1(t)&&(t(e),!0)}var keyPrefix="$";function V(t,e,r,n,i,a,o,s){this.childFlags=t,this.children=e,this.className=r,this.dom=null,this.flags=n,this.key=i===void 0?null:i,this.props=a===void 0?null:a,this.ref=o===void 0?null:o,this.type=s}function createVNode(t,e,r,n,i,a,o,s){var l=i===void 0?1:i,u=new V(l,n,r,t,o,a,s,e);return l===0&&normalizeChildren(u,u.children),u}function mergeDefaultHooks(t,e,r){if(t&4)return r;var n=(t&32768?e.render:e).defaultHooks;return isNullOrUndef$2(n)?r:isNullOrUndef$2(r)?n:mergeUnsetProperties(r,n)}function mergeDefaultProps(t,e,r){var n=(t&32768?e.render:e).defaultProps;return isNullOrUndef$2(n)?r:isNullOrUndef$2(r)?combineFrom(n,null):mergeUnsetProperties(r,n)}function resolveComponentFlags(t,e){return t&12?t:e.prototype&&e.prototype.render?4:e.render?32776:8}function createComponentVNode(t,e,r,n,i){t=resolveComponentFlags(t,e);var a=new V(1,null,null,t,n,mergeDefaultProps(t,e,r),mergeDefaultHooks(t,e,i),e);return a}function createTextVNode(t,e){return new V(1,isNullOrUndef$2(t)||t===!0||t===!1?"":t,null,16,e,null,null,null)}function createFragment(t,e,r){var n=createVNode(8192,8192,null,t,e,null,r,null);switch(n.childFlags){case 1:n.children=createVoidVNode(),n.childFlags=2;break;case 16:n.children=[createTextVNode(t)],n.childFlags=4;break}return n}function normalizeProps$1(t){var e=t.props;if(e){var r=t.flags;r&481&&(e.children!==void 0&&isNullOrUndef$2(t.children)&&normalizeChildren(t,e.children),e.className!==void 0&&(isNullOrUndef$2(t.className)&&(t.className=e.className||null),e.className=void 0)),e.key!==void 0&&(t.key=e.key,e.key=void 0),e.ref!==void 0&&(r&8?t.ref=combineFrom(t.ref,e.ref):t.ref=e.ref,e.ref=void 0)}return t}function cloneFragment(t){var e=t.children,r=t.childFlags;return createFragment(r===2?directClone(e):e.map(directClone),r,t.key)}function directClone(t){var e=t.flags&-16385,r=t.props;if(e&14&&!isNull$1(r)){var n=r;r={};for(var i in n)r[i]=n[i]}return(e&8192)===0?new V(t.childFlags,t.children,t.className,e,t.key,r,t.ref,t.type):cloneFragment(t)}function createVoidVNode(){return createTextVNode("",null)}function _normalizeVNodes(t,e,r,n){for(var i=t.length;r<i;r++){var a=t[r];if(!isInvalid$1(a)){var o=n+keyPrefix+r;if(isArray(a))_normalizeVNodes(a,e,0,o);else{if(isStringOrNumber(a))a=createTextVNode(a,o);else{var s=a.key,l=isString$1(s)&&s[0]===keyPrefix;(a.flags&81920||l)&&(a=directClone(a)),a.flags|=65536,l?s.substring(0,n.length)!==n&&(a.key=n+s):isNull$1(s)?a.key=o:a.key=n+s}e.push(a)}}}}function getFlagsForElementVnode(t){switch(t){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case Fragment:return 8192;default:return 1}}function normalizeChildren(t,e){var r,n=1;if(isInvalid$1(e))r=e;else if(isStringOrNumber(e))n=16,r=e;else if(isArray(e)){for(var i=e.length,a=0;a<i;++a){var o=e[a];if(isInvalid$1(o)||isArray(o)){r=r||e.slice(0,a),_normalizeVNodes(e,r,a,"");break}else if(isStringOrNumber(o))r=r||e.slice(0,a),r.push(createTextVNode(o,keyPrefix+a));else{var s=o.key,l=(o.flags&81920)>0,u=isNull$1(s),m=isString$1(s)&&s[0]===keyPrefix;l||u||m?(r=r||e.slice(0,a),(l||m)&&(o=directClone(o)),(u||m)&&(o.key=keyPrefix+a),r.push(o)):r&&r.push(o),o.flags|=65536}}r=r||e,r.length===0?n=1:n=8}else r=e,r.flags|=65536,e.flags&81920&&(r=directClone(e)),n=2;return t.children=r,t.childFlags=n,t}function normalizeRoot(t){return isInvalid$1(t)||isStringOrNumber(t)?createTextVNode(t,null):isArray(t)?createFragment(t,0,null):t.flags&16384?directClone(t):t}var xlinkNS="http://www.w3.org/1999/xlink",xmlNS="http://www.w3.org/XML/1998/namespace",namespaces={"xlink:actuate":xlinkNS,"xlink:arcrole":xlinkNS,"xlink:href":xlinkNS,"xlink:role":xlinkNS,"xlink:show":xlinkNS,"xlink:title":xlinkNS,"xlink:type":xlinkNS,"xml:base":xmlNS,"xml:lang":xmlNS,"xml:space":xmlNS};function getDelegatedEventObject(t){return{onClick:t,onDblClick:t,onFocusIn:t,onFocusOut:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseUp:t,onTouchEnd:t,onTouchMove:t,onTouchStart:t}}var attachedEventCounts=getDelegatedEventObject(0),attachedEvents=getDelegatedEventObject(null),syntheticEvents=getDelegatedEventObject(!0);function updateOrAddSyntheticEvent(t,e){var r=e.$EV;return r||(r=e.$EV=getDelegatedEventObject(null)),r[t]||++attachedEventCounts[t]===1&&(attachedEvents[t]=attachEventToDocument(t)),r}function unmountSyntheticEvent(t,e){var r=e.$EV;r&&r[t]&&(--attachedEventCounts[t]===0&&(document.removeEventListener(normalizeEventName(t),attachedEvents[t]),attachedEvents[t]=null),r[t]=null)}function handleSyntheticEvent(t,e,r,n){if(isFunction$1(r))updateOrAddSyntheticEvent(t,n)[t]=r;else if(isLinkEventObject(r)){if(isLastValueSameLinkEvent(e,r))return;updateOrAddSyntheticEvent(t,n)[t]=r}else unmountSyntheticEvent(t,n)}function getTargetNode(t){return isFunction$1(t.composedPath)?t.composedPath()[0]:t.target}function dispatchEvents(t,e,r,n){var i=getTargetNode(t);do{if(e&&i.disabled)return;var a=i.$EV;if(a){var o=a[r];if(o&&(n.dom=i,o.event?o.event(o.data,t):o(t),t.cancelBubble))return}i=i.parentNode}while(!isNull$1(i))}function stopPropagation(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function isDefaultPrevented(){return this.defaultPrevented}function isPropagationStopped(){return this.cancelBubble}function extendEventProperties(t){var e={dom:document};return t.isDefaultPrevented=isDefaultPrevented,t.isPropagationStopped=isPropagationStopped,t.stopPropagation=stopPropagation,Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function rootClickEvent(t){return function(e){if(e.button!==0){e.stopPropagation();return}dispatchEvents(e,!0,t,extendEventProperties(e))}}function rootEvent(t){return function(e){dispatchEvents(e,!1,t,extendEventProperties(e))}}function attachEventToDocument(t){var e=t==="onClick"||t==="onDblClick"?rootClickEvent(t):rootEvent(t);return document.addEventListener(normalizeEventName(t),e),e}function isSameInnerHTML$1(t,e){var r=document.createElement("i");return r.innerHTML=e,r.innerHTML===t.innerHTML}function triggerEventListener(t,e,r){if(t[e]){var n=t[e];n.event?n.event(n.data,r):n(r)}else{var i=e.toLowerCase();t[i]&&t[i](r)}}function createWrappedFunction(t,e){var r=function(n){var i=this.$V;if(!!i){var a=i.props||EMPTY_OBJ,o=i.dom;if(isString$1(t))triggerEventListener(a,t,n);else for(var s=0;s<t.length;++s)triggerEventListener(a,t[s],n);if(isFunction$1(e)){var l=this.$V,u=l.props||EMPTY_OBJ;e(u,o,!1,l)}}};return Object.defineProperty(r,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),r}function attachEvent$1(t,e,r){var n="$"+e,i=t[n];if(i){if(i[1].wrapped)return;t.removeEventListener(i[0],i[1]),t[n]=null}isFunction$1(r)&&(t.addEventListener(e,r),t[n]=[e,r])}function isCheckedType(t){return t==="checkbox"||t==="radio"}var onTextInputChange=createWrappedFunction("onInput",applyValueInput),wrappedOnChange=createWrappedFunction(["onClick","onChange"],applyValueInput);function emptywrapper(t){t.stopPropagation()}emptywrapper.wrapped=!0;function inputEvents(t,e){isCheckedType(e.type)?(attachEvent$1(t,"change",wrappedOnChange),attachEvent$1(t,"click",emptywrapper)):attachEvent$1(t,"input",onTextInputChange)}function applyValueInput(t,e){var r=t.type,n=t.value,i=t.checked,a=t.multiple,o=t.defaultValue,s=!isNullOrUndef$2(n);r&&r!==e.type&&e.setAttribute("type",r),!isNullOrUndef$2(a)&&a!==e.multiple&&(e.multiple=a),!isNullOrUndef$2(o)&&!s&&(e.defaultValue=o+""),isCheckedType(r)?(s&&(e.value=n),isNullOrUndef$2(i)||(e.checked=i)):s&&e.value!==n?(e.defaultValue=n,e.value=n):isNullOrUndef$2(i)||(e.checked=i)}function updateChildOptions(t,e){if(t.type==="option")updateChildOption(t,e);else{var r=t.children,n=t.flags;if(n&4)updateChildOptions(r.$LI,e);else if(n&8)updateChildOptions(r,e);else if(t.childFlags===2)updateChildOptions(r,e);else if(t.childFlags&12)for(var i=0,a=r.length;i<a;++i)updateChildOptions(r[i],e)}}function updateChildOption(t,e){var r=t.props||EMPTY_OBJ,n=t.dom;n.value=r.value,r.value===e||isArray(e)&&e.indexOf(r.value)!==-1?n.selected=!0:(!isNullOrUndef$2(e)||!isNullOrUndef$2(r.selected))&&(n.selected=r.selected||!1)}var onSelectChange=createWrappedFunction("onChange",applyValueSelect);function selectEvents(t){attachEvent$1(t,"change",onSelectChange)}function applyValueSelect(t,e,r,n){var i=Boolean(t.multiple);!isNullOrUndef$2(t.multiple)&&i!==e.multiple&&(e.multiple=i);var a=t.selectedIndex;a===-1&&(e.selectedIndex=-1);var o=n.childFlags;if(o!==1){var s=t.value;isNumber(a)&&a>-1&&e.options[a]&&(s=e.options[a].value),r&&isNullOrUndef$2(s)&&(s=t.defaultValue),updateChildOptions(n,s)}}var onTextareaInputChange=createWrappedFunction("onInput",applyValueTextArea),wrappedOnChange$1=createWrappedFunction("onChange");function textAreaEvents(t,e){attachEvent$1(t,"input",onTextareaInputChange),e.onChange&&attachEvent$1(t,"change",wrappedOnChange$1)}function applyValueTextArea(t,e,r){var n=t.value,i=e.value;if(isNullOrUndef$2(n)){if(r){var a=t.defaultValue;!isNullOrUndef$2(a)&&a!==i&&(e.defaultValue=a,e.value=a)}}else i!==n&&(e.defaultValue=n,e.value=n)}function processElement(t,e,r,n,i,a){t&64?applyValueInput(n,r):t&256?applyValueSelect(n,r,i,e):t&128&&applyValueTextArea(n,r,i),a&&(r.$V=e)}function addFormElementEventHandlers(t,e,r){t&64?inputEvents(e,r):t&256?selectEvents(e):t&128&&textAreaEvents(e,r)}function isControlledFormElement(t){return t.type&&isCheckedType(t.type)?!isNullOrUndef$2(t.checked):!isNullOrUndef$2(t.value)}function createRef(){return{current:null}}function unmountRef(t){t&&!safeCall1(t,null)&&t.current&&(t.current=null)}function mountRef(t,e,r){t&&(isFunction$1(t)||t.current!==void 0)&&r.push(function(){!safeCall1(t,e)&&t.current!==void 0&&(t.current=e)})}function remove$2(t,e){unmount(t),removeVNodeDOM(t,e)}function unmount(t){var e=t.flags,r=t.children,n;if(e&481){n=t.ref;var i=t.props;unmountRef(n);var a=t.childFlags;if(!isNull$1(i))for(var o=Object.keys(i),s=0,l=o.length;s<l;s++){var u=o[s];syntheticEvents[u]&&unmountSyntheticEvent(u,t.dom)}a&12?unmountAllChildren(r):a===2&&unmount(r)}else r&&(e&4?(isFunction$1(r.componentWillUnmount)&&r.componentWillUnmount(),unmountRef(t.ref),r.$UN=!0,unmount(r.$LI)):e&8?(n=t.ref,!isNullOrUndef$2(n)&&isFunction$1(n.onComponentWillUnmount)&&n.onComponentWillUnmount(findDOMfromVNode(t,!0),t.props||EMPTY_OBJ),unmount(r)):e&1024?remove$2(r,t.ref):e&8192&&t.childFlags&12&&unmountAllChildren(r))}function unmountAllChildren(t){for(var e=0,r=t.length;e<r;++e)unmount(t[e])}function clearDOM(t){t.textContent=""}function removeAllChildren(t,e,r){unmountAllChildren(r),e.flags&8192?removeVNodeDOM(e,t):clearDOM(t)}function wrapLinkEvent(t){var e=t.event;return function(r){e(t.data,r)}}function patchEvent(t,e,r,n){if(isLinkEventObject(r)){if(isLastValueSameLinkEvent(e,r))return;r=wrapLinkEvent(r)}attachEvent$1(n,normalizeEventName(t),r)}function patchStyle(t,e,r){if(isNullOrUndef$2(e)){r.removeAttribute("style");return}var n=r.style,i,a;if(isString$1(e)){n.cssText=e;return}if(!isNullOrUndef$2(t)&&!isString$1(t)){for(i in e)a=e[i],a!==t[i]&&n.setProperty(i,a);for(i in t)isNullOrUndef$2(e[i])&&n.removeProperty(i)}else for(i in e)a=e[i],n.setProperty(i,a)}function patchDangerInnerHTML(t,e,r,n){var i=t&&t.__html||"",a=e&&e.__html||"";i!==a&&!isNullOrUndef$2(a)&&!isSameInnerHTML$1(n,a)&&(isNull$1(r)||(r.childFlags&12?unmountAllChildren(r.children):r.childFlags===2&&unmount(r.children),r.children=null,r.childFlags=1),n.innerHTML=a)}function patchProp(t,e,r,n,i,a,o){switch(t){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":n.autofocus=!!r;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[t]=!!r;break;case"defaultChecked":case"value":case"volume":if(a&&t==="value")break;var s=isNullOrUndef$2(r)?"":r;n[t]!==s&&(n[t]=s);break;case"style":patchStyle(e,r,n);break;case"dangerouslySetInnerHTML":patchDangerInnerHTML(e,r,o,n);break;default:syntheticEvents[t]?handleSyntheticEvent(t,e,r,n):t.charCodeAt(0)===111&&t.charCodeAt(1)===110?patchEvent(t,e,r,n):isNullOrUndef$2(r)?n.removeAttribute(t):i&&namespaces[t]?n.setAttributeNS(namespaces[t],t,r):n.setAttribute(t,r);break}}function mountProps(t,e,r,n,i){var a=!1,o=(e&448)>0;o&&(a=isControlledFormElement(r),a&&addFormElementEventHandlers(e,n,r));for(var s in r)patchProp(s,null,r[s],n,i,a,null);o&&processElement(e,t,n,r,!0,a)}function renderNewInput(t,e,r){var n=normalizeRoot(t.render(e,t.state,r)),i=r;return isFunction$1(t.getChildContext)&&(i=combineFrom(r,t.getChildContext())),t.$CX=i,n}function createClassComponentInstance(t,e,r,n,i,a){var o=new e(r,n),s=o.$N=Boolean(e.getDerivedStateFromProps||o.getSnapshotBeforeUpdate);if(o.$SVG=i,o.$L=a,t.children=o,o.$BS=!1,o.context=n,o.props===EMPTY_OBJ&&(o.props=r),s)o.state=createDerivedState(o,r,o.state);else if(isFunction$1(o.componentWillMount)){o.$BR=!0,o.componentWillMount();var l=o.$PS;if(!isNull$1(l)){var u=o.state;if(isNull$1(u))o.state=l;else for(var m in l)u[m]=l[m];o.$PS=null}o.$BR=!1}return o.$LI=renderNewInput(o,r,n),o}function renderFunctionalComponent(t,e){var r=t.props||EMPTY_OBJ;return t.flags&32768?t.type.render(r,t.ref,e):t.type(r,e)}function mount(t,e,r,n,i,a){var o=t.flags|=16384;o&481?mountElement(t,e,r,n,i,a):o&4?mountClassComponent(t,e,r,n,i,a):o&8?(mountFunctionalComponent(t,e,r,n,i,a),mountFunctionalComponentCallbacks(t,a)):o&512||o&16?mountText(t,e,i):o&8192?mountFragment(t,r,e,n,i,a):o&1024&&mountPortal(t,r,e,i,a)}function mountPortal(t,e,r,n,i){mount(t.children,t.ref,e,!1,null,i);var a=createVoidVNode();mountText(a,r,n),t.dom=a.dom}function mountFragment(t,e,r,n,i,a){var o=t.children,s=t.childFlags;s&12&&o.length===0&&(s=t.childFlags=2,o=t.children=createVoidVNode()),s===2?mount(o,r,e,n,i,a):mountArrayChildren(o,r,e,n,i,a)}function mountText(t,e,r){var n=t.dom=document.createTextNode(t.children);isNull$1(e)||insertOrAppend(e,n,r)}function mountElement(t,e,r,n,i,a){var o=t.flags,s=t.props,l=t.className,u=t.childFlags,m=t.dom=documentCreateElement(t.type,n=n||(o&32)>0),b=t.children;if(!isNullOrUndef$2(l)&&l!==""&&(n?m.setAttribute("class",l):m.className=l),u===16)setTextContent(m,b);else if(u!==1){var _=n&&t.type!=="foreignObject";u===2?(b.flags&16384&&(t.children=b=directClone(b)),mount(b,m,r,_,null,a)):(u===8||u===4)&&mountArrayChildren(b,m,r,_,null,a)}isNull$1(e)||insertOrAppend(e,m,i),isNull$1(s)||mountProps(t,o,s,m,n),mountRef(t.ref,m,a)}function mountArrayChildren(t,e,r,n,i,a){for(var o=0;o<t.length;++o){var s=t[o];s.flags&16384&&(t[o]=s=directClone(s)),mount(s,e,r,n,i,a)}}function mountClassComponent(t,e,r,n,i,a){var o=createClassComponentInstance(t,t.type,t.props||EMPTY_OBJ,r,n,a);mount(o.$LI,e,o.$CX,n,i,a),mountClassComponentCallbacks(t.ref,o,a)}function mountFunctionalComponent(t,e,r,n,i,a){mount(t.children=normalizeRoot(renderFunctionalComponent(t,r)),e,r,n,i,a)}function createClassMountCallback(t){return function(){t.componentDidMount()}}function mountClassComponentCallbacks(t,e,r){mountRef(t,e,r),isFunction$1(e.componentDidMount)&&r.push(createClassMountCallback(e))}function createOnMountCallback(t,e){return function(){t.onComponentDidMount(findDOMfromVNode(e,!0),e.props||EMPTY_OBJ)}}function mountFunctionalComponentCallbacks(t,e){var r=t.ref;isNullOrUndef$2(r)||(safeCall1(r.onComponentWillMount,t.props||EMPTY_OBJ),isFunction$1(r.onComponentDidMount)&&e.push(createOnMountCallback(r,t)))}function replaceWithNewNode(t,e,r,n,i,a){unmount(t),(e.flags&t.flags&2033)!==0?(mount(e,null,n,i,null,a),replaceChild(r,e.dom,t.dom)):(mount(e,r,n,i,findDOMfromVNode(t,!0),a),removeVNodeDOM(t,r))}function patch(t,e,r,n,i,a,o){var s=e.flags|=16384;t.flags!==s||t.type!==e.type||t.key!==e.key||s&2048?t.flags&16384?replaceWithNewNode(t,e,r,n,i,o):mount(e,r,n,i,a,o):s&481?patchElement(t,e,n,i,s,o):s&4?patchClassComponent(t,e,r,n,i,a,o):s&8?patchFunctionalComponent(t,e,r,n,i,a,o):s&16?patchText(t,e):s&512?e.dom=t.dom:s&8192?patchFragment(t,e,r,n,i,o):patchPortal(t,e,n,o)}function patchSingleTextChild(t,e,r){t!==e&&(t!==""?r.firstChild.nodeValue=e:setTextContent(r,e))}function patchContentEditableChildren(t,e){t.textContent!==e&&(t.textContent=e)}function patchFragment(t,e,r,n,i,a){var o=t.children,s=e.children,l=t.childFlags,u=e.childFlags,m=null;u&12&&s.length===0&&(u=e.childFlags=2,s=e.children=createVoidVNode());var b=(u&2)!==0;if(l&12){var _=o.length;(l&8&&u&8||b||!b&&s.length>_)&&(m=findDOMfromVNode(o[_-1],!1).nextSibling)}patchChildren(l,u,o,s,r,n,i,m,t,a)}function patchPortal(t,e,r,n){var i=t.ref,a=e.ref,o=e.children;if(patchChildren(t.childFlags,e.childFlags,t.children,o,i,r,!1,null,t,n),e.dom=t.dom,i!==a&&!isInvalid$1(o)){var s=o.dom;removeChild(i,s),appendChild(a,s)}}function patchElement(t,e,r,n,i,a){var o=e.dom=t.dom,s=t.props,l=e.props,u=!1,m=!1,b;if(n=n||(i&32)>0,s!==l){var _=s||EMPTY_OBJ;if(b=l||EMPTY_OBJ,b!==EMPTY_OBJ){u=(i&448)>0,u&&(m=isControlledFormElement(b));for(var I in b){var j=_[I],L=b[I];j!==L&&patchProp(I,j,L,o,n,m,t)}}if(_!==EMPTY_OBJ)for(var z in _)isNullOrUndef$2(b[z])&&!isNullOrUndef$2(_[z])&&patchProp(z,_[z],null,o,n,m,t)}var M=e.children,R=e.className;t.className!==R&&(isNullOrUndef$2(R)?o.removeAttribute("class"):n?o.setAttribute("class",R):o.className=R),i&4096?patchContentEditableChildren(o,M):patchChildren(t.childFlags,e.childFlags,t.children,M,o,r,n&&e.type!=="foreignObject",null,t,a),u&&processElement(i,e,o,b,!1,m);var w=e.ref,k=t.ref;k!==w&&(unmountRef(k),mountRef(w,o,a))}function replaceOneVNodeWithMultipleVNodes(t,e,r,n,i,a){unmount(t),mountArrayChildren(e,r,n,i,findDOMfromVNode(t,!0),a),removeVNodeDOM(t,r)}function patchChildren(t,e,r,n,i,a,o,s,l,u){switch(t){case 2:switch(e){case 2:patch(r,n,i,a,o,s,u);break;case 1:remove$2(r,i);break;case 16:unmount(r),setTextContent(i,n);break;default:replaceOneVNodeWithMultipleVNodes(r,n,i,a,o,u);break}break;case 1:switch(e){case 2:mount(n,i,a,o,s,u);break;case 1:break;case 16:setTextContent(i,n);break;default:mountArrayChildren(n,i,a,o,s,u);break}break;case 16:switch(e){case 16:patchSingleTextChild(r,n,i);break;case 2:clearDOM(i),mount(n,i,a,o,s,u);break;case 1:clearDOM(i);break;default:clearDOM(i),mountArrayChildren(n,i,a,o,s,u);break}break;default:switch(e){case 16:unmountAllChildren(r),setTextContent(i,n);break;case 2:removeAllChildren(i,l,r),mount(n,i,a,o,s,u);break;case 1:removeAllChildren(i,l,r);break;default:var m=r.length|0,b=n.length|0;m===0?b>0&&mountArrayChildren(n,i,a,o,s,u):b===0?removeAllChildren(i,l,r):e===8&&t===8?patchKeyedChildren(r,n,i,a,o,m,b,s,l,u):patchNonKeyedChildren(r,n,i,a,o,m,b,s,u);break}break}}function createDidUpdate(t,e,r,n,i){i.push(function(){t.componentDidUpdate(e,r,n)})}function updateClassComponent(t,e,r,n,i,a,o,s,l){var u=t.state,m=t.props,b=Boolean(t.$N),_=isFunction$1(t.shouldComponentUpdate);if(b&&(e=createDerivedState(t,r,e!==u?combineFrom(u,e):e)),o||!_||_&&t.shouldComponentUpdate(r,e,i)){!b&&isFunction$1(t.componentWillUpdate)&&t.componentWillUpdate(r,e,i),t.props=r,t.state=e,t.context=i;var I=null,j=renderNewInput(t,r,i);b&&isFunction$1(t.getSnapshotBeforeUpdate)&&(I=t.getSnapshotBeforeUpdate(m,u)),patch(t.$LI,j,n,t.$CX,a,s,l),t.$LI=j,isFunction$1(t.componentDidUpdate)&&createDidUpdate(t,m,u,I,l)}else t.props=r,t.state=e,t.context=i}function patchClassComponent(t,e,r,n,i,a,o){var s=e.children=t.children;if(!isNull$1(s)){s.$L=o;var l=e.props||EMPTY_OBJ,u=e.ref,m=t.ref,b=s.state;if(!s.$N){if(isFunction$1(s.componentWillReceiveProps)){if(s.$BR=!0,s.componentWillReceiveProps(l,n),s.$UN)return;s.$BR=!1}isNull$1(s.$PS)||(b=combineFrom(b,s.$PS),s.$PS=null)}updateClassComponent(s,b,l,r,n,i,!1,a,o),m!==u&&(unmountRef(m),mountRef(u,s,o))}}function patchFunctionalComponent(t,e,r,n,i,a,o){var s=!0,l=e.props||EMPTY_OBJ,u=e.ref,m=t.props,b=!isNullOrUndef$2(u),_=t.children;if(b&&isFunction$1(u.onComponentShouldUpdate)&&(s=u.onComponentShouldUpdate(m,l)),s!==!1){b&&isFunction$1(u.onComponentWillUpdate)&&u.onComponentWillUpdate(m,l);var I=normalizeRoot(renderFunctionalComponent(e,n));patch(_,I,r,n,i,a,o),e.children=I,b&&isFunction$1(u.onComponentDidUpdate)&&u.onComponentDidUpdate(m,l)}else e.children=_}function patchText(t,e){var r=e.children,n=e.dom=t.dom;r!==t.children&&(n.nodeValue=r)}function patchNonKeyedChildren(t,e,r,n,i,a,o,s,l){for(var u=a>o?o:a,m=0,b,_;m<u;++m)b=e[m],_=t[m],b.flags&16384&&(b=e[m]=directClone(b)),patch(_,b,r,n,i,s,l),t[m]=b;if(a<o)for(m=u;m<o;++m)b=e[m],b.flags&16384&&(b=e[m]=directClone(b)),mount(b,r,n,i,s,l);else if(a>o)for(m=u;m<a;++m)remove$2(t[m],r)}function patchKeyedChildren(t,e,r,n,i,a,o,s,l,u){var m=a-1,b=o-1,_=0,I=t[_],j=e[_],L,z;e:{for(;I.key===j.key;){if(j.flags&16384&&(e[_]=j=directClone(j)),patch(I,j,r,n,i,s,u),t[_]=j,++_,_>m||_>b)break e;I=t[_],j=e[_]}for(I=t[m],j=e[b];I.key===j.key;){if(j.flags&16384&&(e[b]=j=directClone(j)),patch(I,j,r,n,i,s,u),t[m]=j,m--,b--,_>m||_>b)break e;I=t[m],j=e[b]}}if(_>m){if(_<=b)for(L=b+1,z=L<o?findDOMfromVNode(e[L],!0):s;_<=b;)j=e[_],j.flags&16384&&(e[_]=j=directClone(j)),++_,mount(j,r,n,i,z,u)}else if(_>b)for(;_<=m;)remove$2(t[_++],r);else patchKeyedChildrenComplex(t,e,n,a,o,m,b,_,r,i,s,l,u)}function patchKeyedChildrenComplex(t,e,r,n,i,a,o,s,l,u,m,b,_){var I,j,L,z=0,M=s,R=s,w=a-s+1,k=o-s+1,A=new Int32Array(k+1),D=w===n,P=!1,T=0,x=0;if(i<4||(w|k)<32)for(z=M;z<=a;++z)if(I=t[z],x<k){for(s=R;s<=o;s++)if(j=e[s],I.key===j.key){if(A[s-R]=z+1,D)for(D=!1;M<z;)remove$2(t[M++],l);T>s?P=!0:T=s,j.flags&16384&&(e[s]=j=directClone(j)),patch(I,j,l,r,u,m,_),++x;break}!D&&s>o&&remove$2(I,l)}else D||remove$2(I,l);else{var g={};for(z=R;z<=o;++z)g[e[z].key]=z;for(z=M;z<=a;++z)if(I=t[z],x<k)if(s=g[I.key],s!==void 0){if(D)for(D=!1;z>M;)remove$2(t[M++],l);A[s-R]=z+1,T>s?P=!0:T=s,j=e[s],j.flags&16384&&(e[s]=j=directClone(j)),patch(I,j,l,r,u,m,_),++x}else D||remove$2(I,l);else D||remove$2(I,l)}if(D)removeAllChildren(l,b,t),mountArrayChildren(e,l,r,u,m,_);else if(P){var f=lis_algorithm(A);for(s=f.length-1,z=k-1;z>=0;z--)A[z]===0?(T=z+R,j=e[T],j.flags&16384&&(e[T]=j=directClone(j)),L=T+1,mount(j,l,r,u,L<i?findDOMfromVNode(e[L],!0):m,_)):s<0||z!==f[s]?(T=z+R,j=e[T],L=T+1,moveVNodeDOM(j,l,L<i?findDOMfromVNode(e[L],!0):m)):s--}else if(x!==k)for(z=k-1;z>=0;z--)A[z]===0&&(T=z+R,j=e[T],j.flags&16384&&(e[T]=j=directClone(j)),L=T+1,mount(j,l,r,u,L<i?findDOMfromVNode(e[L],!0):m,_))}var result,p,maxLen=0;function lis_algorithm(t){var e=0,r=0,n=0,i=0,a=0,o=0,s=0,l=t.length;for(l>maxLen&&(maxLen=l,result=new Int32Array(l),p=new Int32Array(l));r<l;++r)if(e=t[r],e!==0){if(n=result[i],t[n]<e){p[r]=n,result[++i]=r;continue}for(a=0,o=i;a<o;)s=a+o>>1,t[result[s]]<e?a=s+1:o=s;e<t[result[a]]&&(a>0&&(p[r]=result[a-1]),result[a]=r)}a=i+1;var u=new Int32Array(a);for(o=result[a-1];a-- >0;)u[a]=o,o=p[o],result[a]=0;return u}var hasDocumentAvailable=typeof document!="undefined";hasDocumentAvailable&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function __render(t,e,r,n){var i=[],a=e.$V;renderCheck.v=!0,isNullOrUndef$2(a)?isNullOrUndef$2(t)||(t.flags&16384&&(t=directClone(t)),mount(t,e,n,!1,null,i),e.$V=t,a=t):isNullOrUndef$2(t)?(remove$2(a,e),e.$V=null):(t.flags&16384&&(t=directClone(t)),patch(a,t,e,n,!1,null,i),a=e.$V=t),callAll(i),renderCheck.v=!1,isFunction$1(r)&&r(),isFunction$1(options.renderComplete)&&options.renderComplete(a,e)}function render$3(t,e,r,n){r===void 0&&(r=null),n===void 0&&(n=EMPTY_OBJ),__render(t,e,r,n)}var QUEUE=[],nextTick=typeof Promise!="undefined"?Promise.resolve().then.bind(Promise.resolve()):function(t){window.setTimeout(t,0)},microTaskPending=!1;function queueStateChanges(t,e,r,n){var i=t.$PS;if(isFunction$1(e)&&(e=e(i?combineFrom(t.state,i):t.state,t.props,t.context)),isNullOrUndef$2(i))t.$PS=e;else for(var a in e)i[a]=e[a];if(t.$BR)isFunction$1(r)&&t.$L.push(r.bind(t));else{if(!renderCheck.v&&QUEUE.length===0){applyState(t,n),isFunction$1(r)&&r.call(t);return}if(QUEUE.indexOf(t)===-1&&QUEUE.push(t),n&&(t.$F=!0),microTaskPending||(microTaskPending=!0,nextTick(rerender)),isFunction$1(r)){var o=t.$QU;o||(o=t.$QU=[]),o.push(r)}}}function callSetStateCallbacks(t){for(var e=t.$QU,r=0;r<e.length;++r)e[r].call(t);t.$QU=null}function rerender(){var t;for(microTaskPending=!1;t=QUEUE.shift();)if(!t.$UN){var e=t.$F;t.$F=!1,applyState(t,e),t.$QU&&callSetStateCallbacks(t)}}function applyState(t,e){if(e||!t.$BR){var r=t.$PS;t.$PS=null;var n=[];renderCheck.v=!0,updateClassComponent(t,combineFrom(t.state,r),t.props,findDOMfromVNode(t.$LI,!0).parentNode,t.context,t.$SVG,e,null,n),callAll(n),renderCheck.v=!1}else t.state=t.$PS,t.$PS=null}var Component=function(e,r){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=e||EMPTY_OBJ,this.context=r||EMPTY_OBJ};Component.prototype.forceUpdate=function(e){this.$UN||queueStateChanges(this,{},e,!0)};Component.prototype.setState=function(e,r){this.$UN||this.$BS||queueStateChanges(this,e,r,!1)};Component.prototype.render=function(e,r,n){return null};const InfernoEffectHost={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){const t=this.callbacks;this.callbacks=[],t.forEach(e=>e())}}},areObjectsEqual=(t,e)=>{if(!(t instanceof Object&&e instanceof Object))return t===e;const n=Object.keys(t),i=Object.keys(e);return n.length!==i.length?!1:!n.some(o=>t[o]!==e[o])};class BaseInfernoComponent extends Component{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(e,r){this._pendingContext=r!=null?r:{}}shouldComponentUpdate(e,r){return!areObjectsEqual(this.props,e)||!areObjectsEqual(this.state,r)||!areObjectsEqual(this.context,this._pendingContext)}}class InfernoComponent extends BaseInfernoComponent{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){InfernoEffectHost.lock()}componentWillUpdate(e,r,n){InfernoEffectHost.lock()}componentDidMount(){InfernoEffectHost.callbacks.push(()=>{this._effects=this.createEffects()}),InfernoEffectHost.callEffects()}componentDidUpdate(){InfernoEffectHost.callbacks.push(()=>this.updateEffects()),InfernoEffectHost.callEffects()}destroyEffects(){this._effects.forEach(e=>e.dispose())}componentWillUnmount(){this.destroyEffects()}}class InfernoWrapperComponent extends InfernoComponent{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){const e=this.vDomElement,r=e.className.length?e.className.split(" "):[],n=r.filter(a=>e.dxClasses.previous.indexOf(a)<0),i=e.dxClasses.previous.filter(a=>r.indexOf(a)<0);n.forEach(a=>{const o=e.dxClasses.removed.indexOf(a);o>-1?e.dxClasses.removed.splice(o,1):e.dxClasses.added.push(a)}),i.forEach(a=>{const o=e.dxClasses.added.indexOf(a);o>-1?e.dxClasses.added.splice(o,1):e.dxClasses.removed.push(a)})}componentDidMount(){const e=findDOMfromVNode(this.$LI,!0);this.vDomElement=e,super.componentDidMount(),e.dxClasses=e.dxClasses||{removed:[],added:[],previous:[]},e.dxClasses.previous=e!=null&&e.className.length?e.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const e=this.vDomElement;e!==null&&(e.dxClasses.added.forEach(r=>e.classList.add(r)),e.dxClasses.removed.forEach(r=>e.classList.remove(r)),e.dxClasses.previous=e.className.length?e.className.split(" "):[])}shouldComponentUpdate(e,r){const n=super.shouldComponentUpdate(e,r);return n&&this.vDomUpdateClasses(),n}}let contextId=0;const createContext=function(t){const e=contextId++;return{id:e,defaultValue:t,Provider:class extends Component{getChildContext(){return Object.assign(Object.assign({},this.context),{[e]:this.props.value||t})}render(){return this.props.children}}}};class InfernoEffect{constructor(e,r){this.dependency=r,this.effect=e,this.destroy=e()}update(e){const r=this.dependency;e&&(this.dependency=e),(!e||e.some((n,i)=>r[i]!==n))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const createReRenderEffect=()=>new InfernoEffect(()=>{rerender()},[]),ERROR_MSG="a runtime error occured! Use Inferno in development environment to find the error.";function isNullOrUndef$1(t){return t==null}function isInvalid(t){return t===null||t===!1||t===!0||t===void 0}function isFunction(t){return typeof t=="function"}function isNull(t){return t===null}function throwError(t){throw t||(t=ERROR_MSG),new Error(`Inferno Error: ${t}`)}function isSameInnerHTML(t,e){const r=document.createElement("i");return r.innerHTML=e,r.innerHTML===t.innerHTML}function findLastDOMFromVNode(t){let e,r;for(;t;){if(e=t.flags,e&2033)return t.dom;r=t.children,e&8192?t=t.childFlags===2?r:r[r.length-1]:e&4?t=r.$LI:t=r}return null}function isSamePropsInnerHTML(t,e){return Boolean(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&isSameInnerHTML(t,e.dangerouslySetInnerHTML.__html))}function hydrateComponent(t,e,r,n,i,a,o){const s=t.type,l=t.ref,u=t.props||EMPTY_OBJ;let m;if(a){const b=createClassComponentInstance(t,s,u,n,i,o),_=b.$LI;m=hydrateVNode(_,e,r,b.$CX,i,o),mountClassComponentCallbacks(l,b,o)}else{const b=normalizeRoot(renderFunctionalComponent(t,n));m=hydrateVNode(b,e,r,n,i,o),t.children=b,mountFunctionalComponentCallbacks(t,o)}return m}function hydrateChildren(t,e,r,n,i,a){const o=t.childFlags,s=t.children,l=t.props,u=t.flags;if(o!==1){if(o===2)isNull(r)?mount(s,e,n,i,null,a):(r=hydrateVNode(s,e,r,n,i,a),r=r?r.nextSibling:null);else if(o===16)isNull(r)?e.appendChild(document.createTextNode(s)):e.childNodes.length!==1||r.nodeType!==3?e.textContent=s:r.nodeValue!==s&&(r.nodeValue=s),r=null;else if(o&12){let m=!1;for(let b=0,_=s.length;b<_;++b){const I=s[b];isNull(r)||m&&(I.flags&16)>0?mount(I,e,n,i,r,a):(r=hydrateVNode(I,e,r,n,i,a),r=r?r.nextSibling:null),m=(I.flags&16)>0}}if((u&8192)===0){let m=null;for(;r;)m=r.nextSibling,e.removeChild(r),r=m}}else!isNull(e.firstChild)&&!isSamePropsInnerHTML(e,l)&&(e.textContent="",u&448&&(e.defaultValue=""))}function hydrateElement(t,e,r,n,i,a){const o=t.props,s=t.className,l=t.flags,u=t.ref;return i=i||(l&32)>0,r.nodeType!==1?(mountElement(t,null,n,i,null,a),e.replaceChild(t.dom,r)):(t.dom=r,hydrateChildren(t,r,r.firstChild,n,i,a),isNull(o)||mountProps(t,l,o,r,i),isNullOrUndef$1(s)?r.className!==""&&r.removeAttribute("class"):i?r.setAttribute("class",s):r.className=s,mountRef(u,r,a)),t.dom}function hydrateText(t,e,r){if(r.nodeType!==3)e.replaceChild(t.dom=document.createTextNode(t.children),r);else{const n=t.children;r.nodeValue!==n&&(r.nodeValue=n),t.dom=r}return t.dom}function hydrateFragment(t,e,r,n,i,a){const o=t.children;return t.childFlags===2?(hydrateText(o,e,r),o.dom):(hydrateChildren(t,e,r,n,i,a),findLastDOMFromVNode(o[o.length-1]))}function hydrateVNode(t,e,r,n,i,a){const o=t.flags|=16384;return o&14?hydrateComponent(t,e,r,n,i,(o&4)>0,a):o&481?hydrateElement(t,e,r,n,i,a):o&16?hydrateText(t,e,r):o&512?t.dom=r:o&8192?hydrateFragment(t,e,r,n,i,a):(throwError(),null)}function hydrate(t,e,r){let n=e.firstChild;if(isNull(n))render$3(t,e,r);else{const i=[];for(isInvalid(t)||(n=hydrateVNode(t,e,n,{},!1,i));n&&(n=n.nextSibling);)e.removeChild(n);if(i.length>0){let a;for(;(a=i.shift())!==void 0;)a()}}e.$V=t,isFunction(r)&&r()}function isNullOrUndef(t){return t==null}function isString(t){return typeof t=="string"}function isUndefined(t){return t===void 0}var componentHooks={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function createElement(t,e,r){var n=arguments,i,a=null,o=null,s=null,l=0,u,m=arguments.length-2;if(m===1)i=r;else if(m>1)for(i=[];m-- >0;)i[m]=n[m+2];if(isString(t)){if(l=getFlagsForElementVnode(t),!isNullOrUndef(e)){u={};for(var b in e)b==="className"||b==="class"?s=e[b]:b==="key"?o=e.key:b==="children"&&isUndefined(i)?i=e.children:b==="ref"?a=e.ref:(b==="contenteditable"&&(l|=4096),u[b]=e[b])}}else{if(l=2,isUndefined(i)||(e||(e={}),e.children=i),!isNullOrUndef(e)){u={};for(var _ in e)_==="key"?o=e.key:_==="ref"?a=e.ref:componentHooks[_]===1?(a||(a={}),a[_]=e[_]):u[_]=e[_]}return createComponentVNode(l,t,u,o,a)}return l&8192?createFragment(m===1?[i]:i,0,o):createVNode(l,t,s,i,0,u,o,a)}const getContainer=t=>{var e,r;return((e=t.container)===null||e===void 0?void 0:e.get(0))||((r=t.item)===null||r===void 0?void 0:r.get(0))};function renderTemplate(t,e,r){setTimeout(()=>{render$3(createElement(t,e),getContainer(e))},0)}const hasTemplate$2=(t,e,r)=>{const n=e[t];return!!n&&typeof n!="string"},NUMBER_STYLES=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),isNumeric=t=>typeof t=="number"?!0:!Number.isNaN(Number(t)),getNumberStyleValue=(t,e)=>NUMBER_STYLES.has(t)?e:`${e}px`,uppercasePattern=/[A-Z]/g,kebabCase=t=>t.replace(uppercasePattern,"-$&").toLowerCase();function normalizeStyles(t){if(t instanceof Object)return Object.entries(t).reduce((e,[r,n])=>(e[kebabCase(r)]=isNumeric(n)?getNumberStyleValue(r,n):n,e),{})}var remove$1=t=>{var{parentNode:e}=t;e&&(cleanDataRecursive(t),e.$V=t.$V,render$3(null,e),e.appendChild(t),t.innerHTML="",delete e.$V),delete t.$V},renderer=dependencyInjector({createElement:(t,e)=>createElement(t,e),remove:remove$1,onAfterRender:()=>{InfernoEffectHost.callEffects()},onPreRender:()=>{InfernoEffectHost.lock()},render:(t,e,r,n)=>{if(n)render$3(createElement(t,e),r);else{var{parentNode:i}=r,a=r==null?void 0:r.nextSibling,o=domAdapter.createElement("div");o.appendChild(r);var s=domAdapter.createDocumentFragment().appendChild(o),l=!!r.$V;l&&remove$1(r),hydrate(createElement(t,e),s),r.$V=s.$V,i&&i.insertBefore(r,a)}}}),shallowEquals=(t,e)=>Object.keys(t).length!==Object.keys(e).length?!1:Object.keys(t).every(r=>t[r]===e[r]),removeDifferentElements=(t,e)=>{each(e,(r,n)=>{var i=!1;each(t,(a,o)=>{n===o&&(i=!0)}),!i&&n.parentNode&&n.parentNode.removeChild(n)})};class TemplateWrapper extends InfernoComponent{constructor(e){super(e),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){var e,r=findDOMfromVNode(this.$LI,!0),n=r.parentNode,i=$(n),a=i.contents(),{data:o,index:s}=(e=this.props.model)!==null&&e!==void 0?e:{data:{}};o&&Object.keys(o).forEach(u=>{o[u]&&domAdapter.isNode(o[u])&&(o[u]=getPublicElement($(o[u])))});var l=$(this.props.template.render(_extends({container:getPublicElement(i),transclude:this.props.transclude},{renovated:this.props.renovated},this.props.transclude?{}:{model:o},!this.props.transclude&&Number.isFinite(s)?{index:s}:{})));return replaceWith($(r),l),()=>{removeDifferentElements(a,i.contents()),n.appendChild(r)}}shouldComponentUpdate(e){var{model:r,template:n}=this.props,{model:i,template:a}=e,o=n===a;if(!o)return!0;if(isDefined(r)&&isDefined(i)){var{data:s,index:l}=r,{data:u,index:m}=i;return l!==m||!shallowEquals(s,u)}var b=r===i;return!b}createEffects(){return[new InfernoEffect(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}}function cloneObjectValue(t){return Array.isArray(t)?[...t]:_extends({},t)}function cloneObjectProp(t,e,r){var n=r.length>0&&e&&t!==e?cloneObjectValue(e):cloneObjectValue(t),i=r[0];return r.length>1?n[i]=cloneObjectProp(t[i],e==null?void 0:e[i],r.slice(1)):i&&(isPlainObject(t[i])?n[i]=cloneObjectValue(t[i]):n[i]=t[i]),n}function updatePropsImmutable(t,e,r,n){var i=e[r],a=t[r],o=t;isPlainObject(i)||r!==n&&Array.isArray(i)?o[r]=cloneObjectProp(i,a,getPathParts$1(n).slice(1)):o[r]=i}var setDefaultOptionValue=(t,e)=>r=>{Object.prototype.hasOwnProperty.call(t,r)&&t[r]===void 0&&(t[r]=e(r))};class ComponentWrapper extends DOMComponent$1{constructor(e,r){super(e,r),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}validateKeyDownHandler(){var e=this.getSupportedKeyNames(),r=e.length>0,n=typeof this._viewComponent.prototype.keyDown=="function";if(r&&!n)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var e;return(e=this._viewRef)===null||e===void 0?void 0:e.current}_checkContentReadyOption(e){var r=this._getContentReadyOptions().reduce((n,i)=>(n[i]=!0,n),{});return this._checkContentReadyOption=n=>!!r[n],this._checkContentReadyOption(e)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){return extend(!0,super._getDefaultOptions(),this._viewComponent.defaultProps,this._propsInfo.twoWay.reduce((e,r)=>{var[n,i,a]=r;return _extends({},e,{[n]:this._viewComponent.defaultProps[i],[a]:o=>this.option(n,o)})},{}),this._propsInfo.templates.reduce((e,r)=>_extends({},e,{[r]:null}),{}))}_getUnwrappedOption(){var e={};return Object.keys(this.option()).forEach(r=>{e[r]=this.option(r)}),e}_initializeComponent(){var e;super._initializeComponent(),(e=this._templateManager)===null||e===void 0||e.addDefaultTemplates(this.getDefaultTemplates());var r=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(r),this._propsInfo.templates.forEach(n=>{this._componentTemplates[n]=this._createTemplateComponent(this._props[n])}),Object.keys(this._getActionConfigsFull()).forEach(n=>this._addAction(n)),this._viewRef=createRef(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){var e=this.getProps();this._renderWrapper(e)}_renderWrapper(e){var r=this.$element()[0];this._isNodeReplaced||renderer.onPreRender(),renderer.render(this._viewComponent,e,r,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,renderer.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(e,r){this._options.silent(e,r)}_render(){}_removeWidget(){renderer.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){var e=this.$element()[0];if(!this._elementAttr){var{attributes:r}=e,n=Array.from(r).filter(s=>{var l;return!this._propsInfo.templates.includes(s.name)&&((l=r[s.name])===null||l===void 0?void 0:l.specified)}).reduce((s,l)=>{var{name:u,value:m}=l,b=s,_=u in e;return b[u]=m===""&&_?e[u]:m,b},{});this._elementAttr=n,this._storedClasses=e.getAttribute("class")||""}for(var i=e.style,a={},o=0;o<i.length;o+=1)a[i[o]]=i.getPropertyValue(i[o]);return this._elementAttr.style=a,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(e){var{allowNull:r,elements:n,props:i,twoWay:a}=this._propsInfo,o=Object.keys(this._viewComponent.defaultProps),s=this._getDefaultOptions(),{children:l,onKeyboardHandled:u,ref:m}=e,b=u?(I,j)=>{u(j)}:void 0,_={ref:m,children:l,onKeyDown:b};return[...i,...this._getAdditionalProps()].forEach(I=>{Object.prototype.hasOwnProperty.call(e,I)&&(_[I]=e[I])}),r.forEach(setDefaultOptionValue(_,()=>null)),o.forEach(setDefaultOptionValue(_,I=>s[I])),a.forEach(I=>{var[j,L]=I;setDefaultOptionValue(_,()=>s[L])(j)}),n.forEach(I=>{if(I in _){var j=_[I];isRenderer(j)&&(_[I]=this._patchElementParam(j))}}),_}getSupportedKeyNames(){return[]}prepareStyleProp(e){return typeof e.style=="string"?_extends({},e,{style:{},cssText:e.style}):e}getProps(){var e,r,{elementAttr:n}=this.option(),i=this._patchOptionValues(_extends({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(a=>{i[a]=this._componentTemplates[a]}),this.prepareStyleProp(_extends({},i,this.elementAttr,n,{className:[...((e=this.elementAttr.class)!==null&&e!==void 0?e:"").split(" "),...((r=n==null?void 0:n.class)!==null&&r!==void 0?r:"").split(" ")].filter((a,o,s)=>a&&s.indexOf(a)===o).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return _extends({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){var e=Object.values(this._templatesInfo),r={};return e.forEach(n=>{r[n]="dx-renovation-template-mock"}),r}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(e){var r=Object.entries(this._templatesInfo).reduce((n,i)=>{var a,[o,s]=i;return _extends({},n,{[o]:(a=e[o])!==null&&a!==void 0?a:s})},{});return _extends({},e,r)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){var e={},r=this.getSupportedKeyNames();return r.forEach(n=>{e[n]=i=>this.viewRef.keyDown(KeyboardProcessor$1.createKeyDownOptions(i))}),e}_addAction(e,r){var n=r;if(!n){var i=this._createActionByOption(e,this._getActionConfigsFull()[e]);n=a=>(Object.keys(a).forEach(o=>{isDefined(a[o])&&domAdapter.isNode(a[o])&&(a[o]=getPublicElement($(a[o])))}),i(a))}this._actionsMap[e]=n}_optionChanged(e){var{fullName:r,name:n,previousValue:i,value:a}=e;updatePropsImmutable(this._props,this.option(),n,r),this._propsInfo.templates.includes(n)&&a!==i&&(this._componentTemplates[n]=this._createTemplateComponent(a)),n&&this._getActionConfigsFull()[n]&&this._addAction(n),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(r),super._optionChanged(e),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?renderer.createElement(TemplateWrapper,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(e){if(!!e){var r=this._getTemplate(e);if(!(isString$2(r)&&r==="dx-renovation-template-mock"))return n=>renderer.createElement(TemplateWrapper,{template:r,model:n})}}_wrapKeyDownHandler(e){return r=>{var{keyName:n,originalEvent:i,which:a}=r,o=this.customKeyHandlers,s=o[n]||o[a];if(s!==void 0){var l=s.bind(this),u=l(i,r);if(!u)return i.cancel=!0,i}return e==null?void 0:e(i,r)}}_toPublicElement(e){return getPublicElement($(e))}_patchElementParam(e){try{var r=$(e),n=r==null?void 0:r.get(0);return n!=null&&n.nodeType?n:e}catch{return e}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return _extends({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(e,r){this.customKeyHandlers[e]=r}setAria(e,r){this._aria[e]=r,this._initMarkup()}}ComponentWrapper.IS_RENOVATED_WIDGET=!1;ComponentWrapper.IS_RENOVATED_WIDGET=!0;class ButtonWrapper extends ComponentWrapper{get _validationGroupConfig(){return ValidationEngine$1.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){var e=super.getProps();e.onClick=n=>{var{event:i}=n;this._clickAction({event:i,validationGroup:this._validationGroupConfig})};var r=getImageSourceType(e.icon);return r==="svg"&&(e.iconTemplate=this._createTemplateComponent(()=>e.icon)),e}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,r){var n=this.viewRef;r?n.activate():n.deactivate()}_getSubmitAction(){var e=!0,r="valid";return this._createAction(n=>{var{event:i,submitInput:a}=n;if(e){var o=this._validationGroupConfig;if(o!==void 0&&o!==""){var s=o.validate();r=s.status,s.status==="pending"&&(e=!1,this.option("disabled",!0),s.complete.then(l=>{var{status:u}=l;this.option("disabled",!1),r=u,r==="valid"&&a.click(),e=!0}))}}r!=="valid"&&i.preventDefault(),i.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();var e=this.$element().find(".dx-button-content"),r=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");r.length&&(r.addClass("dx-button-content"),r.append(n),e.replaceWith(r))}_patchOptionValues(e){return super._patchOptionValues(_extends({},e,{templateData:e._templateData}))}_findGroup(){var e=this.$element(),r=this.option("validationGroup");return r!==void 0&&r!==""?r:ValidationEngine$1.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){switch(e.name){case"onClick":this._clickAction=this._createClickAction()}super._optionChanged(e)}}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function combineClasses(t){return Object.keys(t).filter(e=>t[e]).join(" ")}var _excluded$c=["iconTemplate","position","source"],viewFunction$9=t=>{var{iconClassName:e,props:{iconTemplate:r,source:n},sourceType:i}=t;return createFragment([i==="dxIcon"&&createVNode(1,"i",e),i==="fontIcon"&&createVNode(1,"i",e),i==="image"&&createVNode(1,"img",e,null,1,{alt:"",src:n}),r&&createVNode(1,"i",e,r({}),0)],0)},IconProps={position:"left",source:""},getTemplate$1=t=>t&&(t.defaultProps?e=>normalizeProps$1(createComponentVNode(2,t,_extends({},e))):t);class Icon extends BaseInfernoComponent{constructor(e){super(e),this.state={}}get sourceType(){return getImageSourceType(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){var e={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:r}=this.props;return this.sourceType==="dxIcon"?combineClasses(_extends({},e,{["dx-icon-".concat(r)]:!0})):this.sourceType==="fontIcon"?combineClasses(_extends({},e,{[String(r)]:!!r})):this.sourceType==="image"?combineClasses(e):this.sourceType==="svg"?combineClasses(_extends({},e,{"dx-svg-icon":!0})):""}get restAttributes(){var e=this.props,r=_objectWithoutPropertiesLoose(e,_excluded$c);return r}render(){var e=this.props;return viewFunction$9({props:_extends({},e,{iconTemplate:getTemplate$1(e.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}Icon.defaultProps=IconProps;var _excluded$b=["config"],viewFunction$8=t=>normalizeProps$1(createVNode(1,"div","dx-inkripple",null,1,_extends({},t.restAttributes))),InkRippleProps={config:Object.freeze({})};class InkRipple extends BaseInfernoComponent{constructor(e){super(e),this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig!==void 0?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{var{config:e}=this.props;return initConfig(e)})()}get restAttributes(){var e=this.props,r=_objectWithoutPropertiesLoose(e,_excluded$b);return r}hideWave(e){hideWave(this.getConfig,e)}showWave(e){showWave(this.getConfig,e)}componentWillUpdate(e,r,n){this.props.config!==e.config&&(this.__getterCache.getConfig=void 0)}render(){var e=this.props;return viewFunction$8({props:_extends({},e),getConfig:this.getConfig,restAttributes:this.restAttributes})}}InkRipple.defaultProps=InkRippleProps;var abstract$3=Class.abstract,realDevice=devices$1.real(),SCROLL_EVENT="scroll",SCROLL_INIT_EVENT="dxscrollinit",SCROLL_START_EVENT="dxscrollstart",SCROLL_MOVE_EVENT="dxscroll",SCROLL_END_EVENT="dxscrollend",SCROLL_STOP_EVENT="dxscrollstop",SCROLL_CANCEL_EVENT="dxscrollcancel",Locker=Class.inherit(function(){var t=addNamespace$1(SCROLL_EVENT,"dxScrollEmitter");return{ctor:function(e){this._element=e,this._locked=!1,this._proxiedScroll=r=>{this._disposed||this._scroll(r)},eventsEngine$1.on(this._element,t,this._proxiedScroll)},_scroll:abstract$3,check:function(e,r){this._locked&&r()},dispose:function(){this._disposed=!0,eventsEngine$1.off(this._element,t,this._proxiedScroll)}}}()),TimeoutLocker=Locker.inherit({ctor:function(t,e){this.callBase(t),this._timeout=e},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var t=this;this._timer=setTimeout(function(){t._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),WheelLocker=TimeoutLocker.inherit({ctor:function(t){this.callBase(t,400),this._lastWheelDirection=null},check:function(t,e){this._checkDirectionChanged(t),this.callBase(t,e)},_checkDirectionChanged:function(t){if(!isDxMouseWheelEvent(t)){this._lastWheelDirection=null;return}var e=t.shiftKey||!1,r=this._lastWheelDirection!==null&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!r}}),PointerLocker=TimeoutLocker.inherit({ctor:function(t){this.callBase(t,400)}});(function(){var{ios:t,android:e}=realDevice;!(t||e)||(PointerLocker=Locker.inherit({_scroll:function(){this._locked=!0;var r=this;cancelAnimationFrame(this._scrollFrame),this._scrollFrame=requestAnimationFrame(function(){r._locked=!1})},check:function(r,n){cancelAnimationFrame(this._scrollFrame),cancelAnimationFrame(this._checkFrame);var i=this,a=this.callBase;this._checkFrame=requestAnimationFrame(function(){a.call(i,r,n),i._locked=!1})},dispose:function(){this.callBase(),cancelAnimationFrame(this._scrollFrame),cancelAnimationFrame(this._checkFrame)}}))})();var ScrollEmitter=GestureEmitter$1.inherit(function(){var t=Math.round(16.666666666666668);return{ctor:function(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new PointerLocker(e),this._wheelLocker=new WheelLocker(e)},validate:function(){return!0},configure:function(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new PointerLocker(e.scrollTarget),this._wheelLocker=new WheelLocker(e.scrollTarget)),this.callBase(e)},_init:function(e){this._wheelLocker.check(e,function(){isDxMouseWheelEvent(e)&&this._accept(e)}.bind(this)),this._pointerLocker.check(e,function(){var r=this.isNative&&isMouseEvent(e);!isDxMouseWheelEvent(e)&&!r&&this._accept(e)}.bind(this)),this._fireEvent(SCROLL_INIT_EVENT,e),this._prevEventData=eventData(e)},move:function(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start:function(e){this._savedEventData=eventData(e),this._fireEvent(SCROLL_START_EVENT,e),this._prevEventData=eventData(e)},_move:function(e){var r=eventData(e);this._fireEvent(SCROLL_MOVE_EVENT,e,{delta:eventDelta(this._prevEventData,r)});var n=eventDelta(this._savedEventData,r);n.time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=eventData(e)},_end:function(e){var r=eventDelta(this._prevEventData,eventData(e)),n={x:0,y:0};if(!isDxMouseWheelEvent(e)&&r.time<100){var i=eventDelta(this._savedEventData,this._prevEventData),a=t/i.time;n={x:i.x*a,y:i.y*a}}this._fireEvent(SCROLL_END_EVENT,e,{velocity:n})},_stop:function(e){this._fireEvent(SCROLL_STOP_EVENT,e)},cancel:function(e){this.callBase.apply(this,arguments),this._fireEvent(SCROLL_CANCEL_EVENT,e)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());registerEmitter$1({emitter:ScrollEmitter,events:[SCROLL_INIT_EVENT,SCROLL_START_EVENT,SCROLL_MOVE_EVENT,SCROLL_END_EVENT,SCROLL_STOP_EVENT,SCROLL_CANCEL_EVENT]});var scrollEvents={init:SCROLL_INIT_EVENT,start:SCROLL_START_EVENT,move:SCROLL_MOVE_EVENT,end:SCROLL_END_EVENT,stop:SCROLL_STOP_EVENT,cancel:SCROLL_CANCEL_EVENT,scroll:SCROLL_EVENT};function subscribeToEvent(t){return(e,r,n,i)=>{var a=i?addNamespace$1(t,i):t;if(r)return eventsEngine$1.on(e,a,n,r),()=>{eventsEngine$1.off(e,a,r)}}}subscribeToEvent(pointerEvents.down);subscribeToEvent(pointerEvents.up);subscribeToEvent(pointerEvents.move);var subscribeToDxActiveEvent=subscribeToEvent("dxactive"),subscribeToDxInactiveEvent=subscribeToEvent("dxinactive"),subscribeToDxHoverStartEvent=subscribeToEvent("dxhoverstart"),subscribeToDxHoverEndEvent=subscribeToEvent("dxhoverend"),subscribeToDxFocusInEvent=subscribeToEvent("focusin"),subscribeToDxFocusOutEvent=subscribeToEvent("focusout"),BaseWidgetProps={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0},ConfigContext=createContext(void 0),_excluded$a=["children","rtlEnabled"],viewFunction$7=t=>t.props.children,ConfigProviderProps={};class ConfigProvider extends BaseInfernoComponent{constructor(e){super(e),this.state={},this.__getterCache={}}getChildContext(){return _extends({},this.context,{ConfigContext:this.config})}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config=(()=>({rtlEnabled:this.props.rtlEnabled}))()}get restAttributes(){var e=this.props,r=_objectWithoutPropertiesLoose(e,_excluded$a);return r}componentWillUpdate(e,r,n){this.props.rtlEnabled!==e.rtlEnabled&&(this.__getterCache.config=void 0)}render(){var e=this.props;return viewFunction$7({props:_extends({},e),config:this.config,restAttributes:this.restAttributes})}}ConfigProvider.defaultProps=ConfigProviderProps;function resolveRtlEnabled(t,e){return t!==void 0?t:(e==null?void 0:e.rtlEnabled)!==void 0?e.rtlEnabled:config$5().rtlEnabled}function resolveRtlEnabledDefinition(t,e){var r=isDefined(t),n=isDefined(config$5().rtlEnabled)&&!r&&!isDefined(e==null?void 0:e.rtlEnabled);return r&&t!==(e==null?void 0:e.rtlEnabled)||n}var _excluded$9=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],DEFAULT_FEEDBACK_HIDE_TIMEOUT=400,DEFAULT_FEEDBACK_SHOW_TIMEOUT=30,getAria=t=>Object.keys(t).reduce((e,r)=>t[r]?_extends({},e,{[r==="role"||r==="id"?r:"aria-".concat(r)]:String(t[r])}):e,{}),viewFunction$6=t=>{var e=normalizeProps$1(createVNode(1,"div",t.cssClasses,t.props.children,0,_extends({},t.attributes,{tabIndex:t.tabIndex,title:t.props.hint,style:normalizeStyles(t.styles)}),null,t.widgetElementRef));return t.shouldRenderConfigProvider?createComponentVNode(2,ConfigProvider,{rtlEnabled:t.rtlEnabled,children:e}):e},WidgetProps=Object.create(Object.prototype,_extends(Object.getOwnPropertyDescriptors(BaseWidgetProps),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:DEFAULT_FEEDBACK_HIDE_TIMEOUT,_feedbackShowTimeout:DEFAULT_FEEDBACK_SHOW_TIMEOUT,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0})));class Widget extends InfernoWrapperComponent{constructor(e){super(e),this.widgetElementRef=createRef(),this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:ConfigContext}createEffects(){return[new InfernoEffect(this.setRootElementRef,[]),new InfernoEffect(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new InfernoEffect(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new InfernoEffect(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new InfernoEffect(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new InfernoEffect(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new InfernoEffect(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new InfernoEffect(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new InfernoEffect(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new InfernoEffect(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new InfernoEffect(this.windowResizeEffect,[this.props.onDimensionChanged]),new InfernoEffect(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new InfernoEffect(this.checkDeprecation,[this.props.height,this.props.width]),new InfernoEffect(this.applyCssTextEffect,[this.props.cssText]),createReRenderEffect()]}updateEffects(){var e,r,n,i,a,o,s,l,u,m,b,_,I;(e=this._effects[1])===null||e===void 0||e.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(r=this._effects[2])===null||r===void 0||r.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(n=this._effects[3])===null||n===void 0||n.update([this.props.disabled,this.props.name,this.props.onClick]),(i=this._effects[4])===null||i===void 0||i.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(a=this._effects[5])===null||a===void 0||a.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(o=this._effects[6])===null||o===void 0||o.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(s=this._effects[7])===null||s===void 0||s.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(l=this._effects[8])===null||l===void 0||l.update([this.props.focusStateEnabled,this.props.onKeyDown]),(u=this._effects[9])===null||u===void 0||u.update([this.props.name,this.props.onDimensionChanged]),(m=this._effects[10])===null||m===void 0||m.update([this.props.onDimensionChanged]),(b=this._effects[11])===null||b===void 0||b.update([this.props.name,this.props.onVisibilityChange]),(_=this._effects[12])===null||_===void 0||_.update([this.props.height,this.props.width]),(I=this._effects[13])===null||I===void 0||I.update([this.props.cssText])}setRootElementRef(){var{onRootElementRendered:e,rootElementRef:r}=this.props;r&&(r.current=this.widgetElementRef.current),e==null||e(this.widgetElementRef.current)}activeEffect(){var{_feedbackShowTimeout:e,activeStateEnabled:r,activeStateUnit:n,disabled:i,onActive:a}=this.props,o=n;if(r&&!i)return subscribeToDxActiveEvent(this.widgetElementRef.current,s=>{this.setState(l=>({active:!0})),a==null||a(s)},{timeout:e,selector:o},"UIFeedback")}inactiveEffect(){var{_feedbackHideTimeout:e,activeStateEnabled:r,activeStateUnit:n,onInactive:i}=this.props,a=n;if(r)return subscribeToDxInactiveEvent(this.widgetElementRef.current,o=>{this.state.active&&(this.setState(s=>({active:!1})),i==null||i(o))},{timeout:e,selector:a},"UIFeedback")}clickEffect(){var{disabled:e,name:r,onClick:n}=this.props,i=r;if(n&&!e)return dxClick.on(this.widgetElementRef.current,n,{namespace:i}),()=>dxClick.off(this.widgetElementRef.current,{namespace:i})}focusInEffect(){var{disabled:e,focusStateEnabled:r,name:n,onFocusIn:i}=this.props,a="".concat(n,"Focus");if(r&&!e)return subscribeToDxFocusInEvent(this.widgetElementRef.current,o=>{o.isDefaultPrevented()||(this.setState(s=>({focused:!0})),i==null||i(o))},null,a)}focusOutEffect(){var{focusStateEnabled:e,name:r,onFocusOut:n}=this.props,i="".concat(r,"Focus");if(e)return subscribeToDxFocusOutEvent(this.widgetElementRef.current,a=>{!a.isDefaultPrevented()&&this.state.focused&&(this.setState(o=>({focused:!1})),n==null||n(a))},null,i)}hoverStartEffect(){var{activeStateUnit:e,disabled:r,hoverStateEnabled:n,onHoverStart:i}=this.props,a=e;if(n&&!r)return subscribeToDxHoverStartEvent(this.widgetElementRef.current,o=>{!this.state.active&&this.setState(s=>({hovered:!0})),i==null||i(o)},{selector:a},"UIFeedback")}hoverEndEffect(){var{activeStateUnit:e,hoverStateEnabled:r,onHoverEnd:n}=this.props,i=e;if(r)return subscribeToDxHoverEndEvent(this.widgetElementRef.current,a=>{this.state.hovered&&(this.setState(o=>({hovered:!1})),n==null||n(a))},{selector:i},"UIFeedback")}keyboardEffect(){var{focusStateEnabled:e,onKeyDown:r}=this.props;if(e&&r){var n=keyboard.on(this.widgetElementRef.current,this.widgetElementRef.current,i=>r(i));return()=>keyboard.off(n)}}resizeEffect(){var e="".concat(this.props.name,"VisibilityChange"),{onDimensionChanged:r}=this.props;if(r)return resize.on(this.widgetElementRef.current,r,{namespace:e}),()=>resize.off(this.widgetElementRef.current,{namespace:e})}windowResizeEffect(){var{onDimensionChanged:e}=this.props;if(e)return resizeCallbacks$1.add(e),()=>{resizeCallbacks$1.remove(e)}}visibilityEffect(){var{name:e,onVisibilityChange:r}=this.props,n="".concat(e,"VisibilityChange");if(r)return visibility.on(this.widgetElementRef.current,()=>r(!0),()=>r(!1),{namespace:n}),()=>visibility.off(this.widgetElementRef.current,{namespace:n})}checkDeprecation(){var{height:e,width:r}=this.props;isFunction$2(r)&&errors$3.log("W0017","width"),isFunction$2(e)&&errors$3.log("W0017","height")}applyCssTextEffect(){var{cssText:e}=this.props;e!==""&&(this.widgetElementRef.current.style.cssText=e)}get shouldRenderConfigProvider(){var{rtlEnabled:e}=this.props;return resolveRtlEnabledDefinition(e,this.config)}get rtlEnabled(){var{rtlEnabled:e}=this.props;return resolveRtlEnabled(e,this.config)}get attributes(){var{aria:e,disabled:r,focusStateEnabled:n,visible:i}=this.props,a=n&&!r&&this.props.accessKey;return _extends({},extend({},a&&{accessKey:a}),getAria(_extends({},e,{disabled:r,hidden:!i})),extend({},this.restAttributes))}get styles(){var{height:e,width:r}=this.props,n=this.restAttributes.style||{},i=normalizeStyleProp("width",isFunction$2(r)?r():r),a=normalizeStyleProp("height",isFunction$2(e)?e():e);return _extends({},n,{height:a!=null?a:n.height,width:i!=null?i:n.width})}get cssClasses(){var{activeStateEnabled:e,addWidgetClass:r,className:n,classes:i,disabled:a,focusStateEnabled:o,hoverStateEnabled:s,onVisibilityChange:l,visible:u}=this.props,m=!!o&&!a,b=!!s&&!a,_=!!e&&!a,I={"dx-widget":!!r,[String(i)]:!!i,[String(n)]:!!n,"dx-state-disabled":!!a,"dx-state-invisible":!u,"dx-state-focused":!!this.state.focused&&m,"dx-state-active":!!this.state.active&&_,"dx-state-hover":!!this.state.hovered&&b&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!l};return combineClasses(I)}get tabIndex(){var{disabled:e,focusStateEnabled:r,tabIndex:n}=this.props,i=r&&!e;return i?n:void 0}get restAttributes(){var e=this.props,r=_objectWithoutPropertiesLoose(e,_excluded$9);return r}focus(){focus.trigger(this.widgetElementRef.current)}blur(){var e=domAdapter.getActiveElement();this.widgetElementRef.current===e&&e.blur()}activate(){this.setState(e=>({active:!0}))}deactivate(){this.setState(e=>({active:!1}))}render(){var e=this.props;return viewFunction$6({props:_extends({},e),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}Widget.defaultProps=WidgetProps;var _excluded$8=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],stylingModes=["outlined","text","contained"],getCssClasses$2=t=>{var{icon:e,iconPosition:r,stylingMode:n,text:i,type:a}=t,o=n&&stylingModes.includes(n),s={"dx-button":!0,["dx-button-mode-".concat(o?n:"contained")]:!0,["dx-button-".concat(a!=null?a:"normal")]:!0,"dx-button-has-text":!!i,"dx-button-has-icon":!!e,"dx-button-icon-right":r!=="left"};return combineClasses(s)},viewFunction$5=t=>{var{children:e,iconPosition:r,iconTemplate:n,template:i,text:a}=t.props,o=!t.props.template&&!e&&a!=="",s=r==="left",l=!t.props.template&&!e&&(t.iconSource||t.props.iconTemplate)&&createComponentVNode(2,Icon,{source:t.iconSource,position:r,iconTemplate:n});return normalizeProps$1(createComponentVNode(2,Widget,_extends({accessKey:t.props.accessKey,activeStateEnabled:t.props.activeStateEnabled,aria:t.aria,className:t.props.className,classes:t.cssClasses,disabled:t.props.disabled,focusStateEnabled:t.props.focusStateEnabled,height:t.props.height,hint:t.props.hint,hoverStateEnabled:t.props.hoverStateEnabled,onActive:t.onActive,onClick:t.onWidgetClick,onInactive:t.onInactive,onKeyDown:t.keyDown,rtlEnabled:t.props.rtlEnabled,tabIndex:t.props.tabIndex,visible:t.props.visible,width:t.props.width},t.restAttributes,{children:createVNode(1,"div","dx-button-content",[t.props.template&&i({data:t.buttonTemplateData}),!t.props.template&&e,s&&l,o&&createVNode(1,"span","dx-button-text",a,0),!s&&l,t.props.useSubmitBehavior&&createVNode(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,t.submitInputRef),t.props.useInkRipple&&createComponentVNode(2,InkRipple,{config:t.inkRippleConfig},null,t.inkRippleRef)],0,null,null,t.contentRef)}),null,t.widgetRef))},ButtonProps=Object.create(Object.prototype,_extends(Object.getOwnPropertyDescriptors(BaseWidgetProps),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),defaultOptionRules=createDefaultOptionRules([{device:()=>devices$1.real().deviceType==="desktop"&&!devices$1.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>isMaterial(current()),options:{useInkRipple:!0}}]),getTemplate=t=>t&&(t.defaultProps?e=>normalizeProps$1(createComponentVNode(2,t,_extends({},e))):t);class Button$1 extends InfernoWrapperComponent{constructor(e){super(e),this.state={},this.contentRef=createRef(),this.inkRippleRef=createRef(),this.submitInputRef=createRef(),this.widgetRef=createRef(),this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[new InfernoEffect(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),createReRenderEffect()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){var{onSubmit:e,useSubmitBehavior:r}=this.props;if(r&&e)return click.on(this.submitInputRef.current,n=>e({event:n,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>click.off(this.submitInputRef.current,{namespace:"UIFeedback"})}onActive(e){var{useInkRipple:r}=this.props;r&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:e})}onInactive(e){var{useInkRipple:r}=this.props;r&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:e})}onWidgetClick(e){var{onClick:r,useSubmitBehavior:n}=this.props;r==null||r({event:e}),n&&this.submitInputRef.current.click()}keyDown(e){var{onKeyDown:r}=this.props,{keyName:n,originalEvent:i,which:a}=e,o=r==null?void 0:r(e);if(o!=null&&o.cancel)return o;(n==="space"||a==="space"||n==="enter"||a==="enter")&&(i.preventDefault(),this.onWidgetClick(i))}get aria(){var{icon:e,text:r}=this.props,n=(r!=null?r:"")||messageLocalization$1.format(camelize$2(e,!0))||e;return!r&&e&&getImageSourceType(e)==="image"&&(n=e.includes("base64")?"Base64":e.replace(/.+\/([^.]+)\..+$/,"$1")),_extends({role:"button"},n?{label:n}:{})}get cssClasses(){return getCssClasses$2(this.props)}get iconSource(){var{icon:e,type:r}=this.props;return e||r==="back"?(e!=null?e:"")||"back":""}get inkRippleConfig(){return this.__getterCache.inkRippleConfig!==void 0?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{var{icon:e,text:r,type:n}=this.props;return!r&&e||n==="back"?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){var{icon:e,templateData:r,text:n}=this.props;return _extends({icon:e,text:n},r)}get restAttributes(){var e=this.props,r=_objectWithoutPropertiesLoose(e,_excluded$8);return r}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(e,r,n){super.componentWillUpdate(),(this.props.icon!==e.icon||this.props.text!==e.text||this.props.type!==e.type)&&(this.__getterCache.inkRippleConfig=void 0)}render(){var e=this.props;return viewFunction$5({props:_extends({},e,{template:getTemplate(e.template),iconTemplate:getTemplate(e.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}}Button$1.defaultProps=Object.create(Object.prototype,_extends(Object.getOwnPropertyDescriptors(ButtonProps),Object.getOwnPropertyDescriptors(_extends({},convertRulesToOptions(defaultOptionRules)))));var __defaultOptionRules$1=[];function defaultOptions$1(t){__defaultOptionRules$1.push(t),Button$1.defaultProps=Object.create(Object.prototype,_extends(Object.getOwnPropertyDescriptors(Button$1.defaultProps),Object.getOwnPropertyDescriptors(convertRulesToOptions(defaultOptionRules)),Object.getOwnPropertyDescriptors(convertRulesToOptions(__defaultOptionRules$1))))}class Button extends ButtonWrapper{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}activate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.activate(...arguments)}deactivate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return Button$1}}registerComponent$1("dxButton",Button);Button.defaultOptions=defaultOptions$1;var CUSTOM_BUTTON_HOVERED_CLASS="dx-custom-button-hovered";class CustomButton extends TextEditorButton{_attachEvents(e,r){var{editor:n}=this;eventsEngine$1.on(r,HOVERSTART,()=>{n.$element().addClass(CUSTOM_BUTTON_HOVERED_CLASS)}),eventsEngine$1.on(r,HOVEREND,()=>{n.$element().removeClass(CUSTOM_BUTTON_HOVERED_CLASS)}),eventsEngine$1.on(r,CLICK_EVENT_NAME,i=>{i.stopPropagation()})}_create(){var{editor:e}=this,r=$("<div>");this._addToContainer(r);var n=e._createComponent(r,Button,extend({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)}));return{$element:r,instance:n}}_prepareIntegrationOptions(e){return extend({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){var e=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){var{editor:e}=this;return e.option("visible")}_isDisabled(){var e=this.options.disabled!==void 0;return e?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}var TEXTEDITOR_BUTTONS_CONTAINER_CLASS$1="dx-texteditor-buttons-container";function checkButtonInfo(t){(()=>{if(!t||typeof t!="object"||Array.isArray(t))throw errors$2.Error("E1053")})(),(()=>{if(!("name"in t))throw errors$2.Error("E1054")})(),(()=>{var{name:e}=t;if(typeof e!="string")throw errors$2.Error("E1055")})(),(()=>{var{location:e}=t;"location"in t&&e!=="after"&&e!=="before"&&(t.location="after")})()}function checkNamesUniqueness(t,e){if(t.indexOf(e)!==-1)throw errors$2.Error("E1055",e);t.push(e)}function isPredefinedButtonName(t,e){return!!e.find(r=>r.name===t)}class TextEditorButtonCollection{constructor(e,r){this.buttons=[],this.defaultButtonsInfo=r,this.editor=e}_compileButtonInfo(e){var r=[];return e.map(n=>{var i=typeof n=="string";i||checkButtonInfo(n);var a=i||isPredefinedButtonName(n.name,this.defaultButtonsInfo);if(a){var o=this.defaultButtonsInfo.find(l=>{var{name:u}=l;return u===n||u===n.name});if(!o)throw errors$2.Error("E1056",this.editor.NAME,n);return checkNamesUniqueness(r,n),o}else{var{name:s}=n;return checkNamesUniqueness(r,s),extend(n,{Ctor:CustomButton})}})}_createButton(e){var{Ctor:r,options:n,name:i}=e,a=new r(i,this.editor,n);return this.buttons.push(a),a}_renderButtons(e,r,n){var i=null,a=e?this._compileButtonInfo(e):this.defaultButtonsInfo;return a.forEach(o=>{var{location:s="after"}=o;s===n&&this._createButton(o).render((()=>(i=i||$("<div>").addClass(TEXTEDITOR_BUTTONS_CONTAINER_CLASS$1),n==="before"?r.prepend(i):r.append(i),i))())}),i}clean(){this.buttons.forEach(e=>e.dispose()),this.buttons=[]}getButton(e){var r=this.buttons.find(n=>{var{name:i}=n;return i===e});return r&&r.instance}renderAfterButtons(e,r){return this._renderButtons(e,r,"after")}renderBeforeButtons(e,r){return this._renderButtons(e,r,"before")}updateButtons(e){this.buttons.forEach(r=>{(!e||e.indexOf(r.name)!==-1)&&r.update()})}}var navigator$1=getNavigator(),LOADINDICATOR_CLASS="dx-loadindicator",LOADINDICATOR_WRAPPER_CLASS="dx-loadindicator-wrapper",LOADINDICATOR_CONTENT_CLASS="dx-loadindicator-content",LOADINDICATOR_ICON_CLASS="dx-loadindicator-icon",LOADINDICATOR_SEGMENT_CLASS="dx-loadindicator-segment",LOADINDICATOR_SEGMENT_INNER_CLASS="dx-loadindicator-segment-inner",LOADINDICATOR_IMAGE_CLASS="dx-loadindicator-image",LoadIndicator=Widget$2.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var t=current();return this.callBase().concat([{device:function(){var e=devices$1.real(),r=e.platform==="android"&&!/chrome/i.test(navigator$1.userAgent);return r},options:{viaImage:!0}},{device:function(){return isMaterial(t)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return isGeneric(t)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass(LOADINDICATOR_CLASS)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=$("<div>").addClass(LOADINDICATOR_WRAPPER_CLASS),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=$("<div>").addClass(LOADINDICATOR_CONTENT_CLASS),this._$wrapper.append(this._$content)},_renderMarkup:function(){animation$1()&&!this.option("viaImage")&&!this.option("indicatorSrc")?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation:function(){var t=this.option("_animatingSegmentInner");this._$indicator=$("<div>").addClass(LOADINDICATOR_ICON_CLASS),this._$content.append(this._$indicator);for(var e=this.option("_animatingSegmentCount");e>=0;--e){var r=$("<div>").addClass(LOADINDICATOR_SEGMENT_CLASS).addClass(LOADINDICATOR_SEGMENT_CLASS+e);t&&r.append($("<div>").addClass(LOADINDICATOR_SEGMENT_INNER_CLASS)),this._$indicator.append(r)}},_renderMarkupForImage:function(){var t=this.option("indicatorSrc");this._$wrapper.addClass(LOADINDICATOR_IMAGE_CLASS),t&&this._$wrapper.css("backgroundImage","url("+t+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(!!this._$indicator){var t=this.option("width"),e=this.option("height");if(t||e){t=getWidth(this.$element()),e=getHeight(this.$element());var r=Math.min(e,t);this._$wrapper.css({height:r,width:r,fontSize:r})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){!this._$indicator||(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(t){switch(t.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(t)}}});registerComponent$1("dxLoadIndicator",LoadIndicator);var LoadIndicator$1=LoadIndicator,TEXTEDITOR_LABEL_CLASS="dx-texteditor-label",TEXTEDITOR_WITH_LABEL_CLASS="dx-texteditor-with-label",TEXTEDITOR_WITH_FLOATING_LABEL_CLASS="dx-texteditor-with-floating-label",TEXTEDITOR_WITH_BEFORE_BUTTONS_CLASS="dx-texteditor-with-before-buttons",LABEL_BEFORE_CLASS="dx-label-before",LABEL_CLASS="dx-label",LABEL_AFTER_CLASS="dx-label-after";class TextEditorLabel{constructor(e){var{$editor:r,text:n,mode:i,mark:a,containsButtonsBefore:o,containerWidth:s,beforeWidth:l}=e;this._props={$editor:r,text:n,mode:i,mark:a,containsButtonsBefore:o,containerWidth:s,beforeWidth:l},this._id="".concat(TEXTEDITOR_LABEL_CLASS,"-").concat(new Guid$1),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=$("<div>").addClass(LABEL_BEFORE_CLASS),this._$labelSpan=$("<span>"),this._$label=$("<div>").addClass(LABEL_CLASS).append(this._$labelSpan),this._$after=$("<div>").addClass(LABEL_AFTER_CLASS),this._$root=$("<div>").addClass(TEXTEDITOR_LABEL_CLASS).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach()}_updateEditorLabelClass(e){if(this._props.$editor.removeClass(TEXTEDITOR_WITH_FLOATING_LABEL_CLASS).removeClass(TEXTEDITOR_WITH_LABEL_CLASS),e){var r=this._props.mode==="floating"?TEXTEDITOR_WITH_FLOATING_LABEL_CLASS:TEXTEDITOR_WITH_LABEL_CLASS;this._props.$editor.addClass(r)}}_updateEditorBeforeButtonsClass(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass(TEXTEDITOR_WITH_BEFORE_BUTTONS_CLASS),e){var r=this._props.containsButtonsBefore?TEXTEDITOR_WITH_BEFORE_BUTTONS_CLASS:"";this._props.$editor.addClass(r)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){this._$before.css({width:this._props.beforeWidth})}_updateMaxWidth(){this._$label.css({maxWidth:this._props.containerWidth})}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}}var window$a=getWindow(),ResizeObserverMock={observe:noop,unobserve:noop,disconnect:noop};class ResizeObserverSingleton{constructor(){if(!hasWindow()||!window$a.ResizeObserver)return ResizeObserverMock;this._callbacksMap=new Map,this._observer=new window$a.ResizeObserver(e=>{e.forEach(r=>{var n;(n=this._callbacksMap.get(r.target))===null||n===void 0||n(r)})})}observe(e,r){this._callbacksMap.set(e,r),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}}var resizeObserverSingleton=new ResizeObserverSingleton,resizeObserverSingleton$1=resizeObserverSingleton,TEXTEDITOR_CLASS="dx-texteditor",TEXTEDITOR_INPUT_CONTAINER_CLASS="dx-texteditor-input-container",TEXTEDITOR_INPUT_CLASS="dx-texteditor-input",TEXTEDITOR_INPUT_SELECTOR="."+TEXTEDITOR_INPUT_CLASS,TEXTEDITOR_CONTAINER_CLASS="dx-texteditor-container",TEXTEDITOR_BUTTONS_CONTAINER_CLASS="dx-texteditor-buttons-container",TEXTEDITOR_PLACEHOLDER_CLASS="dx-placeholder",TEXTEDITOR_EMPTY_INPUT_CLASS="dx-texteditor-empty",STATE_INVISIBLE_CLASS="dx-state-invisible",TEXTEDITOR_PENDING_INDICATOR_CLASS="dx-pending-indicator",TEXTEDITOR_VALIDATION_PENDING_CLASS="dx-validation-pending",TEXTEDITOR_VALID_CLASS="dx-valid",EVENTS_LIST=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],CONTROL_KEYS=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],TextEditorLabelCreator=TextEditorLabel;function checkButtonsOptionType(t){if(isDefined(t)&&!Array.isArray(t))throw errors$2.Error("E1053")}var TextEditorBase=Editor$3.inherit({ctor:function(t,e){e&&checkButtonsOptionType(e.buttons),this._buttonCollection=new TextEditorButtonCollection(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return extend(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(t){return isDefined(t)&&t!==!1?t:""},stylingMode:config$5().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){var t=current();return this.callBase().concat([{device:function(){return isMaterial(t)},options:{stylingMode:config$5().editorStylingMode||"filled",labelMode:"floating"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:ClearButton}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(TEXTEDITOR_INPUT_SELECTOR).first()},_isFocused:function(){return focused(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+TEXTEDITOR_BUTTONS_CONTAINER_CLASS).eq(0)},_isControlKey:function(t){return CONTROL_KEYS.indexOf(t)!==-1},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass(TEXTEDITOR_CLASS),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=$("<div>").addClass(TEXTEDITOR_CONTAINER_CLASS).appendTo(this.$element()),this._$textEditorInputContainer=$("<div>").addClass(TEXTEDITOR_INPUT_CONTAINER_CLASS).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(TEXTEDITOR_VALIDATION_PENDING_CLASS);var t=this._getInputContainer(),e=$("<div>").addClass(TEXTEDITOR_PENDING_INDICATOR_CLASS).appendTo(t);this._pendingIndicator=this._createComponent(e,LoadIndicator$1)},_disposePendingIndicator:function(){!this._pendingIndicator||(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(TEXTEDITOR_VALIDATION_PENDING_CLASS))},_renderValidationState:function(){this.callBase();var t=this.option("validationStatus")==="pending",e=this.$element();t?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),e.toggleClass(TEXTEDITOR_VALID_CLASS,!!this._showValidMark)},_renderButtonContainers:function(){var t=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(t,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(t,this._$buttonsContainer)},_cleanButtonContainers:function(){var t,e;(t=this._$beforeButtonsContainer)===null||t===void 0||t.remove(),(e=this._$afterButtonsContainer)===null||e===void 0||e.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var t=$("<input>");return this._applyInputAttributes(t,this.option("inputAttr")),t},_setSubmitElementName:function(t){var e=this.option("inputAttr.name");return this.callBase(t||e||"")},_applyInputAttributes:function(t,e){var r=extend(this._getDefaultAttributes(),e);t.attr(r).addClass(TEXTEDITOR_INPUT_CLASS).css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var t={autocomplete:"off"},{ios:e,mac:r}=devices$1.real();return(e||r)&&(t.placeholder=" "),t},_updateButtons:function(t){this._buttonCollection.updateButtons(t)},_updateButtonsStyling:function(t){each(this.option("buttons"),(e,r)=>{var{options:n,name:i}=r;if(n&&!n.stylingMode&&this.option("visible")){var a=this.getButton(i);a.option&&a.option("stylingMode",t==="underlined"?"text":"contained")}})},_renderValue:function(){var t=this._renderInputValue();return t.promise()},_renderInputValue:function(t){var e;t=(e=t)!==null&&e!==void 0?e:this.option("value");var r=this.option("text"),n=this.option("displayValue"),i=this.option("displayValueFormatter");return n!==void 0&&t!==null?r=i(n):isDefined(r)||(r=i(t)),this.option("text",r),this._input().val()!==(isDefined(r)?r:"")?this._renderDisplayText(r):this._toggleEmptinessEventHandler(),new Deferred().resolve()},_renderDisplayText:function(t){this._input().val(t),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var t=this._input().get(0).validity;if(t)return t.valid}return!0},_toggleEmptiness:function(t){this.$element().toggleClass(TEXTEDITOR_EMPTY_INPUT_CLASS,t),this._togglePlaceholder(t)},_togglePlaceholder:function(t){this.$element().find(".".concat(TEXTEDITOR_PLACEHOLDER_CLASS)).eq(0).toggleClass(STATE_INVISIBLE_CLASS,!t)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments);var e=this._input();e.prop("disabled",t)},_toggleTabIndex:function(){var t=this._input(),e=this.option("disabled"),r=this.option("focusStateEnabled");e||!r?t.attr("tabIndex",-1):t.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(resizeObserverSingleton$1.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return getWidth(this._getLabelContainer())},_getLabelBeforeWidth:function(){var t=this._$beforeButtonsContainer&&getWidth(this._$beforeButtonsContainer);return t!=null?t:0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_setLabelContainerAria:function(){this.setAria("labelledby",this._label.getId(),this._getLabelContainer())},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=$(this._getLabelContainer()).get(0);var{label:t,labelMode:e,labelMark:r}=this.option(),n={$editor:this.$element(),text:t,mark:r,mode:e,containsButtonsBefore:!!this._$beforeButtonsContainer,containerWidth:this._getLabelContainerWidth(),beforeWidth:this._getLabelBeforeWidth()};this._label=new TextEditorLabelCreator(n),this._setLabelContainerAria(),this._labelContainerElement&&resizeObserverSingleton$1.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this._input(),e=this.option("placeholder"),r=this._$placeholder=$("<div>").attr("data-dx_placeholder",e);r.insertAfter(t),r.addClass(TEXTEDITOR_PLACEHOLDER_CLASS)},_attachPlaceholderEvents:function(){var t=addNamespace$1(pointerEvents.up,this.NAME);eventsEngine$1.on(this._$placeholder,t,()=>{eventsEngine$1.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||$()},_clearValueHandler:function(t){var e=this._input();t.stopPropagation(),this._saveValueChangeEvent(t),this._clearValue(),!this._isFocused()&&eventsEngine$1.trigger(e,"focus"),eventsEngine$1.trigger(e,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var t=this._input();each(EVENTS_LIST,(e,r)=>{if(this.hasActionSubscription("on"+r)){var n=this._createActionByOption("on"+r,{excludeValidators:["readOnly"]});eventsEngine$1.on(t,addNamespace$1(r.toLowerCase(),this.NAME),i=>{this._disposed||n({event:i})})}})},_refreshEvents:function(){var t=this._input();each(EVENTS_LIST,(e,r)=>{eventsEngine$1.off(t,addNamespace$1(r.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(t){var e=this._input(),r=t.ctrlKey&&normalizeKeyName(t)==="enter",n=e.val()!==this.option("value");r&&n&&eventsEngine$1.trigger(e,"change")},_renderValueChangeEvent:function(){var t=addNamespace$1(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),e=addNamespace$1(this.option("valueChangeEvent"),"".concat(this.NAME,"ValueChange")),r=addNamespace$1("keydown","".concat(this.NAME,"TextChange")),n=this._input();eventsEngine$1.on(n,t,this._keyPressHandler.bind(this)),eventsEngine$1.on(n,e,this._valueChangeEventHandler.bind(this)),eventsEngine$1.on(n,r,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var t=".".concat(this.NAME,"ValueChange"),e=".".concat(this.NAME,"TextChange");eventsEngine$1.off(this._input(),t),eventsEngine$1.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(t){return t===this._input().get(0)},_preventNestedFocusEvent:function(t){if(t.isDefaultPrevented())return!0;var e=this._isNestedTarget(t.relatedTarget);return t.type==="focusin"?e=e&&this._isNestedTarget(t.target)&&!this._isInput(t.target):e||this._toggleFocusClass(!1,this.$element()),e&&t.preventDefault(),e},_isNestedTarget:function(t){return!!this.$element().find(t).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_focusOutHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_toggleFocusClass:function(t,e){this.callBase(t,this._focusClassTarget(e))},_hasFocusClass:function(t){return this.callBase($(t||this.$element()))},_renderEmptinessEvent:function(){var t=this._input();eventsEngine$1.on(t,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var t=this._input().val(),e=(t===""||t===null)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(t,e){this.option("readOnly")||(this._saveValueChangeEvent(t),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),eventsEngine$1.off(this._input(),"keyup.onEnterKey.dxTextEditor"),eventsEngine$1.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(t){this._disposed||normalizeKeyName(t)==="enter"&&this._enterKeyAction({event:t})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(domAdapter.getActiveElement())},_optionChanged:function(t){var{name:e,fullName:r,value:n}=t,i=e.replace("on","");if(EVENTS_LIST.includes(i)){this._refreshEvents();return}switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(t),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"label":this._label.updateText(n),this._setLabelContainerAria();break;case"labelMark":this._label.updateMark(n);break;case"labelMode":this._label.updateMode(n),this._setLabelContainerAria();break;case"width":this.callBase(t),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(t);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(e));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":r===e&&checkButtonsOptionType(n),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(t),n&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(t){var e=this._input();t==="search"&&(t="text");try{e.prop("type",t)}catch{e.prop("type","text")}},getButton(t){return this._buttonCollection.getButton(t)},focus:function(){eventsEngine$1.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var t=this._getDefaultOptions();this.option("value")===t.value?(this._options.silent("text",""),this._renderValue()):this.option("value",t.value)},on:function(t,e){var r=this.callBase(t,e),n=t.charAt(0).toUpperCase()+t.substr(1);return EVENTS_LIST.indexOf(n)>=0&&this._refreshEvents(),r}}),TextEditorBase$1=TextEditorBase,MASK_EVENT_NAMESPACE="dxMask",BLUR_EVENT="blur beforedeactivate",EMPTY_CHAR$2=" ";class BaseMaskStrategy{constructor(e){this.editor=e,this.DIRECTION={FORWARD:"forward",BACKWARD:"backward"},this.NAME=this._getStrategyName()}_getStrategyName(){return"base"}editorOption(){return this.editor.option(...arguments)}editorInput(){return this.editor._input()}editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}getHandler(e){var r=this["_".concat(e,"Handler")]||function(){};return r.bind(this)}attachEvents(){var e=this.editorInput();this.getHandleEventNames().forEach(r=>{var n=addNamespace$1(r.toLowerCase(),MASK_EVENT_NAMESPACE);eventsEngine$1.on(e,n,this.getEventHandler(r))}),this._attachChangeEventHandlers()}getHandleEventNames(){return["focusIn","focusOut","keyDown","input","paste","cut","drop"]}getEventHandler(e){return this["_".concat(e,"Handler")].bind(this)}detachEvents(){eventsEngine$1.off(this.editorInput(),".".concat(MASK_EVENT_NAMESPACE))}_attachChangeEventHandlers(){!this.editorOption("valueChangeEvent").split(" ").includes("change")||eventsEngine$1.on(this.editorInput(),addNamespace$1(BLUR_EVENT,MASK_EVENT_NAMESPACE),function(e){this._suppressCaretChanging(this._changeHandler,[e]),this._changeHandler(e)}.bind(this.editor))}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor._direction(this.DIRECTION.FORWARD),!this.editor._isValueEmpty()&&this.editorOption("isValid"))this.editor._adjustCaret();else{var e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(function(){this._caret({start:e,end:e})}.bind(this.editor),0)}}_focusOutHandler(e){this.editor._changeHandler(e),this.editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this.editorOption("text",""),this.editor._renderDisplayText(""))}_cutHandler(e){var r=this.editorCaret(),n=this.editorInput().val().substring(r.start,r.end);this.editor._maskKeyHandler(e,()=>clipboardText(e,n))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(function(){this.option("value",this._convertToValue(this._input().val()))}.bind(this.editor))}_clearDragTimer(){clearTimeout(this._dragTimer)}_keyDownHandler(){this._keyPressHandled=!1}_pasteHandler(e){var{editor:r}=this;this._keyPressHandled=!0;var n=this.editorCaret();r._maskKeyHandler(e,()=>{var i=clipboardText(e),a=r._maskRulesChain.text().substring(n.end),o=r._handleChain({text:i,start:n.start,length:i.length}),s=n.start+o;r._handleChain({text:a,start:s,length:a.length}),r._caret({start:s,end:s})})}_autoFillHandler(e){var{editor:r}=this,n=this.editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._keyPressHandled=!0,this._isAutoFill()&&(this._keyPressHandled=!0,r._maskKeyHandler(e,()=>{r._handleChain({text:n,start:0,length:n.length})}),r._validateMask())})}_isAutoFill(){var e=this.editor._input(),r=!1;if(browser.webkit){var n=e.get(0);r=n&&n.matches(":-webkit-autofill")}return r}runWithoutEventProcessing(e){var r=this._keyPressHandled;this._keyPressHandled=!0,e(),this._keyPressHandled=r}_backspaceHandler(){}_delHandler(e){var{editor:r}=this;this._keyPressHandled=!0,r._maskKeyHandler(e,()=>!r._hasSelection()&&r._handleKey(EMPTY_CHAR$2))}clean(){this._clearDragTimer(),clearTimeout(this._backspaceHandlerTimeout),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}var BACKSPACE_INPUT_TYPE="deleteContentBackward",EMPTY_CHAR$1=" ";class DefaultMaskStrategy extends BaseMaskStrategy{_getStrategyName(){return"default"}getHandleEventNames(){return[...super.getHandleEventNames(),"keyPress"]}_keyPressHandler(e){if(!this._keyPressHandled&&(this._keyPressHandled=!0,!this.editor._isControlKeyFired(e))){var{editor:r}=this;r._maskKeyHandler(e,()=>r._handleKey(getChar(e)))}}_inputHandler(e){if(this._backspaceInputHandled(e.originalEvent&&e.originalEvent.inputType)&&this._handleBackspaceInput(e),e.originalEvent&&this._autoFillHandler(e),!this._keyPressHandled){this._keyPressHandled=!0;var r=this.editorInput().val(),n=this.editorCaret();if(!!n.end){n.start=n.end-1;var i=r.substring(0,n.start)+r.substring(n.end),a=r[n.start],{editor:o}=this;this.editorInput().val(i),o._caret({start:n.start,end:n.start}),o._maskKeyHandler(e,()=>o._handleKey(a))}}}_backspaceHandler(e){var{editor:r}=this;this._keyPressHandled=!0;var n=(i,a)=>{i&&(r._direction(this.DIRECTION.FORWARD),r._adjustCaret());var o=this.editorCaret();return new Promise(s=>{clearTimeout(this._backspaceHandlerTimeout),this._backspaceHandlerTimeout=setTimeout(function(){a(o),s()})})};r._maskKeyHandler(e,()=>r._hasSelection()?n(!0,i=>{r._displayMask(i),r._maskRulesChain.reset()}):r._tryMoveCaretBackward()?n(!1,i=>{this.editorCaret(i)}):(r._handleKey(EMPTY_CHAR$1,this.DIRECTION.BACKWARD),n(!0,i=>{r._displayMask(i),r._maskRulesChain.reset()})))}_backspaceInputHandled(e){return e===BACKSPACE_INPUT_TYPE&&!this._keyPressHandled}_handleBackspaceInput(e){var{start:r,end:n}=this.editorCaret();this.editorCaret({start:r+1,end:n+1}),this._backspaceHandler(e)}}var DefaultMaskStrategy$1=DefaultMaskStrategy,DELETE_INPUT_TYPE="deleteContentBackward";class InputEventsMaskStrategy extends BaseMaskStrategy{_getStrategyName(){return"inputEvents"}getHandleEventNames(){return[...super.getHandleEventNames(),"beforeInput"]}_beforeInputHandler(){this._prevCaret=this.editorCaret()}_inputHandler(e){var{originalEvent:r}=e;if(!!r){var{inputType:n,data:i}=r,a=this.editorCaret();if(n===DELETE_INPUT_TYPE){var o=this._prevCaret.end-this._prevCaret.start||1;this.editor.setBackwardDirection(),this._updateEditorMask({start:a.start,length:o,text:this._getEmptyString(o)})}else{var s,l,u;if(!a.end)return;this._autoFillHandler(r),this.editorCaret(a);var m=((s=this._prevCaret)===null||s===void 0?void 0:s.end)-((l=this._prevCaret)===null||l===void 0?void 0:l.start),b=i+(m?this._getEmptyString(m-i.length):"");this.editor.setForwardDirection();var _=this._updateEditorMask({start:(u=this._prevCaret)===null||u===void 0?void 0:u.start,length:m||b.length,text:b});_||this.editorCaret(this._prevCaret)}}}_getEmptyString(e){return Array(e+1).join(" ")}_updateEditorMask(e){var r=e.text.length,n=this.editor._handleChain(e);if(this.editor.isForwardDirection()){var{start:i,end:a}=this.editorCaret(),o=n-r;i<=n&&n>1&&this.editorCaret({start:i+o,end:a+o}),this.editor.isForwardDirection()&&this.editor._adjustCaret()}return this.editor._displayMask(),!!n}}var InputEventsMaskStrategy$1=InputEventsMaskStrategy,stubCaret=function(){return{}},caret=caretUtils,EMPTY_CHAR=" ",ESCAPED_CHAR="\\",TEXTEDITOR_MASKED_CLASS="dx-texteditor-masked",FORWARD_DIRECTION="forward",BACKWARD_DIRECTION="backward",buildInMaskRules={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(t){return isLiteralChar(t)},l:function(t){return isLiteralChar(t)||isSpaceChar(t)},C:/\S/,c:/./,A:function(t){return isLiteralChar(t)||isNumericChar(t)},a:function(t){return isLiteralChar(t)||isNumericChar(t)||isSpaceChar(t)}};function isNumericChar(t){return/[0-9]/.test(t)}function isLiteralChar(t){var e=t.charCodeAt();return 64<e&&e<91||96<e&&e<123||e>127}function isSpaceChar(t){return t===" "}var TextEditorMask=TextEditorBase$1.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:messageLocalization$1.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var t=this,e={backspace:t._maskStrategy.getHandler("backspace"),del:t._maskStrategy.getHandler("del"),enter:t._changeHandler},r=t.callBase();return each(e,function(n,i){var a=r[n];r[n]=function(o){t.option("mask")&&i.call(t,o),a&&a(o)}}),r},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=isInputEventsL2Supported()?new InputEventsMaskStrategy$1(this):new DefaultMaskStrategy$1(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){var t=this._onMouseWheel!==noop;if(!!t){var e=this._input(),r=addNamespace$1(EVENT_NAME,this.NAME),n=this._createAction(function(i){var{event:a}=i;focused(e)&&!isCommandKeyPressed(a)&&(this._onMouseWheel(a),a.preventDefault(),a.stopPropagation())}.bind(this));eventsEngine$1.off(e,r),eventsEngine$1.on(e,r,function(i){n({event:i})})}},_onMouseWheel:noop,_render:function(){this._renderMask(),this.callBase(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=$("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(TEXTEDITOR_MASKED_CLASS),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(TEXTEDITOR_MASKED_CLASS),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(t,e){caret=stubCaret;try{t.apply(this,e)}finally{caret=caretUtils}},_changeHandler:function(t){var e=this._input(),r=e.val();if(r!==this._changedValue){this._changedValue=r;var n=createEvent(t,{type:"change"});eventsEngine$1.trigger(e,n)}},_parseMask:function(){this._maskRules=extend({},buildInMaskRules,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(t){var e=this.option("mask");if(t>=e.length)return new EmptyMaskRule;var r=e[t],n=r===ESCAPED_CHAR,i=n?new StubMaskRule({maskChar:e[t+1]}):this._getMaskRule(r);return i.next(this._parseMaskRule(t+1+n)),i},_getMaskRule:function(t){var e;return each(this._maskRules,function(r,n){if(r===t)return e={pattern:r,allowedChars:n},!1}),isDefined(e)?new MaskRule(extend({maskChar:this.option("maskChar")},e)):new StubMaskRule({maskChar:t})},_renderMaskedValue:function(){if(!!this._maskRulesChain){var t=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var e={length:t.length};e[this._isMaskedValueMode()?"text":"value"]=t,this._handleChain(e),this._displayMask()}},_replaceSelectedText:function(t,e,r){if(r===void 0)return t;var n=t.slice(0,e.start),i=t.slice(e.end),a=n+r+i;return a},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(t){t=t||this._caret(),this._renderValue(),this._caret(t)},_isValueEmpty:function(){return isEmpty(this._value)},_shouldShowMask:function(){var t=this.option("showMaskMode");return t==="onFocus"?focused(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var t=this._maskRulesChain.text();this.option("text",t),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(t)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var t=this._maskRulesChain.value(),e=isEmpty(t)?"":this._getPreparedValue();this._$hiddenElement.val(e)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(t){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(t),this.option("value",this._getPreparedValue())},_isControlKeyFired:function(t){return this._isControlKey(normalizeKeyName(t))||isCommandKeyPressed(t)},_handleChain:function(t){var e=this._maskRulesChain.handle(this._normalizeChainArguments(t));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),e},_normalizeChainArguments:function(t){return t=t||{},t.index=0,t.fullText=this._maskRulesChain.text(),t},_convertToValue:function(t){return this._isMaskedValueMode()?t=this._replaceMaskCharWithEmpty(t||this._textValue||""):t=t||this._value||"",t},_replaceMaskCharWithEmpty:function(t){return t.replace(new RegExp(this.option("maskChar"),"g"),EMPTY_CHAR)},_maskKeyHandler:function(t,e){if(!this.option("readOnly")){this.setForwardDirection(),t.preventDefault(),this._handleSelection();var r=this._input().val(),n=()=>{r!==this._input().val()&&this._maskStrategy.runWithoutEventProcessing(()=>eventsEngine$1.trigger(this._input(),"input"))},i=e();i?i.then(n):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),n())}},_handleKey:function(t,e){this._direction(e||FORWARD_DIRECTION),this._adjustCaret(t),this._handleKeyChain(t),this._moveCaret()},_handleSelection:function(){if(!!this._hasSelection()){var t=this._caret(),e=new Array(t.end-t.start+1).join(EMPTY_CHAR);this._handleKeyChain(e)}},_handleKeyChain:function(t){var e=this._caret(),r=this.isForwardDirection()?e.start:e.start-1,n=this.isForwardDirection()?e.end:e.end-1,i=r===n?1:n-r;this._handleChain({text:t,start:r,length:i})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var t=this._caret().start;return this._adjustCaret(),!t||t!==this._caret().start},_adjustCaret:function(t){var e=this._caret().start,r=this.isForwardDirection(),n=this._maskRulesChain.adjustedCaret(e,r,t);this._caret({start:n,end:n})},_moveCaret:function(){var t=this._caret().start,e=t+(this.isForwardDirection()?0:-1),r=this._maskRulesChain.isAccepted(e)?t+(this.isForwardDirection()?1:-1):t;this._caret({start:r,end:r})},_caret:function(t,e){var r=this._input();if(!!r.length){if(!arguments.length)return caret(r);caret(r,t,e)}},_hasSelection:function(){var t=this._caret();return t.start!==t.end},_direction:function(t){if(!arguments.length)return this._typingDirection;this._typingDirection=t},setForwardDirection:function(){this._direction(FORWARD_DIRECTION)},setBackwardDirection:function(){this._direction(BACKWARD_DIRECTION)},isForwardDirection:function(){return this._direction()===FORWARD_DIRECTION},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(!!this._maskRulesChain){var t=isEmpty(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(t){if(!t){var e=this.option("value");this.option({text:e,isValid:!0}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()}},_optionChanged:function(t){switch(t.name){case"mask":this._updateMaskOption(),this._processEmptyMask(t.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(t),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(t)}}}),TextEditorMask$1=TextEditorMask;registerComponent$1("dxTextEditor",TextEditorMask$1);var window$9=getWindow(),ignoreKeys=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],TEXTBOX_CLASS="dx-textbox",SEARCHBOX_CLASS="dx-searchbox",ICON_CLASS="dx-icon",SEARCH_ICON_CLASS="dx-icon-search",TextBox=TextEditorMask$1.inherit({ctor:function(t,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return extend(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(TEXTBOX_CLASS),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var t=this._getMaxLength();t&&t>0?this._input().attr("maxLength",t):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var t=this._$element;this.option("mode")==="search"?(t.addClass(SEARCHBOX_CLASS),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(t.removeClass(SEARCHBOX_CLASS),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=$("<div>").addClass(ICON_CLASS).addClass(SEARCH_ICON_CLASS);t.prependTo(this._input().parent()),this._$searchIcon=t},_getLabelContainerWidth:function(){if(this._$searchIcon){var t=this._input().parent();return getWidth(t)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var t=this.callBase();return this._$searchIcon&&(t+=getOuterWidth(this._$searchIcon)),t},_optionChanged:function(t){switch(t.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(t),this._updateLabelWidth();break;case"mask":this.callBase(t),this._toggleMaxLengthProp();break;default:this.callBase(t)}},_onKeyDownCutOffHandler:function(t){var e=this._getMaxLength();if(e&&!t.ctrlKey&&!this._hasSelection()){var r=$(t.target),n=normalizeKeyName(t);return this._cutOffExtraChar(r),r.val().length<e||ignoreKeys.includes(n)||window$9.getSelection().toString()!==""}else return!0},_onChangeCutOffHandler:function(t){var e=$(t.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar:function(t){var e=this._getMaxLength(),r=t.val();e&&r.length>e&&t.val(r.substr(0,e))},_getMaxLength:function(){var t=!!this.option("mask");return t?null:this.option("maxLength")}});registerComponent$1("dxTextBox",TextBox);var TextBox$1=TextBox,ready=readyCallback.add,XHR_ERROR_UNLOAD="DEVEXTREME_XHR_ERROR_UNLOAD",normalizeBinaryCriterion=function(t){return[t[0],t.length<3?"=":String(t[1]).toLowerCase(),t.length<2?!0:t[t.length-1]]},normalizeSortingInfo$1=function(t){return Array.isArray(t)||(t=[t]),map(t,function(e){var r={selector:isFunction$2(e)||typeof e=="string"?e:e.getter||e.field||e.selector,desc:!!(e.desc||String(e.dir).charAt(0).toLowerCase()==="d")};return e.compare&&(r.compare=e.compare),r})},errorMessageFromXhr=function(){var t={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},e;return ready(function(){var r=getWindow();domAdapter.listen(r,"beforeunload",function(){e=!0})}),function(r,n){return e?XHR_ERROR_UNLOAD:r.status<400?function(i){var a=t[i];return a||i}(n):r.statusText}}(),aggregators={count:{seed:0,step:function(t){return 1+t}},sum:{seed:0,step:function(t,e){return t+e}},min:{step:function(t,e){return e<t?e:t}},max:{step:function(t,e){return e>t?e:t}},avg:{seed:[0,0],step:function(t,e){return[t[0]+e,t[1]+1]},finalize:function(t){return t[1]?t[0]/t[1]:NaN}}},processRequestResultLock=function(){var t=0,e;return{obtain:function(){t===0&&(e=new Deferred),t++},release:function(){t--,t<1&&e.resolve()},promise:function(){var r=t===0?new Deferred().resolve():e;return r.promise()},reset:function(){t=0,e&&e.resolve()}}}();function isConjunctiveOperator(t){return/^(and|&&|&)$/i.test(t)}var keysEqual=function(t,e,r){if(Array.isArray(t)){for(var n=map(e,function(o,s){return s}),i,a=0;a<n.length;a++)if(i=n[a],!equalByValue(e[i],r[i],0,!1))return!1;return!0}return equalByValue(e,r,0,!1)},isUnaryOperation=function(t){return t[0]==="!"&&Array.isArray(t[1])},isGroupOperator=function(t){return t==="and"||t==="or"},isGroupCriterion=function(t){var e=t[0],r=t[1];return!!(Array.isArray(e)||isFunction$2(e)&&(Array.isArray(r)||isFunction$2(r)||isGroupOperator(r)))},trivialPromise$1=function(){var t=new Deferred;return t.resolve.apply(t,arguments).promise()},rejectedPromise=function(){var t=new Deferred;return t.reject.apply(t,arguments).promise()};function throttle(t,e){var r,n;return function(){return n=arguments,r||(r=setTimeout(()=>{r=void 0,n&&t.call(this,n)},isFunction$2(e)?e():e)),r}}function throttleChanges(t,e){var r=[],n=throttle(function(){t.call(this,r),r=[]},e);return function(i){return Array.isArray(i)&&r.push(...i),n.call(this,r)}}var Iterator=Class.inherit({toArray:function(){var t=[];for(this.reset();this.next();)t.push(this.current());return t},countable:function(){return!1}}),ArrayIterator=Iterator.inherit({ctor:function(t){this.array=t,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),WrappedIterator=Iterator.inherit({ctor:function(t){this.iter=t},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),MapIterator=WrappedIterator.inherit({ctor:function(t,e){this.callBase(t),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var t=this.callBase();return t&&this.index++,t}}),defaultCompare=function(t,e){return t=toComparable$2(t),e=toComparable$2(e),t===null&&e!==null?-1:t!==null&&e===null||t===void 0&&e!==void 0?1:t!==void 0&&e===void 0||t<e?-1:t>e?1:0},SortIterator=Iterator.inherit({ctor:function(t,e,r,n){t instanceof MapIterator||(t=new MapIterator(t,this._wrap)),this.iter=t,this.rules=[{getter:e,desc:r,compare:n}]},thenBy:function(t,e,r){var n=new SortIterator(this.sortedIter||this.iter,t,e,r);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(each(t.rules,function(){this.getter=compileGetter(this.getter)}),t.sortedIter=new MapIterator(new ArrayIterator(this.iter.toArray().sort(function(e,r){return t._compare(e,r)})),t._unwrap))},_wrap:function(t,e){return{index:e,value:t}},_unwrap:function(t){return t.value},_compare:function(t,e){var r=t.index,n=e.index;if(t=t.value,e=e.value,t===e)return r-n;for(var i=0,a=this.rules.length;i<a;i++){var o=this.rules[i],s=o.getter(t),l=o.getter(e),u=o.compare||defaultCompare,m=u(s,l);if(m)return o.desc?-m:m}return r-n}}),compileCriteria=function(){var t=function(r){return isDefined(r)?r.toString():""};function e(r,n,i){return function(a){a=toComparable$2(r(a));var o=function(s){return s===""||s===0||s===!1}(n)?a===n:a==n;return i&&(o=!o),o}}return function(r){return isFunction$2(r)?r:isGroupCriterion(r)?function(n){var i=[],a=!1,o=!1;return each(n,function(){if(Array.isArray(this)||isFunction$2(this)){if(i.length>1&&a!==o)throw new errors$1.Error("E4019");i.push(compileCriteria(this)),a=o,o=!0}else o=isConjunctiveOperator(this)}),function(s){for(var l=a,u=0;u<i.length;u++)if(i[u](s)!==a){l=!a;break}return l}}(r):isUnaryOperation(r)?function(n){var i=n[0],a=compileCriteria(n[1]);if(i==="!")return function(o){return!a(o)};throw errors$1.Error("E4003",i)}(r):function(n){n=normalizeBinaryCriterion(n);var i=compileGetter(n[0]),a=n[1],o=n[2];o=toComparable$2(o);var s=(l,u)=>(l=toComparable$2(i(l)),(o==null||l==null)&&o!==l?!1:u(l,o));switch(a.toLowerCase()){case"=":return e(i,o);case"<>":return e(i,o,!0);case">":return l=>s(l,(u,m)=>u>m);case"<":return l=>s(l,(u,m)=>u<m);case">=":return l=>s(l,(u,m)=>u>=m);case"<=":return l=>s(l,(u,m)=>u<=m);case"startswith":return function(l){return toComparable$2(t(i(l))).indexOf(o)===0};case"endswith":return function(l){var u=toComparable$2(t(i(l))),m=t(o);if(u.length<m.length)return!1;var b=u.lastIndexOf(o);return b!==-1&&b===u.length-o.length};case"contains":return function(l){return toComparable$2(t(i(l))).indexOf(o)>-1};case"notcontains":return function(l){return toComparable$2(t(i(l))).indexOf(o)===-1}}throw errors$1.Error("E4003",a)}(r)}}(),FilterIterator=WrappedIterator.inherit({ctor:function(t,e){this.callBase(t),this.criteria=compileCriteria(e)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),GroupIterator=Iterator.inherit({ctor:function(t,e){this.iter=t,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var t={},e=[],r=this.iter,n=compileGetter(this.getter);for(r.reset();r.next();){var i=r.current(),a=n(i);a in t?t[a].push(i):(t[a]=[i],e.push(a))}this.groupedIter=new ArrayIterator(map(e,function(o){return{key:o,items:t[o]}}))}}}),SelectIterator=WrappedIterator.inherit({ctor:function(t,e){this.callBase(t),this.getter=compileGetter(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),SliceIterator=WrappedIterator.inherit({ctor:function(t,e,r){this.callBase(t),this.skip=Math.max(0,e),this.take=Math.max(0,r),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),arrayQueryImpl=function t(e,r){r=r||{},e instanceof Iterator||(e=new ArrayIterator(e));var n=function(u){var m=r.errorHandler;m&&m(u),handleError(u)},i=function(u){var m=new Deferred().fail(n),b,_=u.step,I=u.finalize;try{e.reset(),"seed"in u?b=u.seed:b=e.next()?e.current():NaN;for(var j=b;e.next();)j=_(j,e.current());m.resolve(I?I(j):j)}catch(L){m.reject(L)}return m.promise()},a=function(u){return i(aggregators[u])},o=function(u){return!isFunction$2(u)&&!Array.isArray(u)&&(u=[].slice.call(arguments)),l(new SelectIterator(e,u))},s=function(u){return o(compileGetter(u))};function l(u){return t(u,r)}return{toArray:function(){return e.toArray()},enumerate:function(){var u=new Deferred().fail(n);try{u.resolve(e.toArray())}catch(m){u.reject(m)}return u.promise()},sortBy:function(u,m,b){return l(new SortIterator(e,u,m,b))},thenBy:function(u,m,b){if(e instanceof SortIterator)return l(e.thenBy(u,m,b));throw errors$1.Error("E4004")},filter:function(u){return Array.isArray(u)||(u=[].slice.call(arguments)),l(new FilterIterator(e,u))},slice:function(u,m){return m===void 0&&(m=Number.MAX_VALUE),l(new SliceIterator(e,u,m))},select:o,groupBy:function(u){return l(new GroupIterator(e,u))},aggregate:function(u,m,b){return arguments.length<2?i({step:arguments[0]}):i({seed:u,step:m,finalize:b})},count:function(){if(e.countable()){var u=new Deferred().fail(n);try{u.resolve(e.count())}catch(m){u.reject(m)}return u.promise()}return a("count")},sum:function(u){return u?s(u).sum():a("sum")},min:function(u){return u?s(u).min():a("min")},max:function(u){return u?s(u).max():a("max")},avg:function(u){return u?s(u).avg():a("avg")}}},arrayQuery=arrayQueryImpl,queryAdapters={},remoteQueryImpl=function t(e,r,n){n=n||[],r=r||{};var i=function(s,l){return{name:s,args:l}},a=function(s){var l=new Deferred,u,m,b,_,I,j=function(M){var R=r.errorHandler;R&&R(M),handleError(M),l.reject(M)};function L(M){switch(M.name){case"sortBy":return I=[M.args],!0;case"thenBy":if(!I)throw errors$1.Error("E4004");return I.push(M.args),!0}return!1}try{u=r.adapter,isFunction$2(u)||(u=queryAdapters[u]),m=u(r),b=[].concat(n).concat(s);var z=m.optimize;for(z&&z(b);b.length;){if(_=b[0],!L(_)){if(I){b.unshift(i("multiSort",[I])),I=null;continue}if(String(_.name)!=="enumerate"&&(!m[_.name]||m[_.name].apply(m,_.args)===!1))break}b.shift()}(function(){var M=b[0],R=[];M&&M.name==="multiSort"&&(b.shift(),each(M.args[0],function(){R.push(i(R.length?"thenBy":"sortBy",this))})),b=R.concat(b)})(),m.exec(e).done(function(M,R){if(!b.length)l.resolve(M,R);else{var w=arrayQuery(M,{errorHandler:r.errorHandler});each(b,function(){w=w[this.name].apply(w,this.args)}),w.done(l.resolve).fail(l.reject)}}).fail(j)}catch(M){j(M)}return l.promise()},o={};return each(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var s=String(this);o[s]=function(){return t(e,r,n.concat(i(s,arguments)))}}),each(["count","min","max","sum","avg","aggregate","enumerate"],function(){var s=String(this);o[s]=function(){return a.call(this,i(s,arguments))}}),o},remoteQueryImpl$1=remoteQueryImpl,queryImpl={array:arrayQuery,remote:remoteQueryImpl$1},query=function(){var t=Array.isArray(arguments[0])?"array":"remote";return queryImpl[t].apply(this,arguments)},dataQuery=query;function multiLevelGroup(t,e){return t=t.groupBy(e[0].selector),e.length>1&&(t=t.select(function(r){return extend({},r,{items:multiLevelGroup(arrayQuery(r.items),e.slice(1)).toArray()})})),t}function arrangeSortingInfo(t,e){var r=[];return each(t,function(n,i){var a=grep(e,function(o){return i.selector===o.selector});a.length<1&&r.push(i)}),r.concat(e)}function queryByOptions$1(t,e,r){e=e||{};var n=e.filter;if(n&&(t=t.filter(n)),r)return t;var i=e.sort,a=e.select,o=e.group,s=e.skip,l=e.take;return o&&(o=normalizeSortingInfo$1(o),o.keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(i||o)&&(i=normalizeSortingInfo$1(i||[]),o&&!o.keepInitialKeyOrder&&(i=arrangeSortingInfo(o,i)),each(i,function(u){t=t[u?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),a&&(t=t.select(a)),o&&(t=multiLevelGroup(t,o)),(l||s)&&(t=t.slice(s||0,l)),t}var storeHelper={multiLevelGroup,arrangeSortingInfo,queryByOptions:queryByOptions$1},DataConverter=Class.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(t,e){var r=this;each(t,function(n,i){var a=isDefined(e)?e:r._getParentId(i),o=r._convertItemToNode(i,a);r._dataStructure.push(o),r._checkForDuplicateId(o.internalFields.key),r._indexByKey[o.internalFields.key]=r._dataStructure.length-1,r._itemHasChildren(i)&&r._convertItemsToNodes(r._dataAccessors.getters.items(i),o.internalFields.key)})},_checkForDuplicateId:function(t){if(isDefined(this._indexByKey[t]))throw errors$2.Error("E1040",t)},_getParentId:function(t){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(t):void 0},_itemHasChildren:function(t){if(this._dataType!=="plain"){var e=this._dataAccessors.getters.items(t);return e&&e.length}},_getUniqueKey:function(t){var e=this._dataAccessors.getters.key,r=e(t),n=e&&(r||r===0)&&isPrimitive(r);return n?r:this.getItemsCount()},_convertItemToNode:function(t,e){this._itemsCount++,t.visible!==!1&&this._visibleItemsCount++;var r={internalFields:{disabled:this._dataAccessors.getters.disabled(t,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(t,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(t,{defaultValue:!1}),key:this._getUniqueKey(t),parentKey:isDefined(e)?e:this._rootValue,item:this._makeObjectFromPrimitive(t),childrenKeys:[]}};return extend(r,t),delete r.items,r},setChildrenKeys:function(){var t=this;each(this._dataStructure,function(e,r){if(r.internalFields.parentKey!==t._rootValue){var n=t.getParentNode(r);n&&n.internalFields.childrenKeys.push(r.internalFields.key)}})},_makeObjectFromPrimitive:function(t){if(isPrimitive(t)){var e=t;t={},this._dataAccessors.setters.key(t,e)}return t},_convertToPublicNode:function(t,e){if(!t)return null;var r={text:this._dataAccessors.getters.display(t),key:t.internalFields.key,selected:t.internalFields.selected,expanded:t.internalFields.expanded,disabled:t.internalFields.disabled,parent:e||null,itemData:t.internalFields.item,children:[],items:[]};return r.parent&&(r.parent.children.push(r),r.parent.items.push(r)),r},convertToPublicNodes:function(t,e){if(!t.length)return[];var r=this,n=[];return each(t,function(i,a){a=isPrimitive(a)?r._getByKey(a):a;var o=r._convertToPublicNode(a,e);o.children=r.convertToPublicNodes(a.internalFields.childrenKeys,o),n.push(o),a.internalFields.publicNode=o}),n},setDataAccessors:function(t){this._dataAccessors=t},_getByKey:function(t){return this._dataStructure[this.getIndexByKey(t)]||null},getParentNode:function(t){return this._getByKey(t.internalFields.parentKey)},getByKey:function(t,e){if(e==null)return null;var r=null,n=this,i=function(a,o){return each(a,function(s,l){var u=l.internalFields&&l.internalFields.key||n._dataAccessors.getters.key(l);if(u.toString()===o.toString())return r=l,!1}),r};return i(t,e)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var t=this;this._indexByKey={},each(this._dataStructure,function(e,r){t._checkForDuplicateId(r.internalFields.key),t._indexByKey[r.internalFields.key]=e})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},each(this._dataStructure,function(t,e){e.internalFields.childrenKeys=[]})},getIndexByKey:function(t){return this._indexByKey[t]},createPlainStructure:function(t,e,r){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=e,this._dataType=r,this._indexByKey={},this._convertItemsToNodes(t),this.setChildrenKeys(),this._dataStructure}}),HierarchicalDataConverter=DataConverter,EXPANDED="expanded",SELECTED="selected",DISABLED="disabled";searchBoxMixin.setEditorClass(TextBox$1);var DataAdapter=Class.inherit({ctor:function(t){this.options={},extend(this.options,this._defaultOptions(),t),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(t,e){this.options[t]=e,t==="recursiveSelection"&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new HierarchicalDataConverter,onNodeChanged:noop,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(SELECTED)},_updateExpansion:function(t){this.options.recursiveExpansion&&(t?this._updateOneBranch(t):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(EXPANDED)},_updateNodesKeysArray:function(t){var e=this,r=[];return each(e._getDataBySelectionMode(),function(n,i){!e._isNodeVisible(i)||i.internalFields[t]&&(t===EXPANDED||e.options.multipleSelection?r.push(i.internalFields.key):(r.length&&e.toggleSelection(r[0],!1,!0),r=[i.internalFields.key]))}),r},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(t){return t.internalFields.item.visible!==!1},_getByKey:function(t,e){return t===this._dataStructure?this.options.dataConverter._getByKey(e):this.options.dataConverter.getByKey(t,e)},_setChildrenSelection:function(){var t=this;each(this._dataStructure,function(e,r){if(!!r.internalFields.childrenKeys.length){var n=r.internalFields.selected;n===!0&&t._toggleChildrenSelection(r,n)}})},_setParentSelection:function(){var t=this;each(this._dataStructure,function(e,r){var n=t.options.dataConverter.getParentNode(r);n&&r.internalFields.parentKey!==t.options.rootValue&&t._iterateParents(r,function(i){var a=t._calculateSelectedState(i);t._setFieldState(i,SELECTED,a)})})},_setParentExpansion:function(){var t=this;each(this._dataStructure,function(e,r){!r.internalFields.expanded||t._updateOneBranch(r.internalFields.key)})},_updateOneBranch:function(t){var e=this,r=this.getNodeByKey(t);e._iterateParents(r,function(n){e._setFieldState(n,EXPANDED,!0)})},_iterateChildren:function(t,e,r,n){if(!!isFunction$2(r)){var i=this,a=t.internalFields.key;n=n||[],n.indexOf(a)===-1&&(n.push(a),each(t.internalFields.childrenKeys,function(o,s){var l=i.getNodeByKey(s);r(l),l.internalFields.childrenKeys.length&&e&&i._iterateChildren(l,e,r,n)}))}},_iterateParents:function(t,e,r){if(!(t.internalFields.parentKey===this.options.rootValue||!isFunction$2(e))){r=r||[];var n=t.internalFields.key;if(r.indexOf(n)===-1){r.push(n);var i=this.options.dataConverter.getParentNode(t);i&&(e(i),i.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(i,e,r))}}},_calculateSelectedState:function(t){for(var e=t.internalFields.childrenKeys.length,r=0,n=0,i=!1,a=0;a<=e-1;a++){var o=this.getNodeByKey(t.internalFields.childrenKeys[a]),s=o.internalFields.item.visible===!1,l=o.internalFields.selected;if(s){n++;continue}l?r++:l===void 0&&(r+=.5)}return r&&(i=r===e-n?!0:void 0),i},_toggleChildrenSelection:function(t,e){var r=this;this._iterateChildren(t,!0,function(n){r._isNodeVisible(n)&&r._setFieldState(n,SELECTED,e)})},_setFieldState:function(t,e,r){t.internalFields[e]!==r&&(t.internalFields[e]=r,t.internalFields.publicNode&&(t.internalFields.publicNode[e]=r),this.options.dataAccessors.setters[e](t.internalFields.item,r),this.options.onNodeChanged(t))},_markChildren:function(t){var e=this;each(t,function(r,n){var i=e.getIndexByKey(n),a=e.getNodeByKey(n);e._dataStructure[i]=0,a.internalFields.childrenKeys.length&&e._markChildren(a.internalFields.childrenKeys)})},_removeNode:function(t){var e=this.getNodeByKey(t);this._dataStructure[this.getIndexByKey(t)]=0,this._markChildren(e.internalFields.childrenKeys);var r=this,n=0,i=extend([],this._dataStructure);each(i,function(a,o){o||(r._dataStructure.splice(a-n,1),n++)})},_addNode:function(t){var e=this.options.dataConverter,r=e._convertItemToNode(t,this.options.dataAccessors.getters.parentKey(t));this._dataStructure=this._dataStructure.concat(r),this._initialDataStructure=this._initialDataStructure.concat(r),e._dataStructure=e._dataStructure.concat(r)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(t){var e=null;return each(this._dataStructure,function(r,n){if(n.internalFields.item===t)return e=n,!1}),e},getNodesByItems:function(t){var e=this,r=[];return each(t,function(n,i){var a=e.getNodeByItem(i);a&&r.push(a)}),r},getNodeByKey:function(t,e){return this._getByKey(e||this._getDataBySelectionMode(),t)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(t){return t.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(t){return dataQuery(this._dataStructure).filter(["internalFields.parentKey",t]).toArray()},getIndexByKey:function(t){return this.options.dataConverter.getIndexByKey(t)},addItem:function(t){this._addNode(t),this._updateFields()},removeItem:function(t){this._removeNode(t),this._updateFields()},toggleSelection:function(t,e,r){var n=this._isSingleModeUnselect(e),i=this._getByKey(r||n?this._initialDataStructure:this._dataStructure,t);this._setFieldState(i,SELECTED,e),this.options.recursiveSelection&&!r&&(e?this._setChildrenSelection():this._toggleChildrenSelection(i,e),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(SELECTED)},_isSingleModeUnselect:function(t){return!this.options.multipleSelection&&!t},toggleNodeDisabledState:function(t,e){var r=this.getNodeByKey(t);this._setFieldState(r,DISABLED,e)},toggleSelectAll:function(t){if(!!isDefined(t)){var e=this,r=e._selectedNodesKeys[e._selectedNodesKeys.length-1],n=e._isSingleModeUnselect(t)?this._initialDataStructure:this._dataStructure;each(n,function(i,a){!e._isNodeVisible(a)||e._setFieldState(a,SELECTED,t)}),e._selectedNodesKeys=e._updateNodesKeysArray(SELECTED),!t&&e.options.selectionRequired&&e.toggleSelection(r,!0)}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1},toggleExpansion:function(t,e){var r=this.getNodeByKey(t);this._setFieldState(r,EXPANDED,e),e&&this._updateExpansion(t),this._expandedNodesKeys=this._updateNodesKeysArray(EXPANDED)},isFiltered:function(t){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[t]).length},_createCriteria:function(t,e,r){var n=[];return Array.isArray(t)?(each(t,function(i,a){n.push([a,r,e],"or")}),n.pop(),n):[t,r,e]},_filterDataStructure:function(t,e){var r=this.options.searchExpr||this.options.dataAccessors.getters.display,n=searchBoxMixin.getOperationBySearchMode(this.options.searchMode),i=this._createCriteria(r,t,n);return e=e||this._initialDataStructure,dataQuery(e).filter(i).toArray()},search:function(t){var e=this,r=this._filterDataStructure(t),n=this.options.dataConverter;return function i(a,o){for(var s=a.length;o<s;){var l=a[o];if(l.internalFields.parentKey===e.options.rootValue){o++;continue}var u=n.getParentNode(l);if(!u){errors$2.log("W1007",l.internalFields.parentKey,l.internalFields.key),o++;continue}if(u.internalFields.expanded||e._setFieldState(u,EXPANDED,!0),a.includes(u)){o++;continue}a.splice(o,0,u),i(a,o)}}(r,0),this.options.sort&&(r=storeHelper.queryByOptions(dataQuery(r),{sort:this.options.sort}).toArray()),n._indexByKey={},each(r,function(i,a){a.internalFields.childrenKeys=[],n._indexByKey[a.internalFields.key]=i}),n._dataStructure=r,n.setChildrenKeys(),n._dataStructure}}),HierarchicalDataAdapter=DataAdapter;function hasKey(t,e){for(var r,n=typeof e=="string"?e.split():e.slice();n.length;)if(r=n.shift(),r in t)return!0;return!1}function findItems(t,e,r,n){var i,a;if(n){for(var o=0;o<e.length;o++)if(i=e[o].items||e[o].collapsedItems||[],a=findItems(t,i||[],r,n-1),a)return a}else if(indexByKey(t,e,r)>=0)return e}function getItems(t,e,r,n){return n?findItems(t,e,r,n)||[]:e}function generateDataByKeyMap(t,e){if(t.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){for(var r={},n=e.length,i=0;i<n;i++)r[JSON.stringify(t.keyOf(e[i]))]=e[i];e._dataByKeyMap=r,e._dataByKeyMapLength=n}}function getCacheValue(t,e){if(t._dataByKeyMap)return t._dataByKeyMap[JSON.stringify(e)]}function getHasKeyCacheValue(t,e){return t._dataByKeyMap?t._dataByKeyMap[JSON.stringify(e)]:!0}function setDataByKeyMapValue(t,e,r){t._dataByKeyMap&&(t._dataByKeyMap[JSON.stringify(e)]=r,t._dataByKeyMapLength+=r?1:-1)}function cloneInstanceWithChangedPaths(t,e,r){r=r||new WeakMap;var n=t?Object.create(Object.getPrototypeOf(t)):{};t&&r.set(t,n);var i=_extends({},t);deepExtendArraySafe(n,i,!0,!0);for(var a in i){var o=i[a],s=e==null?void 0:e[a];isObject(o)&&!isPlainObject(o)&&isObject(s)&&!r.has(o)&&(n[a]=cloneInstanceWithChangedPaths(o,s,r))}for(var l in n){var u=n[l];isObject(u)&&r.has(u)&&(n[l]=r.get(u))}return n}function createObjectWithChanges(t,e){var r=cloneInstanceWithChangedPaths(t,e);return deepExtendArraySafe(r,e,!0,!0)}function applyBatch(t){var{keyInfo:e,data:r,changes:n,groupCount:i,useInsertIndex:a,immutable:o,disableCache:s,logError:l}=t,u=o===!0?[...r]:r;return n.forEach(m=>{var b=m.type==="insert"?u:getItems(e,u,m.key,i);switch(!s&&generateDataByKeyMap(e,b),m.type){case"update":update(e,b,m.key,m.data,!0,o,l);break;case"insert":insert(e,b,m.data,a&&isDefined(m.index)?m.index:-1,!0,l);break;case"remove":remove(e,b,m.key,!0,l)}}),u}function getErrorResult(t,e,r){return t?e&&errors$1.log(r):rejectedPromise(errors$1.Error(r))}function update(t,e,r,n,i,a,o){var s,l=t.key();if(l){if(hasKey(n,l)&&!keysEqual(l,r,t.keyOf(n)))return getErrorResult(i,o,"E4017");if(s=getCacheValue(e,r),!s){var u=indexByKey(t,e,r);if(u<0)return getErrorResult(i,o,"E4009");if(s=e[u],a===!0&&isDefined(s)){var m=createObjectWithChanges(s,n);return e[u]=m,!i&&trivialPromise$1(m,r)}}}else s=r;if(deepExtendArraySafe(s,n,!0),!i)return config$5().useLegacyStoreResult?trivialPromise$1(r,n):trivialPromise$1(s,r)}function insert(t,e,r,n,i,a){var o,s=t.key(),l=isPlainObject(r)?extend({},r):r;if(s){if(o=t.keyOf(l),o===void 0||typeof o=="object"&&isEmptyObject(o)){if(Array.isArray(s))throw errors$1.Error("E4007");o=l[s]=String(new Guid$1)}else if(e[indexByKey(t,e,o)]!==void 0)return getErrorResult(i,a,"E4008")}else o=l;if(n>=0?e.splice(n,0,l):e.push(l),setDataByKeyMapValue(e,o,l),!i)return trivialPromise$1(config$5().useLegacyStoreResult?r:l,o)}function remove(t,e,r,n,i){var a=indexByKey(t,e,r);if(a>-1&&(e.splice(a,1),setDataByKeyMapValue(e,r,null)),n){if(a<0)return getErrorResult(n,i,"E4009")}else return trivialPromise$1(r)}function indexByKey(t,e,r){var n=t.key();if(!getHasKeyCacheValue(e,r))return-1;for(var i=0,a=e.length;i<a;i++)if(keysEqual(n,t.keyOf(e[i]),r))return i;return-1}var abstract$2=Class.abstract,queryByOptions=storeHelper.queryByOptions,storeImpl={},Store=Class.inherit({ctor:function(t){var e=this;t=t||{},this._eventsStrategy=new EventsStrategy(this),each(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(r,n){n in t&&e.on(n.slice(2).toLowerCase(),t[n])}),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(t){return this._keyGetter||(this._keyGetter=compileGetter(this.key())),this._keyGetter(t)},_requireKey:function(){if(!this.key())throw errors$1.Error("E4005")},load:function(t){var e=this;return t=t||{},this._eventsStrategy.fireEvent("loading",[t]),this._withLock(this._loadImpl(t)).done(function(r){e._eventsStrategy.fireEvent("loaded",[r,t])})},_loadImpl:function(t){return queryByOptions(this.createQuery(t),t).enumerate()},_withLock:function(t){var e=new Deferred;return t.done(function(){var r=this,n=arguments;processRequestResultLock.promise().done(function(){e.resolveWith(r,n)})}).fail(function(){e.rejectWith(this,arguments)}),e},createQuery:abstract$2,totalCount:function(t){return this._totalCountImpl(t)},_totalCountImpl:function(t){return queryByOptions(this.createQuery(t),t,!0).count()},byKey:function(t,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(t,e)))},_byKeyImpl:abstract$2,insert:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[t]),e._addFailHandlers(e._insertImpl(t).done(function(r,n){e._eventsStrategy.fireEvent("inserted",[r,n]),e._eventsStrategy.fireEvent("modified")}))},_insertImpl:abstract$2,update:function(t,e){var r=this;return r._eventsStrategy.fireEvent("modifying"),r._eventsStrategy.fireEvent("updating",[t,e]),r._addFailHandlers(r._updateImpl(t,e).done(function(){r._eventsStrategy.fireEvent("updated",[t,e]),r._eventsStrategy.fireEvent("modified")}))},_updateImpl:abstract$2,push:function(t){var e={changes:t,waitFor:[]};this._eventsStrategy.fireEvent("beforePush",[e]),when(...e.waitFor).done(()=>{this._pushImpl(t),this._eventsStrategy.fireEvent("push",[t])})},_pushImpl:noop,remove:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[t]),e._addFailHandlers(e._removeImpl(t).done(function(r){e._eventsStrategy.fireEvent("removed",[r]),e._eventsStrategy.fireEvent("modified")}))},_removeImpl:abstract$2,_addFailHandlers:function(t){return t.fail(this._errorHandler).fail(handleError)},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}});Store.create=function(t,e){if(!(t in storeImpl))throw errors$1.Error("E4020",t);return new storeImpl[t](e)};Store.registerClass=function(t,e){return e&&(storeImpl[e]=t),t};Store.inherit=function(t){return function(e,r){var n=t.apply(this,[e]);return Store.registerClass(n,r),n}}(Store.inherit);var Store$1=Store,TOTAL_COUNT="totalCount",LOAD="load",BY_KEY="byKey",INSERT="insert",UPDATE="update",REMOVE="remove";function isPromise(t){return t&&isFunction$2(t.then)}function trivialPromise(t){return new Deferred().resolve(t).promise()}function ensureRequiredFuncOption(t,e){if(!isFunction$2(e))throw errors$1.Error("E4011",t)}function throwInvalidUserFuncResult(t){throw errors$1.Error("E4012",t)}function createUserFuncFailureHandler(t){function e(r){var n=r[0],i=r[1];return!n||!n.getResponseHeader?null:errorMessageFromXhr(n,i)}return function(r){var n;r instanceof Error?n=r:n=new Error(e(arguments)||r&&String(r)||"Unknown error"),n.message!==XHR_ERROR_UNLOAD&&t.reject(n)}}function invokeUserLoad(t,e){var r=t._loadFunc,n;return ensureRequiredFuncOption(LOAD,r),n=r.apply(t,[e]),Array.isArray(n)?n=trivialPromise(n):n==null?n=trivialPromise([]):isPromise(n)||throwInvalidUserFuncResult(LOAD),fromPromise(n)}function invokeUserTotalCountFunc(t,e){var r=t._totalCountFunc,n;if(!isFunction$2(r))throw errors$1.Error("E4021");return n=r.apply(t,[e]),isPromise(n)||(n=Number(n),isFinite(n)||throwInvalidUserFuncResult(TOTAL_COUNT),n=trivialPromise(n)),fromPromise(n)}function invokeUserByKeyFunc(t,e,r){var n=t._byKeyFunc,i;return ensureRequiredFuncOption(BY_KEY,n),i=n.apply(t,[e,r]),isPromise(i)||(i=trivialPromise(i)),fromPromise(i)}function runRawLoad(t,e,r,n){if(e.__rawData)n(e.__rawData);else{var i=e.__rawDataPromise||invokeUserLoad(e,r);e._cacheRawData&&(e.__rawDataPromise=i),i.always(function(){delete e.__rawDataPromise}).done(function(a){e._cacheRawData&&(e.__rawData=a),n(a)}).fail(createUserFuncFailureHandler(t))}}function runRawLoadWithQuery(t,e,r,n){r=r||{};var i={};"userData"in r&&(i.userData=r.userData),runRawLoad(t,e,i,function(a){var o=arrayQuery(a,{errorHandler:e._errorHandler}),s,l,u=[],m,b;n||(s=storeHelper.queryByOptions(o,r),s===o?m=a.slice(0):u.push(s.enumerate().done(function(_){m=_}))),(r.requireTotalCount||n)&&(l=storeHelper.queryByOptions(o,r,!0),l===o?b=a.length:u.push(l.count().done(function(_){b=_}))),when.apply($,u).done(function(){n?t.resolve(b):r.requireTotalCount?t.resolve(m,{totalCount:b}):t.resolve(m)}).fail(function(_){t.reject(_)})})}function runRawLoadWithKey(t,e,r){runRawLoad(t,e,{},function(n){for(var i=e.key(),a,o=0,s=n.length;o<s;o++)if(a=n[o],keysEqual(i,e.keyOf(n[o]),r)){t.resolve(a);return}t.reject(errors$1.Error("E4009"))})}var CustomStore=Store$1.inherit({ctor:function(t){t=t||{},this.callBase(t),this._useDefaultSearch=!!t.useDefaultSearch||t.loadMode==="raw",this._loadMode=t.loadMode,this._cacheRawData=t.cacheRawData!==!1,this._loadFunc=t[LOAD],this._totalCountFunc=t[TOTAL_COUNT],this._byKeyFunc=t[BY_KEY],this._insertFunc=t[INSERT],this._updateFunc=t[UPDATE],this._removeFunc=t[REMOVE]},createQuery:function(){throw errors$1.Error("E4010")},clearRawDataCache:function(){delete this.__rawData},_totalCountImpl:function(t){var e=new Deferred;return this._loadMode==="raw"&&!this._totalCountFunc?runRawLoadWithQuery(e,this,t,!0):(invokeUserTotalCountFunc(this,t).done(function(r){e.resolve(Number(r))}).fail(createUserFuncFailureHandler(e)),e=this._addFailHandlers(e)),e.promise()},_pushImpl:function(t){this.__rawData&&applyBatch({keyInfo:this,data:this.__rawData,changes:t})},_loadImpl:function(t){var e=new Deferred;return this._loadMode==="raw"?runRawLoadWithQuery(e,this,t,!1):(invokeUserLoad(this,t).done(function(r,n){e.resolve(r,n)}).fail(createUserFuncFailureHandler(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(t,e){var r=new Deferred;return this._byKeyViaLoad()?(this._requireKey(),runRawLoadWithKey(r,this,t)):invokeUserByKeyFunc(this,t,e).done(function(n){r.resolve(n)}).fail(createUserFuncFailureHandler(r)),r.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(t){var e=this,r=e._insertFunc,n,i=new Deferred;return ensureRequiredFuncOption(INSERT,r),n=r.apply(e,[t]),isPromise(n)||(n=trivialPromise(n)),fromPromise(n).done(function(a){config$5().useLegacyStoreResult?i.resolve(t,a):i.resolve(a||t,e.keyOf(a))}).fail(createUserFuncFailureHandler(i)),i.promise()},_updateImpl:function(t,e){var r=this._updateFunc,n,i=new Deferred;return ensureRequiredFuncOption(UPDATE,r),n=r.apply(this,[t,e]),isPromise(n)||(n=trivialPromise(n)),fromPromise(n).done(function(a){config$5().useLegacyStoreResult?i.resolve(t,e):i.resolve(a||e,t)}).fail(createUserFuncFailureHandler(i)),i.promise()},_removeImpl:function(t){var e=this._removeFunc,r,n=new Deferred;return ensureRequiredFuncOption(REMOVE,e),r=e.apply(this,[t]),isPromise(r)||(r=trivialPromise()),fromPromise(r).done(function(){n.resolve(t)}).fail(createUserFuncFailureHandler(n)),n.promise()}}),CustomStore$1=CustomStore;function createQueue(t){var e=[],r=!1;function n(){for(;e.length;){r=!0;var i=e.shift(),a=i();if(a!==void 0){if(a.then){when(a).always(n);return}throw errors$3.Error("E0015")}}r=!1}return{add:function(i,a){t?(e[0]&&a&&a(e[0]),e=[i]):e.push(i),r||n()},busy:function(){return r}}}createQueue().add;var ArrayStore=Store$1.inherit({ctor:function(t){Array.isArray(t)?t={data:t}:t=t||{},this.callBase(t);var e=t.data;if(e&&!Array.isArray(e))throw errors$1.Error("E4006");this._array=e||[]},createQuery:function(){return dataQuery(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(t){var e=indexByKey(this,this._array,t);return e===-1?rejectedPromise(errors$1.Error("E4009")):trivialPromise$1(this._array[e])},_insertImpl:function(t){return insert(this,this._array,t)},_pushImpl:function(t){applyBatch({keyInfo:this,data:this._array,changes:t})},_updateImpl:function(t,e){return update(this,this._array,t,e)},_removeImpl:function(t){return remove(this,this._array,t)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),ArrayStore$1=ArrayStore,_excluded$7=["items"],CANCELED_TOKEN="canceled",isPending=t=>t.state()==="pending",normalizeStoreLoadOptionAccessorArguments=t=>{switch(t.length){case 0:return;case 1:return t[0]}return[].slice.call(t)},mapGroup=(t,e,r)=>map(t,n=>{var i=_objectWithoutPropertiesLoose(n,_excluded$7);return _extends({},i,{items:mapRecursive(n.items,e-1,r)})}),mapRecursive=(t,e,r)=>Array.isArray(t)?e?mapGroup(t,e,r):map(t,r):t,mapDataRespectingGrouping=(t,e,r)=>{var n=r?normalizeSortingInfo$1(r).length:0;return mapRecursive(t,n,e)},normalizeLoadResult=(t,e)=>{var r;return(r=t)!==null&&r!==void 0&&r.data&&(e=t,t=t.data),Array.isArray(t)||(t=[t]),{data:t,extra:e}},createCustomStoreFromLoadFunc=t=>{var e={};return each(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){e[this]=t[this],delete t[this]}),new CustomStore$1(e)},createStoreFromConfig=t=>{var e=t.type;return delete t.type,Store$1.create(e,t)},createCustomStoreFromUrl=(t,e)=>new CustomStore$1({load:()=>ajax.sendRequest({url:t,dataType:"json"}),loadMode:e==null?void 0:e.fromUrlLoadMode}),normalizeDataSourceOptions=(t,e)=>{var r;return typeof t=="string"&&(t={paginate:!1,store:createCustomStoreFromUrl(t,e)}),t===void 0&&(t=[]),Array.isArray(t)||t instanceof Store$1?t={store:t}:t=extend({},t),t.store===void 0&&(t.store=[]),r=t.store,"load"in t?r=createCustomStoreFromLoadFunc(t):Array.isArray(r)?r=new ArrayStore$1(r):isPlainObject(r)&&(r=createStoreFromConfig(extend({},r))),t.store=r,t};class OperationManager{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds?(this._deferreds[e].reject(CANCELED_TOKEN),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}var DataSource=Class.inherit({ctor(t){var e;t=normalizeDataSourceOptions(t),this._eventsStrategy=new EventsStrategy(this,{syncStrategy:!0}),this._store=t.store,this._changedTime=0;var r=t.pushAggregationTimeout!==0;if(r){var n=t.pushAggregationTimeout===void 0?()=>5*this._changedTime:t.pushAggregationTimeout,i,a,o=throttleChanges(s=>{i.resolve();var l=when(...a);l.done(()=>this._onPush(s)),a=void 0,i=void 0},n);this._onPushHandler=s=>{this._aggregationTimeoutId=o(s.changes),i||(i=new Deferred),a=s.waitFor,s.waitFor.push(i.promise())},this._store.on("beforePush",this._onPushHandler)}else this._onPushHandler=s=>this._onPush(s),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=t.pageIndex!==void 0?t.pageIndex:0,this._pageSize=t.pageSize!==void 0?t.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,this._reshapeOnPush=(e=t.reshapeOnPush)!==null&&e!==void 0?e:!1,each(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(s,l)=>{l in t&&this.on(l.substr(2,1).toLowerCase()+l.substr(3),t[l])}),this._operationManager=new OperationManager,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,isDefined(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var t;this._store.off("beforePush",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(t=this._delayedLoadTask)===null||t===void 0||t.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(t){var e={},r=["sort","filter","select","group","requireTotalCount"],n=this._store._customLoadOptions();return n&&(r=r.concat(n)),each(r,function(){e[this]=t[this]}),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(t){if(!isNumeric$1(t))return this._pageIndex;this._pageIndex=t,this._isLastPage=!this._paginate},paginate(t){if(!isBoolean(t))return this._paginate;this._paginate!==t&&(this._paginate=t,this.pageIndex(0))},pageSize(t){if(!isNumeric$1(t))return this._pageSize;this._pageSize=t},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(t){return e=>{var r=normalizeStoreLoadOptionAccessorArguments(e);if(r===void 0)return this._storeLoadOptions[t];this._storeLoadOptions[t]=r}},sort(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){var t=normalizeStoreLoadOptionAccessorArguments(arguments);if(t===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=t,this.pageIndex(0)},group(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(t){if(!isBoolean(t))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=t},searchValue(t){if(arguments.length<1)return this._searchValue;this._searchValue=t,this.pageIndex(0)},searchOperation(t){if(!isString$2(t))return this._searchOperation;this._searchOperation=t,this.pageIndex(0)},searchExpr(t){var e=arguments.length;if(e===0)return this._searchExpr;e>1&&(t=[].slice.call(arguments)),this._searchExpr=t,this.pageIndex(0)},store(){return this._store},key(){var t;return(t=this._store)===null||t===void 0?void 0:t.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>createQueue(),_changeLoadingCount(t){var e=this.isLoading();this._loadingCount+=t;var r=this.isLoading();e^r&&this._eventsStrategy.fireEvent("loadingChanged",[r])},_scheduleLoadCallbacks(t){this.beginLoading(),t.always(()=>{this.endLoading()})},_scheduleFailCallbacks(t){var e=this;t.fail(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n[0]!==CANCELED_TOKEN&&e._eventsStrategy.fireEvent("loadError",n)})},_fireChanged(t){var e=new Date;this._eventsStrategy.fireEvent("changed",t),this._changedTime=new Date-e},_scheduleChangedCallbacks(t){t.done(()=>this._fireChanged())},loadSingle(t,e){var r=new Deferred,n=this.key(),i=this._store,a=this._createStoreLoadOptions();return this._scheduleFailCallbacks(r),arguments.length<2&&(e=t,t=n),delete a.skip,delete a.group,delete a.refresh,delete a.pageIndex,delete a.searchString,(()=>t===n||i instanceof CustomStore$1&&!i._byKeyViaLoad()?i.byKey(e,a):(a.take=1,a.filter=a.filter?[a.filter,[t,e]]:[t,e],i.load(a)))().fail(r.reject).done(o=>{var s=Array.isArray(o)&&!o.length;!isDefined(o)||s?r.reject(new errors$1.Error("E4009")):(Array.isArray(o)||(o=[o]),r.resolve(this._applyMapFunction(o)[0]))}),r.promise()},load(){var t=new Deferred,e=()=>{if(!this._disposed&&!!isPending(t))return this._loadFromStore(r,t)};this._scheduleLoadCallbacks(t),this._scheduleFailCallbacks(t),this._scheduleChangedCallbacks(t);var r=this._createLoadOperation(t);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[r]),this._loadQueue.add(()=>(typeof r.delay=="number"?this._delayedLoadTask=executeAsync(e,r.delay):e(),t.promise())),t.promise({operationId:r.operationId})},_onPush(t){if(this._reshapeOnPush)this.load();else{var e={changes:t};this._eventsStrategy.fireEvent("changing",[e]);var r=this.group(),n=this.items(),i=0,a=this.paginate()||r?t.filter(o=>o.type==="update"):t;r&&(i=Array.isArray(r)?r.length:1),this._mapFunc&&a.forEach(o=>{o.type==="insert"&&(o.data=this._mapFunc(o.data))}),e.postProcessChanges&&(a=e.postProcessChanges(a)),applyBatch({keyInfo:this.store(),data:n,changes:a,groupCount:i,useInsertIndex:!0}),this._fireChanged([{changes:t}])}},_createLoadOperation(t){var e=this._operationManager.add(t),r=this._createStoreLoadOptions();return t.always(()=>this._operationManager.remove(e)),{operationId:e,storeLoadOptions:r}},reload(){var t=this.store();return t instanceof CustomStore$1&&t.clearRawDataCache(),this._init(),this.load()},cancel(t){return this._operationManager.cancel(t)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(t){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(t):(t.searchOperation=this._searchOperation,t.searchValue=this._searchValue,t.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var t=extend({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter(t){var e=this._searchValue,r=this._searchOperation,n=this._searchExpr,i=[];!e||(n||(n="this"),Array.isArray(n)||(n=[n]),each(n,function(a,o){i.length&&i.push("or"),i.push([o,r,e])}),t.filter?t.filter=[i,t.filter]:t.filter=i)},_loadFromStore(t,e){var r=(n,i)=>{if(!this._disposed&&!!isPending(e)){var a=extend(normalizeLoadResult(n,i),t);this._eventsStrategy.fireEvent("customizeLoadResult",[a]),when(a.data).done(o=>{a.data=o,this._processStoreLoadResult(a,e)}).fail(e.reject)}};return t.data?new Deferred().resolve(t.data).done(r):this.store().load(t.storeLoadOptions).done(r).fail(e.reject)},_processStoreLoadResult(t,e){var r=t.data,n=t.extra,i=t.storeLoadOptions,a=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(r,n));this._disposed||(r=this._applyPostProcessFunction(this._applyMapFunction(r)),isObject(n)||(n={}),this._items=r,(!r.length||!this._paginate||this._pageSize&&r.length<this._pageSize)&&(this._isLastPage=!0),i.requireTotalCount&&!isFinite(n.totalCount)?this.store().totalCount(i).done(function(o){n.totalCount=o,a()}).fail(e.reject):a())},_applyMapFunction(t){return this._mapFunc?mapDataRespectingGrouping(t,this._mapFunc,this.group()):t},_applyPostProcessFunction(t){return this._postProcessFunc?this._postProcessFunc(t):t},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}}),DATA_SOURCE_OPTIONS_METHOD="_dataSourceOptions",DATA_SOURCE_CHANGED_METHOD="_dataSourceChangedHandler",DATA_SOURCE_LOAD_ERROR_METHOD="_dataSourceLoadErrorHandler",DATA_SOURCE_LOADING_CHANGED_METHOD="_dataSourceLoadingChangedHandler",DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD="_dataSourceFromUrlLoadMode",SPECIFIC_DATA_SOURCE_OPTION="_getSpecificDataSourceOption",NORMALIZE_DATA_SOURCE="_normalizeDataSource",DataHelperMixin={postCtor:function(){this.on("disposing",function(){this._disposeDataSource()}.bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var t=SPECIFIC_DATA_SOURCE_OPTION in this?this[SPECIFIC_DATA_SOURCE_OPTION]():this.option("dataSource"),e,r;this._disposeDataSource(),t&&(t instanceof DataSource?(this._isSharedDataSource=!0,this._dataSource=t):(e=DATA_SOURCE_OPTIONS_METHOD in this?this[DATA_SOURCE_OPTIONS_METHOD]():{},r=this._dataSourceType?this._dataSourceType():DataSource,t=normalizeDataSourceOptions(t,{fromUrlLoadMode:DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD in this&&this[DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD]()}),this._dataSource=new r(extend(!0,{},e,t))),NORMALIZE_DATA_SOURCE in this&&(this._dataSource=this[NORMALIZE_DATA_SOURCE](this._dataSource)),this._addDataSourceHandlers())},_addDataSourceHandlers:function(){DATA_SOURCE_CHANGED_METHOD in this&&this._addDataSourceChangeHandler(),DATA_SOURCE_LOAD_ERROR_METHOD in this&&this._addDataSourceLoadErrorHandler(),DATA_SOURCE_LOADING_CHANGED_METHOD in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",function(t){this._ready&&this._ready(!t)}.bind(this))},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=function(e){this[DATA_SOURCE_CHANGED_METHOD](t.items(),e)}.bind(this),t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[DATA_SOURCE_LOAD_ERROR_METHOD].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[DATA_SOURCE_LOADING_CHANGED_METHOD].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){if(this._dataSource){var t=this._dataSource;t.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():t.load()}},_loadSingle:function(t,e){return t=t==="this"?this._dataSource.key()||"this":t,this._dataSource.loadSingle(t,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},DataHelperMixin$1=DataHelperMixin,INVISIBLE_STATE_CLASS$2="dx-state-invisible",DISABLED_STATE_CLASS$3="dx-state-disabled",ITEM_CONTENT_PLACEHOLDER_CLASS$1="dx-item-content-placeholder",forcibleWatcher=function(t,e,r){var n=function(a){i!==a&&(r(a,i),i=a)},i;return{dispose:t(e,n),force:function(){n(e())}}},CollectionItem=Class.inherit({ctor:function(t,e,r){this._$element=t,this._options=e,this._rawData=r,attachInstanceToElement(t,this,this._dispose),this._render()},_render:function(){var t=$("<div>").addClass(ITEM_CONTENT_PLACEHOLDER_CLASS$1);this._$element.append(t),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(t,e){var r=this._rawData,n=this._options.fieldGetter(t),i=forcibleWatcher(this._options.watchMethod(),function(){return n(r)},function(a,o){this._dirty=!0,e(a,o)}.bind(this));this._watchers.push(i)},setDataField:function(){if(this._dirty=!1,each(this._watchers,function(t,e){e.force()}),this._dirty)return!0},_renderDisabled:function(t,e){this._$element.toggleClass(DISABLED_STATE_CLASS$3,!!t),this._updateOwnerFocus(t)},_updateOwnerFocus:function(t){var e=this._options.owner;e&&t&&e._resetItemFocus(this._$element)},_renderVisible:function(t,e){this._$element.toggleClass(INVISIBLE_STATE_CLASS$2,t!==void 0&&!t)},_dispose:function(){each(this._watchers,function(t,e){e.dispose()})}});CollectionItem.getInstance=function(t){return getInstanceByElement(t,this)};var CollectionWidgetItem=CollectionItem,abs=Math.abs,HOLD_EVENT_NAME="dxhold",HOLD_TIMEOUT=750,TOUCH_BOUNDARY=5,HoldEmitter=Emitter$1.inherit({start:function(t){this._startEventData=eventData(t),this._startTimer(t)},_startTimer:function(t){var e="timeout"in this?this.timeout:HOLD_TIMEOUT;this._holdTimer=setTimeout(function(){this._requestAccept(t),this._fireEvent(HOLD_EVENT_NAME,t,{target:t.target}),this._forgetAccept()}.bind(this),e)},move:function(t){this._touchWasMoved(t)&&this._cancel(t)},_touchWasMoved:function(t){var e=eventDelta(this._startEventData,eventData(t));return abs(e.x)>TOUCH_BOUNDARY||abs(e.y)>TOUCH_BOUNDARY},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});registerEmitter$1({emitter:HoldEmitter,bubble:!0,events:[HOLD_EVENT_NAME]});var holdEvent={name:HOLD_EVENT_NAME},CONTEXTMENU_NAMESPACE="dxContexMenu",CONTEXTMENU_NAMESPACED_EVENT_NAME=addNamespace$1("contextmenu",CONTEXTMENU_NAMESPACE),HOLD_NAMESPACED_EVENT_NAME=addNamespace$1(holdEvent.name,CONTEXTMENU_NAMESPACE),CONTEXTMENU_EVENT_NAME="dxcontextmenu",ContextMenu$2=Class.inherit({setup:function(t){var e=$(t);eventsEngine$1.on(e,CONTEXTMENU_NAMESPACED_EVENT_NAME,this._contextMenuHandler.bind(this)),(touch||devices$1.isSimulator())&&eventsEngine$1.on(e,HOLD_NAMESPACED_EVENT_NAME,this._holdHandler.bind(this))},_holdHandler:function(t){isMouseEvent(t)&&!devices$1.isSimulator()||this._fireContextMenu(t)},_contextMenuHandler:function(t){this._fireContextMenu(t)},_fireContextMenu:function(t){return fireEvent({type:CONTEXTMENU_EVENT_NAME,originalEvent:t})},teardown:function(t){eventsEngine$1.off(t,"."+CONTEXTMENU_NAMESPACE)}});registerEvent$1(CONTEXTMENU_EVENT_NAME,new ContextMenu$2);var name=CONTEXTMENU_EVENT_NAME,watchChanges=function(t,e,r,n,i){var a,o=((s,l,u)=>l(()=>s,u))(t,e,function(s){if(a&&a(),isPrimitive(s)){i(s);return}a=function(l,u,m,b,_){var I={},j=m.slice(),L=m.map(function(z){var M=b[z];return u(M?()=>M(l):()=>l[z],function(R){if(I[z]=R,j.length){var w=j.indexOf(z);w>=0&&j.splice(w,1)}j.length||_(I)})});return function(){L.forEach(z=>z())}}(s,e,r,n,i)});return function(){a&&a(),o&&o()}};class BindableTemplate extends TemplateBase{constructor(e,r,n,i){super(),this._render=e,this._fields=r,this._fieldsMap=i||{},this._watchMethod=n}_renderCore(e){var r=$(e.container),n=watchChanges(e.model,this._watchMethod,this._fields,this._fieldsMap,i=>{r.empty(),this._render(r,i,e.model)});return eventsEngine$1.on(r,removeEvent,n),r.contents()}}var COLLECTION_CLASS="dx-collection",ITEM_CLASS$2="dx-item",CONTENT_CLASS_POSTFIX="-content",ITEM_CONTENT_PLACEHOLDER_CLASS="dx-item-content-placeholder",ITEM_DATA_KEY$1="dxItemData",ITEM_INDEX_KEY="dxItemIndex",ITEM_TEMPLATE_ID_PREFIX="tmpl-",ITEMS_OPTIONS_NAME="dxItem",SELECTED_ITEM_CLASS$1="dx-item-selected",ITEM_RESPONSE_WAIT_CLASS="dx-item-response-wait",EMPTY_COLLECTION="dx-empty-collection",TEMPLATE_WRAPPER_CLASS$1="dx-template-wrapper",ITEM_PATH_REGEX=/^([^.]+\[\d+\]\.)+([\w.]+)$/,ANONYMOUS_TEMPLATE_NAME$1="item",FOCUS_UP$2="up",FOCUS_DOWN$2="down",FOCUS_LEFT$2="left",FOCUS_RIGHT$2="right",FOCUS_PAGE_UP="pageup",FOCUS_PAGE_DOWN="pagedown",FOCUS_LAST$1="last",FOCUS_FIRST$1="first",CollectionWidget$3=Widget$2.inherit({_activeStateUnit:"."+ITEM_CLASS$2,_supportedKeys:function(){var t=function(r){var n=$(this.option("focusedElement"));!n.length||this._itemClickHandler(extend({},r,{target:n.get(0),currentTarget:n.get(0)}))},e=function(r,n){isCommandKeyPressed(n)||(n.preventDefault(),n.stopPropagation(),this._moveFocus(r,n))};return extend(this.callBase(),{space:function(r){r.preventDefault(),t.call(this,r)},enter:t,leftArrow:e.bind(this,FOCUS_LEFT$2),rightArrow:e.bind(this,FOCUS_RIGHT$2),upArrow:e.bind(this,FOCUS_UP$2),downArrow:e.bind(this,FOCUS_DOWN$2),pageUp:e.bind(this,FOCUS_UP$2),pageDown:e.bind(this,FOCUS_DOWN$2),home:e.bind(this,FOCUS_FIRST$1),end:e.bind(this,FOCUS_LAST$1)})},_getDefaultOptions:function(){return extend(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:messageLocalization$1.format("dxCollectionWidget-noDataText"),dataSource:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(t){return t?t.disabled:void 0},visibleExpr:function(t){return t?t.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var t=this.option("displayExpr");this._displayGetter=t?compileGetter(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return ANONYMOUS_TEMPLATE_NAME$1},_initDefaultItemTemplate:function(){var t=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new BindableTemplate(function(e,r){isPlainObject(r)?this._prepareDefaultItemTemplate(r,e):(t&&isFunction$2(t.text)&&(r=t.text(r)),e.text(String(ensureDefined(r,""))))}.bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),t)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(t,e){isDefined(t.text)&&e.text(t.text),isDefined(t.html)&&e.html(t.html)},_initItemsFromMarkup:function(){var t=findTemplates(this.$element(),ITEMS_OPTIONS_NAME);if(!(!t.length||this.option("items").length)){var e=t.map(r=>{var{element:n,options:i}=r,a=/\S/.test(n.innerHTML)&&!i.template;return a?i.template=this._prepareItemTemplate(n):$(n).remove(),i});this.option("items",e)}},_prepareItemTemplate:function(t){var e=ITEM_TEMPLATE_ID_PREFIX+new Guid$1,r=$(t).detach().clone().removeAttr("data-options").addClass(TEMPLATE_WRAPPER_CLASS$1);return this._saveTemplate(e,r),e},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(t){if(this.callBase.apply(this,arguments),!!this._isFocusTarget(t.target)){var e=$(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{var r=this._getActiveItem();r.length&&this.option("focusedElement",getPublicElement(r))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var t=$(this.option("focusedElement"));this._updateFocusedItemState(t,!1)},_getActiveItem:function(t){var e=$(this.option("focusedElement"));if(e.length)return e;var r=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,n=this._getActiveElement(),i=n.length-1;return r<0&&(r=t?i:0),n.eq(r)},_moveFocus:function(t){var e=this._getAvailableItems(),r;switch(t){case FOCUS_PAGE_UP:case FOCUS_UP$2:r=this._prevItem(e);break;case FOCUS_PAGE_DOWN:case FOCUS_DOWN$2:r=this._nextItem(e);break;case FOCUS_RIGHT$2:r=this.option("rtlEnabled")?this._prevItem(e):this._nextItem(e);break;case FOCUS_LEFT$2:r=this.option("rtlEnabled")?this._nextItem(e):this._prevItem(e);break;case FOCUS_FIRST$1:r=e.first();break;case FOCUS_LAST$1:r=e.last();break;default:return!1}r.length!==0&&this.option("focusedElement",getPublicElement(r))},_getVisibleItems:function(t){return t=t||this._itemElements(),t.filter(":visible")},_getAvailableItems:function(t){return this._getVisibleItems(t).not(".dx-state-disabled")},_prevItem:function(t){var e=this._getActiveItem(),r=t.index(e),n=t.last(),i=$(t[r-1]),a=this.option("loopItemFocus");return i.length===0&&a&&(i=n),i},_nextItem:function(t){var e=this._getActiveItem(!0),r=t.index(e),n=t.first(),i=$(t[r+1]),a=this.option("loopItemFocus");return i.length===0&&a&&(i=n),i},_selectFocusedItem:function(t){this.selectItem(t)},_updateFocusedItemState:function(t,e,r){var n=$(t);n.length&&(this._refreshActiveDescendant(),this._refreshItemId(n,r),this._toggleFocusClass(e,n)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(t){this.setAria("activedescendant",isDefined(this.option("focusedElement"))?this.getFocusedItemId():null,t)},_refreshItemId:function(t,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),t):this.setAria("id",null,t)},_setFocusedItem:function(t){!t||!t.length||(this._updateFocusedItemState(t,!0),this.onFocusedItemChanged(this.getFocusedItemId()),this.option("selectOnFocus")&&this._selectFocusedItem(t))},_findItemElementByItem:function(t){var e=$(),r=this;return this.itemElements().each(function(){var n=$(this);if(n.data(r._itemDataKey())===t)return e=n,!1}),e},_getIndexByItem:function(t){return this.option("items").indexOf(t)},_itemOptionChanged:function(t,e,r,n){var i=this._findItemElementByItem(t);if(!!i.length){this.constructor.ItemClass.getInstance(i).setDataField(e,r)||this._refreshItem(i,t);var a=e==="disabled"&&r;a&&this._resetItemFocus(i)}},_resetItemFocus(t){t.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(t){var e=this._getItemData(t),r=t.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+r,e,null,t)},_updateParentActiveDescendant:noop,_optionChanged:function(t){if(t.name==="items"){var e=t.fullName.match(ITEM_PATH_REGEX);if(e&&e.length){var r=e[e.length-1],n=t.fullName.replace("."+r,""),i=this.option(n);this._itemOptionChanged(i,r,t.value,t.previousValue);return}}switch(t.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(t.previousValue,!1,!0),this._setFocusedItem($(t.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(t)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){var t=this._dataSource;return this._expectNextPageLoading(),t.pageIndex(1+t.pageIndex()),t.load()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=e.concat(t.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",t.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer()},_cleanItemContainer:function(){$(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return ITEM_CLASS$2},_itemContentClass:function(){return this._itemClass()+CONTENT_CLASS_POSTFIX},_selectedItemClass:function(){return SELECTED_ITEM_CLASS$1},_itemResponseWaitClass:function(){return ITEM_RESPONSE_WAIT_CLASS},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return ITEM_DATA_KEY$1},_itemIndexKey:function(){return ITEM_INDEX_KEY},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(COLLECTION_CLASS),this._prepareContent()},_prepareContent:deferRenderer(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var t=this._itemSelector(),e=addNamespace$1(CLICK_EVENT_NAME,this.NAME),r=addNamespace$1(pointerEvents.down,this.NAME),n=this,i=new Action(function(a){var o=a.event;n._itemPointerDownHandler(o)});eventsEngine$1.off(this._itemContainer(),e,t),eventsEngine$1.off(this._itemContainer(),r,t),eventsEngine$1.on(this._itemContainer(),e,t,function(a){this._itemClickHandler(a)}.bind(this)),eventsEngine$1.on(this._itemContainer(),r,t,function(a){i.execute({element:$(a.target),event:a})})},_itemClickHandler:function(t,e,r){this._itemDXEventHandler(t,"onItemClick",e,r)},_itemPointerDownHandler:function(t){!this.option("focusStateEnabled")||(this._itemFocusHandler=function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!t.isDefaultPrevented()){var e=$(t.target),r=e.closest(this._itemElements()),n=this._closestFocusable(e);r.length&&this._isFocusTarget(n==null?void 0:n.get(0))&&this.option("focusedElement",getPublicElement(r))}}.bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(t){if(t.is(focusable))return t;for(t=t.parent();t.length&&!domAdapter.isDocument(t.get(0));){if(t.is(focusable))return t;t=t.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),r=addNamespace$1(holdEvent.name,this.NAME);eventsEngine$1.off(t,r,e),eventsEngine$1.on(t,r,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(t){this._shouldFireHoldEvent()?this._itemDXEventHandler(t,"onItemHold"):t.cancel=!0},_attachContextMenuEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),r=addNamespace$1(name,this.NAME);eventsEngine$1.off(t,r,e),eventsEngine$1.on(t,r,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(t){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(t,"onItemContextMenu"):t.cancel=!0},_renderContentImpl:function(){var t=this.option("items")||[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)},_renderItems:function(t){t.length&&each(t,function(e,r){this._renderItem(this._renderedItemsCount+e,r)}.bind(this)),this._renderEmptyMessage()},_renderItem:function(t,e,r,n){var i,a=(i=t==null?void 0:t.item)!==null&&i!==void 0?i:t;r=r||this._itemContainer();var o=this._renderItemFrame(a,e,r,n);this._setElementData(o,e,a),o.attr(this.option("_itemAttributes")),this._attachItemClickEvent(e,o);var s=this._getItemContent(o),l=this._renderItemContent({index:a,itemData:e,container:getPublicElement(s),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),u=this;return when(l).done(function(m){u._postprocessRenderItem({itemElement:o,itemContent:m,itemData:e,itemIndex:a}),u._executeItemRenderAction(t,e,getPublicElement(o))}),o},_getItemContent:function(t){var e=t.find("."+ITEM_CONTENT_PLACEHOLDER_CLASS);return e.removeClass(ITEM_CONTENT_PLACEHOLDER_CLASS),e},_attachItemClickEvent:function(t,e){!t||!t.onClick||eventsEngine$1.on(e,CLICK_EVENT_NAME,function(r){this._itemEventHandlerByHandler(e,t.onClick,{event:r})}.bind(this))},_renderItemContent:function(t){var e=this._getItemTemplateName(t),r=this._getTemplate(e);this._addItemContentClasses(t);var n=$(this._createItemByTemplate(r,t));return n.hasClass(TEMPLATE_WRAPPER_CLASS$1)?this._renderItemContentByNode(t,n):t.container},_renderItemContentByNode:function(t,e){return $(t.container).replaceWith(e),t.container=getPublicElement(e),this._addItemContentClasses(t),e},_addItemContentClasses:function(t){var e=[ITEM_CLASS$2+CONTENT_CLASS_POSTFIX,t.contentClass];$(t.container).addClass(e.join(" "))},_appendItemToContainer:function(t,e,r){e.appendTo(t)},_renderItemFrame:function(t,e,r,n){var i=$("<div>");if(new this.constructor.ItemClass(i,this._itemOptions(),e||{}),n&&n.length?n.replaceWith(i):this._appendItemToContainer.call(this,r,i,t),this.option("useItemTextAsTitle")){var a=this._displayGetter?this._displayGetter(e):e;i.attr("title",a)}return i},_itemOptions:function(){var t=this;return{watchMethod:function(){return t.option("integrationOptions.watchMethod")},owner:t,fieldGetter:function(e){var r=t.option(e+"Expr"),n=compileGetter(r);return n}}},_postprocessRenderItem:noop,_executeItemRenderAction:function(t,e,r){this._getItemRenderAction()({itemElement:r,itemIndex:t,itemData:e})},_setElementData:function(t,e,r){t.addClass([ITEM_CLASS$2,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),r)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(t){var e=t.itemData,r=t.templateProperty||this.option("itemTemplateProperty"),n=e&&e[r];return n||t.defaultTemplateName},_createItemByTemplate:function(t,e){return t.render({model:e.itemData,container:e.container,index:e.index})},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(t){t=t||this.option("items");var e=this.option("noDataText"),r=!e||t&&t.length||this._isDataSourceLoading();r&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),r||(this._$noData=this._$noData||$("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()).html(e),this.setAria("label",e)),this.$element().toggleClass(EMPTY_COLLECTION,!r)},_itemDXEventHandler:function(t,e,r,n){this._itemEventHandler(t.target,e,extend(r,{event:t}),n)},_itemEventHandler:function(t,e,r,n){var i=this._createActionByOption(e,extend({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,i,r)},_itemEventHandlerByHandler:function(t,e,r,n){var i=this._createAction(e,extend({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,i,r)},_itemEventHandlerImpl:function(t,e,r){var n=this._closestItemElement($(t)),i=extend({},r);return e(extend(r,this._extendActionArgs(n),i))},_extendActionArgs:function(t){return{itemElement:getPublicElement(t),itemIndex:this._itemElements().index(t),itemData:this._getItemData(t)}},_closestItemElement:function(t){return $(t).closest(this._itemSelector())},_getItemData:function(t){return $(t).data(this._itemDataKey())},_getSummaryItemsWidth:function(t,e){var r=0;return t&&each(t,function(n,i){r+=getOuterWidth(i,e||!1)}),r},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new Guid$1),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(DataHelperMixin$1);CollectionWidget$3.ItemClass=CollectionWidgetItem;var BaseCollectionWidget=CollectionWidget$3,abstract$1=Class.abstract,EditStrategy$1=Class.inherit({ctor:function(t){this._collectionWidget=t},getIndexByItemData:abstract$1,getItemDataByIndex:abstract$1,getKeysByItems:abstract$1,getItemsByKeys:abstract$1,itemsGetter:abstract$1,getKeyByIndex:function(t){var e=this._denormalizeItemIndex(t);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys:function(t,e){return this._collectionWidget._isKeySpecified()?equalByValue(t,e):t===e},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:abstract$1,getNormalizedIndex:function(t){return this._isNormalizedItemIndex(t)?t:this._isItemIndex(t)?this._normalizeItemIndex(t):this._isNode(t)?this._getNormalizedItemIndex(t):this._normalizeItemIndex(this.getIndexByItemData(t))},getIndex:function(t){return this._isNormalizedItemIndex(t)?this._denormalizeItemIndex(t):this._isItemIndex(t)?t:this._isNode(t)?this._denormalizeItemIndex(this._getNormalizedItemIndex(t)):this.getIndexByItemData(t)},getItemElement:function(t){if(this._isNormalizedItemIndex(t))return this._getItemByNormalizedIndex(t);if(this._isItemIndex(t))return this._getItemByNormalizedIndex(this._normalizeItemIndex(t));if(this._isNode(t))return $(t);var e=this._normalizeItemIndex(this.getIndexByItemData(t));return this._getItemByNormalizedIndex(e)},_isNode:t=>domAdapter.isNode(t&&isRenderer(t)?t.get(0):t),deleteItemAtIndex:abstract$1,itemPlacementFunc:function(t,e){return this._itemsFromSameParent(t,e)&&t<e?"after":"before"},moveItemAtIndexToIndex:abstract$1,_isNormalizedItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_isItemIndex:abstract$1,_getNormalizedItemIndex:abstract$1,_normalizeItemIndex:abstract$1,_denormalizeItemIndex:abstract$1,_getItemByNormalizedIndex:abstract$1,_itemsFromSameParent:abstract$1}),EditStrategy$2=EditStrategy$1,PlainEditStrategy=EditStrategy$2.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(t)):this._getPlainItems().indexOf(t)},getItemDataByIndex:function(t){return this._getPlainItems()[t]},deleteItemAtIndex:function(t){this._getPlainItems().splice(t,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget),r=t;if(e){r=[];for(var n=0;n<t.length;n++)r.push(e(t[n]))}return r},getIndexByKey:function(t){var e=this._cache,r=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=r),typeof t=="object"){for(var n=0,i=r.length;n<i;n++)if(this._equalKeys(t,r[n]))return n}else return r.indexOf(t);return-1},getItemsByKeys:function(t,e){return(e||t).slice()},moveItemAtIndexToIndex:function(t,e){var r=this._getPlainItems(),n=r[t];r.splice(t,1),r.splice(e,0,n)},_isItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_getNormalizedItemIndex:function(t){return this._collectionWidget._itemElements().index(t)},_normalizeItemIndex:function(t){return t},_denormalizeItemIndex:function(t){return t},_getItemByNormalizedIndex:function(t){return t>-1?this._collectionWidget._itemElements().eq(t):null},_itemsFromSameParent:function(){return!0}}),EditStrategy=PlainEditStrategy,SelectionStrategy=Class.inherit({ctor:function(t){this.options=t,this._setOption("disabledItemKeys",[]),this._clearItemKeys()},_clearItemKeys:function(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])},validate:noop,_setOption:function(t,e){this.options[t]=e},onSelectionChanged:function(){var t=this.options.addedItemKeys,e=this.options.removedItemKeys,r=this.options.addedItems,n=this.options.removedItems,i=this.options.selectedItems,a=this.options.selectedItemKeys,o=this.options.onSelectionChanged||noop;this._clearItemKeys(),o({selectedItems:i,selectedItemKeys:a,addedItemKeys:t,removedItemKeys:e,addedItems:r,removedItems:n})},equalKeys:function(t,e){return this.options.equalByReference&&isObject(t)&&isObject(e)?t===e:equalByValue(t,e)},getSelectableItems:function(t){return t.filter(function(e){return!(e!=null&&e.disabled)})},_clearSelection:function(t,e,r,n){return t=t||[],t=Array.isArray(t)?t:[t],this.validate(),this.selectedItemKeys(t,e,r,n)},_removeTemplateProperty:function(t){return Array.isArray(t)?t.map(e=>this._removeTemplateProperty(e)):(isObject(t)&&delete t.template,t)},_loadFilteredData:function(t,e,r,n){var i=encodeURI(JSON.stringify(this._removeTemplateProperty(t))).length,a=this.options.maxFilterLengthInRequest&&i>this.options.maxFilterLengthInRequest,o=new Deferred,s={filter:a?void 0:t,select:a?this.options.dataFields():r||this.options.dataFields()};return t&&t.length===0?o.resolve([]):this.options.load(s).done(function(l){var u=isPlainObject(l)?l.data:l;e&&!n?u=u.filter(e):a&&(u=dataQuery(u).filter(t).toArray()),o.resolve(u)}).fail(o.reject.bind(o)),o},updateSelectedItemKeyHash:function(t){for(var e=0;e<t.length;e++){var r=getKeyHash(t[e]);if(!isObject(r)){this.options.keyHashIndices[r]=this.options.keyHashIndices[r]||[];var n=this.options.keyHashIndices[r];n.push(e)}}},_isAnyItemSelected:function(t){for(var e=0;e<t.length;e++)if(this.options.isItemSelected(t[e]))return;return!1},_getFullSelectAllState:function(){var t=this.options.plainItems(),e=this.options.filter(),r=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(a=>!(a!=null&&a.disabled));e&&(r=dataQuery(r).filter(e).toArray());var n=r.length,i=t.length-this.getSelectableItems(t).length;if(!n)return this._isAnyItemSelected(t);if(n>=this.options.totalCount()-i)return!0},_getVisibleSelectAllState:function(){for(var t=this.getSelectableItems(this.options.plainItems()),e=!1,r=!1,n=0;n<t.length;n++){var i=t[n],a=this.options.getItemData(i),o=this.options.keyOf(a);this.options.isSelectableItem(i)&&(this.isItemKeySelected(o)?e=!0:r=!0)}return e?r?void 0:!0:!1}}),deferredStrategy=SelectionStrategy.inherit({getSelectedItems:function(){return this._loadFilteredData(this.options.selectionFilter)},getSelectedItemKeys:function(){var t=new Deferred,e=this,r=this.options.key(),n=isString$2(r)?[r]:r;return this._loadFilteredData(this.options.selectionFilter,null,n).done(function(i){var a=i.map(function(o){return e.options.keyOf(o)});t.resolve(a)}).fail(t.reject),t.promise()},selectedItemKeys:function(t,e,r,n){if(n){var i=this.options.filter(),a=!i||JSON.stringify(i)===JSON.stringify(this.options.selectionFilter)&&r;a?this._setOption("selectionFilter",r?[]:null):this._addSelectionFilter(r,i,n)}else{e||this._setOption("selectionFilter",[]);for(var o=0;o<t.length;o++)r?this.removeSelectedItem(t[o]):this.addSelectedItem(t[o])}return this.onSelectionChanged(),new Deferred().resolve()},setSelectedItems:function(t){this._setOption("selectionFilter",null);for(var e=0;e<t.length;e++)this.addSelectedItem(t[e])},isItemDataSelected:function(t){return this.isItemKeySelected(t)},isItemKeySelected:function(t){var e=this.options.selectionFilter;return e?!!dataQuery([t]).filter(e).toArray().length:!0},_getKeyExpr:function(){var t=this.options.key();return Array.isArray(t)&&t.length===1?t[0]:t},_normalizeKey:function(t){var e=this.options.key();return Array.isArray(e)&&e.length===1?t[e[0]]:t},_getFilterByKey:function(t){var e=this._getKeyExpr(),r=[e,"=",this._normalizeKey(t)];if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r.push([e[n],"=",t[e[n]]]),n!==e.length-1&&r.push("and")}return r},addSelectedItem:function(t){var e=this._getFilterByKey(t);this._addSelectionFilter(!1,e)},removeSelectedItem:function(t){var e=this._getFilterByKey(t);this._addSelectionFilter(!0,e)},validate:function(){var t=this.options.key;if(t&&t()===void 0)throw errors$2.Error("E1042","Deferred selection")},_findSubFilter:function(t,e){if(!t)return-1;for(var r=JSON.stringify(e),n=0;n<t.length;n++){var i=t[n];if(i&&JSON.stringify(i)===r)return n}return-1},_isLastSubFilter:function(t,e){return t&&e?this._findSubFilter(t,e)===t.length-1||this._findSubFilter([t],e)===0:!1},_addFilterOperator:function(t,e){return t.length>1&&isString$2(t[1])&&t[1]!==e&&(t=[t]),t.length&&t.push(e),t},_denormalizeFilter:function(t){return t&&isString$2(t[0])&&(t=[t]),t},_isOnlyNegativeFiltersLeft:function(t){return t.every((e,r)=>r%2===0?Array.isArray(e)&&e[0]==="!":e==="and")},_addSelectionFilter:function(t,e,r){var n=t?["!",e]:e,i=t?"and":"or",a=!0,o=this.options.selectionFilter||[];if(o=this._denormalizeFilter(o),o&&o.length){var s=this._removeSameFilter(o,e,t,r),l=this._removeSameFilter(o,e,!t),u=t&&(s!==-1||l!==-1)&&this._isOnlyNegativeFiltersLeft(o);u&&(o=[]);var m=this._isKeyFilter(e)&&this._hasKeyFiltersOnlyStartingFromIndex(o,l);a=e.length&&!m,a&&(o=this._addFilterOperator(o,i))}a&&o.push(n),o=this._normalizeFilter(o),this._setOption("selectionFilter",!t&&!o.length?null:o)},_normalizeFilter:function(t){return t&&t.length===1&&(t=t[0]),t},_removeFilterByIndex:function(t,e,r){var n=t[1];e>0?t.splice(e-1,2):t.splice(e,2),r&&n==="and"&&t.splice(0,t.length)},_isSimpleKeyFilter:function(t,e){return t.length===3&&t[0]===e&&t[1]==="="},_isKeyFilter:function(t){if(t.length===2&&t[0]==="!")return this._isKeyFilter(t[1]);var e=this._getKeyExpr();if(Array.isArray(e)){if(t.length!==2*e.length-1)return!1;for(var r=0;r<e.length;r++)if(r>0&&t[2*r-1]!=="and"||!this._isSimpleKeyFilter(t[2*r],e[r]))return!1;return!0}return this._isSimpleKeyFilter(t,e)},_hasKeyFiltersOnlyStartingFromIndex:function(t,e){if(e>=0){for(var r=e;r<t.length;r++)if(typeof t[r]!="string"&&!this._isKeyFilter(t[r]))return!1;return!0}return!1},_removeSameFilter:function(t,e,r,n){if(e=r?["!",e]:e,JSON.stringify(e)===JSON.stringify(t))return t.splice(0,t.length),0;var i=this._findSubFilter(t,e);if(i>=0)return this._removeFilterByIndex(t,i,n),i;for(var a=0;a<t.length;a++)if(Array.isArray(t[a])&&t[a].length>2){var o=this._removeSameFilter(t[a],e,!1,n);if(o>=0)return t[a].length?t[a].length===1&&(t[a]=t[a][0]):this._removeFilterByIndex(t,a,n),o}return-1},getSelectAllState:function(){var t=this.options.filter(),e=this.options.selectionFilter;if(!e)return!0;if(!e.length)return!1;if(!(!t||!t.length)){if(e=this._denormalizeFilter(e),this._isLastSubFilter(e,t))return!0;if(this._isLastSubFilter(e,["!",t]))return!1}}}),getKeyWrapper=function(t,e){var r=e(t);if(isObject(r))try{return JSON.stringify(r)}catch{return r}return r},getSameNewByOld=function(t,e,r,n){var i=getKeyWrapper(t,n);return e[r[i]]},isKeysEqual=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0},findChanges=function(t,e,r,n){var i={},a={},o=0,s=0,l=[];t.forEach(function(R,w){var k=getKeyWrapper(R,r);i[k]=w}),e.forEach(function(R,w){var k=getKeyWrapper(R,r);a[k]=w});for(var u=Math.max(t.length,e.length),m=0;m<u+o;m++){var b=e[m],_=m-o+s,I=t[_],j=!b||I&&!getSameNewByOld(I,e,a,r);if(j)I&&(l.push({type:"remove",key:r(I),index:m,oldItem:I}),s++,m--);else{var L=getKeyWrapper(b,r),z=i[L],M=t[z];if(!M)o++,l.push({type:"insert",data:b,index:m});else if(z===_)n(M,b)||l.push({type:"update",data:b,key:r(b),index:m,oldItem:M});else return}}return l},SelectionFilterCreator=function(t,e){this.getLocalFilter=function(o,s,l,u){return s=s===void 0?equalByValue:s,i.bind(this,s,o,l,u)},this.getExpr=function(o){if(!!o){var s;return t.forEach(function(l,u){s=s||[];var m;u>0&&s.push(e?"and":"or"),isString$2(o)?m=a(o,l):m=function(b,_){for(var I=[],j=0,L=b.length;j<L;j++){var z=b[j],M=_&&_[z],R=a(z,M);if(!R)break;j>0&&I.push(e?"or":"and"),I.push(R)}return I}(o,l),s.push(m)}),s&&s.length===1&&(s=s[0]),s}},this.getCombinedFilter=function(o,s){var l=this.getExpr(o),u=l;return e&&s&&(l?(u=[],u.push(l),u.push(s)):u=s),u};var r,n=function(o,s,l){return Array.isArray(l)?o.map(u=>s(u)):o};function i(o,s,l,u,m){var b=s(m),_,I;if(!l&&(_=getKeyHash(b),!isObject(_))){var j=function(L,z){if(!r){r={};for(var M=n(t,L,z),R=0;R<M.length;R++)r[getKeyHash(M[R])]=!0}return r}(s,u);return j[_]?!e:!!e}for(I=0;I<t.length;I++)if(o(t[I],b))return!e;return!!e}function a(o,s){if(s!==void 0)return[o,e?"<>":"=",s]}},standardStrategy=SelectionStrategy.inherit({ctor:function(t){this.callBase(t),this._initSelectedItemKeyHash()},_initSelectedItemKeyHash:function(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})},getSelectedItemKeys:function(){return this.options.selectedItemKeys.slice(0)},getSelectedItems:function(){return this.options.selectedItems.slice(0)},_preserveSelectionUpdate:function(t,e){var r=this.options.keyOf,n,i,a;if(!!r){var o=e&&t.length>1&&!this.options.equalByReference;for(o&&(n={}),a=0;a<t.length;a++){var s=t[a],l=r(s);e?(i=this.removeSelectedItem(l,n,s==null?void 0:s.disabled),n&&i>=0&&(n[i]=!0)):this.addSelectedItem(l,s)}o&&this._batchRemoveSelectedItems(n)}},_batchRemoveSelectedItems:function(t){var e=this.options.selectedItemKeys.slice(0),r=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var n=0;n<e.length;n++)t[n]||(this.options.selectedItemKeys.push(e[n]),this.options.selectedItems.push(r[n]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_loadSelectedItemsCore:function(t,e,r,n){var i=new Deferred,a=this.options.key();if(!t.length&&!r)return i.resolve([]),i;if(r&&e&&!n)return i.resolve(this.getSelectedItems()),i;var o=new SelectionFilterCreator(t,r),s=o.getCombinedFilter(a,n),l=[];if(e){var u=this.options.selectedItems;l=s&&t.length!==u.length?dataQuery(u).filter(s).toArray():u.slice(0)}var m=l.length?l:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),b=o.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,a);return m=m.filter(b),l.length||!r&&m.length===t.length?i.resolve(m):i=this._loadFilteredData(s,b,null,r),i},_replaceSelectionUpdate:function(t){var e=[],r=this.options.keyOf;if(!!r){for(var n=0;n<t.length;n++){var i=t[n],a=r(i);e.push(a)}this.setSelectedItems(e,t)}},_warnOnIncorrectKeys:function(t){for(var e=this.options.allowNullValue,r=0;r<t.length;r++){var n=t[r];(!e||n!==null)&&!this.isItemKeySelected(n)&&errors$2.log("W1002",n)}},_isMultiSelectEnabled:function(){var t=this.options.mode;return t==="all"||t==="multiple"},_requestInProgress:function(){var t;return((t=this._lastLoadDeferred)===null||t===void 0?void 0:t.state())==="pending"},_concatRequestsItems:function(t,e,r,n){var i,a=e?t:[];return n?i=n:i=removeDuplicates(t,this.options.selectedItemKeys),{addedItems:r.added.concat(i),removedItems:r.removed.concat(a),keys:t}},_collectLastRequestData:function(t,e,r,n){var i=e&&r,a={added:[],removed:[]},o=this._isMultiSelectEnabled(),s=o?this._lastRequestData:{};return o&&(this._shouldMergeWithLastRequest&&(i?(this._lastLoadDeferred.reject(),s={}):isKeysEqual(t,this.options.selectedItemKeys)||(a.added=s.addedItems,a.removed=s.removedItems,e||this._lastLoadDeferred.reject())),s=this._concatRequestsItems(t,e,a,this._shouldMergeWithLastRequest?void 0:n)),s},_updateKeysByLastRequestData:function(t,e,r){var n=t;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!e&&!r){var i,a;n=removeDuplicates(t.concat((i=this._lastRequestData)===null||i===void 0?void 0:i.addedItems),(a=this._lastRequestData)===null||a===void 0?void 0:a.removedItems),n=getUniqueValues(n)}return n},_loadSelectedItems:function(t,e,r,n){var i=this,a=new Deferred,o=i.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(t,e,r,n),when(i._lastLoadDeferred).always(function(){var s=i._updateKeysByLastRequestData(t,e,r);i._shouldMergeWithLastRequest=!1,i._loadSelectedItemsCore(s,e,r,o).done(a.resolve).fail(a.reject)}),i._lastLoadDeferred=a,a},selectedItemKeys:function(t,e,r,n,i){var a=this,o=a._loadSelectedItems(t,r,n,i);return o.done(function(s){e?a._preserveSelectionUpdate(s,r):a._replaceSelectionUpdate(s),a.onSelectionChanged()}),o},addSelectedItem:function(t,e){if(isDefined(e)&&!this.options.ignoreDisabledItems&&e.disabled){this.options.disabledItemKeys.indexOf(t)===-1&&this.options.disabledItemKeys.push(t);return}var r=this._getKeyHash(t);this._indexOfSelectedItemKey(r)===-1&&(!isObject(r)&&this.options.keyHashIndices&&(this.options.keyHashIndices[r]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(t),this.options.addedItemKeys.push(t),this.options.addedItems.push(e),this.options.selectedItems.push(e))},_getSelectedIndexByKey:function(t,e){for(var r=this.options.selectedItemKeys,n=0;n<r.length;n++)if((!e||!e[n])&&this.equalKeys(r[n],t))return n;return-1},_getSelectedIndexByHash:function(t,e){var r=this.options.keyHashIndices[t];return r&&r.length>1&&e&&(r=r.filter(function(n){return!e[n]})),r&&r[0]>=0?r[0]:-1},_indexOfSelectedItemKey:function(t,e){var r;return this.options.equalByReference?r=this.options.selectedItemKeys.indexOf(t):isObject(t)?r=this._getSelectedIndexByKey(t,e):r=this._getSelectedIndexByHash(t,e),r},_shiftSelectedKeyIndices:function(t){for(var e=t;e<this.options.selectedItemKeys.length;e++){var r=this.options.selectedItemKeys[e],n=getKeyHash(r),i=this.options.keyHashIndices[n];if(!!i)for(var a=0;a<i.length;a++)i[a]>t&&i[a]--}},removeSelectedItem:function(t,e,r){if(!(!this.options.ignoreDisabledItems&&r)){var n=this._getKeyHash(t),i=!!e,a=this._indexOfSelectedItemKey(n,e);if(a<0||(this.options.removedItemKeys.push(t),this.options.removedItems.push(this.options.selectedItems[a]),i)||(this.options.selectedItemKeys.splice(a,1),this.options.selectedItems.splice(a,1),isObject(n)||!this.options.keyHashIndices))return a;var o=this.options.keyHashIndices[n];return o&&(o.shift(),o.length||delete this.options.keyHashIndices[n],this._shiftSelectedKeyIndices(a)),a}},_updateAddedItemKeys:function(t,e){for(var r=0;r<t.length;r++)this.isItemKeySelected(t[r])||(this.options.addedItemKeys.push(t[r]),this.options.addedItems.push(e[r]))},_updateRemovedItemKeys:function(t,e,r){for(var n=0;n<e.length;n++)this.isItemKeySelected(e[n])||(this.options.removedItemKeys.push(e[n]),this.options.removedItems.push(r[n]))},_isItemSelectionInProgress:function(t,e){var r=e&&this._lastRequestData&&this._requestInProgress();if(r){var n,i=(n=this._lastRequestData.addedItems)!==null&&n!==void 0?n:[];return i.includes(t)}else return!1},_getKeyHash:function(t){return this.options.equalByReference?t:getKeyHash(t)},setSelectedItems:function(t,e){this._updateAddedItemKeys(t,e);var r=this.options.selectedItemKeys,n=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(t)),this._setOption("selectedItemKeys",t),this._setOption("selectedItems",e),this._updateRemovedItemKeys(t,r,n)},isItemDataSelected:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.options.keyOf(t);return this.isItemKeySelected(r,e)},isItemKeySelected:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this._isItemSelectionInProgress(t,e.checkPending);if(!r){var n=this._getKeyHash(t),i=this._indexOfSelectedItemKey(n);r=i!==-1}return r},getSelectAllState:function(t){return t?this._getVisibleSelectAllState():this._getFullSelectAllState()}}),Selection=Class.inherit({ctor:function(t){this.options=extend(this._getDefaultOptions(),t,{selectedItemKeys:t.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new deferredStrategy(this.options):new standardStrategy(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_getDefaultOptions:function(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:noop,key:noop,keyOf:function(t){return t},load:function(){return new Deferred().resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(t){return t},dataFields:noop,filter:noop}},validate:function(){this._selectionStrategy.validate()},getSelectedItemKeys:function(){return this._selectionStrategy.getSelectedItemKeys()},getSelectedItems:function(){return this._selectionStrategy.getSelectedItems()},selectionFilter:function(t){if(t===void 0)return this.options.selectionFilter;var e=this.options.selectionFilter!==t&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(t);this.options.selectionFilter=t,e&&this.onSelectionChanged()},setSelection:function(t,e){return this.selectedItemKeys(t,!1,!1,!1,e)},select:function(t){return this.selectedItemKeys(t,!0)},deselect:function(t){return this.selectedItemKeys(t,!0,!0)},selectedItemKeys:function(t,e,r,n,i){var a;return t=(a=t)!==null&&a!==void 0?a:[],t=Array.isArray(t)?t:[t],this.validate(),this._selectionStrategy.selectedItemKeys(t,e,r,n,i)},clearSelection:function(){return this.selectedItemKeys([])},_addSelectedItem:function(t,e){this._selectionStrategy.addSelectedItem(e,t)},_removeSelectedItem:function(t){this._selectionStrategy.removeSelectedItem(t)},_setSelectedItems:function(t,e){this._selectionStrategy.setSelectedItems(t,e)},onSelectionChanged:function(){this._selectionStrategy.onSelectionChanged()},changeItemSelection:function(t,e,r){var n,i,a,o=this.options.plainItems(),s=o[t],l,u=(n=(i=this.options).allowLoadByRange)===null||n===void 0?void 0:n.call(i),m,b=!1,_=!1,I=R=>R>=0&&!o.filter(w=>w.loadIndex===R).length;if(u&&(m=s.loadIndex-t,t=s.loadIndex,b=I(this._focusedItemIndex),isDefined(this._shiftFocusedItemIndex)&&(_=I(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(s))return!1;var j=this.options.getItemData(s),L=this.options.keyOf(j);if(e=e||{},e.shift&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)b||_?(a=t!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,a&&(l=this.changeItemSelectionWhenShiftKeyInVirtualPaging(t))):a=this.changeItemSelectionWhenShiftKeyPressed(t,o,m);else if(e.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!r){var z=this._selectionStrategy.isItemDataSelected(j);this.options.mode==="single"&&this.clearSelectedItems(),z?this._removeSelectedItem(L):this._addSelectedItem(j,L)}a=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var M=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],L);(this.options.selectedItemKeys.length!==1||!M)&&(this._setSelectedItems([L],[j]),a=!0)}if(a)return when(l).done(()=>{this._focusedItemIndex=t,!r&&this.onSelectionChanged()}),!0},isDataItem:function(t){return this.options.isSelectableItem(t)},isSelectable:function(){return this.options.mode==="single"||this.options.mode==="multiple"},isItemDataSelected:function(t){return this._selectionStrategy.isItemDataSelected(t,{checkPending:!0})},isItemSelected:function(t,e){return this._selectionStrategy.isItemKeySelected(t,e)},_resetItemSelectionWhenShiftKeyPressed:function(){delete this._shiftFocusedItemIndex},_resetFocusedItemIndex:function(){this._focusedItemIndex=-1},changeItemSelectionWhenShiftKeyInVirtualPaging:function(t){var e=this.options.getLoadOptions(t,this._focusedItemIndex,this._shiftFocusedItemIndex),r=new Deferred,n=e.skip;return this.options.load(e).done(i=>{this.changeItemSelectionWhenShiftKeyPressed(t,i,n),r.resolve()}),r.promise()},changeItemSelectionWhenShiftKeyPressed:function(t,e,r){var n=!1,i,a=isDefined(r),o=a?this._focusedItemIndex-r:this._focusedItemIndex,s=this.options.keyOf,l=e[o],u=this.options.getItemData(l),m=s(u),b=l&&this.isItemDataSelected(u);isDefined(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);var _,I,j,L;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(i=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,j=a?this._focusedItemIndex-r:this._focusedItemIndex,L=a?this._shiftFocusedItemIndex-r:this._shiftFocusedItemIndex,o=j;o!==L;o+=i)(a||this.isDataItem(e[o]))&&(I=s(this.options.getItemData(e[o])),this._removeSelectedItem(I),n=!0);if(t!==this._shiftFocusedItemIndex)for(i=t<this._shiftFocusedItemIndex?1:-1,j=a?t-r:t,L=a?this._shiftFocusedItemIndex-r:this._shiftFocusedItemIndex,o=j;o!==L;o+=i)(a||this.isDataItem(e[o]))&&(_=this.options.getItemData(e[o]),I=s(_),this._addSelectedItem(_,I),n=!0);return(a||this.isDataItem(l))&&!b&&(this._addSelectedItem(u,m),n=!0),n},clearSelectedItems:function(){this._setSelectedItems([],[])},selectAll:function(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)},_onePageSelectAll:function(t){for(var e=this._selectionStrategy.getSelectableItems(this.options.plainItems()),r=0;r<e.length;r++){var n=e[r];if(this.isDataItem(n)){var i=this.options.getItemData(n),a=this.options.keyOf(i),o=this.isItemSelected(a);!o&&!t&&this._addSelectedItem(i,a),o&&t&&this._removeSelectedItem(a)}}return this.onSelectionChanged(),new Deferred().resolve()},getSelectAllState:function(t){return this._selectionStrategy.getSelectAllState(t)}}),ITEM_DELETING_DATA_KEY="dxItemDeleting",NOT_EXISTING_INDEX=-1,indexExists=function(t){return t!==NOT_EXISTING_INDEX},CollectionWidget$1=BaseCollectionWidget.inherit({_setOptionsByReference:function(){this.callBase(),extend(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return extend(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:NOT_EXISTING_INDEX,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=compileGetter(this.option("keyExpr"))},_getKeysByItems:function(t){return this._editStrategy.getKeysByItems(t)},_getItemsByKeys:function(t,e){return this._editStrategy.getItemsByKeys(t,e)},_getKeyByIndex:function(t){return this._editStrategy.getKeyByIndex(t)},_getIndexByKey:function(t){return this._editStrategy.getIndexByKey(t)},_getIndexByItemData:function(t){return this._editStrategy.getIndexByItemData(t)},_isKeySpecified:function(){return!!(this._dataSource&&this._dataSource.key())},_getCombinedFilter:function(){return this._dataSource&&this._dataSource.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataSource&&this._dataSource.key()},keyOf:function(t){var e=t,r=this._dataSource&&this._dataSource.store();return this.option("keyExpr")?e=this._keyGetter(t):r&&(e=r.keyOf(t)),e},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var t=this,e=t._editStrategy.itemsGetter;this._selection=new Selection({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(r){(r.addedItemKeys.length||r.removedItemKeys.length)&&(t.option("selectedItems",t._getItemsByKeys(r.selectedItemKeys,r.selectedItems)),t._updateSelectedItems(r))},filter:t._getCombinedFilter.bind(t),totalCount:function(){var r=t.option("items"),n=t._dataSource;return n&&n.totalCount()>=0?n.totalCount():t._getItemsCount(r)},key:t.key.bind(t),keyOf:t.keyOf.bind(t),load:function(r){if(t._dataSource){var n=t._dataSource.loadOptions();r.customQueryParams=n.customQueryParams,r.userData=t._dataSource._userData}var i=t._dataSource&&t._dataSource.store();return i?i.load(r).done(function(a){if(!t._disposed){var o=normalizeLoadResult(a).data;t._dataSource._applyMapFunction(o)}}):new Deferred().resolve(this.plainItems())},dataFields:function(){return t._dataSource&&t._dataSource.select()},plainItems:e.bind(t._editStrategy)})},_getItemsCount:function(t){return t.reduce((e,r)=>e+(r.items?this._getItemsCount(r.items):1),0)},_initEditStrategy:function(){var t=EditStrategy;this._editStrategy=new t(this)},_getSelectedItemIndices:function(t){var e=this,r=[];return t=t||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),each(t,function(n,i){var a=e._getIndexByKey(i);indexExists(a)&&r.push(a)}),e._editStrategy.endCache(),r},_initMarkup:function(){this._rendering=!0,(!this._dataSource||!this._dataSource.isLoading())&&this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(t){t=t||this._chooseSelectOption();var e,r,n,i;switch(t){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),isDefined(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(i=this.option("selectedItems")||[],r=i.length?this._editStrategy.getIndexByItemData(i[0]):NOT_EXISTING_INDEX,this.option("selectionRequired")&&!indexExists(r))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",i[0]),this._setOptionWithoutOptionChange("selectedIndex",r),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(i));break;case"selectedItem":if(e=this.option("selectedItem"),r=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!indexExists(r))return this._syncSelectionOptions("selectedIndex");isDefined(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",r),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",NOT_EXISTING_INDEX));break;case"selectedItemKeys":if(n=this.option("selectedItemKeys"),this.option("selectionRequired")){var a=this._getIndexByKey(n[0]);if(!indexExists(a))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}return new Deferred().resolve().promise()},_chooseSelectOption:function(){var t="selectedIndex",e=function(r){var n=this.option(r),i=isDefined(n)&&n.length;return i||r in this._userOptions}.bind(this);return e("selectedItems")?t="selectedItems":e("selectedItem")?t="selectedItem":e("selectedItemKeys")&&(t="selectedItemKeys"),t},_compareKeys:function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0},_normalizeSelectedItems:function(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){var t=this.option("selectedItems");if(t.length>1||!t.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var e=this._selection.getSelectedItems(),r=t[0]===void 0?e[0]:t[0];return r===void 0&&(r=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&r&&r.items&&(r.items=[r.items[0]]),this._selection.setSelection(this._getKeysByItems([r])),this._setOptionWithoutOptionChange("selectedItems",[r]),this._syncSelectionOptions("selectedItems")}else this._selection.setSelection(this._getKeysByItems(t))}else{var n=this._getKeysByItems(this.option("selectedItems")),i=this._selection.getSelectedItemKeys();this._compareKeys(i,n)||this._selection.setSelection(n)}return new Deferred().resolve().promise()},_itemClickHandler:function(t){var e=new Deferred().resolve(),r=this.callBase;this._createAction(function(n){var i;e=(i=this._itemSelectHandler(n.event))!==null&&i!==void 0?i:e}.bind(this),{validatingTargetName:"itemElement"})({itemElement:$(t.currentTarget),event:t}),e.always(()=>{r.apply(this,arguments)})},_itemSelectHandler:function(t){var e,r;if(!!this.option("selectionByClick")){var n=t.currentTarget;return this.isItemSelected(n)?this.unselectItem(t.currentTarget):r=this.selectItem(t.currentTarget),(e=r)===null||e===void 0?void 0:e.promise()}},_selectedItemElement:function(t){return this._itemElements().eq(t)},_postprocessRenderItem:function(t){if(this.option("selectionMode")!=="none"){var e=$(t.itemElement),r=this._editStrategy.getNormalizedIndex(e),n=this._isItemSelected(r);this._processSelectableItem(e,n)}},_processSelectableItem:function(t,e){t.toggleClass(this._selectedItemClass(),e),this._setAriaSelected(t,String(e))},_updateSelectedItems:function(t){var e=this,r=t.addedItemKeys,n=t.removedItemKeys;if(e._rendered&&(r.length||n.length)){var i=e._selectionChangePromise;if(!e._rendering){var a=[],o,s=[];e._editStrategy.beginCache();for(var l=0;l<r.length;l++)o=e._getIndexByKey(r[l]),a.push(o),e._addSelection(o);for(var u=0;u<n.length;u++)o=e._getIndexByKey(n[u]),s.push(o),e._removeSelection(o);e._editStrategy.endCache(),e._updateSelection(a,s)}when(i).done(function(){e._fireSelectionChangeEvent(t.addedItems,t.removedItems)})}},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_updateSelection:noop,_setAriaSelected:function(t,e){this.setAria("selected",e,t)},_removeSelection:function(t){var e=this._editStrategy.getItemElement(t);indexExists(t)&&(this._processSelectableItem(e,!1),eventsEngine$1.triggerHandler(e,"stateChanged",!1))},_addSelection:function(t){var e=this._editStrategy.getItemElement(t);indexExists(t)&&(this._processSelectableItem(e,!0),eventsEngine$1.triggerHandler(e,"stateChanged",!0))},_isItemSelected:function(t){var e=this._getKeyByIndex(t);return this._selection.isItemSelected(e,{checkPending:!0})},_optionChanged:function(t){switch(t.name){case"selectionMode":this._invalidate();break;case"dataSource":(!t.value||Array.isArray(t.value)&&!t.value.length)&&this.option("selectedItemKeys",[]),this.callBase(t);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(t.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(t)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(t){if(t.data(ITEM_DELETING_DATA_KEY))return new Deferred().resolve().promise();t.data(ITEM_DELETING_DATA_KEY,!0);var e=new Deferred,r={cancel:!1},n=this._itemEventHandler(t,"onItemDeleting",r,{excludeValidators:["disabled","readOnly"]});return when(n).always(function(i){var a=!n,o=!a&&n.state()==="resolved",s=!!arguments.length,l=a||o&&!s||o&&i;when(fromPromise(r.cancel)).always(function(){t.data(ITEM_DELETING_DATA_KEY,!1)}).done(function(u){l&&!u?e.resolve():e.reject()}).fail(e.reject)}.bind(this)),e.promise()},_deleteItemFromDS:function(t){if(!this._dataSource)return new Deferred().resolve().promise();var e=new Deferred,r=this.option("disabled"),n=this._dataSource.store();if(this.option("disabled",!0),!n.remove)throw errors$2.Error("E1011");return n.remove(n.keyOf(this._getItemData(t))).done(function(i){i!==void 0?e.resolve():e.reject()}).fail(function(){e.reject()}),e.always(function(){this.option("disabled",r)}.bind(this)),e},_tryRefreshLastPage:function(){var t=new Deferred;return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done(function(){t.resolve()}),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataSource.load()},_updateSelectionAfterDelete:function(t){var e=this._getKeyByIndex(t);this._selection.deselect([e])},_updateIndicesAfterIndex:function(t){for(var e=this._itemElements(),r=t+1;r<e.length;r++)$(e[r]).data(this._itemIndexKey(),r-1)},_simulateOptionChange:function(t){var e=this.option(t);e instanceof DataSource||this._optionChangedAction({name:t,fullName:t,value:e})},isItemSelected:function(t){return this._isItemSelected(this._editStrategy.getNormalizedIndex(t))},selectItem:function(t){if(this.option("selectionMode")!=="none"){var e=this._editStrategy.getNormalizedIndex(t);if(!!indexExists(e)){var r=this._getKeyByIndex(e);if(!this._selection.isItemSelected(r)){if(this.option("selectionMode")==="single")return this._selection.setSelection([r]);var n=this.option("selectedItemKeys")||[];return this._selection.setSelection([...n,r],[r])}}}},unselectItem:function(t){var e=this._editStrategy.getNormalizedIndex(t);if(!!indexExists(e)){var r=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&r.length<=1)){var n=this._getKeyByIndex(e);!this._selection.isItemSelected(n,{checkPending:!0})||this._selection.deselect([n])}}},_deleteItemElementByIndex:function(t){this._updateSelectionAfterDelete(t),this._updateIndicesAfterIndex(t),this._editStrategy.deleteItemAtIndex(t)},_afterItemElementDeleted:function(t,e){var r=this._dataSource?"dataSource":"items";this._simulateOptionChange(r),this._itemEventHandler(t,"onItemDeleted",e,{beforeExecute:function(){t.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(t){var e=this,r=new Deferred,n=this._editStrategy.getItemElement(t),i=this._editStrategy.getNormalizedIndex(t),a=this._itemResponseWaitClass();return indexExists(i)?this._waitDeletingPrepare(n).done(function(){n.addClass(a);var o=e._extendActionArgs(n);e._deleteItemFromDS(n).done(function(){e._deleteItemElementByIndex(i),e._afterItemElementDeleted(n,o),e._tryRefreshLastPage().done(function(){r.resolveWith(e)})}).fail(function(){n.removeClass(a),r.rejectWith(e)})}).fail(function(){r.rejectWith(e)}):r.rejectWith(e),r.promise()},reorderItem:function(t,e){var r=new Deferred,n=this,i=this._editStrategy,a=i.getItemElement(t),o=i.getItemElement(e),s=i.getNormalizedIndex(t),l=i.getNormalizedIndex(e),u=this._dataSource?"dataSource":"items",m=indexExists(s)&&indexExists(l)&&s!==l;return m?r.resolveWith(this):r.rejectWith(this),r.promise().done(function(){o[i.itemPlacementFunc(s,l)](a),i.moveItemAtIndexToIndex(s,l),this._updateIndicesAfterIndex(s),n.option("selectedItems",n._getItemsByKeys(n._selection.getSelectedItemKeys(),n._selection.getSelectedItems())),u==="items"&&n._simulateOptionChange(u),n._itemEventHandler(a,"onItemReordered",{fromIndex:i.getIndex(s),toIndex:i.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),CollectionWidget$2=CollectionWidget$1,DISABLED_STATE_CLASS$2="dx-state-disabled",HierarchicalCollectionWidget=CollectionWidget$2.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return devices$1.real().deviceType==="desktop"&&!devices$1.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var t=this._createDataAdapterAccessors();this._dataAdapter=new HierarchicalDataAdapter(extend({dataAccessors:{getters:t.getters,setters:t.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:noop,_initDynamicTemplates:function(){var t=this;this._templateManager.addDefaultTemplates({item:new BindableTemplate(function(e,r){e.html(r.html).append(this._getIconContainer(r)).append(this._getTextContainer(r)).append(this._getPopoutContainer(r)),t._addContentClasses(r,e.parent())}.bind(this),["text","html","items","icon"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_getIconContainer:function(t){return t.icon?getImageContainer(t.icon):void 0},_getTextContainer:function(t){return $("<span>").text(t.text)},_getPopoutContainer:noop,_addContentClasses:noop,_initAccessors:function(){var t=this;each(this._getAccessors(),function(e,r){t._compileAccessor(r)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(t){var e=this,r=[];return each(t.internalFields.childrenKeys,function(n,i){var a=e._dataAdapter.getNodeByKey(i);r.push(a)}),r},_hasChildren:function(t){return t&&t.internalFields.childrenKeys.length},_compileAccessor:function(t){var e="_"+t+"Getter",r="_"+t+"Setter",n=this.option(t+"Expr");if(n){if(isFunction$2(n)){this[r]=function(i,a){i[n()]=a},this[e]=function(i){return i[n()]};return}}else{this[e]=noop,this[r]=noop;return}this[e]=compileGetter(n),this[r]=compileSetter(n)},_createDataAdapterAccessors:function(){var t=this,e={getters:{},setters:{}};return each(this._getAccessors(),function(r,n){var i="_"+n+"Getter",a="_"+n+"Setter",o=n==="parentId"?"parentKey":n;e.getters[o]=t[i],e.setters[o]=t[a]}),e.getters.display=this._displayGetter?this._displayGetter:r=>r.text,e},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:noop,_renderItemFrame:function(t,e){var r=this.callBase.apply(this,arguments);return r.toggleClass(DISABLED_STATE_CLASS$2,!!this._disabledGetter(e)),r},_optionChanged:function(t){switch(t.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(t);break;default:this.callBase(t)}}}),HierarchicalCollectionWidget$1=HierarchicalCollectionWidget;class MenuBaseEditStrategy extends EditStrategy{_getPlainItems(){return map(this._collectionWidget.option("items"),function e(r){return r.items?[r].concat(map(r.items,e)):r})}_stringifyItem(e){return JSON.stringify(e,(r,n)=>r==="template"?this._getTemplateString(n):n)}_getTemplateString(e){var r;return typeof e=="object"?r=$(e).text():r=e.toString(),r}}var MenuBaseEditStrategy$1=MenuBaseEditStrategy,DX_MENU_CLASS$2="dx-menu",DX_MENU_NO_ICONS_CLASS=DX_MENU_CLASS$2+"-no-icons",DX_MENU_BASE_CLASS="dx-menu-base",ITEM_CLASS$1=DX_MENU_CLASS$2+"-item",DX_ITEM_CONTENT_CLASS=ITEM_CLASS$1+"-content",DX_MENU_SELECTED_ITEM_CLASS=ITEM_CLASS$1+"-selected",DX_MENU_ITEM_WRAPPER_CLASS$1=ITEM_CLASS$1+"-wrapper",DX_MENU_ITEMS_CONTAINER_CLASS$2=DX_MENU_CLASS$2+"-items-container",DX_MENU_ITEM_EXPANDED_CLASS$2=ITEM_CLASS$1+"-expanded",DX_MENU_SEPARATOR_CLASS=DX_MENU_CLASS$2+"-separator",DX_MENU_ITEM_LAST_GROUP_ITEM=DX_MENU_CLASS$2+"-last-group-item",DX_ITEM_HAS_TEXT=ITEM_CLASS$1+"-has-text",DX_ITEM_HAS_ICON=ITEM_CLASS$1+"-has-icon",DX_ITEM_HAS_SUBMENU=ITEM_CLASS$1+"-has-submenu",DX_MENU_ITEM_POPOUT_CLASS=ITEM_CLASS$1+"-popout",DX_MENU_ITEM_POPOUT_CONTAINER_CLASS=DX_MENU_ITEM_POPOUT_CLASS+"-container",DX_MENU_ITEM_CAPTION_CLASS=ITEM_CLASS$1+"-text",SINGLE_SELECTION_MODE="single",DEFAULT_DELAY$1={show:50,hide:300};class MenuBase extends HierarchicalCollectionWidget$1{_getDefaultOptions(){return extend(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return ITEM_CLASS$1}_setAriaSelected(){}_selectedItemClass(){return DX_MENU_SELECTED_ITEM_CLASS}_widgetClass(){return DX_MENU_BASE_CLASS}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return extend(super._supportedKeys(),{space:()=>{var e=$(this.option("focusedElement"));!e.length||!this._isSelectionEnabled()||this.selectItem(e[0])},pageUp:noop,pageDown:noop})}_isSelectionEnabled(){return this.option("selectionMode")===SINGLE_SELECTION_MODE}_init(){this._activeStateUnit=".".concat(ITEM_CLASS$1),super._init(),this._renderSelectedItem(),this._initActions()}_getTextContainer(e){var r=e.text,n=$("<span>").addClass(DX_MENU_ITEM_CAPTION_CLASS),i=isPlainObject(e)?r:String(e);return r&&n.text(i)}_getPopoutContainer(e){var r=e.items,n;if(r&&r.length){var i=$("<div>").addClass(DX_MENU_ITEM_POPOUT_CLASS);n=$("<span>").addClass(DX_MENU_ITEM_POPOUT_CONTAINER_CLASS).append(i)}return n}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(e){if(!!e){var r=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(r.internalFields.key,!0)}}_renderSelectedItem(){var e=this._dataAdapter.getSelectedNodesKeys(),r=e.length&&e[0],n=this.option("selectedItem");if(!r){this._selectByItem(n);return}var i=this._dataAdapter.getNodeByKey(r);if(i.selectable!==!1){if(!n){this.option("selectedItem",i.internalFields.item);return}n!==i.internalFields.item&&(this._dataAdapter.toggleSelection(r,!1),this._selectByItem(n))}}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=render$4()}_toggleActiveState(e,r,n){if(super._toggleActiveState.apply(this,arguments),!!this._inkRipple){var i={element:e,event:n};r?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}}_getShowSubmenuMode(){var e=this.option("showSubmenuMode");return e=isObject(e)?e.name:e,this._isDesktopDevice()?e:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return devices$1.real().deviceType==="desktop"}_initEditStrategy(){var e=MenuBaseEditStrategy$1;this._editStrategy=new e(this)}_addCustomCssClass(e){e.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(DX_MENU_ITEM_WRAPPER_CLASS$1)}_hoverStartHandler(e){var r=this._getItemElementByEventArgs(e);!r||this._isItemDisabled(r)||(e.stopPropagation(),this._getShowSubmenuMode()==="onHover"&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,r),this._getSubmenuDelay("show"))))}_getAvailableItems(e){return super._getAvailableItems(e).filter(function(){return $(this).css("visibility")!=="hidden"})}_isItemDisabled(e){return this._disabledGetter(e.data(this._itemDataKey()))}_showSubmenu(e){this._addExpandedClass(e)}_addExpandedClass(e){$(e).addClass(DX_MENU_ITEM_EXPANDED_CLASS$2)}_getSubmenuDelay(e){var{delay:r}=this.option("showSubmenuMode");return isDefined(r)?isObject(r)?r[e]:r:DEFAULT_DELAY$1[e]}_getItemElementByEventArgs(e){var r=$(e.target);if(r.hasClass(this._itemClass())||r.get(0)===e.currentTarget)return r;for(;!r.hasClass(this._itemClass());)if(r=r.parent(),r.hasClass("dx-submenu"))return null;return r}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(e){return e&&e.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(e,r){if(e.length){this.hasIcons=!1;var n=this._renderContainer(this.$element(),r),i=-1,a=-1;each(e,(o,s)=>{var l=s.visible!==!1;l&&i<0&&(i=o);var u=i<o&&(s.beginGroup||o===a);u&&(a=l?o:o+1),o===a&&i<o&&this._renderSeparator(n),this._renderItem(o,s,n)}),this.hasIcons||n.addClass(DX_MENU_NO_ICONS_CLASS)}}_renderContainer(e){var r=$("<ul>");return this.setAria("role","none",r),r.appendTo(e).addClass(DX_MENU_ITEMS_CONTAINER_CLASS$2)}_createDOMElement(e){var r=$("<li>");return this.setAria("role","none",r),r.appendTo(e).addClass(DX_MENU_ITEM_WRAPPER_CLASS$1)}_renderItem(e,r,n,i){var a=this.option("items"),o=i||this._createDOMElement(n);a[e+1]&&a[e+1].beginGroup&&o.addClass(DX_MENU_ITEM_LAST_GROUP_ITEM);var s=super._renderItem(e,r.internalFields.item,o);r.internalFields.item===this.option("selectedItem")&&s.addClass(DX_MENU_SELECTED_ITEM_CLASS),s.attr("tabIndex",-1),this._hasSubmenu(r)&&this.setAria("haspopup","true",s)}_renderItemFrame(e,r,n){var i=n.children(".".concat(ITEM_CLASS$1));return i.length?i:super._renderItemFrame.apply(this,arguments)}_refreshItem(e,r){var n=this._dataAdapter.getNodeByItem(r),i=e.data(this._itemIndexKey()),a=e.closest("ul"),o=e.closest("li");this._renderItem(i,n,a,o)}_addContentClasses(e,r){var n=e.text?!!e.text.length:!1,i=!!e.icon,a=e.items?!!e.items.length:!1;r.toggleClass(DX_ITEM_HAS_TEXT,n),r.toggleClass(DX_ITEM_HAS_ICON,i),this.hasIcons||(this.hasIcons=i),r.toggleClass(DX_ITEM_HAS_SUBMENU,a)}_getItemContent(e){var r=super._getItemContent(e);return r.length||(r=e.children(".".concat(DX_ITEM_CONTENT_CLASS))),r}_postprocessRenderItem(e){var r=$(e.itemElement),n=this._dataAdapter.getSelectedNodesKeys();if(!n.length||!this._selectedGetter(e.itemData)||!this._isItemSelectable(e.itemData)){this._setAriaSelected(r,"false");return}var i=this._dataAdapter.getNodeByItem(e.itemData);i.internalFields.key===n[0]?(r.addClass(this._selectedItemClass()),this._setAriaSelected(r,"true")):this._setAriaSelected(r,"false")}_isItemSelectable(e){return e.selectable!==!1}_renderSeparator(e){$("<li>").appendTo(e).addClass(DX_MENU_SEPARATOR_CLASS)}_itemClickHandler(e){if(!e._skipHandling){var r=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{afterExecute:r.bind(this)}),e._skipHandling=!0}}_updateSubmenuVisibilityOnClick(e){this._updateSelectedItemOnClick(e),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(e.args[0].itemElement)}_updateSelectedItemOnClick(e){var r=e.args?e.args[0]:e;if(!!this._isItemSelectionAllowed(r.itemData)){var n=this._dataAdapter.getSelectedNodesKeys(),i=n.length&&this._dataAdapter.getNodeByKey(n[0]);i&&this._toggleItemSelection(i,!1),!i||i.internalFields.item!==r.itemData?this.selectItem(r.itemData):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}}_isItemSelectionAllowed(e){var r=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&r&&this._isItemSelectable(e)&&!this._itemsGetter(e)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return asyncNoop()}_optionChanged(e){switch(e.name){case"showSubmenuMode":break;case"selectedItem":var r=this._dataAdapter.getNodeByItem(e.value),n=this._dataAdapter.getSelectedNodesKeys()[0];if(r&&r.internalFields.key!==n){if(r.selectable===!1)break;n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(r,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(e)}}_toggleItemSelection(e,r){var n=this._getElementByItem(e.internalFields.item);n&&$(n).toggleClass(DX_MENU_SELECTED_ITEM_CLASS),this._dataAdapter.toggleSelection(e.internalFields.key,r)}_getElementByItem(e){var r;return each(this._itemElements(),(n,i)=>$(i).data(this._itemDataKey())!==e?!0:(r=i,!1)),r}_updateSelectedItems(e,r){(e||r)&&this._fireSelectionChangeEvent(r,e)}_fireSelectionChangeEvent(e,r){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[r]})}selectItem(e){var r=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getSelectedNodesKeys()[0],i=this.option("selectedItem"),a=this._dataAdapter.getNodeByItem(r);a.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(a,!0),this._updateSelectedItems(i,r),this._setOptionWithoutOptionChange("selectedItem",r))}unselectItem(e){var r=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(r),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionWithoutOptionChange("selectedItem",null))}}MenuBase.ItemClass=CollectionWidgetItem;var MenuBase$1=MenuBase,DX_MENU_CLASS$1="dx-menu",DX_MENU_ITEM_CLASS$1=DX_MENU_CLASS$1+"-item",DX_MENU_ITEM_EXPANDED_CLASS$1=DX_MENU_ITEM_CLASS$1+"-expanded",DX_MENU_PHONE_CLASS="dx-menu-phone-overlay",DX_MENU_ITEMS_CONTAINER_CLASS$1=DX_MENU_CLASS$1+"-items-container",DX_MENU_ITEM_WRAPPER_CLASS=DX_MENU_ITEM_CLASS$1+"-wrapper",DX_SUBMENU_CLASS$2="dx-submenu",DX_CONTEXT_MENU_CLASS$1="dx-context-menu",DX_HAS_CONTEXT_MENU_CLASS="dx-has-context-menu",DX_STATE_DISABLED_CLASS$1="dx-state-disabled",DX_STATE_FOCUSED_CLASS="dx-state-focused",DX_STATE_HOVER_CLASS$1="dx-state-hover",OVERLAY_CONTENT_CLASS="dx-overlay-content",FOCUS_UP$1="up",FOCUS_DOWN$1="down",FOCUS_LEFT$1="left",FOCUS_RIGHT$1="right",FOCUS_FIRST="first",FOCUS_LAST="last",ACTIONS$1=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],LOCAL_SUBMENU_DIRECTIONS=[FOCUS_UP$1,FOCUS_DOWN$1,FOCUS_FIRST,FOCUS_LAST],DEFAULT_SHOW_EVENT="dxcontextmenu",window$8=getWindow();class ContextMenu extends MenuBase$1{getShowEvent(e){var r=null;return isObject(e)?e.name!==null&&(r=e.name||DEFAULT_SHOW_EVENT):r=e,r}getShowDelay(e){return isObject(e)&&e.delay}_getDefaultOptions(){return extend(super._getDefaultOptions(),{showEvent:DEFAULT_SHOW_EVENT,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!hasWindow(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),extend(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},each(ACTIONS$1,(e,r)=>{this._actions[r]=this._createActionByOption(r)||noop})}_setOptionsByReference(){super._setOptionsByReference(),extend(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():$()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return extend(super._supportedKeys(),{space:()=>{var e=$(this.option("focusedElement"));this.hide(),!(!e.length||!this._isSelectionEnabled())&&this.selectItem(e[0])},escape:this.hide})}_getActiveItem(){var e=this._getAvailableItems(),r=e.filter(".".concat(DX_STATE_FOCUSED_CLASS)),n=e.filter(".".concat(DX_STATE_HOVER_CLASS$1)),i=n.closest(".".concat(DX_MENU_ITEMS_CONTAINER_CLASS$1));return i.find(".".concat(DX_MENU_ITEM_CLASS$1)).index(r)>=0?r:n.length?n:super._getActiveItem()}_moveFocus(e){var r=this._getItemsByLocation(e),n=this._getActiveItem(!0),i=this.itemsContainer().find(".".concat(DX_STATE_HOVER_CLASS$1)),a=$(this.option("focusedElement")),o=!!(a.length||i.length),s;switch(e){case FOCUS_UP$1:s=o?this._prevItem(r):n,this._setFocusedElement(s),n.is(r.first())&&this._actions.onLeftFirstItem(n);break;case FOCUS_DOWN$1:s=o?this._nextItem(r):n,this._setFocusedElement(s),n.is(r.last())&&this._actions.onLeftLastItem(n);break;case FOCUS_RIGHT$1:s=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(r,e),this._setFocusedElement(s);break;case FOCUS_LEFT$1:s=this.option("rtlEnabled")?this._expandSubmenuHandler(r,e):this._hideSubmenuHandler(),this._setFocusedElement(s);break;case FOCUS_FIRST:s=r.first(),this._setFocusedElement(s);break;case FOCUS_LAST:s=r.last(),this._setFocusedElement(s);break;default:return super._moveFocus(e)}}_setFocusedElement(e){e&&e.length!==0&&this.option("focusedElement",getPublicElement(e))}_getItemsByLocation(e){var r=this._getActiveItem(!0),n;return LOCAL_SUBMENU_DIRECTIONS.includes(e)&&(n=r.closest(".".concat(DX_MENU_ITEMS_CONTAINER_CLASS$1)).children().children()),n=this._getAvailableItems(n),n}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(isDefined(this._overlay)){var e=this._overlay.$content();super._refreshActiveDescendant(e)}}_hideSubmenuHandler(){var e=this._getActiveItem(!0),r=e.parents(".".concat(DX_MENU_ITEM_EXPANDED_CLASS$1)).first();return r.length?(this._hideSubmenusOnSameLevel(r),this._hideSubmenu(e.closest(".".concat(DX_SUBMENU_CLASS$2))),r):(this._actions.onCloseRootSubmenu(e),e)}_expandSubmenuHandler(e,r){var n=this._getActiveItem(!0),i=this._getItemData(n),a=this._dataAdapter.getNodeByItem(i),o=this._hasSubmenu(a),s=n.children(".".concat(DX_SUBMENU_CLASS$2));if(o&&!n.hasClass(DX_STATE_DISABLED_CLASS$1))return(!s.length||s.css("visibility")==="hidden")&&this._showSubmenu(n),this._nextItem(this._getItemsByLocation(r));this._actions.onExpandLastSubmenu(n)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass(DX_HAS_CONTEXT_MENU_CLASS),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent($("<div>").appendTo(this._$element),Overlay$1,e);var r=this._overlay.$content();r.addClass(DX_CONTEXT_MENU_CLASS$1),this._addCustomCssClass(r),this._addPlatformDependentClass(r),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var e=this._itemContainer(),r=addNamespace$1(name,this.NAME);eventsEngine$1.off(e,r,".".concat(DX_SUBMENU_CLASS$2)),eventsEngine$1.on(e,r,".".concat(DX_SUBMENU_CLASS$2),(n=>{n.stopPropagation(),n.preventDefault(),eventsEngine$1.off(e,r,".".concat(DX_SUBMENU_CLASS$2))}).bind(this))}_itemContextMenuHandler(e){super._itemContextMenuHandler(e),e.stopPropagation()}_addPlatformDependentClass(e){devices$1.current().phone&&e.addClass(DX_MENU_PHONE_CLASS)}_detachShowContextMenuEvents(e){var r=this.getShowEvent(this.option("showEvent"));if(!!r){var n=addNamespace$1(r,this.NAME);this._showContextMenuEventHandler?eventsEngine$1.off(domAdapter.getDocument(),n,e,this._showContextMenuEventHandler):eventsEngine$1.off($(e),n)}}_attachShowContextMenuEvents(){var e=this._getTarget(),r=this.getShowEvent(this.option("showEvent"));if(!!r){var n=addNamespace$1(r,this.NAME),i=this._createAction(o=>{var s=this.getShowDelay(this.option("showEvent"));s?setTimeout(()=>this._show(o.event),s):this._show(o.event)},{validatingTargetName:"target"}),a=o=>i({event:o,target:$(o.currentTarget)});i=this._createAction(i),isRenderer(e)||e.nodeType||isWindow(e)?(this._showContextMenuEventHandler=void 0,eventsEngine$1.on(e,n,a)):(this._showContextMenuEventHandler=a,eventsEngine$1.on(domAdapter.getDocument(),n,e,this._showContextMenuEventHandler))}}_hoverEndHandler(e){super._hoverEndHandler(e),e.stopPropagation()}_renderDimensions(){}_renderContainer(e,r){var n=r||this._itemContainer();e=$("<div>"),e.appendTo(n).addClass(DX_SUBMENU_CLASS$2).css("visibility",r?"hidden":"visible"),e.parent().hasClass(OVERLAY_CONTENT_CLASS)||this._addCustomCssClass(e);var i=super._renderContainer(e);return r?i:this.option("width")?i.css("minWidth",this.option("width")):this.option("height")?i.css("minHeight",this.option("height")):i}_renderSubmenuItems(e,r){this._renderItems(this._getChildNodes(e),r),this._actions.onSubmenuCreated({itemElement:getPublicElement(r),itemData:e.internalFields.item,submenuElement:getPublicElement(r.children(".".concat(DX_SUBMENU_CLASS$2)))})}_getOverlayOptions(){var e=this.option("position"),r={focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:n=>this._hideOnOutsideClickHandler(n),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:window$8};return r}_overlayShownActionHandler(e){this._actions.onShown(e)}_overlayHidingActionHandler(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(e){this._actions.onHidden(e)}_shouldHideOnOutsideClick(e){var{closeOnOutsideClick:r,hideOnOutsideClick:n}=this.option();return isFunction$2(n)?n(e):isFunction$2(r)?r(e):n||r}_hideOnOutsideClickHandler(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(domAdapter.isDocument(e.target))return!0;var r=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),i=this._searchActiveItem(e.target),a=this.$element().parents(".".concat(DX_MENU_ITEM_CLASS$1)),o=i[0]===a[0]&&i.length&&a.length,s=this._isIncludeOverlay(r,n)&&i.length;return s||o?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(i),!1):!0}_getActiveItemsContainer(e){return $(e).closest(".".concat(DX_MENU_ITEMS_CONTAINER_CLASS$1))}_getItemsContainers(){return this._overlay.$content().find(".".concat(DX_MENU_ITEMS_CONTAINER_CLASS$1))}_searchActiveItem(e){return $(e).closest(".".concat(DX_MENU_ITEM_CLASS$1)).eq(0)}_isIncludeOverlay(e,r){var n=!1;return each(r,(i,a)=>{e.is(a)&&!n&&(n=!0)}),n}_hideAllShownChildSubmenus(e){var r=e.find(".".concat(DX_SUBMENU_CLASS$2)),n=extend([],this._shownSubmenus);r.length>0&&each(n,(i,a)=>{var o=this._searchActiveItem(a.context).parent();o.parent().is(e.parent().parent())&&!o.is(e.parent())&&this._hideSubmenu(a)})}_showSubmenu(e){var r=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),!!this._hasSubmenu(r)){var n=e.children(".".concat(DX_SUBMENU_CLASS$2)),i=n.length;super._showSubmenu(e),i||this._renderSubmenuItems(r,e),this._isSubmenuVisible(n)||this._drawSubmenu(e)}}_hideSubmenusOnSameLevel(e){var r=e.parent(".".concat(DX_MENU_ITEM_WRAPPER_CLASS)).siblings().find(".".concat(DX_MENU_ITEM_EXPANDED_CLASS$1));r.length&&(r.removeClass(DX_MENU_ITEM_EXPANDED_CLASS$1),this._hideSubmenu(r.find(".".concat(DX_SUBMENU_CLASS$2))))}_hideSubmenuGroup(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}_isSubmenuVisible(e){return e.css("visibility")==="visible"}_drawSubmenu(e){var r=this.option("animation")?this.option("animation").show:{},n=e.children(".".concat(DX_SUBMENU_CLASS$2)),i=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&(isDefined(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),r&&fx$1.stop(n),positionUtils.setup(n,i),r&&(isPlainObject(r.to)&&(r.to.position=i),this._animate(n,r)),n.css("visibility","visible"))}_animate(e,r){fx$1.animate(e,r)}_getSubmenuPosition(e){var r=this.option("submenuDirection").toLowerCase(),n=e.parent(".".concat(DX_MENU_ITEM_WRAPPER_CLASS)),i={collision:"flip",of:n,offset:{h:0,v:-1}};switch(r){case"left":i.at="left top",i.my="right top";break;case"right":i.at="right top",i.my="left top";break;default:this.option("rtlEnabled")?(i.at="left top",i.my="right top"):(i.at="right top",i.my="left top")}return i}_updateSubmenuVisibilityOnClick(e){if(!!e.args.length){var r=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(r);if(!!n){var i=$(e.args[0].itemElement),a=i.find(".".concat(DX_SUBMENU_CLASS$2)),o=this._hasSubmenu(n)&&!a.length;if(o&&(this._renderSubmenuItems(n,i),a=i.find(".".concat(DX_SUBMENU_CLASS$2))),!(i.context===a.context&&a.css("visibility")==="visible")){this._updateSelectedItemOnClick(e);var s=r&&r.closeMenuOnClick===!1;if(!(!r||r.disabled||s))if(a.length===0){var l=$(i.parents(".".concat(DX_SUBMENU_CLASS$2))[0]);this._hideSubmenu(l),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(a)&&this._hideSubmenu(a),this._showSubmenu(i)}}}}_hideSubmenu(e){var r=extend([],this._shownSubmenus);each(r,(n,i)=>{(e.is(i)||contains(e[0],i[0]))&&(i.parent().removeClass(DX_MENU_ITEM_EXPANDED_CLASS$1),this._hideSubmenuCore(i))})}_hideSubmenuCore(e){var r=this._shownSubmenus.indexOf(e),n=this.option("animation")?this.option("animation").hide:null;r>=0&&this._shownSubmenus.splice(r,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")}_stopAnimate(e){fx$1.stop(e,!0)}_hideAllShownSubmenus(){var e=extend([],this._shownSubmenus),r=this._overlay.$content().find(".".concat(DX_MENU_ITEM_EXPANDED_CLASS$1));r.removeClass(DX_MENU_ITEM_EXPANDED_CLASS$1),each(e,(n,i)=>{this._hideSubmenu(i)})}_visibilityChanged(e){e&&this._renderContentImpl()}_optionChanged(e){if(ACTIONS$1.includes(e.name)){this._initActions();return}switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(e)}}_renderVisibility(e){return e?this._show():this._hide()}_toggleVisibility(){}_show(e){var r={jQEvent:e},n=new Deferred().reject().promise();if(this._actions.onShowing(r),r.cancel)return n;var i=this._positionContextMenu(e);if(i){var a;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",i),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes(),(e==null||(a=e.originalEvent)===null||a===void 0?void 0:a.type)===holdEvent.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return n}_setAriaAttributes(){this._overlayContentId="dx-".concat(new Guid$1),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||$(domAdapter.getDocument())}_getContextMenuPosition(){return extend({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(e){var r=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning",a);e&&e.preventDefault&&n&&(r.of=e);var a={position:r,event:e};return i(a),a.cancel?r=null:a.event&&(a.event.cancel=!0,e.preventDefault()),r}_refresh(){if(!hasWindow())super._refresh();else if(this._overlay){var e=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",e)}else super._refresh()}_hide(){var e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||new Deferred().reject().promise()}toggle(e){var r=this.option("visible");return e=e===void 0?!r:e,this._renderVisibility(e)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}}registerComponent$1("dxContextMenu",ContextMenu);var ContextMenu$1=ContextMenu,FILEMANAGER_CONTEXT_MEMU_CLASS="dx-filemanager-context-menu",DEFAULT_CONTEXT_MENU_ITEMS={create:{},upload:{},download:{},rename:{},move:{},copy:{},delete:{},refresh:{beginGroup:!0}},DEFAULT_ITEM_ALLOWED_PROPERTIES$1=["beginGroup","closeMenuOnClick","disabled","icon","selectable","selected","text","visible"];class FileManagerContextMenu extends Widget$2{_initMarkup(){this._initActions(),this._isVisible=!1;var e=$("<div>").appendTo(this.$element());this._contextMenu=this._createComponent(e,ContextMenu$1,{cssClass:FILEMANAGER_CONTEXT_MEMU_CLASS,showEvent:"",onItemClick:r=>this._onContextMenuItemClick(r.itemData.name,r),onShowing:r=>this._onContextMenuShowing(r),onShown:()=>this._onContextMenuShown(),onHidden:()=>this._onContextMenuHidden()}),super._initMarkup()}showAt(e,r,n,i){var{itemData:a,itemElement:o,isActionButton:s=!1}=i;this._isVisible&&this._onContextMenuHidden(),this._menuShowingContext={targetElement:o,itemData:a,fileItems:e,event:n,isActionButton:s};var l={of:r,at:"top left",my:"top left",offset:""};n?l.offset=n.offsetX+" "+n.offsetY:(l.my="left top",l.at="left bottom",l.boundaryOffset="1"),this._contextMenu.option({target:r,position:l}),this._contextMenu.show()}createContextMenuItems(e,r,n){this._targetFileItems=e,this._targetFileItem=isDefined(n)?n:e==null?void 0:e[0];var i=[],a=r||this.option("items");return a.forEach(o=>{var s=isString$2(o)?o:o.name,l=this._configureItemByCommandName(s,o,e,this._targetFileItem);this._isContextMenuItemAvailable(l,e)&&i.push(l)}),i}_isContextMenuItemAvailable(e,r){return!this._isDefaultItem(e.name)||!e._autoHide?ensureDefined(e.visible,!0):this._isIsolatedCreationItemCommand(e.name)&&r&&r.length?!1:this._commandManager.isCommandAvailable(e.name,r)}_isIsolatedCreationItemCommand(e){return(e==="create"||e==="upload")&&this.option("isolateCreationItemCommands")}_isDefaultItem(e){return!!DEFAULT_CONTEXT_MENU_ITEMS[e]}_configureItemByCommandName(e,r,n,i){if(!this._isDefaultItem(e)){var a=extend(!0,{},r);return a.originalItemData=r,this._addItemClickHandler(e,a),Array.isArray(r.items)&&(a.items=this.createContextMenuItems(n,r.items,i)),a}var o=this._createMenuItemByCommandName(e),s=DEFAULT_CONTEXT_MENU_ITEMS[e];return extend(o,s),o.originalItemData=r,extendAttributes(o,r,DEFAULT_ITEM_ALLOWED_PROPERTIES$1),isDefined(o.visible)||(o._autoHide=!0),e&&!o.name&&extend(o,{name:e}),o}_createMenuItemByCommandName(e){var{text:r,icon:n}=this._commandManager.getCommandByName(e),i={name:e,text:r,icon:n};return this._addItemClickHandler(e,i),i}_addItemClickHandler(e,r){r.onItemClick=n=>this._onContextMenuItemClick(e,n)}_onContextMenuItemClick(e,r){var n,i=extend(!0,{},r);if(i.itemData=r.itemData.originalItemData,i.fileSystemItem=(n=this._targetFileItem)===null||n===void 0?void 0:n.fileItem,i.viewArea=this.option("viewArea"),this._actions.onItemClick(i),this._isDefaultItem(e)){var a=this._isIsolatedCreationItemCommand(e)?null:this._targetFileItems;this._commandManager.executeCommand(e,a)}}_initActions(){this._actions={onContextMenuHidden:this._createActionByOption("onContextMenuHidden"),onContextMenuShowing:this._createActionByOption("onContextMenuShowing"),onItemClick:this._createActionByOption("onItemClick")}}_onContextMenuShowing(e){if(this._isVisible&&this._onContextMenuHidden(!0),e=extend(e,this._menuShowingContext,{options:this.option(),cancel:!1}),this._actions.onContextMenuShowing(e),!e.cancel){var r=this.createContextMenuItems(this._menuShowingContext.fileItems,null,this._menuShowingContext.fileSystemItem);this._contextMenu.option("dataSource",r)}}tryUpdateVisibleContextMenu(){if(this._isVisible){var e=this.createContextMenuItems(this._targetFileItems);this._contextMenu.option("dataSource",e)}}_onContextMenuShown(){this._isVisible=!0}_onContextMenuHidden(e){this._isVisible=!1,e||(this._menuShowingContext={}),this._contextMenu.option("visible",!1),this._raiseContextMenuHidden()}_raiseContextMenuHidden(){this._actions.onContextMenuHidden()}_getDefaultOptions(){return extend(super._getDefaultOptions(),{commandManager:null,onContextMenuHidden:null,onItemClick:null})}_optionChanged(e){var r=e.name;switch(r){case"commandManager":this.repaint();break;case"items":this.tryUpdateVisibleContextMenu();break;case"onItemClick":case"onContextMenuShowing":case"onContextMenuHidden":this._actions[r]=this._createActionByOption(r);break;default:super._optionChanged(e)}}get _commandManager(){return this.option("commandManager")}}var FileManagerContextMenu$1=FileManagerContextMenu,INVALID_MESSAGE_AUTO="dx-invalid-message-auto",VALIDATION_TARGET="dx-validation-target";class Editor$1 extends ComponentWrapper{getProps(){var e=super.getProps();return e.onFocusIn=()=>{var r=this.option("validationMessageMode")==="auto";if(r){var n=$(".dx-invalid-message.dx-overlay-wrapper");n==null||n.removeClass(INVALID_MESSAGE_AUTO),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{n==null||n.addClass(INVALID_MESSAGE_AUTO)},150)}},e.saveValueChangeEvent=r=>{this._valueChangeEventInstance=r},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=Callbacks(),data(this.$element()[0],VALIDATION_TARGET,this)}_render(){var e;(e=this.option("_onMarkupRendered"))===null||e===void 0||e()}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(ValidationEngine$1.initValidationOptions(e))}_getDefaultOptions(){return extend(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,r){var n=extend({},e.option()),i=()=>this._silent(r,n);i(),e.on("optionChanged",i)}_raiseValidation(e,r){var n=!isDefined(e)&&!isDefined(r);e!==r&&!n&&this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,r){var n;(n=this._valueChangeAction)===null||n===void 0||n.call(this,{element:this.$element(),previousValue:r,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){var{name:r,previousValue:n,value:i}=e;switch(r&&this._getActionConfigs()[r]!==void 0&&this._addAction(r),r){case"value":this._raiseValidation(i,n),this._raiseValueChangeAction(i,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(ValidationEngine$1.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}reset(){var{value:e}=this._getDefaultOptions();this.option({value:e})}_dispose(){super._dispose(),data(this.element(),VALIDATION_TARGET,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}}var prevIsEditor=Editor$3.isEditor,newIsEditor=t=>prevIsEditor(t)||t instanceof Editor$1;Editor$1.isEditor=newIsEditor;Editor$3.isEditor=newIsEditor;class CheckBox$2 extends Editor$1{_useTemplates(){return!1}_isFocused(){var e=this.$element()[0];return e.classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){var e=super.getProps();return e.value!==null&&(e.value=Boolean(e.value)),e}}var defaultNotDeepCopyArrays=["dataSource","selectedRowKeys"],propsToIgnore={integrationOptions:!0};function getDiffItem(t,e,r){return{path:t,value:e,previousValue:r}}function compare(t,e,r,n,i,a){if(!propsToIgnore[n]){var o=type(e),s=type(r);if(e!==r)if(o!==s)t.push(getDiffItem(n,r,e));else if(o==="object")if(!isPlainObject(r))t.push(getDiffItem(n,r,e));else{var l=objectDiffs(e,r,i,a);t.push(...l.map(b=>_extends({},b,{path:"".concat(n,".").concat(b.path)})))}else if(o==="array"){var u=a.some(b=>i.includes(b));if(u&&e!==r)t.push(getDiffItem(n,r,e));else if(e.length!==r.length)t.push(getDiffItem(n,r,e));else{var m=objectDiffs(e,r,i,a);[].push.apply(t,m.map(b=>_extends({},b,{path:"".concat(n).concat(b.path)})))}}else t.push(getDiffItem(n,r,e))}}var objectDiffsFiltered=t=>(e,r,n,i)=>{var a=[],o=Array.isArray(e)?s=>{compare(a,e[s],r[s],"[".concat(s,"]"),"".concat(n,".").concat(s),i)}:s=>{compare(a,e[s],r[s],s,"".concat(n,".").concat(s),i)};return t(e).forEach(o),Object.keys(r).filter(s=>!Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==r[s]).forEach(s=>{a.push({path:s,value:r[s],previousValue:e[s]})}),a},objectDiffs=objectDiffsFiltered(t=>Object.keys(t)),reactProps={key:!0,ref:!0,children:!0,style:!0},objectDiffsWithoutReactProps=objectDiffsFiltered(t=>Object.keys(t).filter(e=>!reactProps[e]));function getUpdatedOptions(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultNotDeepCopyArrays;return objectDiffsWithoutReactProps(t,e,"",r)}var _excluded$6=["valueChange"],_excluded2=["componentProps","componentType","rootElementRef","templateNames"],normalizeProps=t=>Object.keys(t).reduce((e,r)=>(t[r]!==void 0&&(e[r]=t[r]),e),{}),viewFunction$4=t=>{var{props:{componentProps:{className:e}},restAttributes:r,widgetRef:n}=t;return normalizeProps(createVNode(1,"div",e,null,1,_extends({},r),null,n))},DomComponentWrapperProps={};class DomComponentWrapper extends InfernoComponent{constructor(e){super(e),this.state={},this.widgetRef=createRef(),this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.setRootElementRef=this.setRootElementRef.bind(this),this.updateWidget=this.updateWidget.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:ConfigContext}createEffects(){return[new InfernoEffect(this.setupWidget,[]),new InfernoEffect(this.setRootElementRef,[]),new InfernoEffect(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var e;(e=this._effects[2])===null||e===void 0||e.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){var e=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=e,()=>{e.dispose(),this.instance=null}}setRootElementRef(){var{rootElementRef:e}=this.props;e&&(e.current=this.widgetRef.current)}updateWidget(){var e=this.getInstance();if(!!e){var r=getUpdatedOptions(this.prevProps||{},this.properties);r.length&&(e.beginUpdate(),r.forEach(n=>{var{path:i,value:a}=n;e.option(i,a)}),e.endUpdate()),this.prevProps=this.properties}}get properties(){var e,r=normalizeProps(this.props.componentProps),{valueChange:n}=r,i=_objectWithoutPropertiesLoose(r,_excluded$6),a=_extends({rtlEnabled:!!((e=this.config)!==null&&e!==void 0&&e.rtlEnabled),isRenovated:!0},i);n&&(a.onValueChanged=s=>{var{value:l}=s;return n(l)});var o=this.props.templateNames;return o.forEach(s=>{hasTemplate$2(s,a)&&(a[s]=(l,u,m)=>{renderTemplate(this.props.componentProps[s],{item:l,index:u,container:m})})}),a}get restAttributes(){var e=this.props,r=_objectWithoutPropertiesLoose(e,_excluded2);return r}getInstance(){return this.instance}render(){var e=this.props;return viewFunction$4({props:_extends({},e),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}DomComponentWrapper.defaultProps=DomComponentWrapperProps;var _excluded$5=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionRequest","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],viewFunction$3=t=>{var{componentProps:e,restAttributes:r}=t;return normalizeProps$1(createComponentVNode(2,DomComponentWrapper,_extends({componentType:LegacyValidationMessage,componentProps:e,templateNames:[]},r)))},ValidationMessageProps=Object.create(Object.prototype,_extends(Object.getOwnPropertyDescriptors(BaseWidgetProps),Object.getOwnPropertyDescriptors({mode:"auto",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0})));class ValidationMessage extends BaseInfernoComponent{constructor(e){super(e),this.state={}}get componentProps(){return this.props}get restAttributes(){var e=this.props,r=_objectWithoutPropertiesLoose(e,_excluded$5);return r}render(){var e=this.props;return viewFunction$3({props:_extends({},e),componentProps:this.componentProps,restAttributes:this.restAttributes})}}ValidationMessage.defaultProps=ValidationMessageProps;var _excluded$4=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],getCssClasses$1=t=>{var{classes:e,isValid:r,readOnly:n}=t,i={"dx-state-readonly":!!n,"dx-invalid":!r,["".concat(e)]:!!e};return combineClasses(i)},viewFunction$2=t=>{var{aria:e,cssClasses:r,isValidationMessageVisible:n,onFocusIn:i,props:{accessKey:a,activeStateEnabled:o,children:s,className:l,disabled:u,focusStateEnabled:m,height:b,hint:_,hoverStateEnabled:I,onClick:j,onKeyDown:L,rtlEnabled:z,tabIndex:M,validationMessageMode:R,visible:w,width:k},restAttributes:A,rootElementRef:D,validationErrors:P,validationMessageGuid:T,validationMessageTarget:x,widgetRef:g}=t;return normalizeProps$1(createComponentVNode(2,Widget,_extends({rootElementRef:D,aria:e,classes:r,activeStateEnabled:o,focusStateEnabled:m,hoverStateEnabled:I,accessKey:a,className:l,rtlEnabled:z,hint:_,disabled:u,height:b,width:k,onFocusIn:i,onClick:j,onKeyDown:L,tabIndex:M,visible:w},A,{children:createFragment([s,n&&createComponentVNode(2,ValidationMessage,{validationErrors:P,mode:R,positionRequest:"below",rtlEnabled:z,target:x,boundary:x,visualContainer:x,contentId:T})],0)}),null,g))},EditorProps=Object.create(Object.prototype,_extends(Object.getOwnPropertyDescriptors(BaseWidgetProps),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationStatus:"valid",isValid:!0,defaultValue:null,valueChange:()=>{}}))),EditorPropsType={get readOnly(){return EditorProps.readOnly},get name(){return EditorProps.name},get validationError(){return EditorProps.validationError},get validationErrors(){return EditorProps.validationErrors},get validationMessageMode(){return EditorProps.validationMessageMode},get validationStatus(){return EditorProps.validationStatus},get isValid(){return EditorProps.isValid},get defaultValue(){return EditorProps.defaultValue},get valueChange(){return EditorProps.valueChange},get className(){return EditorProps.className},get activeStateEnabled(){return EditorProps.activeStateEnabled},get disabled(){return EditorProps.disabled},get focusStateEnabled(){return EditorProps.focusStateEnabled},get hoverStateEnabled(){return EditorProps.hoverStateEnabled},get tabIndex(){return EditorProps.tabIndex},get visible(){return EditorProps.visible},get aria(){return WidgetProps.aria},get classes(){return WidgetProps.classes}};class Editor extends InfernoWrapperComponent{constructor(e){super(e),this.widgetRef=createRef(),this.rootElementRef=createRef(),this.__getterCache={},this.state={validationMessageGuid:"dx-".concat(new Guid$1),isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new InfernoEffect(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),createReRenderEffect()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(e=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(e){var{onFocusIn:r}=this.props;r==null||r(e)}get cssClasses(){return"".concat(getCssClasses$1(_extends({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})))}get shouldShowValidationMessage(){var e,{isValid:r,validationStatus:n}=this.props,i=(e=this.validationErrors)!==null&&e!==void 0?e:[],a=r&&n!=="invalid";return!a&&i.length>0}get aria(){var{isValid:e,readOnly:r}=this.props,n={readonly:r?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),_extends({},n,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{var{validationError:e,validationErrors:r}=this.props,n=r&&[...r];return!n&&e&&(n=[_extends({},e)]),n})()}get validationMessageTarget(){var e;return(e=this.rootElementRef)===null||e===void 0?void 0:e.current}get restAttributes(){var e=_extends({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),r=_objectWithoutPropertiesLoose(e,_excluded$4);return r}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e,r,n){super.componentWillUpdate(),(this.props.validationError!==e.validationError||this.props.validationErrors!==e.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){var e=this.props;return viewFunction$2({props:_extends({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}}Editor.defaultProps=EditorPropsType;function getElementComputedStyle(t){var e,r=getWindow();return t?(e=r.getComputedStyle)===null||e===void 0?void 0:e.call(r,t):null}var defaultIconSizes=[[22,16],[18,16]],defaultFontSizes=[[[12,8],[20,18]],[[16,10],[16,14]]];function getThemeType(){var t=current();return{isMaterialTheme:isMaterial(t),isCompactTheme:isCompact(t)}}function getDefaultIconSize(){var{isCompactTheme:t,isMaterialTheme:e}=getThemeType();return defaultIconSizes[+e][+t]}function getDefaultFontSize(t){var{isCompactTheme:e,isMaterialTheme:r}=getThemeType();return defaultFontSizes[+t][+r][+e]}function getFontSizeByIconSize(t,e){var r=getDefaultFontSize(e),n=getDefaultIconSize(),i=r/n;return Math.ceil(i*t)}var _excluded$3=["isChecked","size"],viewFunction$1=t=>{var{cssStyles:e,elementRef:r}=t;return createVNode(1,"span","dx-checkbox-icon",null,1,{style:normalizeStyles(e)},null,r)},CheckBoxIconProps={isChecked:!1};class CheckBoxIcon extends InfernoComponent{constructor(e){super(e),this.state={},this.elementRef=createRef(),this.__getterCache={},this.updateFontSize=this.updateFontSize.bind(this),this.setIconFontSize=this.setIconFontSize.bind(this),this.getIconSize=this.getIconSize.bind(this),this.getComputedIconSize=this.getComputedIconSize.bind(this)}createEffects(){return[new InfernoEffect(this.updateFontSize,[this.props.isChecked,this.props.size])]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isChecked,this.props.size])}updateFontSize(){var{isChecked:e,size:r}=this.props;if(hasWindow()&&r){var n=this.getIconSize(r),i=getFontSizeByIconSize(n,e);this.setIconFontSize(i)}}setIconFontSize(e){var r=this.elementRef.current;r.style.fontSize="".concat(e,"px")}getIconSize(e){return isNumeric$1(e)?e:e.endsWith("px")?parseInt(e,10):this.getComputedIconSize()}getComputedIconSize(){var e=this.elementRef.current,r=getElementComputedStyle(e),n=parseInt(r==null?void 0:r.width,10);return n}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{var{size:e}=this.props,r=normalizeStyleProp("width",e),n=normalizeStyleProp("height",e);return{height:n,width:r}})()}get restAttributes(){var e=this.props,r=_objectWithoutPropertiesLoose(e,_excluded$3);return r}componentWillUpdate(e,r,n){super.componentWillUpdate(),this.props.size!==e.size&&(this.__getterCache.cssStyles=void 0)}render(){var e=this.props;return viewFunction$1({props:_extends({},e),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}}CheckBoxIcon.defaultProps=CheckBoxIconProps;var _excluded$2=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],getCssClasses=t=>{var{text:e,value:r}=t,n=r,i=n===null,a={"dx-checkbox":!0,"dx-checkbox-checked":n===!0,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":i};return combineClasses(a)},viewFunction=t=>{var{aria:e,cssClasses:r,editorRef:n,keyDown:i,onWidgetClick:a,props:{accessKey:o,activeStateEnabled:s,className:l,disabled:u,focusStateEnabled:m,height:b,hint:_,hoverStateEnabled:I,iconSize:j,isValid:L,name:z,onFocusIn:M,readOnly:R,rtlEnabled:w,tabIndex:k,text:A,validationError:D,validationErrors:P,validationMessageMode:T,validationStatus:x,value:g,visible:f,width:d},restAttributes:v}=t;return normalizeProps$1(createComponentVNode(2,Editor,_extends({aria:e,classes:r,onClick:a,onKeyDown:i,accessKey:o,activeStateEnabled:s,focusStateEnabled:m,hoverStateEnabled:I,className:l,disabled:u,readOnly:R,hint:_,height:b,width:d,rtlEnabled:w,tabIndex:k,visible:f,validationError:D,validationErrors:P,validationMessageMode:T,validationStatus:x,isValid:L,onFocusIn:M},v,{children:createFragment([normalizeProps$1(createVNode(64,"input",null,null,1,_extends({type:"hidden",value:"".concat(g)},z&&{name:z}))),createVNode(1,"div","dx-checkbox-container",[createComponentVNode(2,CheckBoxIcon,{size:j,isChecked:g===!0}),A&&createVNode(1,"span","dx-checkbox-text",A,0)],0)],4)}),null,n))},CheckBoxProps=Object.create(Object.prototype,_extends(Object.getOwnPropertyDescriptors(EditorProps),Object.getOwnPropertyDescriptors({text:"",activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return devices$1.real().deviceType==="desktop"&&!devices$1.isSimulator()},defaultValue:!1,valueChange:()=>{}}))),CheckBoxPropsType={get text(){return CheckBoxProps.text},get activeStateEnabled(){return CheckBoxProps.activeStateEnabled},get hoverStateEnabled(){return CheckBoxProps.hoverStateEnabled},get focusStateEnabled(){return CheckBoxProps.focusStateEnabled},get defaultValue(){return CheckBoxProps.defaultValue},get valueChange(){return CheckBoxProps.valueChange},get readOnly(){return CheckBoxProps.readOnly},get name(){return CheckBoxProps.name},get validationError(){return CheckBoxProps.validationError},get validationErrors(){return CheckBoxProps.validationErrors},get validationMessageMode(){return CheckBoxProps.validationMessageMode},get validationStatus(){return CheckBoxProps.validationStatus},get isValid(){return CheckBoxProps.isValid},get className(){return CheckBoxProps.className},get disabled(){return CheckBoxProps.disabled},get tabIndex(){return CheckBoxProps.tabIndex},get visible(){return CheckBoxProps.visible},get aria(){return WidgetProps.aria}};class CheckBox$1 extends InfernoWrapperComponent{constructor(e){super(e),this.editorRef=createRef(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[createReRenderEffect()]}onWidgetClick(e){var r,{readOnly:n,saveValueChangeEvent:i}=this.props,a=(r=this.props.value!==void 0?this.props.value:this.state.value)!==null&&r!==void 0?r:!1;if(!n){i==null||i(e);var o;this.setState(s=>(o=!a,{value:o})),this.props.valueChange(o)}}keyDown(e){var{onKeyDown:r}=this.props,{keyName:n,originalEvent:i,which:a}=e,o=r==null?void 0:r(e);if(o!=null&&o.cancel)return o;(n==="space"||a==="space")&&(i.preventDefault(),this.onWidgetClick(i))}get cssClasses(){return getCssClasses(_extends({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){var e=(this.props.value!==void 0?this.props.value:this.state.value)===!0,r=(this.props.value!==void 0?this.props.value:this.state.value)===null,n={role:"checkbox",checked:r?"mixed":"".concat(e)};return _extends({},n,this.props.aria)}get restAttributes(){var e=_extends({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),r=_objectWithoutPropertiesLoose(e,_excluded$2);return r}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){var e=this.props;return viewFunction({props:_extends({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}}function __processTwoWayProps(t){var e=["value"];return Object.keys(t).reduce((r,n)=>{var i=t[n],a=e.some(o=>o===n)?"default"+n.charAt(0).toUpperCase()+n.slice(1):n;return r[a]=i,r},{})}CheckBox$1.defaultProps=CheckBoxPropsType;var __defaultOptionRules=[];function defaultOptions(t){__defaultOptionRules.push(t),CheckBox$1.defaultProps=Object.create(Object.prototype,_extends(Object.getOwnPropertyDescriptors(CheckBox$1.defaultProps),Object.getOwnPropertyDescriptors(__processTwoWayProps(convertRulesToOptions(__defaultOptionRules)))))}class CheckBox extends CheckBox$2{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}blur(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationStatus","isValid","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return CheckBox$1}}registerComponent$1("dxCheckBox",CheckBox);CheckBox.defaultOptions=defaultOptions;var DBLCLICK_EVENT_NAME="dxdblclick",DBLCLICK_NAMESPACE="dxDblClick",NAMESPACED_CLICK_EVENT=addNamespace$1(CLICK_EVENT_NAME,DBLCLICK_NAMESPACE),DBLCLICK_TIMEOUT=300,DblClick=Class.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-DBLCLICK_TIMEOUT},add:function(){this._handlerCount<=0&&eventsEngine$1.on(domAdapter.getDocument(),NAMESPACED_CLICK_EVENT,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(t){var e=t.timeStamp||Date.now(),r=e-this._lastClickTimeStamp,n=r<0,i=!n&&r<DBLCLICK_TIMEOUT;i?(fireEvent({type:DBLCLICK_EVENT_NAME,target:closestCommonParent(this._firstClickTarget,t.target),originalEvent:t}),this._forgetLastClick()):(this._firstClickTarget=t.target,this._lastClickTimeStamp=e)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),eventsEngine$1.off(domAdapter.getDocument(),NAMESPACED_CLICK_EVENT))}});registerEvent$1(DBLCLICK_EVENT_NAME,new DblClick);var abstract=Class.abstract,Animator=Class.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,cancelAnimationFrame(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=requestAnimationFrame(this._proxiedStepCore)},_step:abstract,_isFinished:noop,_stop:noop,_complete:noop,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}}),Animator$1=Animator,SCROLLBAR="dxScrollbar",SCROLLABLE_SCROLLBAR_CLASS$1="dx-scrollable-scrollbar",SCROLLABLE_SCROLLBAR_ACTIVE_CLASS="".concat(SCROLLABLE_SCROLLBAR_CLASS$1,"-active"),SCROLLABLE_SCROLL_CLASS="dx-scrollable-scroll",SCROLLABLE_SCROLL_CONTENT_CLASS="dx-scrollable-scroll-content",HOVER_ENABLED_STATE="dx-scrollbar-hoverable",HORIZONTAL$3="horizontal",THUMB_MIN_SIZE=15,SCROLLBAR_VISIBLE={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},activeScrollbar=null,Scrollbar=Widget$2.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:SCROLLBAR_VISIBLE.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(HOVER_ENABLED_STATE,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=$("<div>").addClass(SCROLLABLE_SCROLL_CLASS),$("<div>").addClass(SCROLLABLE_SCROLL_CONTENT_CLASS).appendTo(this._$thumb),this.$element().addClass(SCROLLABLE_SCROLLBAR_CLASS$1).append(this._$thumb)},isThumb:function(t){return!!this.$element().find(t).length},_isHoverMode:function(){var t=this.option("visibilityMode");return(t===SCROLLBAR_VISIBLE.onHover||t===SCROLLBAR_VISIBLE.always)&&this.option("expandable")},_renderDirection:function(){var t=this.option("direction");this.$element().addClass("dx-scrollbar-"+t),this._dimension=t===HORIZONTAL$3?"width":"height",this._prop=t===HORIZONTAL$3?"left":"top"},_attachPointerDownHandler:function(){eventsEngine$1.on(this._$thumb,addNamespace$1(pointerEvents.down,SCROLLBAR),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(SCROLLABLE_SCROLLBAR_ACTIVE_CLASS),activeScrollbar=this},feedbackOff:function(){this.$element().removeClass(SCROLLABLE_SCROLLBAR_ACTIVE_CLASS),activeScrollbar=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(t){this.option("visibilityMode")===SCROLLBAR_VISIBLE.onScroll&&this._$thumb.css("opacity"),t=this._adjustVisibility(t),this.option().visible=t,this._$thumb.toggleClass("dx-state-invisible",!t)},_adjustVisibility:function(t){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case SCROLLBAR_VISIBLE.onScroll:break;case SCROLLBAR_VISIBLE.onHover:t=t||!!this._isHovered;break;case SCROLLBAR_VISIBLE.never:t=!1;break;case SCROLLBAR_VISIBLE.always:t=!0}return t},moveTo:function(t){if(!this._isHidden()){isPlainObject(t)&&(t=t[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(t),move(this._$thumb,e)}},_calculateScrollBarPosition:function(t){return-t*this._thumbRatio},_update:function(){var t=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),r=Math.round(this.option("baseContainerSize")),n=Math.round(this.option("baseContentSize"));isNaN(r)&&(r=t,n=e),this._baseContainerToContentRatio=n?r/n:r,this._realContainerToContentRatio=e?t/e:t;var i=Math.round(Math.max(Math.round(t*this._realContainerToContentRatio),THUMB_MIN_SIZE));this._thumbRatio=(t-i)/(this.option("scaleRatio")*(e-t)),this.option(this._dimension,i/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===SCROLLBAR_VISIBLE.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(t){return isPlainObject(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===activeScrollbar&&(activeScrollbar=null),eventsEngine$1.off(this._$thumb,"."+SCROLLBAR)},_optionChanged:function(t){if(!this._isHidden())switch(t.name){case"containerSize":case"contentSize":this.option()[t.name]=this._normalizeSize(t.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:deferRenderer(function(){this._adjustVisibility()&&this.option("visible",!0)})});readyCallback.add(function(){eventsEngine$1.subscribeGlobal(domAdapter.getDocument(),addNamespace$1(pointerEvents.up,SCROLLBAR),function(){activeScrollbar&&activeScrollbar.feedbackOff()})});var Scrollbar$1=Scrollbar,SCROLLABLE_SIMULATED="dxSimulatedScrollable",SCROLLABLE_STRATEGY$1="dxScrollableStrategy",SCROLLABLE_SIMULATED_CURSOR=SCROLLABLE_SIMULATED+"Cursor",SCROLLABLE_SIMULATED_KEYBOARD=SCROLLABLE_SIMULATED+"Keyboard",SCROLLABLE_SIMULATED_CLASS="dx-scrollable-simulated",SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE="dx-scrollable-scrollbars-alwaysvisible",SCROLLABLE_SCROLLBAR_CLASS="dx-scrollable-scrollbar",VERTICAL$2="vertical",HORIZONTAL$2="horizontal",ACCELERATION=.92,OUT_BOUNDS_ACCELERATION=.5,MIN_VELOCITY_LIMIT=1,FRAME_DURATION=Math.round(1e3/60),SCROLL_LINE_HEIGHT=40,VALIDATE_WHEEL_TIMEOUT=500,BOUNCE_MIN_VELOCITY_LIMIT=MIN_VELOCITY_LIMIT/5,BOUNCE_DURATION=400,BOUNCE_FRAMES=BOUNCE_DURATION/FRAME_DURATION,BOUNCE_ACCELERATION_SUM=(1-Math.pow(ACCELERATION,BOUNCE_FRAMES))/(1-ACCELERATION),KEY_CODES={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},InertiaAnimator=Animator$1.inherit({ctor:function(t){this.callBase(),this.scroller=t},VELOCITY_LIMIT:MIN_VELOCITY_LIMIT,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?ACCELERATION:OUT_BOUNDS_ACCELERATION},_complete:function(){this.scroller._scrollComplete()}}),BounceAnimator=InertiaAnimator.inherit({VELOCITY_LIMIT:BOUNCE_MIN_VELOCITY_LIMIT,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return ACCELERATION},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),Scroller=Class.inherit({ctor:function(t){this._initOptions(t),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===HORIZONTAL$2?"x":"y",this._prop=t.direction===HORIZONTAL$2?"left":"top",this._dimension=t.direction===HORIZONTAL$2?"width":"height",this._scrollProp=t.direction===HORIZONTAL$2?"scrollLeft":"scrollTop",each(t,(e,r)=>{this["_"+e]=r})},_initAnimators:function(){this._inertiaAnimator=new InertiaAnimator(this),this._bounceAnimator=new BounceAnimator(this)},_initScrollbar:function(){this._scrollbar=new Scrollbar$1($("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(t){return t===!0?"onScroll":t===!1?"never":t},_scrollStep:function(t){var e=this._location;this._location+=t,this._suppressBounce(),this._move(),!(Math.abs(e-this._location)<1)&&eventsEngine$1.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(t){return t=t!==void 0?t:this._location,Math.max(Math.min(t,this._maxOffset),this._minOffset)},_move:function(t){this._location=t!==void 0?t*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var t=this._location;this._$container[this._scrollProp](-t/this._getScaleRatio()),this._moveContentByTranslator(t)},_getScaleRatio:function(){if(hasWindow()&&!this._scaleRatio){var t=this._$element.get(0),e=this._getRealDimension(t,this._dimension),r=this._getBaseDimension(t,this._dimension);this._scaleRatio=Math.round(e/r*100)/100}return this._scaleRatio||1},_getRealDimension:function(t,e){return Math.round(getBoundingRect(t)[e])},_getBaseDimension:function(t,e){var r="offset"+titleize(e);return t[r]},_moveContentByTranslator:function(t){var e,r=-this._maxScrollPropValue;if(t>0?e=t:t<=r?e=t-r:e=t%1,this._translateOffset!==e){var n={};if(n[this._prop]=e,this._translateOffset=e,e===0){resetPosition(this._$content);return}move(this._$content,n)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var t=this._bounceLocation=this._boundLocation(),e=t-this._location;this._velocity=e/BOUNCE_ACCELERATION_SUM},_inBounds:function(t){return t=t!==void 0?t:this._location,this._boundLocation(t)===t},_crossBoundOnNextStep:function(){var t=this._location,e=t+this._velocity;return t<this._minOffset&&e>=this._minOffset||t>this._maxOffset&&e<=this._maxOffset},_initHandler:function(t){this._stopScrolling(),this._prepareThumbScrolling(t)},_stopScrolling:deferRenderer(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(t){if(!isDxMouseWheelEvent(t.originalEvent)){var e=$(t.originalEvent.target),r=this._isScrollbar(e);r&&this._moveToMouseLocation(t),this._thumbScrolling=r||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(t){return this._isThumb(t)},_moveToMouseLocation:function(t){var e=t["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],r=this._location+e/this._containerToContentRatio()-getHeight(this._$container)/2;this._scrollStep(-Math.round(r))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(t){this._crossThumbScrolling||(this._thumbScrolling&&(t[this._axis]=-Math.round(t[this._axis]/this._containerToContentRatio())),this._scrollBy(t))},_scrollBy:function(t){t=t[this._axis],this._inBounds()||(t*=OUT_BOUNDS_ACCELERATION),this._scrollStep(t)},_scrollByHandler:function(t){this._scrollBy(t),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=new Deferred,this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),deferUpdate(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),deferRender(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(locate(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:deferUpdater(function(){var t=this._containerSize(),e=this._contentSize(),r=this._getBaseDimension(this._$container.get(0),this._dimension),n=this._getBaseDimension(this._$content.get(0),this._dimension);deferRender(()=>{this._scrollbar.option({containerSize:t,contentSize:e,baseContainerSize:r,baseContentSize:n,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:deferRenderer(deferUpdater(deferRenderer(function(){var t=this._boundLocation(),e=t!==this._location;this._location=t,this._move(),e&&this._scrollAction()}))),_createActionsHandler:function(t){this._scrollAction=t.scroll,this._bounceAction=t.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var t=this._$content.css("overflow"+this._axis.toUpperCase())==="hidden",e=this._getRealDimension(this._$content.get(0),this._dimension);if(!t){var r=this._$content[0]["scroll"+titleize(this._dimension)]*this._getScaleRatio();e=Math.max(r,e)}return e},_validateEvent:function(t){var e=$(t.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)},_isThumb:function(t){return this._scrollByThumb&&this._scrollbar.isThumb(t)},_isScrollbar:function(t){return this._scrollByThumb&&t&&t.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:noop}),hoveredScrollable,activeScrollable,SimulatedStrategy$1=Class.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=$(t.container()),this._$wrapper=t._$wrapper,this._$content=t.$content(),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t)},render:function(){this._$element.addClass(SCROLLABLE_SIMULATED_CLASS),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(HORIZONTAL$2)&&this._createScroller(HORIZONTAL$2),this._isDirection(VERTICAL$2)&&this._createScroller(VERTICAL$2),this._$element.toggleClass(SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE,this.option("showScrollbar")==="always")},_createScroller:function(t){this._scrollers[t]=new Scroller(this._scrollerOptions(t))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(t){for(var e in this._scrollers){var r=this._getPropByDirection(e);if(isDefined(t[r])){var n=this._scrollers[e];t[r]*=n._getScaleRatio()}}return t},_isAnyThumbScrolling:function(t){var e=!1;return this._eventHandler("isThumbScrolling",t).done(function(r,n){e=r||n}),e},handleInit:function(t){this._suppressDirections(t),this._eventForUserAction=t,this._eventHandler("init",t)},_suppressDirections:function(t){if(isDxMouseWheelEvent(t.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(e,r){var n=$(t.originalEvent.target),i=e._validateEvent(t)||this.option("scrollByContent")&&this._isContent(n);this._validDirections[r]=i})},_isContent:function(t){return!!t.closest(this._$element).length},_prepareDirections:function(t){t=t||!1,this._validDirections={},this._validDirections[HORIZONTAL$2]=t,this._validDirections[VERTICAL$2]=t},_eachScroller:function(t){t=t.bind(this),each(this._scrollers,function(e,r){t(r,e)})},handleStart:function(t){this._eventForUserAction=t,this._eventHandler("start").done(this._startAction)},_saveActive:function(){activeScrollable=this},_resetActive:function(){activeScrollable===this&&(activeScrollable=null)},handleMove:function(t){if(this._isLocked()){t.cancel=!0,this._resetActive();return}this._saveActive(),t.preventDefault&&t.preventDefault(),this._adjustDistance(t,t.delta),this._eventForUserAction=t,this._eventHandler("move",t.delta)},_adjustDistance:function(t,e){e.x*=this._validDirections[HORIZONTAL$2],e.y*=this._validDirections[VERTICAL$2];var r=this._tryGetDevicePixelRatio();r&&isDxMouseWheelEvent(t.originalEvent)&&(e.x=Math.round(e.x/r*100)/100,e.y=Math.round(e.y/r*100)/100)},_tryGetDevicePixelRatio:function(){if(hasWindow())return getWindow().devicePixelRatio},handleEnd:function(t){return this._resetActive(),this._refreshCursorState(t.originalEvent&&t.originalEvent.target),this._adjustDistance(t,t.velocity),this._eventForUserAction=t,this._eventHandler("end",t.velocity).done(this._endAction)},handleCancel:function(t){return this._resetActive(),this._eventForUserAction=t,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){eventsEngine$1.off(this._$element,".".concat(SCROLLABLE_SIMULATED_KEYBOARD)),!this.option("disabled")&&this.option("useKeyboard")&&eventsEngine$1.on(this._$element,addNamespace$1("keydown",SCROLLABLE_SIMULATED_KEYBOARD),this._keyDownHandler.bind(this))},_keyDownHandler:function(t){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{normalizeKeyName(t)===KEY_CODES.TAB&&this._eachScroller(r=>{r._updateHandler()})}),!!this._$container.is(domAdapter.getActiveElement())){var e=!0;switch(normalizeKeyName(t)){case KEY_CODES.DOWN:this._scrollByLine({y:1});break;case KEY_CODES.UP:this._scrollByLine({y:-1});break;case KEY_CODES.RIGHT:this._scrollByLine({x:1});break;case KEY_CODES.LEFT:this._scrollByLine({x:-1});break;case KEY_CODES.PAGE_DOWN:this._scrollByPage(1);break;case KEY_CODES.PAGE_UP:this._scrollByPage(-1);break;case KEY_CODES.HOME:this._scrollToHome();break;case KEY_CODES.END:this._scrollToEnd();break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault())}},_scrollByLine:function(t){var e=this._tryGetDevicePixelRatio(),r=SCROLL_LINE_HEIGHT;e&&(r=Math.abs(r/e*100)/100),this.scrollBy({top:(t.y||0)*-r,left:(t.x||0)*-r})},_scrollByPage:function(t){var e=this._wheelProp(),r=this._dimensionByProp(e),n={},i=r==="width"?getWidth:getHeight;n[e]=t*-i(this._$container),this.scrollBy(n)},_dimensionByProp:function(t){return t==="left"?"width":"height"},_getPropByDirection:function(t){return t===HORIZONTAL$2?"left":"top"},_scrollToHome:function(){var t=this._wheelProp(),e={};e[t]=0,this._component.scrollTo(e)},_scrollToEnd:function(){var t=this._wheelProp(),e=this._dimensionByProp(t),r={},n=e==="width"?getWidth:getHeight;r[t]=n(this._$content)-n(this._$container),this._component.scrollTo(r)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(t){var e=this._createActionByOption(t);return()=>{e(extend(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:t,vertical:e}=this._scrollers,r=this._getScrollOffset();return this._scrollOffset={top:e&&r.top,left:t&&r.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:t&&t._reachedMax(),reachedRight:t&&t._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(t){var e=[].slice.call(arguments).slice(1),r=map(this._scrollers,n=>n["_"+t+"Handler"].apply(n,e));return when.apply($,r).promise()},location:function(){var t=locate(this._$content);return t.top-=this._$container.scrollTop(),t.left-=this._$container.scrollLeft(),t},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){eventsEngine$1.off(this._$element,".".concat(SCROLLABLE_SIMULATED_CURSOR)),!this.option("disabled")&&this._isHoverMode()&&(eventsEngine$1.on(this._$element,addNamespace$1("mouseenter",SCROLLABLE_SIMULATED_CURSOR),this._cursorEnterHandler.bind(this)),eventsEngine$1.on(this._$element,addNamespace$1("mouseleave",SCROLLABLE_SIMULATED_CURSOR),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(t){t=t||{},t.originalEvent=t.originalEvent||{},!(activeScrollable||t.originalEvent._hoverHandled)&&(hoveredScrollable&&hoveredScrollable._cursorLeaveHandler(),hoveredScrollable=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(t){hoveredScrollable!==this||activeScrollable===hoveredScrollable||(this._eventHandler("cursorLeave"),hoveredScrollable=null,this._refreshCursorState(t&&t.relatedTarget))},_refreshCursorState:function(t){if(!(!this._isHoverMode()&&(!t||activeScrollable))){var e=$(t),r=e.closest(".".concat(SCROLLABLE_SIMULATED_CLASS,":not(.dx-state-disabled)")),n=r.length&&r.data(SCROLLABLE_STRATEGY$1);hoveredScrollable&&hoveredScrollable!==n&&hoveredScrollable._cursorLeaveHandler(),n&&n._cursorEnterHandler()}},update:function(){var t=this._eventHandler("update").done(this._updateAction);return when(t,deferUpdate(()=>{var e=this._allowedDirections();return deferRender(()=>{var r=e.vertical?"pan-x":"";r=e.horizontal?"pan-y":r,r=e.vertical&&e.horizontal?"none":r,this._$container.css("touchAction",r)}),when().promise()}))},_allowedDirections:function(){var t=this.option("bounceEnabled"),e=this._scrollers[VERTICAL$2],r=this._scrollers[HORIZONTAL$2];return{vertical:e&&(e._minOffset<0||t),horizontal:r&&(r._minOffset<0||t)}},_updateBounds:function(){this._scrollers[HORIZONTAL$2]&&this._scrollers[HORIZONTAL$2]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==VERTICAL$2},updateRtlPosition:function(t){t&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()&&deferUpdate(()=>{var e=this._getMaxOffset().left-this._rtlConfig.scrollRight;e<=0&&(e=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),deferRender(()=>{this._getScrollOffset().left!==e&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:e}),this._rtlConfig.skipUpdating=!1)})})},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:t,scrollLeft:e}=this._$container.get(0),r=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===r&&this._rtlConfig.clientWidth===t&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-e),this._rtlConfig.clientWidth=t,this._rtlConfig.windowPixelRatio=r}},_getWindowDevicePixelRatio:function(){return hasWindow()?getWindow().devicePixelRatio:1},scrollBy:function(t){var e=this._scrollers[VERTICAL$2],r=this._scrollers[HORIZONTAL$2];e&&(t.top=e._boundLocation(t.top+e._location)-e._location),r&&(t.left=r._boundLocation(t.left+r._location)-r._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:t.left,y:t.top}),this._endAction(),this._updateRtlConfig()},validate:function(t){return isDxMouseWheelEvent(t)&&isCommandKeyPressed(t)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:isDxMouseWheelEvent(t)?this._validateWheel(t):this._validateMove(t)},_validateWheel:function(t){var e=this._scrollers[this._wheelDirection(t)],r=e._reachedMin(),n=e._reachedMax(),i=!r||!n,a=!r&&!n,o=r&&t.delta>0,s=n&&t.delta<0,l=i&&(a||o||s);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},VALIDATE_WHEEL_TIMEOUT)),l},_validateMove:function(t){return!this.option("scrollByContent")&&!$(t.target).closest(".".concat(SCROLLABLE_SCROLLBAR_CLASS)).length?!1:this._allowedDirection()},getDirection:function(t){return isDxMouseWheelEvent(t)?this._wheelDirection(t):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===HORIZONTAL$2?"left":"top"},_wheelDirection:function(t){switch(this.option("direction")){case HORIZONTAL$2:return HORIZONTAL$2;case VERTICAL$2:return VERTICAL$2;default:return t&&t.shiftKey?HORIZONTAL$2:VERTICAL$2}},dispose:function(){this._resetActive(),hoveredScrollable===this&&(hoveredScrollable=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(SCROLLABLE_SIMULATED_CLASS),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){eventsEngine$1.off(this._$element,".".concat(SCROLLABLE_SIMULATED_CURSOR)),eventsEngine$1.off(this._$container,".".concat(SCROLLABLE_SIMULATED_KEYBOARD))}}),SCROLLABLE_NATIVE="dxNativeScrollable",SCROLLABLE_NATIVE_CLASS="dx-scrollable-native",SCROLLABLE_SCROLLBAR_SIMULATED="dx-scrollable-scrollbar-simulated",SCROLLABLE_SCROLLBARS_HIDDEN="dx-scrollable-scrollbars-hidden",VERTICAL$1="vertical",HORIZONTAL$1="horizontal",HIDE_SCROLLBAR_TIMEOUT=500,NativeStrategy=Class.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=$(t.container()),this._$content=t.$content(),this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t),this._isRtlNativeStrategy=t._isRtlNativeStrategy.bind(t)},render:function(){var t=devices$1.real(),e=t.platform;this._$element.addClass(SCROLLABLE_NATIVE_CLASS).addClass(SCROLLABLE_NATIVE_CLASS+"-"+e).toggleClass(SCROLLABLE_SCROLLBARS_HIDDEN,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(t){t&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(SCROLLABLE_SCROLLBAR_SIMULATED),this._renderScrollbar(VERTICAL$1),this._renderScrollbar(HORIZONTAL$1)},_renderScrollbar:function(t){!this._isDirection(t)||(this._scrollbars[t]=new Scrollbar$1($("<div>").appendTo(this._$element),{direction:t,expandable:this._component.option("scrollByThumb")}))},handleInit:noop,handleStart:noop,handleMove:function(t){if(this._isLocked()){t.cancel=!0;return}this._allowedDirection()&&(t.originalEvent.isScrollingEvent=!0)},handleEnd:noop,handleCancel:noop,handleStop:noop,_eachScrollbar:function(t){t=t.bind(this),each(this._scrollbars||{},function(e,r){t(r,e)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:t,top:e}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-t):this._isReachedLeft(t),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(t)):this._isReachedRight(t),reachedTop:this._isDirection(VERTICAL$1)?Math.round(e)>=0:void 0,reachedBottom:this._isDirection(VERTICAL$1)?Math.round(Math.abs(e)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:t,left:e}=this.location();return{top:-t,left:this._normalizeOffsetLeft(-e)}},_normalizeOffsetLeft(t){return this._isRtlNativeStrategy()?this._getMaxOffset().left+t:t},_isReachedLeft:function(t){return this._isDirection(HORIZONTAL$1)?Math.round(t)>=0:void 0},_isReachedRight:function(t){return this._isDirection(HORIZONTAL$1)?Math.round(Math.abs(t)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:t}=this.option();return t!=="never"&&t!==!1},handleScroll:function(t){this._eventForUserAction=t,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:t,left:e}=this._getScrollOffset();this._eachScrollbar(function(r){r.moveTo({top:-t,left:-e}),r.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(function(){this._eachScrollbar(function(t){t.option("visible",!1)})}.bind(this),HIDE_SCROLLBAR_TIMEOUT)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:noop,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:getHeight(this._$container),width:getWidth(this._$container)},this._componentContentSize={height:getHeight(this._component.$content()),width:getWidth(this._component.$content())},this._contentSize={height:getHeight(this._$content),width:getWidth(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(t,e){var r=e===VERTICAL$1?"height":"width";t.option({containerSize:this._containerSize[r],contentSize:this._componentContentSize[r]}),t.update()})},_allowedDirections:function(){return{vertical:this._isDirection(VERTICAL$1)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(HORIZONTAL$1)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var t=this._$element.get(0).className,e=new RegExp(SCROLLABLE_NATIVE_CLASS+"\\S*","g");e.test(t)&&this._$element.removeClass(t.match(e).join(" ")),eventsEngine$1.off(this._$element,"."+SCROLLABLE_NATIVE),eventsEngine$1.off(this._$container,"."+SCROLLABLE_NATIVE),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(t){t.$element().remove()})},scrollBy:function(t){var e=this.location();this._$container.scrollTop(Math.round(-e.top-t.top)),this._$container.scrollLeft(Math.round(-e.left-t.left))},validate:function(t){return this.option("disabled")||isDxMouseWheelEvent(t)&&this._isScrolledInMaxDirection(t)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(t){var e=this._$container.get(0),r;return t.delta>0?r=t.shiftKey?!e.scrollLeft:!e.scrollTop:t.shiftKey?r=e.scrollLeft>=this._getMaxOffset().left:r=e.scrollTop>=this._getMaxOffset().top,r},getDirection:function(){return this._allowedDirection()}}),NativeStrategy$1=NativeStrategy,deviceDependentOptions=function(){return[{device:function(){return!nativeScrolling},options:{useNative:!1}},{device:function(t){return!devices$1.isSimulator()&&devices$1.real().deviceType==="desktop"&&t.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:touch,showScrollbar:"onHover"}}]};function getRelativeOffset(t,e){for(var r={left:0,top:0},n=e;(i=n)!==null&&i!==void 0&&i.offsetParent&&!n.classList.contains(t);){var i,a=n.offsetParent,o=n.getBoundingClientRect(),s=a.getBoundingClientRect();r.left+=o.left-s.left,r.top+=o.top-s.top,n=n.offsetParent}return r}var DIRECTION_VERTICAL="vertical",DIRECTION_HORIZONTAL="horizontal",SCROLLABLE_CONTENT_CLASS$1="dx-scrollable-content";function getElementLocationInternal(t,e,r,n,i){var a=_extends({top:0,left:0,right:0,bottom:0},i),o=e===DIRECTION_VERTICAL,s=o?"top":"left",l=o?"bottom":"right",u=o?"height":"width",m=r["offset".concat(titleize(u))],b=r["client".concat(titleize(u))],_=r.getBoundingClientRect()[u],I=t.getBoundingClientRect()[u],j=1;Math.abs(_-m)>1&&(j=_/m);var L=getRelativeOffset(SCROLLABLE_CONTENT_CLASS$1,t)[s]/j,z=n[s],M=z-L+a[s],R=z-L-I/j+b-a[l];return M<=0&&R>=0?z:z-(Math.abs(M)>Math.abs(R)?R:M)}var SCROLLABLE="dxScrollable",SCROLLABLE_STRATEGY="dxScrollableStrategy",SCROLLABLE_CLASS="dx-scrollable",SCROLLABLE_DISABLED_CLASS="dx-scrollable-disabled",SCROLLABLE_CONTAINER_CLASS="dx-scrollable-container",SCROLLABLE_WRAPPER_CLASS="dx-scrollable-wrapper",SCROLLABLE_CONTENT_CLASS="dx-scrollable-content",VERTICAL="vertical",HORIZONTAL="horizontal",BOTH="both",Scrollable=DOMComponent$1.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{disabled:!1,onScroll:null,direction:VERTICAL,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(deviceDependentOptions(),[{device:function(){return nativeScrolling&&devices$1.real().platform==="android"&&!browser.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(t){this.callBase(t),"useSimulatedScrollbar"in t||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(t){t?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var t=this.$element().addClass(SCROLLABLE_CLASS),e=this._$container=$("<div>").addClass(SCROLLABLE_CONTAINER_CLASS),r=this._$wrapper=$("<div>").addClass(SCROLLABLE_WRAPPER_CLASS),n=this._$content=$("<div>").addClass(SCROLLABLE_CONTENT_CLASS);n.append(t.contents()).appendTo(e),e.appendTo(r),r.appendTo(t)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(t){this._strategy.updateRtlPosition(t)},_getMaxOffset:function(){var{scrollWidth:t,clientWidth:e,scrollHeight:r,clientHeight:n}=$(this.container()).get(0);return{left:t-e,top:r-n}},_attachEventHandlers:function(){var t=this._strategy,e={getDirection:t.getDirection.bind(t),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};eventsEngine$1.off(this._$wrapper,"."+SCROLLABLE),eventsEngine$1.on(this._$wrapper,addNamespace$1(scrollEvents.init,SCROLLABLE),e,this._initHandler.bind(this)),eventsEngine$1.on(this._$wrapper,addNamespace$1(scrollEvents.start,SCROLLABLE),t.handleStart.bind(t)),eventsEngine$1.on(this._$wrapper,addNamespace$1(scrollEvents.move,SCROLLABLE),t.handleMove.bind(t)),eventsEngine$1.on(this._$wrapper,addNamespace$1(scrollEvents.end,SCROLLABLE),t.handleEnd.bind(t)),eventsEngine$1.on(this._$wrapper,addNamespace$1(scrollEvents.cancel,SCROLLABLE),t.handleCancel.bind(t)),eventsEngine$1.on(this._$wrapper,addNamespace$1(scrollEvents.stop,SCROLLABLE),t.handleStop.bind(t)),eventsEngine$1.off(this._$container,"."+SCROLLABLE),eventsEngine$1.on(this._$container,addNamespace$1("scroll",SCROLLABLE),t.handleScroll.bind(t))},_validate:function(t){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(t))},_moveIsAllowed(t){return this._strategy.validate(t)},handleMove(t){this._strategy.handleMove(t)},_prepareDirections(t){this._strategy._prepareDirections(t)},_initHandler:function(){var t=this._strategy;t.handleInit.apply(t,arguments)},_renderDisabledState:function(){this.$element().toggleClass(SCROLLABLE_DISABLED_CLASS,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+HORIZONTAL).removeClass("dx-scrollable-"+VERTICAL).removeClass("dx-scrollable-"+BOTH).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(SCROLLABLE_STRATEGY,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new NativeStrategy$1(this):new SimulatedStrategy$1(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(t){switch(t.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(t),this._updateRtlPosition();break;default:this.callBase(t)}},_resetInactiveDirection:function(){var t=this._getInactiveProp();if(!(!t||!hasWindow())){var e=this.scrollOffset();e[t]=0,this.scrollTo(e)}},_getInactiveProp:function(){var t=this.option("direction");if(t===VERTICAL)return"left";if(t===HORIZONTAL)return"top"},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){if(isPlainObject(t)){var e=ensureDefined(t.left,t.x),r=ensureDefined(t.top,t.y);return{left:isDefined(e)?-e:void 0,top:isDefined(r)?-r:void 0}}else{var n=this.option("direction");return{left:n!==VERTICAL?-t:void 0,top:n!==HORIZONTAL?-t:void 0}}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(t){var e=this.option("direction");return t===VERTICAL?e!==HORIZONTAL:t===HORIZONTAL?e!==VERTICAL:e===t},_updateAllowedDirection:function(){var t=this._strategy._allowedDirections();this._isDirection(BOTH)&&t.vertical&&t.horizontal?this._allowedDirectionValue=BOTH:this._isDirection(HORIZONTAL)&&t.horizontal?this._allowedDirectionValue=HORIZONTAL:this._isDirection(VERTICAL)&&t.vertical?this._allowedDirectionValue=VERTICAL:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return getPublicElement(this._$content)},container:function(){return getPublicElement(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:t,rtlEnabled:e}=this.option();return t&&e},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return getHeight(this._$container)},scrollHeight:function(){return getOuterHeight(this.$content())},clientWidth:function(){return getWidth(this._$container)},scrollWidth:function(){return getOuterWidth(this.$content())},update:function(){if(!!this._strategy)return when(this._strategy.update()).done(function(){this._updateAllowedDirection()}.bind(this))},scrollBy:function(t){t=this._normalizeLocation(t),!(!t.top&&!t.left)&&(this._updateIfNeed(),this._strategy.scrollBy(t))},scrollTo:function(t){t=this._normalizeLocation(t),this._updateIfNeed();var e=this._location();this.option("useNative")||(t=this._strategy._applyScaleRatio(t),e=this._strategy._applyScaleRatio(e)),this._isRtlNativeStrategy()&&(e.left=e.left-this._getMaxOffset().left);var r=this._normalizeLocation({left:e.left-ensureDefined(t.left,e.left),top:e.top-ensureDefined(t.top,e.top)});!r.top&&!r.left||this._strategy.scrollBy(r)},scrollToElement:function(t,e){var r=$(t),n=this.$content().find(t).length,i=r.parents("."+SCROLLABLE_CLASS).length-r.parents("."+SCROLLABLE_CONTENT_CLASS).length===0;if(!(!n||!i)){var a={top:0,left:0},o=this.option("direction");o!==VERTICAL&&(a.left=this.getScrollElementPosition(r,HORIZONTAL,e)),o!==HORIZONTAL&&(a.top=this.getScrollElementPosition(r,VERTICAL,e)),this.scrollTo(a)}},getScrollElementPosition:function(t,e,r){var n=this.scrollOffset();return getElementLocationInternal(t.get(0),e,$(this.container()).get(0),n,r)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!Scrollable.IS_RENOVATED_WIDGET}});registerComponent$1(SCROLLABLE,Scrollable);var Scrollable$1=Scrollable,WIDGET_CLASS$1="dx-treeview",NODE_CLASS="".concat(WIDGET_CLASS$1,"-node"),NODE_CONTAINER_CLASS$1="".concat(NODE_CLASS,"-container"),NODE_LOAD_INDICATOR_CLASS="".concat(NODE_CLASS,"-loadindicator"),OPENED_NODE_CONTAINER_CLASS="".concat(NODE_CLASS,"-container-opened"),IS_LEAF="".concat(NODE_CLASS,"-is-leaf"),ITEM_CLASS="".concat(WIDGET_CLASS$1,"-item"),ITEM_WITH_CHECKBOX_CLASS="".concat(ITEM_CLASS,"-with-checkbox"),ITEM_WITHOUT_CHECKBOX_CLASS="".concat(ITEM_CLASS,"-without-checkbox"),ITEM_DATA_KEY="".concat(ITEM_CLASS,"-data"),TOGGLE_ITEM_VISIBILITY_CLASS="".concat(WIDGET_CLASS$1,"-toggle-item-visibility"),LOAD_INDICATOR_CLASS="".concat(WIDGET_CLASS$1,"-loadindicator"),LOAD_INDICATOR_WRAPPER_CLASS="".concat(WIDGET_CLASS$1,"-loadindicator-wrapper"),TOGGLE_ITEM_VISIBILITY_OPENED_CLASS="".concat(WIDGET_CLASS$1,"-toggle-item-visibility-opened"),SELECT_ALL_ITEM_CLASS="".concat(WIDGET_CLASS$1,"-select-all-item"),INVISIBLE_STATE_CLASS$1="dx-state-invisible",DISABLED_STATE_CLASS$1="dx-state-disabled",SELECTED_ITEM_CLASS="dx-state-selected",EXPAND_EVENT_NAMESPACE="dxTreeView_expand",DATA_ITEM_ID="data-item-id",TreeViewBase=HierarchicalCollectionWidget$1.inherit({_supportedKeys:function(t){var e=i=>{var a=$(this.option("focusedElement"));if(!!a.length){i.target=a,i.currentTarget=a,this._itemClickHandler(i,a.children("."+ITEM_CLASS));var o=this._getEventNameByOption(this.option("expandEvent")),s=o===addNamespace$1(CLICK_EVENT_NAME,EXPAND_EVENT_NAMESPACE);s&&this._expandEventHandler(i)}},r=i=>{i.preventDefault();var a=$(this.option("focusedElement")),o=this._getCheckBoxInstance(a);if(!o.option("disabled")){var s=o.option("value");this._updateItemSelection(!s,a.find("."+ITEM_CLASS).get(0),!0)}},n=function(i,a){if(!!this.option("expandAllEnabled")){a.preventDefault();var o=$(this.option("focusedElement"));if(!!o.length){var s=this._getItemData(o.find(".".concat(ITEM_CLASS)));this._toggleExpandedNestedItems([s],i)}}};return extend(this.callBase(),{enter:this._showCheckboxes()?r:e,space:this._showCheckboxes()?r:e,asterisk:n.bind(this,!0),minus:n.bind(this,!1)})},_toggleExpandedNestedItems:function(t,e){if(!!t)for(var r=0,n=t.length;r<n;r++){var i=t[r],a=this._dataAdapter.getNodeByItem(i);this._toggleExpandedState(a,e),this._toggleExpandedNestedItems(i.items,e)}},_getNodeElement:function(t,e){var r=this._encodeString(t.internalFields.key);if(e)return e.$nodeByKey||(e.$nodeByKey={},this.$element().find(".".concat(NODE_CLASS)).each(function(){var i=$(this),a=i.attr(DATA_ITEM_ID);e.$nodeByKey[a]=i})),e.$nodeByKey[r]||$();var n=this.$element().get(0).querySelector("[".concat(DATA_ITEM_ID,'="').concat(r,'"]'));return $(n)},_activeStateUnit:"."+ITEM_CLASS,_widgetClass:function(){return WIDGET_CLASS$1},_getDefaultOptions:function(){var t=extend(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:messageLocalization$1.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return extend(!0,t,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!nativeScrolling},options:{useNativeScrolling:!1}}])},_initSelectedItems:noop,_syncSelectionOptions:asyncNoop,_fireSelectionChanged:function(){var t=this._selectionChangePromise;when(t).done(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}.bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(t){this._selectAllValueChangedAction({value:t})},_checkBoxModeChange:function(t,e){if(e==="none"||t==="none"){this.repaint();return}var r=this._$selectAllItem&&this._$selectAllItem.length;switch(t){case"selectAll":r||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":r&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}},_removeSelection:function(){var t=this;each(this._dataAdapter.getFullData(),function(e,r){!t._hasChildren(r)||t._dataAdapter.toggleSelection(r.internalFields.key,!1,!0)})},_optionChanged:function(t){var{name:e,value:r,previousValue:n}=t;switch(e){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",r);break;case"showCheckBoxesMode":this._checkBoxModeChange(r,n);break;case"scrollDirection":this.getScrollable().option("direction",r);break;case"useNativeScrolling":this.getScrollable().option("useNative",r);break;case"items":delete this._$selectAllItem,this.callBase(t);break;case"dataSource":this.callBase(t),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(t);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",t.value),this.repaint();break;default:this.callBase(t)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(function(t){t&&t.length&&this.option("items",t)}.bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var t=this._filter;t.custom||(t.custom=this._dataSource.filter()),t.internal||(t.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return isFunction$2(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(t){var e=this.option("createChildren").call(this,t);return Array.isArray(e)?new Deferred().resolve(e).promise():e&&isFunction$2(e.then)?fromPromise(e):new Deferred().resolve([]).promise()},_combineFilter:function(){return!this._filter.custom||!this._filter.custom.length?this._filter.internal:[this._filter.custom,this._filter.internal]},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&this._isVirtualMode()&&e.length||this.option("items",t)},_removeTreeViewLoadIndicator:function(){!this._treeViewLoadIndicator||(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=$("<div>").addClass(LOAD_INDICATOR_CLASS),this._createComponent(this._treeViewLoadIndicator,LoadIndicator$1,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(t){var e;if(this._isVirtualMode()&&(e=this._combineFilter(),this._dataSource.filter(e)),t&&!this._dataSource.isLoaded()){this.option("items",[]);var r=$("<div>").addClass(LOAD_INDICATOR_WRAPPER_CLASS);this._createTreeViewLoadIndicator().appendTo(r),this.itemsContainer().append(r),this._isVirtualMode()&&this._dataSource.filter()!==e&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){this.option("dataStructure")==="plain"&&this._dataSource&&this._dataSource.store().on("inserted",t=>{this.option().items=this.option("items").concat(t),this._dataAdapter.addItem(t),this._dataAdapter.isFiltered(t)&&this._updateLevel(this._parentIdGetter(t))}).on("removed",t=>{var e=this._dataAdapter.getNodeByKey(t);isDefined(e)&&(this.option("items")[this._dataAdapter.getIndexByKey(e.internalFields.key)]=0,this._markChildrenItemsToRemove(e),this._removeItems(),this._dataAdapter.removeItem(t),this._updateLevel(this._parentIdGetter(e)))})},_markChildrenItemsToRemove:function(t){var e=t.internalFields.childrenKeys;each(e,(r,n)=>{this.option("items")[this._dataAdapter.getIndexByKey(n)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(n))})},_removeItems:function(){var t=extend(!0,[],this.option("items")),e=0;each(t,(r,n)=>{n||(this.option("items").splice(r-e,1),e++)})},_updateLevel:function(t){var e=this._getContainerByParentKey(t);this._renderItems(e,this._dataAdapter.getChildrenNodes(t))},_getOldContainer:function(t){if(t.length)return t.children(".".concat(NODE_CONTAINER_CLASS$1));var e=this.getScrollable();return e?$(e.content()).children():$()},_getContainerByParentKey:function(t){var e=this._dataAdapter.getNodeByKey(t),r=e?this._getNodeElement(e):[];this._getOldContainer(r).remove();var n=this._renderNodeContainer(r);if(this._isRootLevel(t)){var i=this.getScrollable();i||this._renderScrollableContainer(),$(i.content()).append(n)}return n},_isRootLevel:function(t){return t===this.option("rootValue")},_getAccessors:function(){var t=this.callBase();return t.push("hasItems"),t},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort()}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var t=this._renderNodeContainer();$(this.getScrollable().content()).append(t),!(!this.option("items")||!this.option("items").length)&&(this._renderItems(t,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(t)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return this.option("dataStructure")==="plain"},_fireContentReadyAction:function(){var t=this.getDataSource(),e=t&&!t.isLoaded(),r=this.getScrollable();r&&hasWindow()&&r.update(),e||this.callBase(),r&&hasWindow()&&r.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent($("<div>").appendTo(this.$element()),Scrollable$1,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(t){var e=$("<ul>").addClass(NODE_CONTAINER_CLASS$1);if(this.setAria("role","group",e),t&&t.length){var r=this._getItemData(t.children("."+ITEM_CLASS));this._expandedGetter(r)&&e.addClass(OPENED_NODE_CONTAINER_CLASS),e.appendTo(t)}return e},_createDOMElement:function(t,e){var r=$("<li>").addClass(NODE_CLASS).attr(DATA_ITEM_ID,this._encodeString(e.internalFields.key)).prependTo(t);return this.setAria({role:"treeitem",label:this._displayGetter(e.internalFields.item)||"",expanded:e.internalFields.expanded||!1,level:this._getLevel(t)},r),r},_getLevel:function(t){var e=t.parent();return e.hasClass("dx-scrollable-content")?1:parseInt(e.attr("aria-level"))+1},_showCheckboxes:function(){return this.option("showCheckBoxesMode")!=="none"},_selectAllEnabled:function(){return this.option("showCheckBoxesMode")==="selectAll"&&!this._isSingleSelection()},_renderItems:function(t,e){for(var r=e.length-1,n=r;n>=0;n--)this._renderItem(n,e[n],t);this._renderedItemsCount+=e.length},_renderItem:function(t,e,r){var n=this._createDOMElement(r,e),i=e.internalFields,a=this._showCheckboxes();n.addClass(a?ITEM_WITH_CHECKBOX_CLASS:ITEM_WITHOUT_CHECKBOX_CLASS),n.toggleClass(INVISIBLE_STATE_CLASS$1,i.item.visible===!1),a&&this._renderCheckBox(n,e),this.setAria("selected",i.selected,n),this._toggleSelectedClass(n,i.selected),this.callBase(this._renderedItemsCount+t,i.item,n),i.item.visible!==!1&&this._renderChildren(n,e)},_setAriaSelected:function(){},_renderChildren:function(t,e){if(!this._hasChildren(e)){this._addLeafClass(t);return}this._renderToggleItemVisibilityIcon(t,e),!(this.option("deferRendering")&&!e.internalFields.expanded)&&this._loadSublevel(e).done(r=>{this._renderSublevel(t,this._getActualNode(e),r)})},_getActualNode:function(t){return this._dataAdapter.getNodeByKey(t.internalFields.key)},_hasChildren:function(t){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(t.internalFields.item)!==!1:this.callBase(t)},_loadSublevel:function(t){var e=new Deferred,r=this._getChildNodes(t);return r.length?e.resolve(r):this._loadNestedItems(t).done(n=>{e.resolve(this._dataAdapter.getNodesByItems(n))}),e.promise()},_renderSublevel:function(t,e,r){var n=this._renderNodeContainer(t,e),i=r.filter(o=>e.internalFields.childrenKeys.indexOf(o.internalFields.key)!==-1);if(this._renderItems(n,i),i.length&&!e.internalFields.selected){var a=i[0];this._updateParentsState(a,this._getNodeElement(a))}this._normalizeIconState(t,i.length),e.internalFields.expanded&&n.addClass(OPENED_NODE_CONTAINER_CLASS)},_executeItemRenderAction:function(t,e,r){var n=this._getNode(r);this._getItemRenderAction()({itemElement:r,itemIndex:t,itemData:e,node:this._dataAdapter.getPublicNode(n)})},_addLeafClass:function(t){t.addClass(IS_LEAF)},_expandEventHandler:function(t){var e=$(t.currentTarget.parentNode);e.hasClass(IS_LEAF)||this._toggleExpandedState(t.currentTarget,void 0,t)},_initExpandEvent:function(){var t=this._getEventNameByOption(this.option("expandEvent")),e=this._itemContainer(),r=this._itemSelector();eventsEngine$1.off(e,"."+EXPAND_EVENT_NAMESPACE,r),eventsEngine$1.on(e,t,r,this._expandEventHandler.bind(this))},_getEventNameByOption:function(t){var e=t==="click"?CLICK_EVENT_NAME:DBLCLICK_EVENT_NAME;return addNamespace$1(e,EXPAND_EVENT_NAMESPACE)},_getNode:function(t){if(!isDefined(t))return null;if(t.internalFields)return t;if(isPrimitive(t))return this._dataAdapter.getNodeByKey(t);var e=$(t).get(0);return e?domAdapter.isElementNode(e)?this._getNodeByElement(e):this._dataAdapter.getNodeByItem(e):null},_getNodeByElement:function(t){var e=$(t).closest("."+NODE_CLASS),r=this._decodeString(e.attr(DATA_ITEM_ID));return this._dataAdapter.getNodeByKey(r)},_toggleExpandedState:function(t,e,r){var n=this._getNode(t);if(!n)return new Deferred().reject().promise();if(n.internalFields.disabled)return new Deferred().reject().promise();var i=n.internalFields.expanded;if(i===e)return new Deferred().resolve().promise();if(this._hasChildren(n)){var a=this._getNodeElement(n);if(a.find(".".concat(NODE_LOAD_INDICATOR_CLASS,":not(.").concat(INVISIBLE_STATE_CLASS$1,")")).length)return new Deferred().reject().promise();this._createLoadIndicator(a)}return isDefined(e)||(e=!i),this._dataAdapter.toggleExpansion(n.internalFields.key,e),this._updateExpandedItemsUI(n,e,r)},_createLoadIndicator:function(t){var e=t.children("."+TOGGLE_ITEM_VISIBILITY_CLASS),r=t.children(".".concat(NODE_CONTAINER_CLASS$1));e.hasClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS)||r.not(":empty").length||(this._createComponent($("<div>").addClass(NODE_LOAD_INDICATOR_CLASS),LoadIndicator$1,{}).$element().appendTo(t),e.hide())},_renderToggleItemVisibilityIcon:function(t,e){var r=$("<div>").addClass(TOGGLE_ITEM_VISIBILITY_CLASS).appendTo(t);e.internalFields.expanded&&(r.addClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS),t.parent().addClass(OPENED_NODE_CONTAINER_CLASS)),e.internalFields.disabled&&r.addClass(DISABLED_STATE_CLASS$1),this._renderToggleItemVisibilityIconClick(r,e)},_renderToggleItemVisibilityIconClick:function(t,e){var r=addNamespace$1(CLICK_EVENT_NAME,this.NAME);eventsEngine$1.off(t,r),eventsEngine$1.on(t,r,n=>{this._toggleExpandedState(e.internalFields.key,void 0,n)})},_updateExpandedItemsUI:function(t,e,r){var n=this._getNodeElement(t),i=!n.length||e&&n.is(":hidden");if(this.option("expandNodesRecursive")&&i){var a=this._getNode(t.internalFields.parentKey);a&&this._updateExpandedItemsUI(a,e,r)}var o=n.children("."+TOGGLE_ITEM_VISIBILITY_CLASS),s=n.children(".".concat(NODE_CONTAINER_CLASS$1));o.toggleClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS,e);var l=s.length>0,u=new Deferred;return!e||l&&!s.is(":empty")?(this._animateNodeContainer(t,e,r,u),u.promise()):t.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(t,e,r,u),u.promise()):(this._renderSublevel(n,t,this._getChildNodes(t)),this._fireContentReadyAction(),this._animateNodeContainer(t,e,r,u),u.promise())},_loadNestedItemsWithUpdate:function(t,e,r,n){var i=this._getNodeElement(t);this._loadNestedItems(t).done(a=>{var o=this._getActualNode(t);if(this._renderSublevel(i,o,this._dataAdapter.getNodesByItems(a)),!a||!a.length){n.resolve();return}this._fireContentReadyAction(),this._animateNodeContainer(o,e,r,n)})},_loadNestedItems:function(t){if(this._useCustomChildrenLoader()){var e=this._dataAdapter.getPublicNode(t);return this._loadChildrenByCustomLoader(e).done(r=>{this._areNodesExists(r)||this._appendItems(r)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),t.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(r=>{this._areNodesExists(r)||this._appendItems(r)})):new Deferred().resolve([]).promise()},_areNodesExists:function(t,e){var r=this.keyOf(t[0]),n=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(r,n)},_appendItems:function(t){this.option().items=this.option("items").concat(t),this._initDataAdapter()},_animateNodeContainer:function(t,e,r,n){var i=this._getNodeElement(t),a=i.children(".".concat(NODE_CONTAINER_CLASS$1));t&&n&&a.length===0&&n.resolve(),a.addClass(OPENED_NODE_CONTAINER_CLASS);var o=getHeight(a);fx$1.stop(a,!0),fx$1.animate(a,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:e?0:o},to:{maxHeight:e?o:0},complete:function(){a.css("maxHeight","none"),a.toggleClass(OPENED_NODE_CONTAINER_CLASS,e),this.setAria("expanded",e,i),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(e,t,r),n&&n.resolve()}.bind(this)})},_fireExpandedStateUpdatedEvent:function(t,e,r){if(!!this._hasChildren(e)){var n=t?"onItemExpanded":"onItemCollapsed";if(isDefined(r))this._itemDXEventHandler(r,n,{node:this._dataAdapter.getPublicNode(e)});else{var i=this._getNodeElement(e);this._itemEventHandler(i,n,{event:r,node:this._dataAdapter.getPublicNode(e)})}}},_normalizeIconState:function(t,e){var r=t.find(".".concat(NODE_LOAD_INDICATOR_CLASS));if(r.length){var n;(n=LoadIndicator$1.getInstance(r))===null||n===void 0||n.option("visible",!1)}var i=t.find(".".concat(TOGGLE_ITEM_VISIBILITY_CLASS));if(e){i.show();return}i.removeClass(TOGGLE_ITEM_VISIBILITY_CLASS),t.addClass(IS_LEAF)},_emptyMessageContainer:function(){var t=this.getScrollable();return t?$(t.content()):this.callBase()},_renderContent:function(){var t=this.option("items");t&&t.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(t){t=t||this.$element().find(".".concat(NODE_CONTAINER_CLASS$1)).first(),this._$selectAllItem=$("<div>").addClass(SELECT_ALL_ITEM_CLASS);var e=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,CheckBox,{value:e,text:this.option("selectAllText"),onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,e),t.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(t){this._toggleSelectAll(t),this._fireSelectAllValueChanged(t.value)},_toggleSelectAll:function(t){this._dataAdapter.toggleSelectAll(t.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(t,e){var r=$("<div>").appendTo(t);this._createComponent(r,CheckBox,{value:e.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,disabled:this._disabledGetter(e)})},_toggleSelectedClass:function(t,e){t.toggleClass(SELECTED_ITEM_CLASS,!!e)},_toggleNodeDisabledState:function(t,e){var r=this._getNodeElement(t),n=r.find("."+ITEM_CLASS).eq(0);if(this._dataAdapter.toggleNodeDisabledState(t.internalFields.key,e),n.toggleClass(DISABLED_STATE_CLASS$1,!!e),this._showCheckboxes()){var i=this._getCheckBoxInstance(r);i.option("disabled",!!e)}},_itemOptionChanged:function(t,e,r){var n=this._dataAdapter.getNodeByItem(t);e===this.option("disabledExpr")&&this._toggleNodeDisabledState(n,r)},_changeCheckboxValue:function(t){var e=$(t.element).parent("."+NODE_CLASS),r=e.children("."+ITEM_CLASS),n=this._getItemData(r),i=this._getNodeByElement(r),a=t.value;i&&i.internalFields.selected===a||this._updateItemSelection(a,n,t.event)},_isSingleSelection:function(){return this.option("selectionMode")==="single"},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&this.option("selectionMode")!=="single"},_isLastSelectedBranch:function(t,e,r){var n=e.indexOf(t.key);return n>=0&&e.splice(n,1),r&&each(t.children,function(i,a){this._isLastSelectedBranch(a,e,!0)}.bind(this)),t.parent&&this._isLastSelectedBranch(t.parent,e),e.length===0},_isLastRequired:function(t){var e=this.option("selectionRequired"),r=this._isSingleSelection(),n=this.getSelectedNodeKeys();if(!!e)return r?n.length===1:this._isLastSelectedBranch(t.internalFields.publicNode,n.slice(),!0)},_updateItemSelection:function(t,e,r){var n=this._getNode(e);if(!n||n.visible===!1)return!1;if(n.internalFields.selected===t)return!0;if(!t&&this._isLastRequired(n)){if(this._showCheckboxes()){var i=this._getNodeElement(n);this._getCheckBoxInstance(i).option("value",!0)}return!1}if(t&&this._isSingleSelection()){var a=this.getSelectedNodeKeys();each(a,(l,u)=>{this._dataAdapter.toggleSelection(u,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(u))})}this._dataAdapter.toggleSelection(n.internalFields.key,t);var o=this._dataAdapter.isAllSelected(),s=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==o;return this._updateItemsUI(),this._fireItemSelectionChanged(n,r),this._fireSelectionChanged(),s&&this._fireSelectAllValueChanged(o),!0},_fireItemSelectionChanged:function(t,e){var r=e||this._findItemElementByItem(t.internalFields.item),n=e?this._itemDXEventHandler:this._itemEventHandler;n.call(this,r,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(t),itemData:t.internalFields.item})},_getCheckBoxInstance:function(t){return t.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var t={};if(each(this._dataAdapter.getData(),(r,n)=>{var i=this._getNodeElement(n,t),a=n.internalFields.selected;!i.length||(this._toggleSelectedClass(i,a),this.setAria("selected",a,i),this._showCheckboxes()&&this._getCheckBoxInstance(i).option("value",a))}),this._selectAllEnabled()){var e=this._$selectAllItem.dxCheckBox("instance");e.option("onValueChanged",void 0),e.option("value",this._dataAdapter.isAllSelected()),e.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(t,e){if(!!e){var r=this._dataAdapter.getNodeByKey(t.internalFields.parentKey),n=$(e.parents("."+NODE_CLASS)[0]);if(this._showCheckboxes()){var i=r.internalFields.selected;this._getCheckBoxInstance(n).option("value",i),this._toggleSelectedClass(n,i)}r.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(r,n)}},_itemEventHandlerImpl:function(t,e,r){var n=$(t).closest("."+NODE_CLASS).children("."+ITEM_CLASS);return e(extend(this._extendActionArgs(n),r))},_itemContextMenuHandler:function(t){this._createEventHandler("onItemContextMenu",t)},_itemHoldHandler:function(t){this._createEventHandler("onItemHold",t)},_createEventHandler:function(t,e){var r=this._getNodeByElement(e.currentTarget);this._itemDXEventHandler(e,t,{node:this._dataAdapter.getPublicNode(r)})},_itemClass:function(){return ITEM_CLASS},_itemDataKey:function(){return ITEM_DATA_KEY},_attachClickEvent:function(){var t="."+this._itemClass(),e="."+NODE_CLASS+", ."+SELECT_ALL_ITEM_CLASS,r=addNamespace$1(CLICK_EVENT_NAME,this.NAME),n=addNamespace$1(pointerEvents.down,this.NAME),i=this._itemContainer(),a=this;eventsEngine$1.off(i,r,t),eventsEngine$1.off(i,n,e),eventsEngine$1.on(i,r,t,function(o){a._itemClickHandler(o,$(this))}),eventsEngine$1.on(i,n,e,function(o){a._itemPointerDownHandler(o)})},_itemClickHandler:function(t,e){var r=this._getItemData(e),n=this._getNodeByElement(e);this._itemDXEventHandler(t,"onItemClick",{node:this._dataAdapter.getPublicNode(n)}),this.option("selectByClick")&&!t.isDefaultPrevented()&&this._updateItemSelection(!n.internalFields.selected,r,t)},_updateSelectionToFirstItem:function(t,e){for(var r=e;r>=0;){var n=$(t[r]);this._updateItemSelection(!0,n.find("."+ITEM_CLASS).get(0)),r--}},_updateSelectionToLastItem:function(t,e){for(var r=t.length,n=e;n<r;){var i=$(t[n]);this._updateItemSelection(!0,i.find("."+ITEM_CLASS).get(0)),n++}},_focusInHandler:function(t){if(this._updateFocusState(t,!0),this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{this._setFocusedItem($(this.option("focusedElement")))});return}var e=this._getActiveItem();this.option("focusedElement",getPublicElement(e.closest("."+NODE_CLASS)))},_setFocusedItem:function(t){!t||!t.length||t.children().hasClass(DISABLED_STATE_CLASS$1)||this.callBase(t)},_itemPointerDownHandler:function(t){if(!!this.option("focusStateEnabled")){var e=$(t.target).closest("."+NODE_CLASS+", ."+SELECT_ALL_ITEM_CLASS);if(!!e.length){var r=e.hasClass(DISABLED_STATE_CLASS$1)?null:e;this.option("focusedElement",getPublicElement(r))}}},_findNonDisabledNodes:function(t){return t.not(function(){return $(this).children("."+ITEM_CLASS).hasClass(DISABLED_STATE_CLASS$1)})},_moveFocus:function(t,e){var r="up",n="down",i="first",a="last",o=this.option("rtlEnabled")?"right":"left",s=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(NODE_CONTAINER_CLASS$1)).each(function(){fx$1.stop(this,!0)});var l=this._findNonDisabledNodes(this._nodeElements());if(!(!l||!l.length))switch(t){case r:var u=this._prevItem(l);this.option("focusedElement",getPublicElement(u));var m=this._getNodeItemElement(u);this.getScrollable().scrollToElement(m),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,m);break;case n:var b=this._nextItem(l);this.option("focusedElement",getPublicElement(b));var _=this._getNodeItemElement(b);this.getScrollable().scrollToElement(_),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,_);break;case i:var I=l.first();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",getPublicElement(I)),this.getScrollable().scrollToElement(this._getNodeItemElement(I));break;case a:var j=l.last();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",getPublicElement(j)),this.getScrollable().scrollToElement(this._getNodeItemElement(j));break;case s:this._expandFocusedContainer();break;case o:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments);return}},_getNodeItemElement:function(t){return t.find("."+ITEM_CLASS).get(0)},_nodeElements:function(){return this.$element().find("."+NODE_CLASS).not(":hidden")},_expandFocusedContainer:function(){var t=$(this.option("focusedElement"));if(!(!t.length||t.hasClass(IS_LEAF))){var e=t.find(".".concat(NODE_CONTAINER_CLASS$1)).eq(0);if(e.hasClass(OPENED_NODE_CONTAINER_CLASS)){var r=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",getPublicElement(r)),this.getScrollable().scrollToElement(this._getNodeItemElement(r));return}var n=this._getNodeByElement(t.children("."+ITEM_CLASS));this._toggleExpandedState(n,!0)}},_getClosestNonDisabledNode:function(t){do t=t.parent().closest("."+NODE_CLASS);while(t.children(".dx-treeview-item.dx-state-disabled").length);return t},_collapseFocusedContainer:function(){var t=$(this.option("focusedElement"));if(!!t.length){var e=t.find(".".concat(NODE_CONTAINER_CLASS$1)).eq(0);if(!t.hasClass(IS_LEAF)&&e.hasClass(OPENED_NODE_CONTAINER_CLASS)){var r=this._getNodeByElement(t.children("."+ITEM_CLASS));this._toggleExpandedState(r,!1)}else{var n=this._getClosestNonDisabledNode(t);n.length&&this.option("focusedElement",getPublicElement(n)),this.getScrollable().scrollToElement(this._getNodeItemElement(n))}}},_encodeString:function(t){return isString$2(t)?encodeURI(t):t},_decodeString:function(t){return isString$2(t)?decodeURI(t):t},getScrollable:function(){return this._scrollable},updateDimensions:function(){var t=new Deferred,e=this.getScrollable();return e?e.update().done(()=>{t.resolveWith(this)}):t.resolveWith(this),t.promise()},selectItem:function(t){return this._updateItemSelection(!0,t)},unselectItem:function(t){return this._updateItemSelection(!1,t)},expandItem:function(t){return this._toggleExpandedState(t,!0)},collapseItem:function(t){return this._toggleExpandedState(t,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(t=>{var e=this._dataAdapter.getNodeByKey(t);return this._dataAdapter.getPublicNode(e)})},getSelectedNodesKeys:function(){return errors$2.log("W0002","dxTreeView","getSelectedNodesKeys","20.1","Use the 'getSelectedNodeKeys' method instead"),this.getSelectedNodeKeys()},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},expandAll:function(){var t=this._dataAdapter;each(t.getData(),(e,r)=>t.toggleExpansion(r.internalFields.key,!0)),this.repaint()},collapseAll:function(){each(this._dataAdapter.getExpandedNodesKeys(),function(t,e){this._toggleExpandedState(e,!1)}.bind(this))},scrollToItem:function(t){var e=this._getNode(t);if(!e)return new Deferred().reject().promise();for(var r=[],n=e.internalFields.publicNode.parent;n!=null;)n.expanded||r.push(n.key),n=n.parent;var i=new Deferred;return this._expandNodes(r.reverse()).always(()=>{var a=this._getNodeElement(e);a&&a.length?(this.scrollToElementTopLeft(a.get(0)),i.resolve()):i.reject()}),i.promise()},scrollToElementTopLeft:function(t){var e=this.getScrollable(),{scrollDirection:r,rtlEnabled:n}=this.option(),i={top:0,left:0},a=getRelativeOffset(SCROLLABLE_CONTENT_CLASS$1,t);if(r!==DIRECTION_VERTICAL){var o=$(e.container()).get(0);i.left=n?a.left+t.offsetWidth-o.clientWidth:a.left}r!==DIRECTION_HORIZONTAL&&(i.top=a.top),e.scrollTo(i)},_expandNodes:function(t){if(!t||t.length===0)return new Deferred().resolve().promise();var e=new Deferred,r=t.map(n=>this.expandItem(n));return when.apply($,r).done(()=>e.resolve()).fail(()=>e.reject()),e.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout)}}),TreeViewBase$1=TreeViewBase;searchBoxMixin.setEditorClass(TextBox$1);var WIDGET_CLASS="dx-treeview",NODE_CONTAINER_CLASS="".concat(WIDGET_CLASS,"-node-container"),TreeViewSearch=TreeViewBase$1.inherit(searchBoxMixin).inherit({_addWidgetPrefix:function(t){return"".concat(WIDGET_CLASS,"-").concat(t)},_optionChanged:function(t){switch(t.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(t)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return extend(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_updateSearch:function(){if(this._searchEditor){var t=this._getSearchEditorOptions();this._searchEditor.option(t)}},_repaintContainer:function(){var t=this.$element().find(".".concat(NODE_CONTAINER_CLASS)).first(),e;t.length&&(t.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(t,e),this._fireContentReadyAction())},_itemContainer:function(t){return this._scrollable&&t?$(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});registerComponent$1("dxTreeView",TreeViewSearch);var TreeView=TreeViewSearch,FILE_MANAGER_FILE_ACTIONS_BUTTON="dx-filemanager-file-actions-button",FILE_MANAGER_FILE_ACTIONS_BUTTON_ACTIVATED="dx-filemanager-file-actions-button-activated",ACTIVE_STATE_CLASS="dx-state-active";class FileManagerFileActionsButton extends Widget$2{_initMarkup(){this._createClickAction();var e=$("<div>");this.$element().append(e).addClass(FILE_MANAGER_FILE_ACTIONS_BUTTON),this._button=this._createComponent(e,Button,{icon:"overflow",stylingMode:"text",onClick:r=>this._raiseClick(r)}),super._initMarkup()}_createClickAction(){this._clickAction=this._createActionByOption("onClick")}_raiseClick(e){this._clickAction(e)}_getDefaultOptions(){return extend(super._getDefaultOptions(),{cssClass:"",onClick:null})}_optionChanged(e){var r=e.name;switch(r){case"cssClass":this.repaint();break;case"onClick":this._createClickAction();break;default:super._optionChanged(e)}}setActive(e){this.$element().toggleClass(FILE_MANAGER_FILE_ACTIONS_BUTTON_ACTIVATED,e),setTimeout(()=>this._button.$element().toggleClass(ACTIVE_STATE_CLASS,e))}}var FileManagerFileActionsButton$1=FileManagerFileActionsButton,FILE_MANAGER_DIRS_TREE_CLASS="dx-filemanager-dirs-tree",FILE_MANAGER_DIRS_TREE_FOCUSED_ITEM_CLASS="dx-filemanager-focused-item",FILE_MANAGER_DIRS_TREE_ITEM_TEXT_CLASS="dx-filemanager-dirs-tree-item-text",TREE_VIEW_ITEM_CLASS="dx-treeview-item";class FileManagerFilesTreeView extends Widget$2{_initMarkup(){this._initActions(),this._getCurrentDirectory=this.option("getCurrentDirectory"),this._createFileActionsButton=noop,this._storeExpandedState=this.option("storeExpandedState")||!1;var e=$("<div>").addClass(FILE_MANAGER_DIRS_TREE_CLASS).appendTo(this.$element()),r={dataStructure:"plain",rootValue:"",createChildren:this._onFilesTreeViewCreateSubDirectories.bind(this),itemTemplate:this._createFilesTreeViewItemTemplate.bind(this),keyExpr:"getInternalKey",parentIdExpr:"parentDirectory.getInternalKey",displayExpr:n=>n.getDisplayName(),hasItemsExpr:"fileItem.hasSubDirectories",onItemClick:n=>this._actions.onDirectoryClick(n),onItemExpanded:n=>this._onFilesTreeViewItemExpanded(n),onItemCollapsed:n=>this._onFilesTreeViewItemCollapsed(n),onItemRendered:n=>this._onFilesTreeViewItemRendered(n),onContentReady:()=>this._actions.onFilesTreeViewContentReady()};this._contextMenu&&(this._contextMenu.option("onContextMenuHidden",()=>this._onContextMenuHidden()),r.onItemContextMenu=n=>this._onFilesTreeViewItemContextMenu(n),this._createFileActionsButton=(n,i)=>this._createComponent(n,FileManagerFileActionsButton$1,i)),this._filesTreeView=this._createComponent(e,TreeView,r)}_initActions(){this._actions={onDirectoryClick:this._createActionByOption("onDirectoryClick"),onFilesTreeViewContentReady:this._createActionByOption("onFilesTreeViewContentReady")}}_render(){super._render();var e=this;setTimeout(()=>{e._updateFocusedElement()})}_onFilesTreeViewCreateSubDirectories(e){var r=this.option("getDirectories"),n=e&&e.itemData||null;return r&&r(n,!0)}_onFilesTreeViewItemRendered(e){var{itemData:r}=e,n=this._getCurrentDirectory();n&&n.fileItem.equals(r.fileItem)&&(this._updateFocusedElement(),this._restoreScrollTopPosition())}_onFilesTreeViewItemExpanded(e){var{itemData:r}=e;this._storeExpandedState&&(r.expanded=!0)}_onFilesTreeViewItemCollapsed(e){var{itemData:r}=e;this._storeExpandedState&&(r.expanded=!1)}_createFilesTreeViewItemTemplate(e,r,n){var i=$(n),a=i.closest(this._filesTreeViewItemSelector);a.data("item",e);var o=getImageContainer(e.icon),s=$("<span>").text(e.getDisplayName()).addClass(FILE_MANAGER_DIRS_TREE_ITEM_TEXT_CLASS),l=$("<div>");i.append(o,s,l),this._createFileActionsButton(l,{onClick:u=>this._onFileItemActionButtonClick(u)})}_onFilesTreeViewItemContextMenu(e){var{itemElement:r,event:n}=e;n.preventDefault(),n.stopPropagation();var i=$(r).data("item");this._contextMenu.showAt([i],r,n,{itemData:i,itemElement:r})}_onFileItemActionButtonClick(e){var{component:r,element:n,event:i}=e;i.stopPropagation();var a=r.$element().closest(this._filesTreeViewItemSelector),o=a.data("item"),s={itemData:o,itemElement:a,isActionButton:!0};this._contextMenu.showAt([o],n,i,s),this._activeFileActionsButton=r,this._activeFileActionsButton.setActive(!0)}_onContextMenuHidden(){this._activeFileActionsButton&&this._activeFileActionsButton.setActive(!1)}toggleNodeDisabledState(e,r){var n=this._getNodeByKey(e);if(!!n){var i=this._filesTreeView.option("items"),a=i.map(o=>o.getInternalKey()).indexOf(n.getInternalKey());a!==-1&&this._filesTreeView.option("items[".concat(a,"].disabled"),r)}}_saveScrollTopPosition(){!hasWindow()||(this._scrollTopPosition=this._filesTreeView.getScrollable().scrollTop())}_restoreScrollTopPosition(){!hasWindow()||!isNumeric$1(this._scrollTopPosition)||setTimeout(()=>this._filesTreeView.getScrollable().scrollTo(this._scrollTopPosition))}_updateFocusedElement(){var e=this._getCurrentDirectory(),r=this._getItemElementByKey(e==null?void 0:e.getInternalKey());this._$focusedElement&&this._$focusedElement.toggleClass(FILE_MANAGER_DIRS_TREE_FOCUSED_ITEM_CLASS,!1),this._$focusedElement=r||$(),this._$focusedElement.toggleClass(FILE_MANAGER_DIRS_TREE_FOCUSED_ITEM_CLASS,!0)}_getNodeByKey(e){var r;return(r=this._filesTreeView)===null||r===void 0?void 0:r._getNode(e)}_getPublicNode(e){for(var r,n=[...(r=this._filesTreeView)===null||r===void 0?void 0:r.getNodes()];n.length;){var i=n.shift();if(i.itemData.getInternalKey()===e)return i;i.children.length&&n.push(...i.children)}}_getItemElementByKey(e){var r=this._getNodeByKey(e);if(r){var n=this._filesTreeView._getNodeElement(r);if(n)return n.children(this._filesTreeViewItemSelector)}return null}_getDefaultOptions(){return extend(super._getDefaultOptions(),{storeExpandedState:!1,initialFolder:null,contextMenu:null,getItems:null,getCurrentDirectory:null,onDirectoryClick:null})}_optionChanged(e){var r=e.name;switch(r){case"storeExpandedState":this._storeExpandedState=this.option(r);break;case"getItems":case"rootFolderDisplayName":case"initialFolder":case"contextMenu":this.repaint();break;case"getCurrentDirectory":this.getCurrentDirectory=this.option(r);break;case"onDirectoryClick":case"onFilesTreeViewContentReady":this._actions[r]=this._createActionByOption(r);break;default:super._optionChanged(e)}}get _filesTreeViewItemSelector(){return".".concat(TREE_VIEW_ITEM_CLASS)}get _contextMenu(){return this.option("contextMenu")}toggleDirectoryExpandedState(e,r){var n=new Deferred,i=this._getPublicNode(e==null?void 0:e.getInternalKey());if(!i)return n.reject().promise();if(i.expanded===r||i.itemsLoaded&&!i.itemData.fileItem.hasSubDirectories)return n.resolve().promise();var a=r?"expandItem":"collapseItem";return this._filesTreeView[a](e.getInternalKey())}refresh(){this._$focusedElement=null,this._saveScrollTopPosition(),this._filesTreeView.option("dataSource",[])}updateCurrentDirectory(){this._disposed||(this._updateFocusedElement(),this._storeExpandedState&&this._updateExpandedStateToCurrentDirectory())}_updateExpandedStateToCurrentDirectory(){return this.toggleDirectoryExpandedStateRecursive(this._getCurrentDirectory().parentDirectory,!0)}toggleDirectoryExpandedStateRecursive(e,r){for(var n=[],i=e;i;i=i.parentDirectory)n.unshift(i);return this.toggleDirectoryLineExpandedState(n,r)}toggleDirectoryLineExpandedState(e,r){return e.length?this.toggleDirectoryExpandedState(e.shift(),r).then(()=>this.toggleDirectoryLineExpandedState(e,r)):new Deferred().resolve().promise()}}var FileManagerFilesTreeView$1=FileManagerFilesTreeView,DEFAULT_DATE_INTERVAL=["year","month","day"],DEFAULT_DATETIME_INTERVAL=["year","month","day","hour","minute"],isDateType$1=function(t){return t==="date"||t==="datetime"},getGroupInterval=function(t){var e,r=[],n=["year","month","day","hour","minute","second"],i=t.headerFilter&&t.headerFilter.groupInterval,a=i==="quarter"?"month":i;if(isDateType$1(t.dataType)&&i!==null)return r=t.dataType==="datetime"?DEFAULT_DATETIME_INTERVAL:DEFAULT_DATE_INTERVAL,e=n.indexOf(a),e>=0&&(r=n.slice(0,e),r.push(i)),r;if(isDefined(i))return Array.isArray(i)?i:[i]},filterUtils=function(){var t=function(i,a){var o=i.dataField||i.selector;return a==="search"&&(o=i.displayField||i.calculateDisplayValue||o),o},e=function(i,a){var o,s,l,u=t(this,a);if(Array.isArray(i)&&isDefined(i[0])&&isDefined(i[1]))return s=[u,">=",i[0]],l=[u,"<=",i[1]],isDateType$1(this.dataType)&&(m=i[1],m.getHours()+m.getMinutes()+m.getSeconds()+m.getMilliseconds()<1)&&(o=new Date(i[1].getTime()),this.dataType==="date"&&o.setDate(i[1].getDate()+1),l=[u,"<",o]),[s,"and",l];var m},r=function(i,a,o){var s,l,u,m=function(_){return isDate(_)?[_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),_.getSeconds()]:map((""+_).split("/"),function(I,j){return j===1?Number(I)-1:Number(I)})}(i),b=t(this,o);switch(o==="headerFilter"?u=getGroupInterval(this)[m.length-1]:this.dataType==="datetime"&&(u="minute"),u){case"year":s=new Date(m[0],0,1),l=new Date(m[0]+1,0,1);break;case"month":s=new Date(m[0],m[1],1),l=new Date(m[0],m[1]+1,1);break;case"quarter":s=new Date(m[0],3*m[1],1),l=new Date(m[0],3*m[1]+3,1);break;case"hour":s=new Date(m[0],m[1],m[2],m[3]),l=new Date(m[0],m[1],m[2],m[3]+1);break;case"minute":s=new Date(m[0],m[1],m[2],m[3],m[4]),l=new Date(m[0],m[1],m[2],m[3],m[4]+1);break;case"second":s=new Date(m[0],m[1],m[2],m[3],m[4],m[5]),l=new Date(m[0],m[1],m[2],m[3],m[4],m[5]+1);break;default:s=new Date(m[0],m[1],m[2]),l=new Date(m[0],m[1],m[2]+1)}switch(a){case"<":return[b,"<",s];case"<=":return[b,"<",l];case">":return[b,">=",l];case">=":return[b,">=",s];case"<>":return[[b,"<",s],"or",[b,">=",l]];default:return[[b,">=",s],"and",[b,"<",l]]}},n=function(i,a,o){var s=t(this,o),l=getGroupInterval(this);if(o==="headerFilter"&&l&&isDefined(i)){var u=(""+i).split("/"),m=Number(u[u.length-1]),b=l[u.length-1],_=[s,">=",m],I=[s,"<",m+b],j=[_,"and",I];return j}return[s,a||"=",i]};return{defaultCalculateFilterExpression:function(i,a,o){var s=this,l=t(s,o),u=s.calculateDisplayValue&&o==="search",m=u&&s.lookup&&s.lookup.dataType||s.dataType,b=null;if((o==="headerFilter"||o==="filterBuilder")&&i===null)b=[l,a||"=",null],m==="string"&&(b=[b,a==="="?"or":"and",[l,a||"=",""]]);else if(m==="string"&&(!s.lookup||u))b=[l,a||"contains",i];else{if(a==="between")return e.apply(s,[i,o]);if(isDateType$1(m)&&isDefined(i))return r.apply(s,arguments);if(m==="number")return n.apply(s,arguments);b=[l,a||"=",i]}return b},getGroupInterval}}(),LOADPANEL_CLASS="dx-loadpanel",LOADPANEL_WRAPPER_CLASS="dx-loadpanel-wrapper",LOADPANEL_INDICATOR_CLASS="dx-loadpanel-indicator",LOADPANEL_MESSAGE_CLASS="dx-loadpanel-message",LOADPANEL_CONTENT_CLASS="dx-loadpanel-content",LOADPANEL_CONTENT_WRAPPER_CLASS="dx-loadpanel-content-wrapper",LOADPANEL_PANE_HIDDEN_CLASS="dx-loadpanel-pane-hidden",LoadPanel=Overlay$1.inherit({_supportedKeys:function(){return extend(this.callBase(),{escape:noop})},_getDefaultOptions:function(){return extend(this.callBase(),{message:messageLocalization$1.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return isMaterial()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass(LOADPANEL_CLASS),this.$wrapper().addClass(LOADPANEL_WRAPPER_CLASS)},_renderContentImpl:function(){this.callBase(),this.$content().addClass(LOADPANEL_CONTENT_CLASS),this._$loadPanelContentWrapper=$("<div>").addClass(LOADPANEL_CONTENT_WRAPPER_CLASS),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var t=this.option("delay");if(!t)return this.callBase();var e=new Deferred,r=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){r().done(function(){e.resolve()})},t),e.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(!!this._$loadPanelContentWrapper){var t=this.option("message");if(!!t){var e=$("<div>").addClass(LOADPANEL_MESSAGE_CLASS).text(t);this._$loadPanelContentWrapper.append(e)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=$("<div>").addClass(LOADPANEL_INDICATOR_CLASS).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,LoadIndicator$1,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+LOADPANEL_MESSAGE_CLASS).remove(),this.$content().find("."+LOADPANEL_INDICATOR_CLASS).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass(LOADPANEL_PANE_HIDDEN_CLASS,!this.option("showPane"))},_optionChanged:function(t){switch(t.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(t)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});registerComponent$1("dxLoadPanel",LoadPanel);var LoadPanel$1=LoadPanel,dateUnitIntervals=["millisecond","second","minute","hour","day","week","month","quarter","year"],toMilliseconds=function t(e){switch(e){case"millisecond":return 1;case"second":return 1e3*t("millisecond");case"minute":return 60*t("second");case"hour":return 60*t("minute");case"day":return 24*t("hour");case"week":return 7*t("day");case"month":return 30*t("day");case"quarter":return 3*t("month");case"year":return 365*t("day");default:return 0}},getDatesInterval=function(t,e,r){var n=e.getTime()-t.getTime(),i=toMilliseconds(r)||1;return Math.floor(n/i)},getNextDateUnit=function(t,e){var r=getDateUnitInterval(t);switch(r){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},convertMillisecondsToDateUnits=function(t){var e,r,n,i=["millisecond","second","minute","hour","day","month","year"],a={};for(e=i.length-1;e>=0;e--)n=i[e],r=Math.floor(t/toMilliseconds(n)),r>0&&(a[n+"s"]=r,t-=convertDateUnitToMilliseconds(n,r));return a},dateToMilliseconds=function(t){var e=0;return isObject(t)&&each(t,function(r,n){e+=convertDateUnitToMilliseconds(r.substr(0,r.length-1),n)}),isString$2(t)&&(e=convertDateUnitToMilliseconds(t,1)),e};function convertDateUnitToMilliseconds(t,e){return toMilliseconds(t)*e}function getDateUnitInterval(t){var e=-1,r;return isString$2(t)?t:isObject(t)?(each(t,function(n,i){for(r=0;r<dateUnitIntervals.length;r++)i&&(n===dateUnitIntervals[r]+"s"||n===dateUnitIntervals[r])&&e<r&&(e=r)}),dateUnitIntervals[e]):""}var tickIntervalToFormatMap={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function getDateFormatByTickInterval(t){return tickIntervalToFormatMap[getDateUnitInterval(t)]||""}var getQuarter=function(t){return Math.floor(t/3)},getFirstQuarterMonth=function(t){return 3*getQuarter(t)};function correctDateWithUnitBeginning(t,e,r,n){t=new Date(t.getTime());var i=new Date(t.getTime()),a,o,s=getDateUnitInterval(e);switch(s){case"second":t=new Date(1e3*Math.floor(i.getTime()/1e3));break;case"minute":t=new Date(6e4*Math.floor(i.getTime()/6e4));break;case"hour":t=new Date(36e5*Math.floor(i.getTime()/36e5));break;case"year":t.setMonth(0);case"month":t.setDate(1);case"day":t.setHours(0,0,0,0);break;case"week":t=getFirstWeekDate(t,n||0),t.setHours(0,0,0,0);break;case"quarter":a=getFirstQuarterMonth(t.getMonth()),o=t.getMonth(),t.setDate(1),t.setHours(0,0,0,0),o!==a&&t.setMonth(a)}return r&&s!=="hour"&&s!=="minute"&&s!=="second"&&fixTimezoneGap(i,t),t}function trimTime(t){return correctDateWithUnitBeginning(t,"day")}var setToDayEnd=function(t){var e=trimTime(t);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},getDatesDifferences=function(t,e){var r=0,n={year:t.getFullYear()!==e.getFullYear(),month:t.getMonth()!==e.getMonth(),day:t.getDate()!==e.getDate(),hour:t.getHours()!==e.getHours(),minute:t.getMinutes()!==e.getMinutes(),second:t.getSeconds()!==e.getSeconds(),millisecond:t.getMilliseconds()!==e.getMilliseconds()};return each(n,function(i,a){a&&r++}),r===0&&getTimezonesDifference(t,e)!==0&&(n.hour=!0,r++),n.count=r,n};function addDateInterval(t,e,r){var n=new Date(t.getTime()),i=isString$2(e)?getDateIntervalByString(e.toLowerCase()):isNumeric$1(e)?convertMillisecondsToDateUnits(e):e;return i.years&&n.setFullYear(n.getFullYear()+i.years*r),i.quarters&&n.setMonth(n.getMonth()+3*i.quarters*r),i.months&&n.setMonth(n.getMonth()+i.months*r),i.weeks&&n.setDate(n.getDate()+7*i.weeks*r),i.days&&n.setDate(n.getDate()+i.days*r),i.hours&&n.setTime(n.getTime()+36e5*i.hours*r),i.minutes&&n.setTime(n.getTime()+6e4*i.minutes*r),i.seconds&&n.setTime(n.getTime()+1e3*i.seconds*r),i.milliseconds&&n.setTime(n.getTime()+i.milliseconds*r),n}var addInterval=function(t,e,r){var n=r?-1:1;return isDate(t)?addDateInterval(t,e,n):adjust(t+e*n,e)},getSequenceByInterval=function(t,e,r){var n=[],i;for(n.push(isDate(t)?new Date(t.getTime()):t),i=t;i<e;)i=addInterval(i,r),n.push(i);return n},getViewFirstCellDate=function(t,e){if(t==="month")return createDateWithFullYear(e.getFullYear(),e.getMonth(),1);if(t==="year")return createDateWithFullYear(e.getFullYear(),0,e.getDate());if(t==="decade")return createDateWithFullYear(getFirstYearInDecade(e),e.getMonth(),e.getDate());if(t==="century")return createDateWithFullYear(getFirstDecadeInCentury(e),e.getMonth(),e.getDate())},getViewLastCellDate=function(t,e){if(t==="month")return createDateWithFullYear(e.getFullYear(),e.getMonth(),getLastMonthDay(e));if(t==="year")return createDateWithFullYear(e.getFullYear(),11,e.getDate());if(t==="decade")return createDateWithFullYear(getFirstYearInDecade(e)+9,e.getMonth(),e.getDate());if(t==="century")return createDateWithFullYear(getFirstDecadeInCentury(e)+90,e.getMonth(),e.getDate())},getViewMinBoundaryDate=function(t,e){var r=createDateWithFullYear(e.getFullYear(),e.getMonth(),1);return t==="month"||(r.setMonth(0),t==="year")||(t==="decade"&&r.setFullYear(getFirstYearInDecade(e)),t==="century"&&r.setFullYear(getFirstDecadeInCentury(e))),r},getViewMaxBoundaryDate=function(t,e){var r=new Date(e);return r.setDate(getLastMonthDay(e)),t==="month"||(r.setMonth(11),r.setDate(getLastMonthDay(r)),t==="year")||(t==="decade"&&r.setFullYear(getFirstYearInDecade(e)+9),t==="century"&&r.setFullYear(getFirstDecadeInCentury(e)+99)),r};function getLastMonthDay(t){var e=createDateWithFullYear(t.getFullYear(),t.getMonth()+1,0);return e.getDate()}var getViewUp=function(t){switch(t){case"month":return"year";case"year":return"decade";case"decade":return"century"}},getViewDown=function(t){switch(t){case"century":return"decade";case"decade":return"year";case"year":return"month"}},getDifferenceInMonth=function(t){var e=1;return t==="year"&&(e=12),t==="decade"&&(e=120),t==="century"&&(e=1200),e},getDifferenceInMonthForCells=function(t){var e=1;return t==="decade"&&(e=12),t==="century"&&(e=120),e};function getDateIntervalByString(t){var e={};switch(t){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function sameDate(t,e){return sameMonthAndYear(t,e)&&t.getDate()===e.getDate()}function sameMonthAndYear(t,e){return sameYear(t,e)&&t.getMonth()===e.getMonth()}function sameYear(t,e){return t&&e&&t.getFullYear()===e.getFullYear()}function sameHoursAndMinutes(t,e){return t&&e&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()}var sameDecade=function(t,e){if(!(!isDefined(t)||!isDefined(e))){var r=t.getFullYear()-t.getFullYear()%10,n=e.getFullYear()-e.getFullYear()%10;return t&&e&&r===n}},sameCentury=function(t,e){if(!(!isDefined(t)||!isDefined(e))){var r=t.getFullYear()-t.getFullYear()%100,n=e.getFullYear()-e.getFullYear()%100;return t&&e&&r===n}};function getFirstDecadeInCentury(t){return t&&t.getFullYear()-t.getFullYear()%100}function getFirstYearInDecade(t){return t&&t.getFullYear()-t.getFullYear()%10}var getShortDateFormat=function(){return"yyyy/MM/dd"},getFirstMonthDate=function(t){if(!!isDefined(t))return createDateWithFullYear(t.getFullYear(),t.getMonth(),1)},getLastMonthDate=function(t){if(!!isDefined(t))return createDateWithFullYear(t.getFullYear(),t.getMonth()+1,0)};function getFirstWeekDate(t,e){var r=(t.getDay()-e+7)%7,n=new Date(t);return n.setDate(t.getDate()-r),n}var normalizeDateByWeek=function(t,e){var r=dateUtils.getDatesInterval(t,e,"day"),n=new Date(t);return r>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},dateInRange=function(t,e,r,n){return n==="date"&&(e=e&&dateUtils.correctDateWithUnitBeginning(e,"day"),r=r&&dateUtils.correctDateWithUnitBeginning(r,"day"),t=t&&dateUtils.correctDateWithUnitBeginning(t,"day")),normalizeDate(t,e,r)===t},intervalsOverlap=function(t){var{firstMin:e,firstMax:r,secondMin:n,secondMax:i}=t;return e<=n&&n<=r||e>n&&e<i||e<i&&r>i},dateTimeFromDecimal=function(t){var e=Math.floor(t),r=t%1*60;return{hours:e,minutes:r}},roundDateByStartDayHour=function(t,e){var r=this.dateTimeFromDecimal(e),n=new Date(t);return(t.getHours()===r.hours&&t.getMinutes()<r.minutes||t.getHours()<r.hours)&&n.setHours(r.hours,r.minutes,0,0),n};function normalizeDate(t,e,r){var n=t;return isDefined(t)?(isDefined(e)&&t<e&&(n=e),isDefined(r)&&t>r&&(n=r),n):t}function fixTimezoneGap(t,e){if(!!isDefined(t)){var r=e.getHours()-t.getHours();if(r!==0){var n=r===1||r===-23?-1:1,i=new Date(e.getTime()+36e5*n);(n>0||i.getDate()===e.getDate())&&e.setTime(i.getTime())}}}var roundToHour=function(t){var e=new Date(t.getTime());return e.setHours(e.getHours()+1),e.setMinutes(0),e};function getTimezonesDifference(t,e){return 60*(e.getTimezoneOffset()-t.getTimezoneOffset())*1e3}var makeDate=function(t){return new Date(t)},getDatesOfInterval=function(t,e,r){for(var n=[],i=new Date(t.getTime());i<e;)n.push(new Date(i.getTime())),i=this.addInterval(i,r);return n},createDateWithFullYear=function(t){var e=new Date(...arguments);return e.setFullYear(t),e},dateUtils={dateUnitIntervals,convertMillisecondsToDateUnits,dateToMilliseconds,getNextDateUnit,convertDateUnitToMilliseconds,getDateUnitInterval,getDateFormatByTickInterval,getDatesDifferences,correctDateWithUnitBeginning,trimTime,setToDayEnd,roundDateByStartDayHour,dateTimeFromDecimal,addDateInterval,addInterval,getSequenceByInterval,getDateIntervalByString,sameHoursAndMinutes,sameDate,sameMonthAndYear,sameMonth:sameMonthAndYear,sameYear,sameDecade,sameCentury,getDifferenceInMonth,getDifferenceInMonthForCells,getFirstYearInDecade,getFirstDecadeInCentury,getShortDateFormat,getViewFirstCellDate,getViewLastCellDate,getViewDown,getViewUp,getLastMonthDay,getLastMonthDate,getFirstMonthDate,getFirstWeekDate,normalizeDateByWeek,getQuarter,getFirstQuarterMonth,dateInRange,intervalsOverlap,roundToHour,normalizeDate,getViewMinBoundaryDate,getViewMaxBoundaryDate,fixTimezoneGap,getTimezonesDifference,makeDate,getDatesInterval,getDatesOfInterval,createDateWithFullYear};dateUtils.sameView=function(t,e,r){return dateUtils[camelize$2("same "+t)](e,r)};var dateUtils$1=dateUtils,ARABIC_COMMA="\u060C",FORMAT_SEPARATORS=" .,:;/\\<>()-[]"+ARABIC_COMMA,AM_PM_PATTERN=". m.",checkDigit=function(t){var e=t&&numberFormatter.convertDigits(t,!1).charCodeAt(0),r=numberFormatter.convertDigits("0",!1).charCodeAt(0);return r<=e&&e<r+10},checkPatternContinue=function(t,e,r,n){var i=t[r],a=t[r+1];if(!n&&(i==="."||i===" "&&t.slice(r-1,r+3)===AM_PM_PATTERN||i==="-"&&!checkDigit(a)))return!0;var o=n&&e.some(s=>t[r]!==s[r]);return FORMAT_SEPARATORS.indexOf(i)<0&&n===checkDigit(i)&&(!n||o)},getPatternStartIndex=function(t,e){if(!checkDigit(t[e]))for(;e>0&&!checkDigit(t[e-1])&&(t[e-1]==="."||FORMAT_SEPARATORS.indexOf(t[e-1])<0);)e--;return e},getDifference=function(t,e,r,n){var i=0,a=[],o=function(s){return t[i]!==s[i]&&(n===void 0||checkDigit(t[i])===n)};for(Array.isArray(e)||(e=[e]),i=0;i<t.length;i++)if(r.indexOf(i)<0&&e.filter(o).length){i=getPatternStartIndex(t,i);do{if(n=checkDigit(t[i]),!a.length&&!n&&checkDigit(e[0][i]))break;a.push(i),r.unshift(i),i++}while(t[i]&&checkPatternContinue(t,e,i,n));break}return a.length===1&&(t[r[0]-1]==="0"||t[r[0]-1]==="\u0660")&&r.unshift(r[0]-1),a},replaceCharsCore=function(t,e,r,n){var i=e[0],a=i<n.length?n[i]:i;return e.forEach(function(o,s){t=t.substr(0,a+s)+(r.length>1?r[s]:r)+t.substr(a+s+1)}),e.length===1&&(t=t.replace("0"+r,r+r),t=t.replace("\u0660"+r,r+r)),t},replaceChars=function(t,e,r,n){var i,a,o;if(!checkDigit(t[e[0]]||"0")){for(var s=Math.max(e.length<=3?3:4,r.length);e.length>s;){for(a=e.pop(),o=n[a],n[a]=-1,i=a+1;i<n.length;i++)n[i]--;t=t.substr(0,o)+t.substr(o+1)}for(a=e[e.length-1]+1,o=a<n.length?n[a]:a;e.length<s;){for(e.push(e[e.length-1]+1),i=a;i<n.length;i++)n[i]++;t=t.substr(0,o)+" "+t.substr(o)}}return t=replaceCharsCore(t,e,r,n),t},formatValue$1=function(t,e){return Array.isArray(t)?t.map(function(r){return(e(r)||"").toString()}):(e(t)||"").toString()},ESCAPE_CHARS_REGEXP=/[a-zA-Z]/g,escapeChars=function(t,e,r,n){var i=e.split("").map(function(a,o){return r.indexOf(o)<0&&(a.match(ESCAPE_CHARS_REGEXP)||a==="'")?n[o]:-1});return t=t.split("").map(function(a,o){var s=a,l=i.indexOf(o)>=0,u=o>0&&i.indexOf(o-1)>=0,m=i.indexOf(o+1)>=0;return l&&(u||(s="'"+s),m||(s+="'")),s}).join(""),t},getFormat=function(t){var e=[],r=formatValue$1(new Date(2009,8,8,6,5,4),t),n=r.split("").map(function(s,l){return l}),i=r,a={},o=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(!!i&&(o.forEach(function(s){var l=getDifference(r,formatValue$1(s.date,t),e,s.isDigit),u=s.pattern==="M"&&!a.d?"L":s.pattern;i=replaceChars(i,l,u,n),a[u]=l.length}),i=escapeChars(i,r,e,n),e.length))return i},FORMAT_TYPES={3:"abbreviated",4:"wide",5:"narrow"},monthRegExpGenerator=function(t,e){return t>2?Object.keys(FORMAT_TYPES).map(function(r){return["format","standalone"].map(function(n){return e.getMonthNames(FORMAT_TYPES[r],n).join("|")}).join("|")}).join("|"):t===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},PATTERN_REGEXPS={":":function(t,e){var r=t>1?"{".concat(t,"}"):"",n=escapeRegExp(e.getTimeSeparator());return n!==":"&&(n="".concat(n,"|:")),"".concat(n).concat(r)},y:function(t){return t===2?"[0-9]{".concat(t,"}"):"[0-9]+?"},M:monthRegExpGenerator,L:monthRegExpGenerator,Q:function(t,e){return t>2?e.getQuarterNames(FORMAT_TYPES[t],"format").join("|"):"0?[1-4]"},E:function(t,e){return"\\D*"},a:function(t,e){return e.getPeriodNames(FORMAT_TYPES[t<3?3:t],"format").join("|")},d:function(t){return t===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(t){return t===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(t){return t===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(t){return"[0-9]{1,".concat(t,"}")},w:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},parseNumber=Number,caseInsensitiveIndexOf=function(t,e){return t.map(r=>r.toLowerCase()).indexOf(e.toLowerCase())},monthPatternParser=function(t,e,r){return e>2?["format","standalone"].map(function(n){return Object.keys(FORMAT_TYPES).map(function(i){var a=r.getMonthNames(FORMAT_TYPES[i],n);return caseInsensitiveIndexOf(a,t)})}).reduce(function(n,i){return n.concat(i)}).filter(function(n){return n>=0})[0]:parseNumber(t)-1},PATTERN_PARSERS={y:function(t,e){var r=parseNumber(t);return e===2?r<30?2e3+r:1900+r:r},M:monthPatternParser,L:monthPatternParser,Q:function(t,e,r){return e>2?r.getQuarterNames(FORMAT_TYPES[e],"format").indexOf(t):parseNumber(t)-1},E:function(t,e,r){var n=r.getDayNames(FORMAT_TYPES[e<3?3:e],"format");return caseInsensitiveIndexOf(n,t)},a:function(t,e,r){var n=r.getPeriodNames(FORMAT_TYPES[e<3?3:e],"format");return caseInsensitiveIndexOf(n,t)},d:parseNumber,H:parseNumber,h:parseNumber,m:parseNumber,s:parseNumber,S:function(t,e){for(e=Math.max(e,3),t=t.slice(0,3);e<3;)t+="0",e++;return parseNumber(t)}},ORDERED_PATTERNS=["y","M","d","h","m","s","S"],PATTERN_SETTERS={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(t,e,r){var n=t.getHours(),i=r.h;i!==void 0&&i!==n&&n--,!e&&n===12?n=0:e&&n!==12&&(n+=12),t.setHours(n)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},getSameCharCount=function(t,e){var r=t[e];if(!r)return 0;var n=0;do e++,n++;while(t[e]===r);return n},createPattern=function(t,e){for(var r="",n=0;n<e;n++)r+=t;return r},getRegExpInfo=function(t,e){for(var r="",n="",i,a=[],o=function(){n&&(a.push("'".concat(n,"'")),r+="".concat(escapeRegExp(n),")"),n="")},s=0;s<t.length;s++){var l=t[s],u=l==="'",m=PATTERN_REGEXPS[l];if(!(u&&(i=!i,t[s-1]!=="'")))if(m&&!i){var b=getSameCharCount(t,s),_=createPattern(l,b);o(),a.push(_),r+="(".concat(m(b,e),")"),s+=b-1}else n||(r+="("),n+=l}return o(),isPossibleForParsingFormat(a)||logger.warn("The following format may be parsed incorrectly: ".concat(t,".")),{patterns:a,regexp:new RegExp("^".concat(r,"$"),"i")}},digitFieldSymbols=["d","H","h","m","s","w","M","L","Q"],isPossibleForParsingFormat=function(t){var e=i=>{if(!i)return!1;var a=i[0];return["y","S"].includes(a)||digitFieldSymbols.includes(a)&&i.length<3},r=!0,n=0;return t.every((i,a,o)=>(e(i)&&((s=>s[0]!=="S"&&s.length!==2)(i)&&(r=++n<2),e(o[a+1])||(n=0)),r))},setPatternPart=function(t,e,r,n,i){var a=e[0],o=PATTERN_SETTERS[a],s=PATTERN_PARSERS[a];if(o&&s){var l=s(r,e.length,n);i[e]=l,t[o]?t[o](l):o(t,l,i)}},setPatternPartFromNow=function(t,e,r){var n=PATTERN_SETTERS[e],i="g"+n.substr(1),a=r[i]();t[n](a)},getShortPatterns=function(t){return t.map(function(e){return e[0]==="'"?"":e[0]==="H"?"h":e[0]})},getMaxOrderedPatternIndex=function(t){var e=t.map(function(r){return ORDERED_PATTERNS.indexOf(r)});return Math.max.apply(Math,e)},getOrderedFormatPatterns=function(t){var e=t.filter(function(r){return ORDERED_PATTERNS.indexOf(r)<0});return ORDERED_PATTERNS.concat(e)},getParser=function(t,e){var r=getRegExpInfo(t,e);return function(n){var i=r.regexp.exec(n);if(i){var a=new Date,o=new Date(a.getFullYear(),0,1),s=getShortPatterns(r.patterns),l=getMaxOrderedPatternIndex(s),u=getOrderedFormatPatterns(s),m={};return u.forEach(function(b,_){if(!(!b||_<ORDERED_PATTERNS.length&&_>l)){var I=s.indexOf(b);if(I>=0){var j=r.patterns[I],L=i[I+1];setPatternPart(o,j,L,e,m)}else setPatternPartFromNow(o,b,a)}}),o}return null}},firstDayOfWeekData={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1},SYMBOLS_TO_REMOVE_REGEX=/[\u200E\u200F]/g,getIntlFormatter=t=>e=>{if(!t.timeZoneName){var r=e.getFullYear(),n=String(r).length<3,i=n?r+400:r,a=new Date(Date.UTC(i,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));n&&a.setFullYear(r);var o=extend({timeZone:"UTC"},t);return formatDateTime(a,o)}return formatDateTime(e,t)},formattersCache={},getFormatter=t=>{var e=localizationCoreUtils.locale()+"/"+JSON.stringify(t);return formattersCache[e]||(formattersCache[e]=new Intl.DateTimeFormat(localizationCoreUtils.locale(),t).format),formattersCache[e]};function formatDateTime(t,e){return getFormatter(e)(t).replace(SYMBOLS_TO_REMOVE_REGEX,"")}var formatNumber=t=>new Intl.NumberFormat(localizationCoreUtils.locale()).format(t),getAlternativeNumeralsMap=(()=>{var t={};return e=>{if(!(e in t)){if(formatNumber(0)==="0")return t[e]=!1,!1;t[e]={};for(var r=0;r<10;++r)t[e][formatNumber(r)]=r}return t[e]}})(),normalizeNumerals=t=>{var e=getAlternativeNumeralsMap(localizationCoreUtils.locale());return e?t.split("").map(r=>r in e?String(e[r]):r).join(""):t},removeLeadingZeroes=t=>t.replace(/(\D)0+(\d)/g,"$1$2"),dateStringEquals=(t,e)=>removeLeadingZeroes(t)===removeLeadingZeroes(e),normalizeMonth=t=>t.replace("d\u2019","de "),intlFormats={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(intlFormats,"shortdateshorttime",{get:function(){var t=Intl.DateTimeFormat(localizationCoreUtils.locale()).resolvedOptions();return{year:t.year,month:t.month,day:t.day,hour:"numeric",minute:"numeric"}}});var getIntlFormat=t=>typeof t=="string"&&intlFormats[t.toLowerCase()],monthNameStrategies={standalone:function(t,e){var r=new Date(1999,t,13,1),n=getIntlFormatter({month:e})(r);return n},format:function(t,e){var r=new Date(0,t,13,1),n=normalizeMonth(getIntlFormatter({day:"numeric",month:e})(r)),i=n.split(" ").filter(a=>a.indexOf("13")<0);return i.length===1?i[0]:i.length===2?i[0].length>i[1].length?i[0]:i[1]:monthNameStrategies.standalone(t,e)}},intlDateLocalization={engine:function(){return"intl"},getMonthNames:function(t,e){var r={wide:"long",abbreviated:"short",narrow:"narrow"}[t||"wide"];return e=e==="format"?e:"standalone",Array.apply(null,new Array(12)).map((n,i)=>monthNameStrategies[e](i,r))},getDayNames:function(t){var e=(r=>Array.apply(null,new Array(7)).map((n,i)=>getIntlFormatter({weekday:r})(new Date(0,0,i))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[t||"wide"]);return e},getPeriodNames:function(){var t=getIntlFormatter({hour:"numeric",hour12:!0});return[1,13].map(e=>{var r=formatNumber(1),n=t(new Date(0,0,1,e)).split(r);if(n.length!==2)return"";var i=n[0].length>n[1].length?n[0]:n[1];return i.trim()})},format:function(t,e){if(!!t){if(!e)return t;typeof e!="function"&&!e.formatter&&(e=e.type||e);var r=getIntlFormat(e);if(r)return getIntlFormatter(r)(t);var n=typeof e;return e.formatter||n==="function"||n==="string"?this.callBase.apply(this,arguments):getIntlFormatter(e)(t)}},parse:function(t,e){var r;return e&&!e.parser&&typeof t=="string"&&(t=normalizeMonth(t),r=n=>normalizeMonth(this.format(n,e))),this.callBase(t,r||e)},_parseDateBySimpleFormat:function(t,e){t=normalizeNumerals(t);var r=this.getFormatParts(e),n=t.split(/\D+/).filter(o=>o.length>0);if(r.length===n.length){var i=this._generateDateArgs(r,n),a=o=>{var s=((l,u)=>{var m=u?12:0;return new Date(l.year,l.month,l.day,(l.hours+m)%24,l.minutes,l.seconds)})(i,o);if(dateStringEquals(normalizeNumerals(this.format(s,e)),t))return s};return a(!1)||a(!0)}},_generateDateArgs:function(t,e){var r=new Date,n={year:r.getFullYear(),month:r.getMonth(),day:r.getDate(),hours:0,minutes:0,seconds:0};return t.forEach((i,a)=>{var o=e[a],s=parseInt(o,10);i==="month"&&(s-=1),n[i]=s}),n},formatUsesMonthName:function(t){return typeof t=="object"&&!(t.type||t.format)?t.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(t){return typeof t=="object"&&!(t.type||t.format)?t.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return normalizeNumerals(formatDateTime(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(t){if(typeof t=="string")return this.callBase(t);var e=extend({},intlFormats[t.toLowerCase()]),r=new Date(2001,2,4,5,6,7),n=getIntlFormatter(e)(r);return n=normalizeNumerals(n),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(i=>({name:i.name,index:n.indexOf(i.value)})).filter(i=>i.index>-1).sort((i,a)=>i.index-a.index).map(i=>i.name)}},DEFAULT_DAY_OF_WEEK_INDEX=0,hasIntl=typeof Intl!="undefined",FORMATS_TO_PATTERN_MAP={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},possiblePartPatterns={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},dateLocalization=dependencyInjector({engine:function(){return"base"},_getPatternByFormat:function(t){return FORMATS_TO_PATTERN_MAP[t.toLowerCase()]},_expandPattern:function(t){return this._getPatternByFormat(t)||t},formatUsesMonthName:function(t){return this._expandPattern(t).indexOf("MMMM")!==-1},formatUsesDayName:function(t){return this._expandPattern(t).indexOf("EEEE")!==-1},getFormatParts:function(t){var e=this._getPatternByFormat(t)||t,r=[];return each(e.split(/\W+/),(n,i)=>{each(possiblePartPatterns,(a,o)=>{o.includes(i)&&r.push(a)})}),r},getMonthNames:function(t){return defaultDateNames.getMonthNames(t)},getDayNames:function(t){return defaultDateNames.getDayNames(t)},getQuarterNames:function(t){return defaultDateNames.getQuarterNames(t)},getPeriodNames:function(t){return defaultDateNames.getPeriodNames(t)},getTimeSeparator:function(){return":"},is24HourFormat:function(t){for(var e=new Date(2017,0,20,11,0,0,0),r=new Date(2017,0,20,23,0,0,0),n=this.format(e,t),i=this.format(r,t),a=0;a<n.length;a++)if(n[a]!==i[a])return!isNaN(parseInt(n[a]))},format:function(t,e){if(!!t){if(!e)return t;var r;if(typeof e=="function")r=e;else if(e.formatter)r=e.formatter;else if(e=e.type||e,isString$2(e))return e=FORMATS_TO_PATTERN_MAP[e.toLowerCase()]||e,numberFormatter.convertDigits(getFormatter$3(e,this)(t));if(!!r)return r(t)}},parse:function(t,e){var r=this,n,i;if(!!t){if(!e)return this.parse(t,"shortdate");if(e.parser)return e.parser(t);if(typeof e=="string"&&!FORMATS_TO_PATTERN_MAP[e.toLowerCase()])n=e;else{i=o=>{var s=r.format(o,e);return numberFormatter.convertDigits(s,!0)};try{n=getFormat(i)}catch{}}if(n)return t=numberFormatter.convertDigits(t,!0),getParser(n,this)(t);errors$3.log("W0012");var a=new Date(t);if(!(!a||isNaN(a.getTime())))return a}},firstDayOfWeekIndex:function(){var t=localizationCoreUtils.getValueByClosestLocale(e=>firstDayOfWeekData[e]);return t===void 0?DEFAULT_DAY_OF_WEEK_INDEX:t}});hasIntl&&dateLocalization.inject(intlDateLocalization);var dateLocalization$1=dateLocalization,formatHelper=dependencyInjector({format:function(t,e){var r=isString$2(e)&&e!==""||isPlainObject(e)||isFunction$2(e),n=isNumeric$1(t)||isDate(t);if(!r||!n)return isDefined(t)?t.toString():"";if(isFunction$2(e))return e(t);if(isString$2(e)&&(e={type:e}),isNumeric$1(t))return numberFormatter.format(t,e);if(isDate(t))return dateLocalization$1.format(t,e)},getTimeFormat:function(t){return t?"longtime":"shorttime"},_normalizeFormat:function(t){return Array.isArray(t)?t.length===1?t[0]:function(e){return t.map(function(r){return dateLocalization$1.format(e,r)}).join(" ")}:t},getDateFormatByDifferences:function(t,e){var r=[],n=e&&t.millisecond&&!(t.year||t.month||t.day);return n?r.push(function(i){return i.getSeconds()+i.getMilliseconds()/1e3+"s"}):t.millisecond&&r.push("millisecond"),(t.hour||t.minute||!n&&t.second)&&r.unshift(this.getTimeFormat(t.second)),t.year&&t.month&&t.day?e&&e==="month"?"monthandyear":(r.unshift("shortdate"),this._normalizeFormat(r)):t.year&&t.month?"monthandyear":t.year&&t.quarter?"quarterandyear":t.year?"year":t.quarter?"quarter":t.month&&t.day?(e?r.unshift(function(i){return dateLocalization$1.getMonthNames("abbreviated")[i.getMonth()]+" "+dateLocalization$1.format(i,"day")}):r.unshift("monthandday"),this._normalizeFormat(r)):t.month?"month":t.day?(e?r.unshift("day"):r.unshift(function(i){return dateLocalization$1.format(i,"dayofweek")+", "+dateLocalization$1.format(i,"day")}),this._normalizeFormat(r)):this._normalizeFormat(r)},getDateFormatByTicks:function(t){var e,r,n;if(t.length>1)for(e=dateUtils$1.getDatesDifferences(t[0],t[1]),n=1;n<t.length-1;n++)r=dateUtils$1.getDatesDifferences(t[n],t[n+1]),e.count<r.count&&(e=r);else e={year:!0,month:!0,day:!0,hour:t[0].getHours()>0,minute:t[0].getMinutes()>0,second:t[0].getSeconds()>0,millisecond:t[0].getMilliseconds()>0};var i=this.getDateFormatByDifferences(e);return i},getDateFormatByTickInterval:function(t,e,r){var n,i=function(s,l,u){switch(l){case"year":case"quarter":s.month=u;case"month":s.day=u;case"week":case"day":s.hour=u;case"hour":s.minute=u;case"minute":s.second=u;case"second":s.millisecond=u}};r=isString$2(r)?r.toLowerCase():r;var a=dateUtils$1.getDatesDifferences(t,e);t!==e&&function(s,l,u){!u.getMilliseconds()&&u.getSeconds()?u.getSeconds()-l.getSeconds()===1&&(s.millisecond=!0,s.second=!1):!u.getSeconds()&&u.getMinutes()?u.getMinutes()-l.getMinutes()===1&&(s.second=!0,s.minute=!1):!u.getMinutes()&&u.getHours()?u.getHours()-l.getHours()===1&&(s.minute=!0,s.hour=!1):!u.getHours()&&u.getDate()>1?u.getDate()-l.getDate()===1&&(s.hour=!0,s.day=!1):u.getDate()===1&&u.getMonth()?u.getMonth()-l.getMonth()===1&&(s.day=!0,s.month=!1):!u.getMonth()&&u.getFullYear()&&u.getFullYear()-l.getFullYear()===1&&(s.month=!0,s.year=!1)}(a,t>e?e:t,t>e?t:e),n=dateUtils$1.getDateUnitInterval(a),i(a,n,!0),n=dateUtils$1.getDateUnitInterval(r||"second"),i(a,n,!1),a[{week:"day"}[n]||n]=!0;var o=this.getDateFormatByDifferences(a);return o}}),DATAGRID_SELECTION_DISABLED_CLASS="dx-selection-disabled",DATAGRID_GROUP_OPENED_CLASS="dx-datagrid-group-opened",DATAGRID_GROUP_CLOSED_CLASS="dx-datagrid-group-closed",DATAGRID_EXPAND_CLASS="dx-datagrid-expand",NO_DATA_CLASS="nodata",SCROLLING_MODE_INFINITE="infinite",SCROLLING_MODE_VIRTUAL="virtual",LEGACY_SCROLLING_MODE="scrolling.legacyMode",SCROLLING_MODE_OPTION="scrolling.mode",ROW_RENDERING_MODE_OPTION="scrolling.rowRenderingMode",DATE_INTERVAL_SELECTORS={year:function(t){return t&&t.getFullYear()},month:function(t){return t&&t.getMonth()+1},day:function(t){return t&&t.getDate()},quarter:function(t){return t&&Math.floor(t.getMonth()/3)+1},hour:function(t){return t&&t.getHours()},minute:function(t){return t&&t.getMinutes()},second:function(t){return t&&t.getSeconds()}},getIntervalSelector=function(){var t=arguments[1],e=this.calculateCellValue(t);if(isDefined(e)){if(isDateType(this.dataType)){var r=arguments[0];return DATE_INTERVAL_SELECTORS[r](e)}else if(this.dataType==="number"){var n=arguments[0];return Math.floor(Number(e)/n)*n}}else return null},equalSelectors=function(t,e){return isFunction$2(t)&&isFunction$2(e)&&t.originalCallback&&e.originalCallback?t.originalCallback===e.originalCallback&&t.columnIndex===e.columnIndex:t===e};function isDateType(t){return t==="date"||t==="datetime"}var setEmptyText=function(t){t.get(0).textContent="\xA0"},normalizeSortingInfo=function(t){t=t||[];for(var e=normalizeSortingInfo$1(t),r=0;r<t.length;r++)t&&t[r]&&t[r].isExpanded!==void 0&&(e[r].isExpanded=t[r].isExpanded),t&&t[r]&&t[r].groupInterval!==void 0&&(e[r].groupInterval=t[r].groupInterval);return e},formatValue=function(t,e){var r=formatHelper.format(t,e.format)||t&&t.toString()||"",n={value:t,valueText:e.getDisplayFormat?e.getDisplayFormat(r):r,target:e.target||"row",groupInterval:e.groupInterval};return e.customizeText?e.customizeText.call(e,n):n.valueText},getSummaryText=function(t,e){var r=t.displayFormat||t.columnCaption&&e[t.summaryType+"OtherColumn"]||e[t.summaryType];return formatValue(t.value,{format:t.valueFormat,getDisplayFormat:function(n){return r?format(r,n,t.columnCaption):n},customizeText:t.customizeText})},getWidgetInstance=function(t){var e=t.data&&t.data(),r=e&&e.dxComponents,n=r&&r[0];return n&&e[n]},equalFilterParameters=function t(e,r){if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!t(e[n],r[n]))return!1;return!0}else return isFunction$2(e)&&e.columnIndex>=0&&isFunction$2(r)&&r.columnIndex>=0?e.columnIndex===r.columnIndex&&toComparable$2(e.filterValue)===toComparable$2(r.filterValue):toComparable$2(e)==toComparable$2(r)};function normalizeGroupingLoadOptions(t){return Array.isArray(t)||(t=[t]),t.map((e,r)=>isString$2(e)?{selector:e,isExpanded:r<t.length-1}:e)}var gridCoreUtils={renderNoDataText:function(t){if(t=t||this.element(),!!t){var e=this.addWidgetPrefix(NO_DATA_CLASS),r=t.find("."+e).last(),n=this._dataController.isEmpty(),i=this._dataController.isLoading();r.length||(r=$("<span>").addClass(e).appendTo(t)),n&&!i?r.removeClass("dx-hidden").text(this._getNoDataText()):r.addClass("dx-hidden")}},renderLoadPanel:function(t,e,r){var n;this._loadPanel&&this._loadPanel.$element().remove(),n=this.option("loadPanel"),n&&(n.enabled==="auto"?!r:n.enabled)?(n=extend({shading:!1,message:n.text,container:e},n),this._loadPanel=this._createComponent($("<div>").appendTo(e),LoadPanel$1,n)):this._loadPanel=null},calculateLoadPanelPosition(t){var e=$(getWindow());return getHeight(t)>getHeight(e)?{of:e,boundary:t,collision:"fit"}:{of:t}},getIndexByKey:function(t,e,r){var n=-1;if(t!==void 0&&Array.isArray(e)){r=arguments.length<=2?"key":r;for(var i=0;i<e.length;i++){var a=isDefined(r)?e[i][r]:e[i];if(equalByValue(t,a)){n=i;break}}}return n},combineFilters:function(t,e){var r=[];e=e||"and";for(var n=0;n<t.length;n++){var i;if(!!t[n]){if(((i=t[n])===null||i===void 0?void 0:i.length)===1&&t[n][0]==="!"){if(e==="and")return["!"];if(e==="or")continue}r.length&&r.push(e),r.push(t[n])}}if(r.length===1&&(r=r[0]),r.length)return r},checkChanges:function(t,e){for(var r=0,n=0;n<e.length;n++)t[e[n]]&&r++;return t.length&&t.length===r},equalFilterParameters,proxyMethod:function(t,e,r){t[e]||(t[e]=function(){var n=this._dataSource;return n?n[e].apply(n,arguments):r})},formatValue,getFormatOptionsByColumn:function(t,e){return{format:t.format,getDisplayFormat:t.getDisplayFormat,customizeText:t.customizeText,target:e,trueText:t.trueText,falseText:t.falseText}},getDisplayValue:function(t,e,r,n){return t.displayValueMap&&t.displayValueMap[e]!==void 0?t.displayValueMap[e]:t.calculateDisplayValue&&r&&n!=="group"?t.calculateDisplayValue(r):t.lookup&&!(n==="group"&&(t.calculateGroupValue||t.calculateDisplayValue))?t.lookup.calculateCellValue(e):e},getGroupRowSummaryText:function(t,e){for(var r="(",n=0;n<t.length;n++){var i=t[n];r+=(n>0?", ":"")+getSummaryText(i,e)}return r+")"},getSummaryText,normalizeSortingInfo,getFormatByDataType:function(t){switch(t){case"date":return"shortDate";case"datetime":return"shortDateShortTime"}},getHeaderFilterGroupParameters:function(t,e){var r=[],n=t.dataField||t.name,i=filterUtils.getGroupInterval(t);return i?(each(i,function(a,o){r.push(e?{selector:n,groupInterval:o,isExpanded:a<i.length-1}:getIntervalSelector.bind(t,o))}),r):(e?r=[{selector:n,isExpanded:!1}]:(r=function(a){var o=t.calculateCellValue(a);return(o===void 0||o==="")&&(o=null),o},t.sortingMethod&&(r=[{selector:r,compare:t.sortingMethod.bind(t)}])),r)},equalSortParameters(t,e,r){if(t=normalizeSortingInfo(t),e=normalizeSortingInfo(e),Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!equalSelectors(t[n].selector,e[n].selector)||t[n].desc!==e[n].desc||t[n].groupInterval!==e[n].groupInterval||!r&&Boolean(t[n].isExpanded)!==Boolean(e[n].isExpanded))return!1;return!0}else return(!t||!t.length)==(!e||!e.length)},getPointsByColumns:function(t,e,r,n){for(var i=t.length,a=!1,o,s,l=n||0,u=[],m,b=0;b<=i;b++){b<i&&(o=t.eq(b),s=o.offset(),m=o.css("direction")==="rtl");var _={index:l,x:s?s.left+(!r&&m^b===i?getBoundingRect(o[0]).width:0):0,y:s?s.top+(r&&b===i?getBoundingRect(o[0]).height:0):0,columnIndex:l};if(!r&&b>0){var I=t.eq(b-1).offset();I.top<_.y&&(_.y=I.top)}e&&(a=e(_)),a||u.push(_),l++}return u},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(t,e){var r=$(t);if(isDefined(e.value)&&!(e.data&&e.data.isContinuation)&&!e.row.isNewRow){var n=e.component.getView("rowsView");r.addClass(DATAGRID_EXPAND_CLASS).addClass(DATAGRID_SELECTION_DISABLED_CLASS),$("<div>").addClass(e.value?DATAGRID_GROUP_OPENED_CLASS:DATAGRID_GROUP_CLOSED_CLASS).appendTo(r),n.setAria("label",e.value?n.localize("dxDataGrid-ariaCollapse"):n.localize("dxDataGrid-ariaExpand"),r)}else setEmptyText(r)}}},setEmptyText,isDateType,getSelectionRange:function(t){try{if(t)return{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}}catch{}return{}},setSelectionRange:function(t,e){try{t&&t.setSelectionRange&&t.setSelectionRange(e.selectionStart,e.selectionEnd)}catch{}},focusAndSelectElement:function(t,e){var r=e.is(":focus");eventsEngine$1.trigger(e,"focus");var n=t.option("editing.selectTextOnEditStart"),i=e.get(0);if(!r&&n&&e.is(".dx-texteditor-input")&&!e.is("[readonly]")){var a=getWidgetInstance(e.closest(".dx-texteditor"));when(a&&a._loadItemDeferred).done(function(){i.select()})}},getWidgetInstance,getLastResizableColumnIndex:function(t,e){var r=t.some(s=>s&&!s.command&&!s.fixed&&s.allowResizing!==!1),n;for(n=t.length-1;t[n];n--){var i=t[n],a=e&&e[n],o=!r||i.allowResizing!==!1;if(!i.command&&!i.fixed&&a!=="adaptiveHidden"&&o)break}return n},isElementInCurrentGrid:function(t,e){if(e&&e.length){var r=e.closest("."+t.getWidgetContainerClass()).parent();return r.is(t.component.$element())}return!1},isVirtualRowRendering:function(t){var e=t.option(ROW_RENDERING_MODE_OPTION),r=t.option(SCROLLING_MODE_OPTION)===SCROLLING_MODE_VIRTUAL,n=t.option(SCROLLING_MODE_OPTION)===SCROLLING_MODE_INFINITE;return t.option(LEGACY_SCROLLING_MODE)===!1&&(r||n)?!0:e===SCROLLING_MODE_VIRTUAL},getPixelRatio:function(t){return t.devicePixelRatio||1},getContentHeightLimit(t){return t.mozilla?8e6:15e6/this.getPixelRatio(getWindow())},normalizeLookupDataSource(t){var e;return t.items?e=t.items:(e=t.dataSource,isFunction$2(e)&&!variableWrapper.isWrapped(e)&&(e=e({}))),normalizeDataSourceOptions(e)},getWrappedLookupDataSource(t,e,r){var n=this.normalizeLookupDataSource(t.lookup);if(t.calculateCellValue!==t.defaultCalculateCellValue)return n;var i=e.remoteOperations().groupPaging,a=t.displayField&&isString$2(t.displayField),o,s=_extends({},n,{load:l=>{var u=new Deferred;return(m=>{var b=normalizeGroupingLoadOptions(a?[t.dataField,t.displayField]:t.dataField),_=new Deferred;return!i&&o?_.resolve(o):e.load({filter:r,group:b,take:i?m.take:void 0,skip:i?m.skip:void 0}).done(I=>{o=I,_.resolve(I)}).fail(_.fail),_})(l).done(m=>{m.length===0&&u.resolve([]);var b;if(a){var _=m.map(j=>{var L;return{[t.lookup.valueExpr]:j.key,[t.lookup.displayExpr]:(L=t.displayValueMap[j.key])!==null&&L!==void 0?L:j.items[0].key}});b=new DataSource(_extends({},n,l,{store:new ArrayStore$1({data:_,key:t.lookup.valueExpr})}))}else{var I=this.combineFilters(m.flatMap(j=>j.key).map(j=>[t.lookup.valueExpr,j]),"or");b=new DataSource(_extends({},n,l,{filter:this.combineFilters([I,l.filter],"and")}))}i||b.on("customizeStoreLoadOptions",j=>{j.storeLoadOptions.take=l.take,j.storeLoadOptions.skip=l.skip}),b.load().done(u.resolve).fail(u.fail)}).fail(u.fail),u},key:t.lookup.valueExpr,byKey(l){var u=Deferred();return this.load({filter:[t.lookup.valueExpr,"=",l]}).done(m=>{u.resolve(m[0])}),u.promise()}});return s}},WIDGET_WITH_LEGACY_CONTAINER_NAME="dxDataGrid",ModuleItem=Class.inherit({_endUpdateCore:function(){},ctor:function(t){var e=this;e._updateLockCount=0,e.component=t,e._actions={},e._actionConfigs={},each(this.callbackNames()||[],function(r,n){var i=e.callbackFlags(n)||{};i.unique=!0,i.syncStrategy=!0,e[this]=Callbacks(i)})},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(t){var e=this.component,r=e._optionCache;return arguments.length===1&&r?(t in r||(r[t]=e.option(t)),r[t]):e.option.apply(e,arguments)},_silentOption:function(t,e){var r=this.component,n=r._optionCache;return n&&(n[t]=e),r._setOptionWithoutOptionChange(t,e)},localize:function(t){var e=this.component._optionCache;return e?(t in e||(e[t]=messageLocalization$1.format(t)),e[t]):messageLocalization$1.format(t)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(t){t.name in this._actions&&(this.createAction(t.name,this._actionConfigs[t.name]),t.handled=!0)},getAction:function(t){return this._actions[t]},setAria:function(t,e,r){var n=r.get(0),i=t!=="role"&&t!=="id"?"aria-":"";n.setAttribute?n.setAttribute(i+t,e):r.attr(i+t,e)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(t){return this.component._controllers[t]},createAction:function(t,e){if(isFunction$2(t)){var r=this.component._createAction(t.bind(this),e);return function(n){r({event:n})}}else this._actions[t]=this.component._createActionByOption(t,e),this._actionConfigs[t]=e},executeAction:function(t,e){var r=this._actions[t];return r&&r(e)},dispose:function(){var t=this;each(t.callbackNames()||[],function(){t[this].empty()})},addWidgetPrefix:function(t){var e=this.component.NAME;return"dx-"+e.slice(2).toLowerCase()+(t?"-"+t:"")},getWidgetContainerClass:function(){var t=this.component.NAME===WIDGET_WITH_LEGACY_CONTAINER_NAME?null:"container";return this.addWidgetPrefix(t)},elementIsInsideGrid:function(t){var e=t.closest("."+this.getWidgetContainerClass()).parent();return e.is(this.component.$element())}}),Controller=ModuleItem,ViewController=Controller.inherit({getView:function(t){return this.component._views[t]},getViews:function(){return this.component._views}}),View=ModuleItem.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(t,e){this._requireRender=!0,this.component._requireResize=hasWindow()&&(this.component._requireResize||t),this._requireReady=this._requireReady||e},_renderCore:function(){},_resizeCore:function(){},_parentElement:function(){return this._$parent},ctor:function(t){this.callBase(t),this.renderCompleted=Callbacks(),this.resizeCompleted=Callbacks()},element:function(){return this._$element},getElementHeight:function(){var t=this.element();if(!t)return 0;var e=parseFloat(t.css("marginTop"))||0,r=parseFloat(t.css("marginBottom"))||0,n=t.get(0).offsetHeight;return n+e+r},isVisible:function(){return!0},getTemplate:function(t){return this.component._getTemplate(t)},render:function(t,e){var r=this._$element,n=this.isVisible();!r&&!t||(this._requireReady=!1,r||(r=this._$element=$("<div>").appendTo(t),this._$parent=t),r.toggleClass("dx-hidden",!n),n&&(this.component._optionCache={},this._renderCore(e),this.component._optionCache=void 0,this.renderCompleted.fire(e)))},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(t){this.element().get(0).focus({preventScroll:t})}}),MODULES_ORDER_MAX_INDEX=1e6,processModules=function(t,e){var r=e.modules,n=e.modulesOrder,i=e.controllerTypes||{},a=e.viewTypes||{};e.controllerTypes||(n&&r.sort(function(s,l){var u=n.indexOf(s.name),m=n.indexOf(l.name);return u<0&&(u=MODULES_ORDER_MAX_INDEX),m<0&&(m=MODULES_ORDER_MAX_INDEX),u-m}),each(r,function(){var s=this.controllers,l=this.name,u=this.views;s&&each(s,function(m,b){if(i[m])throw errors$2.Error("E1001",l,m);if(!(b&&b.subclassOf&&b.subclassOf(Controller)))throw b.subclassOf(Controller),errors$2.Error("E1002",l,m);i[m]=b}),u&&each(u,function(m,b){if(a[m])throw errors$2.Error("E1003",l,m);if(!(b&&b.subclassOf&&b.subclassOf(View)))throw errors$2.Error("E1004",l,m);a[m]=b})}),each(r,function(){var s=this.extenders;s&&(s.controllers&&each(s.controllers,function(l,u){i[l]&&(i[l]=i[l].inherit(u))}),s.views&&each(s.views,function(l,u){a[l]&&(a[l]=a[l].inherit(u))}))}),e.controllerTypes=i,e.viewTypes=a);var o=function(s){var l={};return each(s,function(u,m){var b=new m(t);b.name=u,function(_,I,j){var L=j.publicMethods();L&&each(L,function(z,M){if(j[M])if(!_[M])_[M]=function(){return j[M].apply(j,arguments)};else throw errors$2.Error("E1005",M);else throw errors$2.Error("E1006",I,M)})}(t,u,b),l[u]=b}),l};t._controllers=o(i),t._views=o(a)},callModuleItemsMethod=function(t,e,r){r=r||[],t._controllers&&each(t._controllers,function(){this[e]&&this[e].apply(this,r)}),t._views&&each(t._views,function(){this[e]&&this[e].apply(this,r)})},core$1={modules:[],View,ViewController,Controller,registerModule:function(t,e){for(var r=this.modules,n=0;n<r.length;n++)if(r[n].name===t)return;e.name=t,r.push(e),delete this.controllerTypes,delete this.viewTypes},registerModulesOrder:function(t){this.modulesOrder=t},unregisterModule:function(t){this.modules=grep(this.modules,function(e){return e.name!==t}),delete this.controllerTypes,delete this.viewTypes},processModules,callModuleItemsMethod},gridCore=_extends({},core$1,gridCoreUtils,{modules:[]}),SWIPE_START_EVENT="dxswipestart",SWIPE_EVENT="dxswipe",SWIPE_END_EVENT="dxswipeend",HorizontalStrategy={defaultItemSizeFunc:function(){return getWidth(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(t){var e=eventData(t);return(e.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=eventData(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},VerticalStrategy={defaultItemSizeFunc:function(){return getHeight(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(t){var e=eventData(t);return(e.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=eventData(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}},STRATEGIES={horizontal:HorizontalStrategy,vertical:VerticalStrategy},SwipeEmitter=GestureEmitter$1.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(t){this.callBase(t),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return STRATEGIES[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(t){this._tickData=eventData(t)},_start:function(t){this._savedEventData=eventData(t),t=this._fireEvent(SWIPE_START_EVENT,t),t.cancel||(this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset)},_move:function(t){var e=this._getStrategy(),r=eventData(t),n=e.calcOffsetRatio.call(this,t);n=this._fitOffset(n,this.elastic),r.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=r),this._fireEvent(SWIPE_EVENT,t,{offset:n}),t.preventDefault()},_end:function(t){var e=this._getStrategy(),r=e.calcOffsetRatio.call(this,t),n=e.isFastSwipe.call(this,t),i=r,a=this._calcTargetOffset(r,n);i=this._fitOffset(i,this.elastic),a=this._fitOffset(a,!1),this._fireEvent(SWIPE_END_EVENT,t,{offset:i,targetOffset:a})},_fitOffset:function(t,e){var r=this._getStrategy(),n=r.getBounds.call(this);return t<-n[0]?e?(-2*n[0]+t)/3:-n[0]:t>n[1]?e?(2*n[1]+t)/3:n[1]:t},_calcTargetOffset:function(t,e){var r;return e?(r=Math.ceil(Math.abs(t)),t<0&&(r=-r)):r=Math.round(t),r}});registerEmitter$1({emitter:SwipeEmitter,events:[SWIPE_START_EVENT,SWIPE_EVENT,SWIPE_END_EVENT]});var LIST_ITEM_BADGE_CONTAINER_CLASS="dx-list-item-badge-container",LIST_ITEM_BADGE_CLASS="dx-list-item-badge",BADGE_CLASS="dx-badge",LIST_ITEM_CHEVRON_CONTAINER_CLASS="dx-list-item-chevron-container",LIST_ITEM_CHEVRON_CLASS="dx-list-item-chevron",ListItem=CollectionWidgetItem.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(t){if(this._$element.children("."+LIST_ITEM_BADGE_CONTAINER_CLASS).remove(),!!t){var e=$("<div>").addClass(LIST_ITEM_BADGE_CONTAINER_CLASS).append($("<div>").addClass(LIST_ITEM_BADGE_CLASS).addClass(BADGE_CLASS).text(t)),r=this._$element.children("."+LIST_ITEM_CHEVRON_CONTAINER_CLASS).first();r.length>0?e.insertBefore(r):e.appendTo(this._$element)}},_renderShowChevron:function(t){if(this._$element.children("."+LIST_ITEM_CHEVRON_CONTAINER_CLASS).remove(),!!t){var e=$("<div>").addClass(LIST_ITEM_CHEVRON_CONTAINER_CLASS),r=$("<div>").addClass(LIST_ITEM_CHEVRON_CLASS);e.append(r).appendTo(this._$element)}}}),ListItem$1=ListItem,SCROLLVIEW_PULLDOWN_REFRESHING_CLASS$2="dx-scrollview-pull-down-loading",SCROLLVIEW_PULLDOWN_READY_CLASS$1="dx-scrollview-pull-down-ready",SCROLLVIEW_PULLDOWN_IMAGE_CLASS$1="dx-scrollview-pull-down-image",SCROLLVIEW_PULLDOWN_INDICATOR_CLASS$2="dx-scrollview-pull-down-indicator",SCROLLVIEW_PULLDOWN_TEXT_CLASS$1="dx-scrollview-pull-down-text",SCROLLVIEW_PULLDOWN_VISIBLE_TEXT_CLASS$1="dx-scrollview-pull-down-text-visible",STATE_RELEASED$2=0,STATE_READY$2=1,STATE_REFRESHING$2=2,STATE_LOADING$1=3,PULLDOWN_RELEASE_TIME=400,PullDownNativeScrollViewStrategy=NativeStrategy$1.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$refreshingText=t._$refreshingText,this._$scrollViewContent=$(t.content()),this._$container=$(t.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Callbacks(),this.releaseCallbacks=Callbacks(),this.reachBottomCallbacks=Callbacks()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=$("<div>").addClass(SCROLLVIEW_PULLDOWN_IMAGE_CLASS$1),e=$("<div>").addClass(SCROLLVIEW_PULLDOWN_INDICATOR_CLASS$2),r=new LoadIndicator$1($("<div>")).$element(),n=this._$pullDownText=$("<div>").addClass(SCROLLVIEW_PULLDOWN_TEXT_CLASS$1);this._$pullingDownText=$("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=$("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=$("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(r)).append(n)},_releaseState:function(){this._state=STATE_RELEASED$2,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:STATE_RELEASED$2},{element:this._$pulledDownText,visibleState:STATE_READY$2},{element:this._$refreshingText,visibleState:STATE_REFRESHING$2}];each(e,function(r,n){var i=t._state===n.visibleState?"addClass":"removeClass";n.element[i](SCROLLVIEW_PULLDOWN_VISIBLE_TEXT_CLASS$1)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===STATE_READY$2&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(function(){this._pullDownRefreshing()}.bind(this),400))},_setPullDownOffset:function(t){move(this._$topPocket,{top:t}),move(this._$scrollViewContent,{top:t})},handleScroll:function(t){if(this.callBase(t),this._state!==STATE_REFRESHING$2){var e=this.location().top,r=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():r>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this._state!==STATE_LOADING$1&&(this._state=STATE_LOADING$1,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==STATE_READY$2&&(this._state=STATE_READY$2,this._$pullDown.addClass(SCROLLVIEW_PULLDOWN_READY_CLASS$1),this._refreshPullDownText())},_stateReleased:function(){this._state!==STATE_RELEASED$2&&(this._$pullDown.removeClass(SCROLLVIEW_PULLDOWN_REFRESHING_CLASS$2).removeClass(SCROLLVIEW_PULLDOWN_READY_CLASS$1),this._releaseState())},_pullDownRefreshing:function(){this._state!==STATE_REFRESHING$2&&(this._state=STATE_REFRESHING$2,this._$pullDown.addClass(SCROLLVIEW_PULLDOWN_REFRESHING_CLASS$2).removeClass(SCROLLVIEW_PULLDOWN_READY_CLASS$1),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(t){t&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=STATE_READY$2},release:function(){var t=new Deferred;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===STATE_LOADING$1&&(this._state=STATE_RELEASED$2),this._releaseTimeout=setTimeout(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),PULLDOWN_RELEASE_TIME),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),PullDownStrategy=PullDownNativeScrollViewStrategy,SCROLLVIEW_PULLDOWN_DOWN_LOADING_CLASS="dx-scrollview-pull-down-loading",SCROLLVIEW_PULLDOWN_INDICATOR_CLASS$1="dx-scrollview-pull-down-indicator",SCROLLVIEW_PULLDOWN_REFRESHING_CLASS$1="dx-scrollview-pull-down-refreshing",PULLDOWN_ICON_CLASS="dx-icon-pulldown",STATE_RELEASED$1=0,STATE_READY$1=1,STATE_REFRESHING$1=2,STATE_TOUCHED=4,STATE_PULLED=5,SwipeDownNativeScrollViewStrategy=NativeStrategy$1.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$scrollViewContent=$(t.content()),this._$container=$(t.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=Callbacks(),this.releaseCallbacks=Callbacks(),this.reachBottomCallbacks=Callbacks()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=$("<div>").addClass(SCROLLVIEW_PULLDOWN_INDICATOR_CLASS$1),e=new LoadIndicator$1($("<div>")).$element();this._$icon=$("<div>").addClass(PULLDOWN_ICON_CLASS),this._$pullDown.empty().append(this._$icon).append(t.append(e))},_releaseState:function(){this._state=STATE_RELEASED$1,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},handleInit:function(t){this.callBase(t),this._state===STATE_RELEASED$1&&this._location===0&&(this._startClientY=eventData(t.originalEvent).y,this._state=STATE_TOUCHED)},handleMove:function(t){this.callBase(t),this._deltaY=eventData(t.originalEvent).y-this._startClientY,this._state===STATE_TOUCHED&&(this._pullDownEnabled&&this._deltaY>0?this._state=STATE_PULLED:this._complete()),this._state===STATE_PULLED&&(t.preventDefault(),this._movePullDown())},_movePullDown:function(){var t=this._getPullDownHeight(),e=Math.min(3*t,this._deltaY+this._getPullDownStartPosition()),r=180*e/t/3;this._$pullDown.css({opacity:1}).toggleClass(SCROLLVIEW_PULLDOWN_REFRESHING_CLASS$1,e<t),move(this._$pullDown,{top:e}),this._$icon.css({transform:"rotate("+r+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===STATE_PULLED&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*getOuterHeight(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*getOuterHeight(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===STATE_TOUCHED||this._state===STATE_PULLED)&&this._releaseState()},handleScroll:function(t){if(this.callBase(t),this._state!==STATE_REFRESHING$1){var e=this.location().top,r=this._location-e;this._location=e,r>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==STATE_RELEASED$1&&(this._$pullDown.removeClass(SCROLLVIEW_PULLDOWN_DOWN_LOADING_CLASS),this._releaseState())},_pullDownRefreshing:function(){this._state=STATE_REFRESHING$1,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(SCROLLVIEW_PULLDOWN_DOWN_LOADING_CLASS),move(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(t){this._$topPocket.toggle(t),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=STATE_READY$1},release:function(){var t=new Deferred;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),SwipeDownStrategy=SwipeDownNativeScrollViewStrategy,math=Math,SCROLLVIEW_PULLDOWN_REFRESHING_CLASS="dx-scrollview-pull-down-loading",SCROLLVIEW_PULLDOWN_READY_CLASS="dx-scrollview-pull-down-ready",SCROLLVIEW_PULLDOWN_IMAGE_CLASS="dx-scrollview-pull-down-image",SCROLLVIEW_PULLDOWN_INDICATOR_CLASS="dx-scrollview-pull-down-indicator",SCROLLVIEW_PULLDOWN_TEXT_CLASS="dx-scrollview-pull-down-text",SCROLLVIEW_PULLDOWN_VISIBLE_TEXT_CLASS="dx-scrollview-pull-down-text-visible",STATE_RELEASED=0,STATE_READY=1,STATE_REFRESHING=2,STATE_LOADING=3,ScrollViewScroller=Scroller.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=STATE_RELEASED,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:STATE_RELEASED},{element:this._$pulledDownText,visibleState:STATE_READY},{element:this._$refreshingText,visibleState:STATE_REFRESHING}];each(e,function(r,n){var i=t._state===n.visibleState?"addClass":"removeClass";n.element[i](SCROLLVIEW_PULLDOWN_VISIBLE_TEXT_CLASS)})},_initCallbacks:function(){this.pullDownCallbacks=Callbacks(),this.releaseCallbacks=Callbacks(),this.reachBottomCallbacks=Callbacks()},_updateBounds:function(){var t=this._direction!=="horizontal";if(t){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var e=this._$container.get(0),r=this._$content.get(0);this._bottomBoundary=Math.max(r.clientHeight-this._bottomPocketSize-e.clientHeight,0)}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==STATE_RELEASED&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var t=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(t.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&this._state===STATE_READY?this._pullDownRefreshing():this._inBounds()&&this._state===STATE_LOADING?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==STATE_LOADING&&(this._state=STATE_LOADING,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return math.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==STATE_READY&&(this._state=STATE_READY,this._maxOffset=0,this._$pullDown.addClass(SCROLLVIEW_PULLDOWN_READY_CLASS),this._refreshPullDownText())},_stateReleased:function(){this._state!==STATE_RELEASED&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(SCROLLVIEW_PULLDOWN_REFRESHING_CLASS).removeClass(SCROLLVIEW_PULLDOWN_READY_CLASS),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==STATE_REFRESHING&&(this._state=STATE_REFRESHING,this._$pullDown.addClass(SCROLLVIEW_PULLDOWN_REFRESHING_CLASS).removeClass(SCROLLVIEW_PULLDOWN_READY_CLASS),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===STATE_RELEASED&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=executeAsync(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(t){this._reachBottomEnabled!==t&&(this._reachBottomEnabled=t,this._updateBounds())},_pullDownEnablingHandler:function(t){this._pullDownEnabled!==t&&(this._pullDownEnabled=t,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=getHeight(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=STATE_READY},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),SimulatedScrollViewStrategy=SimulatedStrategy$1.inherit({_init:function(t){this.callBase(t),this._$pullDown=t._$pullDown,this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Callbacks(),this.releaseCallbacks=Callbacks(),this.reachBottomCallbacks=Callbacks()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var t=$("<div>").addClass(SCROLLVIEW_PULLDOWN_IMAGE_CLASS),e=$("<div>").addClass(SCROLLVIEW_PULLDOWN_INDICATOR_CLASS),r=new LoadIndicator$1($("<div>")).$element(),n=this._$pullDownText=$("<div>").addClass(SCROLLVIEW_PULLDOWN_TEXT_CLASS);this._$pullingDownText=$("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=$("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=$("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(r)).append(n)},pullDownEnable:function(t){this._eventHandler("pullDownEnabling",t)},reachBottomEnable:function(t){this._eventHandler("reachBottomEnabling",t)},_createScroller:function(t){var e=this,r=e._scrollers[t]=new ScrollViewScroller(e._scrollerOptions(t));r.pullDownCallbacks.add(function(){e.pullDownCallbacks.fire()}),r.releaseCallbacks.add(function(){e.releaseCallbacks.fire()}),r.reachBottomCallbacks.add(function(){e.reachBottomCallbacks.fire()})},_scrollerOptions:function(t){return extend(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var t=this.callBase();return t.top+=getHeight(this._$topPocket),t},dispose:function(){each(this._scrollers,function(){this.dispose()}),this.callBase()}}),SimulatedStrategy=SimulatedScrollViewStrategy,SCROLLVIEW_CLASS="dx-scrollview",SCROLLVIEW_CONTENT_CLASS=SCROLLVIEW_CLASS+"-content",SCROLLVIEW_TOP_POCKET_CLASS=SCROLLVIEW_CLASS+"-top-pocket",SCROLLVIEW_BOTTOM_POCKET_CLASS=SCROLLVIEW_CLASS+"-bottom-pocket",SCROLLVIEW_PULLDOWN_CLASS=SCROLLVIEW_CLASS+"-pull-down",SCROLLVIEW_REACHBOTTOM_CLASS=SCROLLVIEW_CLASS+"-scrollbottom",SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS=SCROLLVIEW_REACHBOTTOM_CLASS+"-indicator",SCROLLVIEW_REACHBOTTOM_TEXT_CLASS=SCROLLVIEW_REACHBOTTOM_CLASS+"-text",SCROLLVIEW_LOADPANEL=SCROLLVIEW_CLASS+"-loadpanel",refreshStrategies={pullDown:PullDownStrategy,swipeDown:SwipeDownStrategy,simulated:SimulatedStrategy},isServerSide=!hasWindow(),scrollViewServerConfig={finishLoading:noop,release:noop,refresh:noop,scrollOffset:()=>({top:0,left:0}),_optionChanged:function(t){if(t.name!=="onUpdated")return this.callBase.apply(this,arguments)}},ScrollView=Scrollable$1.inherit(isServerSide?scrollViewServerConfig:{_getDefaultOptions:function(){return extend(this.callBase(),{pullingDownText:messageLocalization$1.format("dxScrollView-pullingDownText"),pulledDownText:messageLocalization$1.format("dxScrollView-pulledDownText"),refreshingText:messageLocalization$1.format("dxScrollView-refreshingText"),reachBottomText:messageLocalization$1.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=devices$1.real();return t.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return isMaterial()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(SCROLLVIEW_CLASS),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var t=$("<div>").addClass(SCROLLVIEW_CONTENT_CLASS);this._$content.wrapInner(t)},_initTopPocket:function(){var t=this._$topPocket=$("<div>").addClass(SCROLLVIEW_TOP_POCKET_CLASS),e=this._$pullDown=$("<div>").addClass(SCROLLVIEW_PULLDOWN_CLASS);t.append(e),this._$content.prepend(t)},_initBottomPocket:function(){var t=this._$bottomPocket=$("<div>").addClass(SCROLLVIEW_BOTTOM_POCKET_CLASS),e=this._$reachBottom=$("<div>").addClass(SCROLLVIEW_REACHBOTTOM_CLASS),r=$("<div>").addClass(SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS),n=new LoadIndicator$1($("<div>")).$element(),i=this._$reachBottomText=$("<div>").addClass(SCROLLVIEW_REACHBOTTOM_TEXT_CLASS);this._updateReachBottomText(),e.append(r.append(n)).append(i),t.append(e),this._$content.append(t)},_initLoadPanel:function(){var t=$("<div>").addClass(SCROLLVIEW_LOADPANEL).appendTo(this.$element()),e={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(t,LoadPanel$1,e)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var t=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=refreshStrategies[t];this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(t){var e=this.callBase.apply(this,arguments);return(t==="pullDown"||t==="reachBottom")&&this._tryRefreshPocketState(),e},_pullDownEnable:function(t){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(t),this._strategy.pullDownEnable(t),this._pullDownEnabled=t)},_reachBottomEnable:function(t){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(t),this._strategy.reachBottomEnable(t),this._reachBottomEnabled=t)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(t){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=t},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(t){switch(t.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(t)}},content:function(){return getPublicElement(this._$content.children().eq(1))},release:function(t){return t!==void 0&&this.toggleLoading(!t),this._strategy.release()},toggleLoading:function(t){this._reachBottomEnable(t)},refresh:function(){!this.hasActionSubscription("onPullDown")||(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});registerComponent$1("dxScrollView",ScrollView);var ScrollView$1=ScrollView,scroll_view=Object.freeze(Object.defineProperty({__proto__:null,default:ScrollView$1},Symbol.toStringTag,{value:"Module"})),PRIVATE_KEY_FIELD="__dx_key__",CollectionWidget=CollectionWidget$2.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=t=>{var e=this._dataSource;e&&!e.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&t.storeLoadOptions&&(t.storeLoadOptions.skip+=this._correctionIndex)},this._dataSource&&this._dataSource.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(t){var e=$(),r=this.key();return this.itemElements().each((n,i)=>{var a=$(i),o=this._getItemData(a);if(r?keysEqual(r,this.keyOf(o),t):this._isItemEquals(o,t))return e=a,!1}),e},_dataSourceChangedHandler:function(t,e){e!=null&&e.changes?this._modifyByChanges(e.changes):(this.callBase(t,e),this._refreshItemsCache())},_isItemEquals:function(t,e){t&&t[PRIVATE_KEY_FIELD]&&(t=t.data);try{return JSON.stringify(t)===JSON.stringify(e)}catch{return t===e}},_isItemStrictEquals:function(t,e){return this._isItemEquals(t,e)},_shouldAddNewGroup:function(t,e){var r=!1;return this.option("grouped")&&(t.length||(r=!0),each(t,(n,i)=>{i.type==="insert"&&(r=!0,each(e,(a,o)=>{if(i.data.key!==void 0&&i.data.key===o.key)return r=!1,!1}))})),r},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var t=findChanges(this._itemsCache,this._editStrategy.itemsGetter(),e=>e&&e[PRIVATE_KEY_FIELD]!==void 0?e[PRIVATE_KEY_FIELD]:this.keyOf(e),this._isItemStrictEquals.bind(this));if(t&&this._itemsCache.length&&!this._shouldAddNewGroup(t,this._itemsCache))return this._modifyByChanges(t,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var t=this._editStrategy.itemsGetter();try{this._itemsCache=extend(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map((e,r)=>({[PRIVATE_KEY_FIELD]:t[r],data:e})))}catch{this._itemsCache=extend([],t)}}},_dispose:function(){this._dataSource&&this._dataSource.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(t,e,r,n){if(n)this._renderItem(r.index,r.data,null,this._findItemElementByKey(r.key));else{var i=e[indexByKey(t,e,r.key)];i&&update(t,e,r.key,r.data).done(()=>{this._renderItem(e.indexOf(i),i,null,this._findItemElementByKey(r.key))})}},_insertByChange:function(t,e,r,n){when(n||insert(t,e,r.data,r.index)).done(()=>{var i;this._beforeItemElementInserted(r);var a=this._getItemContainer(r.data);this._renderItem((i=r.index)!==null&&i!==void 0?i:e.length,r.data,a),this._afterItemElementInserted(),this._correctionIndex++})},_getItemContainer:function(t){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(t){var e=this.option("selectedIndex");e>t?this.option("selectedIndex",e-1):e===t&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(t){var e=this.option("selectedIndex");t.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:noop,_removeByChange:function(t,e,r,n){var i=n?r.index:indexByKey(t,e,r.key),a=n?r.oldItem:e[i];if(a){var o=this._findItemElementByKey(r.key),s=this._extendActionArgs(o);this._waitDeletingPrepare(o).done(()=>{n?(this._updateIndicesAfterIndex(i-1),this._afterItemElementDeleted(o,s),this._updateSelectionAfterRemoveByChange(i)):(this._deleteItemElementByIndex(i),this._afterItemElementDeleted(o,s))}),this._correctionIndex--}},_modifyByChanges:function(t,e){var r=this._editStrategy.itemsGetter(),n={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},i=this._dataSource,a=i&&i.paginate(),o=i&&i.group();(a||o)&&(t=t.filter(s=>s.type!=="insert"||s.index!==void 0)),t.forEach(s=>this["_".concat(s.type,"ByChange")](n,r,s,e)),this._renderedItemsCount=r.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(t,e,r){var n=t.children(this._itemSelector()).get(r);domAdapter.insertElement(t.get(0),e.get(0),n)},_optionChanged:function(t){switch(t.name){case"items":var e=this._partialRefresh(t.value);e||this.callBase(t);break;case"dataSource":(!this.option("repaintChangesOnly")||!t.value)&&this.option("items",[]),this.callBase(t);break;case"repaintChangesOnly":break;default:this.callBase(t)}}}),isCorrectStructure=t=>Array.isArray(t)&&t.every(e=>{var r=Object.keys(e).length===2,n="key"in e&&"items"in e;return r&&n&&Array.isArray(e.items)}),DataConverterMixin={_getSpecificDataSourceOption:function(){var t=this.option("dataSource"),e=!1,r={};return this._getGroupedOption()&&isCorrectStructure(t)&&(r=t.reduce((n,i)=>{var a=i.items.map(o=>(isObject(o)||(o={text:o},e=!0),"key"in o||(o.key=i.key),o));return n.concat(a)},[]),t={store:{type:"array",data:r},group:{selector:"key",keepInitialKeyOrder:!0}},e&&(t.searchExpr="text")),t}};function toNumber(t){return t?Number(t.replace("px","")):0}function getElementStyle(t){var e,r;return t&&hasWindow()?(e=(r=getWindow()).getComputedStyle)===null||e===void 0?void 0:e.call(r,t):null}function getElementMargin(t,e){var r=getElementStyle(t);return r?toNumber(r["margin".concat(titleize(e))]):0}var LIST_CLASS="dx-list",LIST_ITEM_CLASS$1="dx-list-item",LIST_ITEM_SELECTOR="."+LIST_ITEM_CLASS$1,LIST_ITEM_ICON_CONTAINER_CLASS="dx-list-item-icon-container",LIST_ITEM_ICON_CLASS="dx-list-item-icon",LIST_GROUP_CLASS$1="dx-list-group",LIST_GROUP_HEADER_CLASS="dx-list-group-header",LIST_GROUP_BODY_CLASS="dx-list-group-body",LIST_COLLAPSIBLE_GROUPS_CLASS="dx-list-collapsible-groups",LIST_GROUP_COLLAPSED_CLASS="dx-list-group-collapsed",LIST_GROUP_HEADER_INDICATOR_CLASS="dx-list-group-header-indicator",LIST_HAS_NEXT_CLASS="dx-has-next",LIST_NEXT_BUTTON_CLASS="dx-list-next-button",WRAP_ITEM_TEXT_CLASS="dx-wrap-item-text",SELECT_ALL_ITEM_SELECTOR=".dx-list-select-all",LIST_ITEM_DATA_KEY="dxListItemData",LIST_FEEDBACK_SHOW_TIMEOUT=70,groupItemsGetter=compileGetter("items"),ListBase=CollectionWidget.inherit({_activeStateUnit:[LIST_ITEM_SELECTOR,SELECT_ALL_ITEM_SELECTOR].join(","),_supportedKeys:function(){var t=this,e=function(n){var i=r(n),a=i.is(t.option("focusedElement"));a&&(function(o,s){var l=o.position().top;s==="prev"&&(l=o.position().top-getHeight(t.$element())+getOuterHeight(o)),t.scrollTo(l)}(i,n),i=r(n)),t.option("focusedElement",getPublicElement(i)),t.scrollToItem(i)};function r(n){var i=t.scrollTop(),a=getHeight(t.$element()),o=$(t.option("focusedElement")),s=!0;if(!o.length)return $();for(;s;){var l=o[n]();if(!l.length)break;var u=l.position().top+getOuterHeight(l)/2;s=u<a+i&&u>i,s&&(o=l)}return o}return extend(this.callBase(),{leftArrow:noop,rightArrow:noop,pageUp:function(){return e("prev"),!1},pageDown:function(){return e("next"),!1}})},_getDefaultOptions:function(){return extend(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:messageLocalization$1.format("dxList-pullingDownText"),pulledDownText:messageLocalization$1.format("dxList-pulledDownText"),refreshingText:messageLocalization$1.format("dxList-refreshingText"),pageLoadingText:messageLocalization$1.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:messageLocalization$1.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},_listAttributes:{role:"listbox"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(t){return t?t.showChevron:void 0},badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){var t=current();return this.callBase().concat(deviceDependentOptions(),[{device:function(){return!nativeScrolling},options:{useNativeScrolling:!1}},{device:function(e){return!nativeScrolling&&!devices$1.isSimulator()&&devices$1.real().deviceType==="desktop"&&e.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return devices$1.real().deviceType==="desktop"&&!devices$1.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return isMaterial(t)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(t){t&&this._updateLoadingState(!0)},_itemClass:function(){return LIST_ITEM_CLASS$1},_itemDataKey:function(){return LIST_ITEM_DATA_KEY},_itemContainer:function(){return this._$container},_saveSelectionChangeEvent:function(t){this._selectionChangeEventInstance=t},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children("."+LIST_GROUP_CLASS$1).children("."+LIST_GROUP_BODY_CLASS).children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(t,e){var r=this.callBase(t,e);return r.done(function(){this._refreshItemElements()})},deleteItem:function(t){var e=this.callBase(t);return e.done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(t){if(!(this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)))return this.callBase(t)},_allowDynamicItemsAppend:function(){return!0},_resetDataSourcePageIndex:function(){var t=this.getDataSource();t&&t.pageIndex()!==0&&(t.pageIndex(0),t.load())},_init:function(){this.callBase(),this._resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=LIST_FEEDBACK_SHOW_TIMEOUT,this._createGroupRenderAction()},_scrollBottomMode:function(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode:function(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions:function(){var t=this._scrollBottomMode(),e=this._nextButtonMode();return extend(this.callBase(),{paginate:ensureDefined(t||e,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(t){return this._itemContainer().find(".".concat(LIST_GROUP_CLASS$1)).eq(t).find(".".concat(LIST_GROUP_BODY_CLASS))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var t=this.option("scrollingEnabled"),e=t&&this.option("pullRefreshEnabled"),r=t&&this._scrollBottomMode()&&!!this._dataSource;this._scrollView=this._createComponent(this.$element(),getScrollView(),{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!t,onScroll:this._scrollHandler.bind(this),onPullDown:e?this._pullDownHandler.bind(this):null,onReachBottom:r?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=$(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass(WRAP_ITEM_TEXT_CLASS),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(t){this._scrollAction&&this._scrollAction(t)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new BindableTemplate(function(t,e){isPlainObject(e)?e.key&&t.text(e.key):t.text(String(e))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(t,e){if(this.callBase(t,e),t.icon){var r=getImageContainer(t.icon).addClass(LIST_ITEM_ICON_CLASS),n=$("<div>").addClass(LIST_ITEM_ICON_CONTAINER_CLASS);n.append(r),e.prepend(n)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(t){var e=this._scrollBottomMode()&&t&&!this._isDataSourceLoading()&&!this._isLastPage();this._shouldContinueLoading(e)?this._infiniteDataLoading():(this._scrollView.release(!e&&!this._isDataSourceLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataSource&&this._dataSource.isLoaded()},_isDataSourceFirstLoadCompleted:function(t){return isDefined(t)&&(this._isFirstLoadCompleted=t),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(t){this._loadIndicationSuppressed()||(t&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(function(){var e=!this._itemElements().length,r=!e||this._isDataSourceFirstLoadCompleted();if(r){var n;(n=this._scrollView)===null||n===void 0||n.startLoading()}}.bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),t||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&hasWindow()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(t){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=t},_scrollViewIsFull:function(){var t=this._scrollView;return!t||getHeight(t.content())>getHeight(t.container())},_pullDownHandler:function(t){this._pullRefreshAction(t),this._dataSource&&!this._isDataSourceLoading()?(this._clearSelectedItems(),this._dataSource.pageIndex(0),this._dataSource.reload()):this._updateLoadingState()},_shouldContinueLoading:function(t){var e,r,n=getHeight(this._scrollView.content())-getHeight(this._scrollView.container())<((e=(r=this._scrollView.scrollOffset())===null||r===void 0?void 0:r.top)!==null&&e!==void 0?e:0);return t&&(!this._scrollViewIsFull()||n)},_infiniteDataLoading:function(){var t=this.$element().is(":visible");t&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))},_scrollBottomHandler:function(t){this._pageLoadingAction(t),!this._isDataSourceLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems:function(t){this.option("grouped")?(each(t,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),isMaterial()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var t=addNamespace$1(CLICK_EVENT_NAME,this.NAME),e="."+LIST_GROUP_HEADER_CLASS,r=this.$element(),n=this.option("collapsibleGroups");r.toggleClass(LIST_COLLAPSIBLE_GROUPS_CLASS,n),eventsEngine$1.off(r,t,e),n&&eventsEngine$1.on(r,t,e,function(i){this._createAction(function(a){var o=$(a.event.currentTarget).parent();this._collapseGroupHandler(o),this.option("focusStateEnabled")&&this.option("focusedElement",getPublicElement(o.find("."+LIST_ITEM_CLASS$1).eq(0)))}.bind(this),{validatingTargetName:"element"})({event:i})}.bind(this))},_collapseGroupHandler:function(t,e){var r=new Deferred;if(t.hasClass(LIST_GROUP_COLLAPSED_CLASS)===e)return r.resolve();var n=t.children("."+LIST_GROUP_BODY_CLASS),i=getOuterHeight(n),a=0;return i===0&&(setHeight(n,"auto"),a=getOuterHeight(n)),t.toggleClass(LIST_GROUP_COLLAPSED_CLASS,e),fx$1.animate(n,{type:"custom",from:{height:i},to:{height:a},duration:200,complete:function(){this.updateDimensions(),this._updateLoadingState(),r.resolve()}.bind(this)}),r.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=$(),this.$element().addClass(LIST_CLASS),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria("role",this.option("_listAttributes").role)},_renderInkRipple:function(){this._inkRipple=render$4()},_toggleActiveState:function(t,e,r){this.callBase.apply(this,arguments);var n=this;if(!!this._inkRipple){var i={element:t,event:r};e?isMaterial()?this._inkRippleTimer=setTimeout(function(){n._inkRipple.showWave(i)},LIST_FEEDBACK_SHOW_TIMEOUT/2):n._inkRipple.showWave(i):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(i))}},_postprocessRenderItem:function(t){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent($(t.itemElement))},_attachSwipeEvent:function(t){var e=addNamespace$1(SWIPE_END_EVENT,this.NAME);eventsEngine$1.on(t,e,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(t){this._itemDXEventHandler(t,"onItemSwipe",{direction:t.offset<0?"left":"right"})},_nextButtonHandler:function(t){this._pageLoadingAction(t);var e=this._dataSource;e&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,e){var r=$("<div>").addClass(LIST_GROUP_CLASS$1).appendTo(this._itemContainer()),n=$("<div>").addClass(LIST_GROUP_HEADER_CLASS).appendTo(r),i=this.option("groupTemplate"),a=this._getTemplate(e.template||i,e,t,n),o={index:t,itemData:e,container:getPublicElement(n)};this._createItemByTemplate(a,o),isMaterial()&&$("<div>").addClass(LIST_GROUP_HEADER_INDICATOR_CLASS).prependTo(n),this._renderingGroupIndex=t;var s=$("<div>").addClass(LIST_GROUP_BODY_CLASS).appendTo(r);each(groupItemsGetter(e)||[],function(l,u){this._renderItem({group:t,item:l},u,s)}.bind(this)),this._groupRenderAction({groupElement:getPublicElement(r),groupIndex:t,groupData:e})},downInkRippleHandler:function(t){this._toggleActiveState($(t.currentTarget),!0,t)},upInkRippleHandler:function(t){this._toggleActiveState($(t.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var t="."+LIST_GROUP_HEADER_CLASS,e=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var r=[e,"dxpointerdown",t,this._downInkRippleHandler],n=[e,"dxpointerup dxpointerout",t,this._upInkRippleHandler];eventsEngine$1.off(...r),eventsEngine$1.on(...r),eventsEngine$1.off(...n),eventsEngine$1.on(...n)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),delete this._inkRipple,this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(t){this.callBase(t),this._scrollView.option("disabled",t||!this.option("scrollingEnabled"))},_toggleNextButton:function(t){var e=this._dataSource,r=this._getNextButton();this.$element().toggleClass(LIST_HAS_NEXT_CLASS,t),t&&e&&e.isLoaded()&&r.appendTo(this._itemContainer()),t||r.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=$("<div>").addClass(LIST_NEXT_BUTTON_CLASS),e=$("<div>").appendTo(t);return this._createComponent(e,Button,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:isMaterial()?"default":void 0,integrationOptions:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(!hasWindow())this.callBase();else{var t=this._scrollView.scrollTop();this.callBase(),t&&this._scrollView.scrollTo(t)}},_optionChanged:function(t){switch(t.name){case"pageLoadMode":this._toggleNextButton(t.value),this._initScrollView();break;case"dataSource":this.callBase(t),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(t),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass(WRAP_ITEM_TEXT_CLASS,t.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(t),this._scrollView.option(t.name,t.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(t),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(t);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"_listAttributes":break;default:this.callBase(t)}},_extendActionArgs:function(t){if(!this.option("grouped"))return this.callBase(t);var e=t.closest("."+LIST_GROUP_CLASS$1),r=e.find("."+LIST_ITEM_CLASS$1);return extend(this.callBase(t),{itemIndex:{group:e.index(),item:r.index(t)}})},expandGroup:function(t){var e=new Deferred,r=this._itemContainer().find("."+LIST_GROUP_CLASS$1).eq(t);return this._collapseGroupHandler(r,!1).done(function(){e.resolveWith(this)}.bind(this)),e.promise()},collapseGroup:function(t){var e=new Deferred,r=this._itemContainer().find("."+LIST_GROUP_CLASS$1).eq(t);return this._collapseGroupHandler(r,!0).done(function(){e.resolveWith(this)}.bind(this)),e},updateDimensions:function(){var t=this,e=new Deferred;return t._scrollView?t._scrollView.update().done(function(){!t._scrollViewIsFull()&&t._updateLoadingState(!0),e.resolveWith(t)}):e.resolveWith(t),e.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(t){this._scrollView.scrollBy(t)},scrollTo:function(t){this._scrollView.scrollTo(t)},scrollToItem:function(t){var e=this._editStrategy.getItemElement(t),r=e==null?void 0:e.get(0);this._scrollView.scrollToElement(r,{bottom:getElementMargin(r,"bottom")})},_dimensionChanged:function(){this.updateDimensions()}}).include(DataConverterMixin);ListBase.ItemClass=ListItem$1;function getScrollView(){return ScrollView$1}var TOOLBAR_MENU_ACTION_CLASS="dx-toolbar-menu-action",TOOLBAR_HIDDEN_BUTTON_CLASS="dx-toolbar-hidden-button",TOOLBAR_HIDDEN_BUTTON_GROUP_CLASS="dx-toolbar-hidden-button-group",TOOLBAR_MENU_SECTION_CLASS="dx-toolbar-menu-section",TOOLBAR_MENU_LAST_SECTION_CLASS="dx-toolbar-menu-last-section",ToolbarMenu=ListBase.inherit({_activeStateUnit:"."+TOOLBAR_MENU_ACTION_CLASS,_initMarkup:function(){this._renderSections(),this.callBase()},_getSections:function(){return this._itemContainer().children()},_itemElements:function(){return this._getSections().children(this._itemSelector())},_renderSections:function(){var t=this,e=this._itemContainer();each(["before","center","after","menu"],function(){var r="_$"+this+"Section",n=t[r];n||(t[r]=n=$("<div>").addClass(TOOLBAR_MENU_SECTION_CLASS)),n.appendTo(e)})},_renderItems:function(){this.callBase.apply(this,arguments),this._updateSections()},_updateSections:function(){var t=this.$element().find("."+TOOLBAR_MENU_SECTION_CLASS);t.removeClass(TOOLBAR_MENU_LAST_SECTION_CLASS),t.not(":empty").eq(-1).addClass(TOOLBAR_MENU_LAST_SECTION_CLASS)},_renderItem:function(t,e,r,n){var i=e.location||"menu",a=this["_$"+i+"Section"],o=this.callBase(t,e,a,n);return this._getItemTemplateName({itemData:e})&&o.addClass("dx-toolbar-menu-custom"),(i==="menu"||e.widget==="dxButton"||e.widget==="dxButtonGroup"||e.isAction)&&o.addClass(TOOLBAR_MENU_ACTION_CLASS),e.widget==="dxButton"&&o.addClass(TOOLBAR_HIDDEN_BUTTON_CLASS),e.widget==="dxButtonGroup"&&o.addClass(TOOLBAR_HIDDEN_BUTTON_GROUP_CLASS),o.addClass(e.cssClass),o},_getItemTemplateName:function(t){var e=this.callBase(t),r=t.itemData,n=r&&r.menuItemTemplate;return n||e},_itemClickHandler:function(t,e,r){$(t.target).closest("."+TOOLBAR_MENU_ACTION_CLASS).length&&this.callBase(t,e,r)},_clean:function(){this._getSections().empty(),this.callBase()}});registerComponent$1("dxToolbarMenu",ToolbarMenu);var ToolbarMenu$1=ToolbarMenu,KEYBOARD_DRAG_STEP=5;class PopupDrag{constructor(e){this.init(e)}init(e){var{dragEnabled:r,handle:n,draggableElement:i,positionController:a}=e;this._positionController=a,this._draggableElement=i,this._handle=n,this._dragEnabled=r,this.unsubscribe(),r&&this.subscribe()}moveDown(e){this._moveTo(KEYBOARD_DRAG_STEP,0,e)}moveUp(e){this._moveTo(-KEYBOARD_DRAG_STEP,0,e)}moveLeft(e){this._moveTo(0,-KEYBOARD_DRAG_STEP,e)}moveRight(e){this._moveTo(0,KEYBOARD_DRAG_STEP,e)}subscribe(){var e=this._getEventNames();eventsEngine$1.on(this._handle,e.startEventName,r=>{this._dragStartHandler(r)}),eventsEngine$1.on(this._handle,e.updateEventName,r=>{this._dragUpdateHandler(r)}),eventsEngine$1.on(this._handle,e.endEventName,r=>{this._dragEndHandler(r)})}unsubscribe(){var e=this._getEventNames();eventsEngine$1.off(this._handle,e.startEventName),eventsEngine$1.off(this._handle,e.updateEventName),eventsEngine$1.off(this._handle,e.endEventName)}_getEventNames(){var e=addNamespace$1(DRAG_START_EVENT,"overlayDrag"),r=addNamespace$1(DRAG_EVENT,"overlayDrag"),n=addNamespace$1(DRAG_END_EVENT,"overlayDrag");return{startEventName:e,updateEventName:r,endEventName:n}}_dragStartHandler(e){var r=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=r.top,e.maxBottomOffset=r.bottom,e.maxLeftOffset=r.left,e.maxRightOffset=r.right}_dragUpdateHandler(e){var r={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(r),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,r,n){if(!!this._dragEnabled){n.preventDefault(),n.stopPropagation();var i=this._fitOffsetIntoAllowedRange(e,r);this._moveByOffset(i),this._dragEndHandler(n)}}_fitOffsetIntoAllowedRange(e,r){var n=this._getAllowedOffsets();return{top:fitIntoRange(e,-n.top,n.bottom),left:fitIntoRange(r,-n.left,n.right)}}_getContainerDimensions(){var e=domAdapter.getDocument(),r=this._positionController.$dragResizeContainer.get(0),n=getOuterWidth(r),i=getOuterHeight(r);return isWindow(r)&&(i=Math.max(e.body.clientHeight,i),n=Math.max(e.body.clientWidth,n)),{width:n,height:i}}_getContainerPosition(){var e=this._positionController.$dragResizeContainer.get(0);return isWindow(e)?{top:0,left:0}:getOffset(e)}_getElementPosition(){return getOffset(this._draggableElement)}_getInnerDelta(){var e=this._getContainerDimensions(),r=this._getElementDimensions();return{x:e.width-r.width,y:e.height-r.height}}_getOuterDelta(){var{width:e,height:r}=this._getElementDimensions(),n=this._positionController.outsideDragFactor;return{x:e*n,y:r*n}}_getFullDelta(){var e=this._getInnerDelta(),r=this._getOuterDelta();return{x:e.x+r.x,y:e.y+r.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){var e=this._getFullDelta(),r=e.y>=0&&e.x>=0;if(!r)return{top:0,bottom:0,left:0,right:0};var n=this._getElementPosition(),i=this._getContainerPosition(),a=this._getOuterDelta();return{top:n.top-i.top+a.y,bottom:-n.top+i.top+e.y,left:n.left-i.left+a.x,right:-n.left+i.left+e.x}}_moveByOffset(e){var r=locate(this._draggableElement),n={left:r.left+e.left,top:r.top+e.top};move(this._draggableElement,n)}}var PopupDrag$1=PopupDrag,RESIZABLE="dxResizable",RESIZABLE_CLASS="dx-resizable",RESIZABLE_RESIZING_CLASS="dx-resizable-resizing",RESIZABLE_HANDLE_CLASS="dx-resizable-handle",RESIZABLE_HANDLE_TOP_CLASS="dx-resizable-handle-top",RESIZABLE_HANDLE_BOTTOM_CLASS="dx-resizable-handle-bottom",RESIZABLE_HANDLE_LEFT_CLASS="dx-resizable-handle-left",RESIZABLE_HANDLE_RIGHT_CLASS="dx-resizable-handle-right",RESIZABLE_HANDLE_CORNER_CLASS="dx-resizable-handle-corner",DRAGSTART_START_EVENT_NAME=addNamespace$1(DRAG_START_EVENT,RESIZABLE),DRAGSTART_EVENT_NAME=addNamespace$1(DRAG_EVENT,RESIZABLE),DRAGSTART_END_EVENT_NAME=addNamespace$1(DRAG_END_EVENT,RESIZABLE),SIDE_BORDER_WIDTH_STYLES={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},Resizable=DOMComponent$1.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init:function(){this.callBase(),this.$element().addClass(RESIZABLE_CLASS)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var t=this.option("handles");if(!(t==="none"||!t)){var e=t==="all"?["top","bottom","left","right"]:t.split(" "),r={};each(e,(n,i)=>{r[i]=!0,this._renderHandle(i)}),r.bottom&&r.right&&this._renderHandle("corner-bottom-right"),r.bottom&&r.left&&this._renderHandle("corner-bottom-left"),r.top&&r.right&&this._renderHandle("corner-top-right"),r.top&&r.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(t){var e=$("<div>").addClass(RESIZABLE_HANDLE_CLASS).addClass(RESIZABLE_HANDLE_CLASS+"-"+t).appendTo(this.$element());this._handles.push(e)},_attachEventHandlers:function(){if(!this.option("disabled")){var t={};t[DRAGSTART_START_EVENT_NAME]=this._dragStartHandler.bind(this),t[DRAGSTART_EVENT_NAME]=this._dragHandler.bind(this),t[DRAGSTART_END_EVENT_NAME]=this._dragEndHandler.bind(this),this._handles.forEach(e=>{eventsEngine$1.on(e,t,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(t=>{eventsEngine$1.off(t)})},_toggleEventHandlers:function(t){t?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var t=this.$element();return t.css("boxSizing")==="border-box"?{width:getOuterWidth(t),height:getOuterHeight(t)}:{width:getWidth(t),height:getHeight(t)}},_dragStartHandler:function(t){var e=this.$element();if(e.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(t),this._elementLocation=locate(e),this._elementSize=this._getElementSize(),this._renderDragOffsets(t),this._resizeStartAction({event:t,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),t.targetElements=null},_toggleResizingClass:function(t){this.$element().toggleClass(RESIZABLE_RESIZING_CLASS,t)},_renderDragOffsets:function(t){var e=this._getArea();if(!!e){var r=$(t.target).closest("."+RESIZABLE_HANDLE_CLASS),n=getOuterWidth(r),i=getOuterHeight(r),a=r.offset(),o=e.offset,s=this._getAreaScrollOffset();t.maxLeftOffset=this._leftMaxOffset=a.left-o.left-s.scrollX,t.maxRightOffset=this._rightMaxOffset=o.left+e.width-a.left-n+s.scrollX,t.maxTopOffset=this._topMaxOffset=a.top-o.top-s.scrollY,t.maxBottomOffset=this._bottomMaxOffset=o.top+e.height-a.top-i+s.scrollY}},_getBorderWidth:function(t,e){if(isWindow(t.get(0)))return 0;var r=t.css(SIDE_BORDER_WIDTH_STYLES[e]);return parseInt(r)||0},_proportionate:function(t,e){var r=this._elementSize,n=t==="x"?r.width/r.height:r.height/r.width;return e*n},_getProportionalDelta:function(t){var{x:e,y:r}=t,n=this._proportionate("y",e);if(n>=r)return{x:e,y:n};var i=this._proportionate("x",r);return i>=e?{x:i,y:r}:{x:0,y:0}},_getDirectionName:function(t){var e=this._movingSides;return t==="x"?e.left?"left":"right":e.top?"top":"bottom"},_fitIntoArea:function(t,e){var r,n=this._getDirectionName(t);return Math.min(e,(r=this["_".concat(n,"MaxOffset")])!==null&&r!==void 0?r:1/0)},_fitDeltaProportionally:function(t){var e=_extends({},t),r=this._elementSize,{minWidth:n,minHeight:i,maxWidth:a,maxHeight:o}=this.option(),s=()=>r.width+e.x,l=()=>r.height+e.y,u=j=>e[j]===this._fitIntoArea(j,e[j]),m=()=>inRange(s(),n,a)&&u("x"),b=()=>inRange(l(),i,o)&&u("y");if(!m()){var _=this._fitIntoArea("x",fitIntoRange(s(),n,a)-r.width);e={x:_,y:this._proportionate("y",_)}}if(!b()){var I=this._fitIntoArea("y",fitIntoRange(l(),i,o)-r.height);e={x:this._proportionate("x",I),y:I}}return m()&&b()?e:{x:0,y:0}},_fitDelta:function(t){var{x:e,y:r}=t,n=this._elementSize,{minWidth:i,minHeight:a,maxWidth:o,maxHeight:s}=this.option();return{x:fitIntoRange(n.width+e,i,o)-n.width,y:fitIntoRange(n.height+r,a,s)-n.height}},_getDeltaByOffset:function(t){var e=this._movingSides,r=this._isCornerHandler(e)&&this.option("keepAspectRatio"),n={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)};if(r){var i=this._getProportionalDelta(n),a=this._fitDeltaProportionally(i);n=a}else{var o=this._fitDelta(n),s=this._roundByStep(o);n=s}return n},_updatePosition:function(t,e){var{width:r,height:n}=e,i=this._elementLocation,a=this._movingSides,o=this.$element(),s=this._getElementSize(),l=t.y*(a.top?-1:1)-((s.height||n)-n),u=t.x*(a.left?-1:1)-((s.width||r)-r);move(o,{top:i.top+(a.top?l:0),left:i.left+(a.left?u:0)})},_dragHandler:function(t){var e=this._getOffset(t),r=this._getDeltaByOffset(e),n=this._updateDimensions(r);this._updatePosition(r,n),this._triggerResizeAction(t,n)},_updateDimensions:function(t){var e=u=>u.substring(u.length-2)==="px",r=this.option("stepPrecision")==="strict",n=this._elementSize,i=n.width+t.x,a=n.height+t.y,o=this.$element().get(0).style,s=t.x||r||e(o.width),l=t.y||r||e(o.height);return s&&this.option({width:i}),l&&this.option({height:a}),{width:s?i:n.width,height:l?a:n.height}},_triggerResizeAction:function(t,e){var{width:r,height:n}=e;this._resizeAction({event:t,width:this.option("width")||r,height:this.option("height")||n,handles:this._movingSides}),triggerResizeEvent(this.$element())},_isCornerHandler:t=>Object.values(t).reduce((e,r)=>e^r,0)===0,_getOffset:function(t){var e=t.offset,r=this._movingSides;return!r.left&&!r.right&&(e.x=0),!r.top&&!r.bottom&&(e.y=0),e},_roundByStep:function(t){return this.option("stepPrecision")==="strict"?this._roundStrict(t):this._roundNotStrict(t)},_getSteps:function(){return pairToObject(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(t){var e=this._getSteps();return{x:t.x-t.x%e.h,y:t.y-t.y%e.v}},_roundStrict:function(t){var e=this._movingSides,r={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)},n=this._getSteps(),i=this._elementLocation,a=this._elementSize,o=e.left?i.left:i.left+a.width,s=e.top?i.top:i.top+a.height,l=(o+r.x)%n.h,u=(s+r.y)%n.v,m=Math.sign||(M=>(M=+M,M===0||isNaN(M)?M:M>0?1:-1)),b=(M,R)=>(1+.2*m(R))%1*M,_=(M,R)=>Math.abs(M)<.2*R,I=r.x-l,j=r.y-u;l>b(n.h,r.x)&&(I+=n.h),u>b(n.v,r.y)&&(j+=n.v);var L=(e.left||e.right)&&!_(r.x,n.h)?I:0,z=(e.top||e.bottom)&&!_(r.y,n.v)?j:0;return{x:L*(e.left?-1:1),y:z*(e.top?-1:1)}},_getMovingSides:function(t){var e=$(t.target),r=e.hasClass(RESIZABLE_HANDLE_CORNER_CLASS+"-top-left"),n=e.hasClass(RESIZABLE_HANDLE_CORNER_CLASS+"-top-right"),i=e.hasClass(RESIZABLE_HANDLE_CORNER_CLASS+"-bottom-left"),a=e.hasClass(RESIZABLE_HANDLE_CORNER_CLASS+"-bottom-right");return{top:e.hasClass(RESIZABLE_HANDLE_TOP_CLASS)||r||n,left:e.hasClass(RESIZABLE_HANDLE_LEFT_CLASS)||r||i,bottom:e.hasClass(RESIZABLE_HANDLE_BOTTOM_CLASS)||i||a,right:e.hasClass(RESIZABLE_HANDLE_RIGHT_CLASS)||n||a}},_getArea:function(){var t=this.option("area");return isFunction$2(t)&&(t=t.call(this)),isPlainObject(t)?this._getAreaFromObject(t):this._getAreaFromElement(t)},_getAreaScrollOffset:function(){var t=this.option("area"),e=!isFunction$2(t)&&!isPlainObject(t),r={scrollY:0,scrollX:0};if(e){var n=$(t)[0];isWindow(n)&&(r.scrollX=n.pageXOffset,r.scrollY=n.pageYOffset)}return r},_getAreaFromObject:function(t){var e={width:t.right-t.left,height:t.bottom-t.top,offset:{left:t.left,top:t.top}};return this._correctAreaGeometry(e),e},_getAreaFromElement:function(t){var e=$(t),r;return e.length&&(r={width:getInnerWidth(e),height:getInnerHeight(e),offset:extend({top:0,left:0},isWindow(e[0])?{}:e.offset())},this._correctAreaGeometry(r,e)),r},_correctAreaGeometry:function(t,e){var r=e?this._getBorderWidth(e,"left"):0,n=e?this._getBorderWidth(e,"top"):0;t.offset.left+=r+this._getBorderWidth(this.$element(),"left"),t.offset.top+=n+this._getBorderWidth(this.$element(),"top"),t.width-=getOuterWidth(this.$element())-getInnerWidth(this.$element()),t.height-=getOuterHeight(this.$element())-getInnerHeight(this.$element())},_dragEndHandler:function(t){var e=this.$element();this._resizeEndAction({event:t,width:getOuterWidth(e),height:getOuterHeight(e),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(t){this.option("width",fitIntoRange(t,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(t){this.option("height",fitIntoRange(t,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(t){switch(t.name){case"disabled":this._toggleEventHandlers(!t.value),this.callBase(t);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":hasWindow()&&this._renderWidth(getOuterWidth(this.$element()));break;case"minHeight":case"maxHeight":hasWindow()&&this._renderHeight(getOuterHeight(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(t)}},_clean:function(){this.$element().find("."+RESIZABLE_HANDLE_CLASS).remove()},_useTemplates:function(){return!1}});registerComponent$1(RESIZABLE,Resizable);var Resizable$1=Resizable,AsyncCollectionWidget=CollectionWidget$2.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(t){var e=new Deferred,r=new Deferred;this._deferredItems[t.index]=r;var n=this.callBase.call(this,t);return r.done(()=>{e.resolve(n)}),e.promise()},_createItemByTemplate(t,e){return t.render({model:e.itemData,container:e.container,index:e.index,onRendered:()=>{this._deferredItems[e.index].resolve()}})},_postProcessRenderItems:noop,_renderItemsAsync(){var t=new Deferred;return when.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),t.resolve()}),t.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),AsyncCollectionWidget$1=AsyncCollectionWidget,TOOLBAR_CLASS="dx-toolbar",TOOLBAR_BEFORE_CLASS="dx-toolbar-before",TOOLBAR_CENTER_CLASS="dx-toolbar-center",TOOLBAR_AFTER_CLASS="dx-toolbar-after",TOOLBAR_MINI_CLASS="dx-toolbar-mini",TOOLBAR_ITEM_CLASS="dx-toolbar-item",TOOLBAR_LABEL_CLASS="dx-toolbar-label",TOOLBAR_BUTTON_CLASS="dx-toolbar-button",TOOLBAR_ITEMS_CONTAINER_CLASS="dx-toolbar-items-container",TOOLBAR_GROUP_CLASS="dx-toolbar-group",TOOLBAR_COMPACT_CLASS="dx-toolbar-compact",TOOLBAR_LABEL_SELECTOR="."+TOOLBAR_LABEL_CLASS,TOOLBAR_MULTILINE_CLASS="dx-toolbar-multiline",TEXT_BUTTON_MODE="text",DEFAULT_BUTTON_TYPE="default",DEFAULT_DROPDOWNBUTTON_STYLING_MODE="contained",TOOLBAR_ITEM_DATA_KEY="dxToolbarItemDataKey",ToolbarBase=AsyncCollectionWidget$1.inherit({compactMode:!1,ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e),"height"in this._userOptions&&errors$3.log("W0001",this.NAME,"height","20.1","Functionality associated with this option is not intended for the Toolbar widget.")},_getSynchronizableOptionsForCreateComponent:function(){return this.callBase().filter(t=>t!=="disabled")},_initTemplates:function(){this.callBase();var t=new BindableTemplate(function(e,r,n){isPlainObject(r)?(r.text&&e.text(r.text).wrapInner("<div>"),r.html&&e.html(r.html),r.widget==="dxDropDownButton"&&(r.options=r.options||{},isDefined(r.options.stylingMode)||(r.options.stylingMode=this.option("useFlatButtons")?TEXT_BUTTON_MODE:DEFAULT_DROPDOWNBUTTON_STYLING_MODE)),r.widget==="dxButton"&&(this.option("useFlatButtons")&&(r.options=r.options||{},r.options.stylingMode=r.options.stylingMode||TEXT_BUTTON_MODE),this.option("useDefaultButtons")&&(r.options=r.options||{},r.options.type=r.options.type||DEFAULT_BUTTON_TYPE))):e.text(String(r)),this._getTemplate("dx-polymorph-widget").render({container:e,model:n,parent:this})}.bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:t,menuItem:t})},_getDefaultOptions:function(){return extend(this.callBase(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1,multiline:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return isMaterial()},options:{useFlatButtons:!0}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find(["."+TOOLBAR_BEFORE_CLASS,"."+TOOLBAR_CENTER_CLASS,"."+TOOLBAR_AFTER_CLASS].join(","))},_itemClass:function(){return TOOLBAR_ITEM_CLASS},_itemDataKey:function(){return TOOLBAR_ITEM_DATA_KEY},_buttonClass:function(){return TOOLBAR_BUTTON_CLASS},_dimensionChanged:function(){this._arrangeItems(),this._applyCompactMode()},_initMarkup:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this.setAria("role","toolbar")},_waitParentAnimationFinished:function(){var t=this.$element();return new Promise(e=>{var r=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>(()=>{var n=!0;return t.parents().each((i,a)=>{if(fx$1.isAnimating($(a)))return n=!1,!1}),n&&e(),n})()||r(),15)};r()})},_render:function(){this.callBase(),this._renderItemsAsync(),isMaterial()&&Promise.all([this._waitParentAnimationFinished(),this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this))},_postProcessRenderItems:function(){this._arrangeItems()},_renderToolbar:function(){this.$element().addClass(TOOLBAR_CLASS).toggleClass(TOOLBAR_MULTILINE_CLASS,this.option("multiline")),this._$toolbarItemsContainer=$("<div>").addClass(TOOLBAR_ITEMS_CONTAINER_CLASS).appendTo(this.$element())},_renderSections:function(){var t=this._$toolbarItemsContainer,e=this;each(["before","center","after"],function(){var r="dx-toolbar-"+this,n=t.find("."+r);n.length||(e["_$"+this+"Section"]=n=$("<div>").addClass(r).appendTo(t))})},_checkWebFontForLabelsLoaded:function(){var t=this.$element().find(TOOLBAR_LABEL_SELECTOR),e=[];return t.each((r,n)=>{var i=$(n).text(),a=$(n).css("fontWeight");e.push(waitWebFont(i,a))}),Promise.all(e)},_arrangeItems:function(t){t=t||getWidth(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var e=getBoundingRect(this._$beforeSection.get(0)),r=getBoundingRect(this._$afterSection.get(0));this._alignCenterSection(e,r,t);var n=this._$toolbarItemsContainer.find(TOOLBAR_LABEL_SELECTOR).eq(0),i=n.parent();if(!!n.length){var a=e.width?e.width:n.position().left,o=i.hasClass(TOOLBAR_BEFORE_CLASS)?0:a,s=i.hasClass(TOOLBAR_AFTER_CLASS)?0:r.width,l=0;i.children().not(TOOLBAR_LABEL_SELECTOR).each(function(){l+=getOuterWidth(this)});var u=t-l,m=Math.max(u-o-s,0);if(i.hasClass(TOOLBAR_BEFORE_CLASS))this._alignSection(this._$beforeSection,m);else{var b=getOuterWidth(n)-getWidth(n);n.css("maxWidth",m-b)}}},_alignCenterSection:function(t,e,r){this._alignSection(this._$centerSection,r-t.width-e.width);var n=this.option("rtlEnabled"),i=n?e:t,a=n?t:e,o=getBoundingRect(this._$centerSection.get(0));(i.right>o.left||o.right>a.left)&&this._$centerSection.css({marginLeft:i.width,marginRight:a.width,float:i.width>a.width?"none":"right"})},_alignSection:function(t,e){var r=t.find(TOOLBAR_LABEL_SELECTOR),n=r.toArray();e-=this._getCurrentLabelsPaddings(n);var i=this._getCurrentLabelsWidth(n),a=Math.abs(i-e);e<i?(n=n.reverse(),this._alignSectionLabels(n,a,!1)):this._alignSectionLabels(n,a,!0)},_alignSectionLabels:function(t,e,r){for(var n=function(u){return getBoundingRect(u).width},i=0;i<t.length;i++){var a=$(t[i]),o=Math.ceil(n(t[i])),s=void 0;r&&a.css("maxWidth","inherit");var l=Math.ceil(r?n(t[i]):o);if(l<e)s=r?l:0,e-=l;else{s=r?o+e:o-e,a.css("maxWidth",s);break}a.css("maxWidth",s)}},_applyCompactMode:function(){var t=this.$element();t.removeClass(TOOLBAR_COMPACT_CLASS),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>getWidth(t)&&t.addClass(TOOLBAR_COMPACT_CLASS)},_getCurrentLabelsWidth:function(t){var e=0;return t.forEach(function(r,n){e+=getOuterWidth(r)}),e},_getCurrentLabelsPaddings:function(t){var e=0;return t.forEach(function(r,n){e+=getOuterWidth(r)-getWidth(r)}),e},_renderItem:function(t,e,r,n){var i=e.location||"center",a=r||this["_$"+i+"Section"],o=!!(e.text||e.html),s=this.callBase(t,e,a,n);return s.toggleClass(this._buttonClass(),!o).toggleClass(TOOLBAR_LABEL_CLASS,o).addClass(e.cssClass),s},_renderGroupedItems:function(){var t=this;each(this.option("items"),function(e,r){var n=r.items,i=$("<div>").addClass(TOOLBAR_GROUP_CLASS),a=r.location||"center";!n||!n.length||(each(n,function(o,s){t._renderItem(o,s,i,null)}),t._$toolbarItemsContainer.find(".dx-toolbar-"+a).append(i))})},_renderItems:function(t){var e=this.option("grouped")&&t.length&&t[0].items;e?this._renderGroupedItems():this.callBase(t)},_getToolbarItems:function(){return this.option("items")||[]},_renderContentImpl:function(){var t=this._getToolbarItems();this.$element().toggleClass(TOOLBAR_MINI_CLASS,t.length===0),this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t),this._applyCompactMode()},_renderEmptyMessage:noop,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.$element().empty()},_visibilityChanged:function(t){t&&this._arrangeItems()},_isVisible:function(){return getWidth(this.$element())>0&&getHeight(this.$element())>0},_getIndexByItem:function(t){return this._getToolbarItems().indexOf(t)},_itemOptionChanged:function(t,e,r){this.callBase.apply(this,[t,e,r]),this._arrangeItems()},_optionChanged:function(t){var e=t.name;switch(e){case"width":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"multiline":this.$element().toggleClass(TOOLBAR_MULTILINE_CLASS,t.value);break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:this.callBase.apply(this,arguments)}},_dispose:function(){this.callBase(),clearTimeout(this._waitParentAnimationTimeout)}});registerComponent$1("dxToolbarBase",ToolbarBase);var ToolbarBase$1=ToolbarBase,_excluded$1=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],window$7=getWindow();class PopupPositionController extends OverlayPositionController{constructor(e){var{fullScreen:r,forceApplyBindings:n,dragOutsideBoundary:i,dragAndResizeArea:a,outsideDragFactor:o}=e,s=_objectWithoutPropertiesLoose(e,_excluded$1);super(s),this._props=_extends({},this._props,{fullScreen:r,forceApplyBindings:n,dragOutsideBoundary:i,dragAndResizeArea:a,outsideDragFactor:o}),this._$dragResizeContainer=void 0,this._outsideDragFactor=void 0,this._lastPositionBeforeFullScreen=void 0,this._updateDragResizeContainer(),this._updateOutsideDragFactor()}set fullScreen(e){this._props.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._outsideDragFactor}set dragAndResizeArea(e){this._props.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._props.dragOutsideBoundary=e,this._updateDragResizeContainer(),this._updateOutsideDragFactor()}set outsideDragFactor(e){this._props.outsideDragFactor=e,this._updateOutsideDragFactor()}updateContainer(e){super.updateContainer(e),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._props.fullScreen)move(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var e,r;(e=(r=this._props).forceApplyBindings)===null||e===void 0||e.call(r),!this._shouldRenderContentInitialPosition&&this._lastPositionBeforeFullScreen?(move(this._$content,this._lastPositionBeforeFullScreen),this._lastPositionBeforeFullScreen=void 0,this.detectVisualPositionChange()):super.positionContent()}}_updateOutsideDragFactor(){this._outsideDragFactor=this._getOutsideDragFactor()}_getOutsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){if(this._props.dragOutsideBoundary)return $(window$7);if(this._props.dragAndResizeArea)return $(this._props.dragAndResizeArea);var e=originalViewPort().get(0)||this._props.container;return e?this._$markupContainer:$(window$7)}_getVisualContainer(){return this._props.fullScreen?$(window$7):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1),this._lastPositionBeforeFullScreen=this._visualPosition}_fullScreenDisabled(){this.restorePositionOnNextRender(!1)}}var window$6=getWindow(),POPUP_CLASS="dx-popup",POPUP_WRAPPER_CLASS="dx-popup-wrapper",POPUP_FULL_SCREEN_CLASS="dx-popup-fullscreen",POPUP_FULL_SCREEN_WIDTH_CLASS="dx-popup-fullscreen-width",POPUP_NORMAL_CLASS="dx-popup-normal",POPUP_CONTENT_CLASS="dx-popup-content",DISABLED_STATE_CLASS="dx-state-disabled",POPUP_DRAGGABLE_CLASS="dx-popup-draggable",POPUP_TITLE_CLASS="dx-popup-title",POPUP_TITLE_CLOSEBUTTON_CLASS="dx-closebutton",POPUP_BOTTOM_CLASS="dx-popup-bottom",POPUP_HAS_CLOSE_BUTTON_CLASS="dx-has-close-button",TEMPLATE_WRAPPER_CLASS="dx-template-wrapper",POPUP_CONTENT_FLEX_HEIGHT_CLASS="dx-popup-flex-height",POPUP_CONTENT_INHERIT_HEIGHT_CLASS="dx-popup-inherit-height",ALLOWED_TOOLBAR_ITEM_ALIASES=["cancel","clear","done"],BUTTON_DEFAULT_TYPE="default",BUTTON_NORMAL_TYPE="normal",BUTTON_TEXT_MODE="text",BUTTON_CONTAINED_MODE="contained",IS_OLD_SAFARI=browser.safari&&compare$1(browser.version,[11])<0,HEIGHT_STRATEGIES={static:"",inherit:POPUP_CONTENT_INHERIT_HEIGHT_CLASS,flex:POPUP_CONTENT_FLEX_HEIGHT_CLASS},getButtonPlace=t=>{var e=devices$1.current(),r=e.platform,n="bottom",i="before";if(r==="ios")switch(t){case"cancel":n="top";break;case"clear":n="top",i="after";break;case"done":i="after"}else if(r==="android")switch(t){case"cancel":case"done":i="after"}return{toolbar:n,location:i}},Popup=Overlay$1.inherit({_supportedKeys:function(){return extend(this.callBase(),{upArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveUp(t)},downArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveDown(t)},leftArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveLeft(t)},rightArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveRight(t)}})},_getDefaultOptions:function(){return extend(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var t=current();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(e){return devices$1.real().deviceType==="desktop"&&e.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return devices$1.real().deviceType==="desktop"&&!devices$1.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return isMaterial(t)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){this.callBase(),this._updateResizeCallbackSkipCondition(),this.$element().addClass(POPUP_CLASS),this.$wrapper().addClass(POPUP_WRAPPER_CLASS),this._$popupContent=this._$content.wrapInner($("<div>").addClass(POPUP_CONTENT_CLASS)).children().eq(0)},_render:function(){var t=this.option("fullScreen");this._toggleFullScreenClass(t),this.callBase()},_toggleFullScreenClass:function(t){this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_CLASS,t).toggleClass(POPUP_NORMAL_CLASS,!t)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new EmptyTemplate,bottom:new EmptyTemplate})},_getActionsList:function(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler:function(t){this._shouldSkipContentResize(t)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions:function(){var t=this.option("animation");return["to","from"].some(e=>{var r,n=t==null||(r=t.show)===null||r===void 0?void 0:r[e];return isObject(n)&&("width"in n||"height"in n)})},_updateResizeCallbackSkipCondition(){var t=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=e=>t&&this._showAnimationProcessing||this._areContentDimensionsRendered(e)},_observeContentResize:function(t){if(!!this.option("useResizeObserver")){var e=this._$content.get(0);t?resizeObserverSingleton$1.observe(e,r=>{this._contentResizeHandler(r)}):resizeObserverSingleton$1.unobserve(e)}},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle:function(){var t=this._getToolbarItems("top"),e=this.option("title"),r=this.option("showTitle");if(r&&!!e&&t.unshift({location:devices$1.current().ios?"center":"before",text:e}),r||t.length>0){this._$title&&this._$title.remove();var n=$("<div>").addClass(POPUP_TITLE_CLASS).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",t,n).addClass(POPUP_TITLE_CLASS),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass(POPUP_HAS_CLOSE_BUTTON_CLASS,this._hasCloseButton())}else this._$title&&this._$title.detach()},_renderTemplateByType:function(t,e,r,n){var{rtlEnabled:i,useDefaultToolbarButtons:a,useFlatToolbarButtons:o,disabled:s}=this.option(),l=this._getTemplateByOption(t),u=l instanceof EmptyTemplate;if(u){var m=extend({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),b=extend(n,{items:e,rtlEnabled:i,useDefaultButtons:a,useFlatButtons:o,disabled:s,integrationOptions:m});this._getTemplate("dx-polymorph-widget").render({container:r,model:{widget:"dxToolbarBase",options:b}});var _=r.children("div");return r.replaceWith(_),_}else{var I=$(l.render({container:getPublicElement(r)}));return I.hasClass(TEMPLATE_WRAPPER_CLASS)&&(r.replaceWith(I),r=I),r}},_renderVisibilityAnimate:function(t){return this._observeContentResize(t),this.callBase(t)},_executeTitleRenderAction:function(t){this._getTitleRenderAction()({titleElement:getPublicElement(t)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(t,e,r)=>{var n=$("<div>").addClass(POPUP_TITLE_CLOSEBUTTON_CLASS);this._createComponent(n,Button,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),$(r).append(n)}},_getToolbarItems:function(t){var e=this.option("toolbarItems"),r=[];this._toolbarItemClasses=[];var n=devices$1.current().platform,i=0;return each(e,(a,o)=>{var s=isDefined(o.shortcut),l=s?getButtonPlace(o.shortcut):o;if(s&&n==="ios"&&i<2&&(l.toolbar="top",i++),l.toolbar=o.toolbar||l.toolbar||"top",l&&l.toolbar===t){s&&extend(l,{location:o.location},this._getToolbarItemByAlias(o));var u=n==="generic";o.shortcut==="done"&&u||o.shortcut==="cancel"&&!u?r.unshift(l):r.push(l)}}),t==="top"&&this._hasCloseButton()&&r.push(this._getCloseButton()),r},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:t=>t.toLowerCase()==="done"?"OK":camelize$2(t,!0),_getToolbarItemByAlias:function(t){var e=this,r=t.shortcut;if(!ALLOWED_TOOLBAR_ITEM_ALIASES.includes(r))return!1;var n=extend({text:messageLocalization$1.format(this._getLocalizationKey(r)),onClick:this._createToolbarItemAction(t.onClick),integrationOptions:{},type:e.option("useDefaultToolbarButtons")?BUTTON_DEFAULT_TYPE:BUTTON_NORMAL_TYPE,stylingMode:e.option("useFlatToolbarButtons")?BUTTON_TEXT_MODE:BUTTON_CONTAINED_MODE},t.options||{}),i=POPUP_CLASS+"-"+r;return this._toolbarItemClasses.push(i),{template:function(a,o,s){var l=$("<div>").addClass(i).appendTo(s);e._createComponent(l,Button,n)}}},_createToolbarItemAction:function(t){return this._createAction(t,{afterExecute:function(e){e.component.hide()}})},_renderBottom:function(){var t=this._getToolbarItems("bottom");if(t.length){this._$bottom&&this._$bottom.remove();var e=$("<div>").addClass(POPUP_BOTTOM_CLASS).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",t,e,{compactMode:!0}).addClass(POPUP_BOTTOM_CLASS),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(t){this.callBase(...arguments),this.$content().toggleClass(DISABLED_STATE_CLASS,Boolean(t))},_toggleClasses:function(){var t=ALLOWED_TOOLBAR_ITEM_ALIASES;each(t,(e,r)=>{var n=POPUP_CLASS+"-"+r;this._toolbarItemClasses.includes(n)?(this.$wrapper().addClass(n+"-visible"),this._$bottom.addClass(n)):(this.$wrapper().removeClass(n+"-visible"),this._$bottom.removeClass(n))})},_toggleFocusClass(t,e){if(this.callBase(t,e),t&&!isLastZIndexInStack(this._zIndex)){var r=create(this._zIndexInitValue());remove$3(this._zIndex),this._zIndex=r,this._$wrapper.css("zIndex",r),this._$content.css("zIndex",r)}},_getPositionControllerConfig(){var{fullScreen:t,forceApplyBindings:e,dragOutsideBoundary:r,dragAndResizeArea:n,outsideDragFactor:i}=this.option();return extend({},this.callBase(),{fullScreen:t,forceApplyBindings:e,dragOutsideBoundary:r,dragAndResizeArea:n,outsideDragFactor:i})},_initPositionController(){this._positionController=new PopupPositionController(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometry:function(t){var{visible:e,useResizeObserver:r}=this.option();if(e&&hasWindow()){var n=this._showAnimationProcessing,i=n&&!(t!=null&&t.forceStopAnimation)&&r;this._isAnimationPaused=i||void 0,this._stopAnimation(),t!=null&&t.shouldOnlyReposition?this._positionController.positionContent():this._renderGeometryImpl(t==null?void 0:t.isDimensionChange),i&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){!this.option("useResizeObserver")||(this._renderedDimensions={width:parseInt(getWidth(this._$content),10),height:parseInt(getHeight(this._$content),10)})},_renderGeometryImpl:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;t||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight:function(){var t=this._getOptionValue("height");t==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){var t=this._getDragTarget(),e=this.option("dragEnabled");if(!!t){var r={dragEnabled:e,handle:t.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(r):this._drag=new PopupDrag$1(r),this.$overlayContent().toggleClass(POPUP_DRAGGABLE_CLASS,e)}},_renderResize:function(){this._resizable=this._createComponent(this._$content,Resizable$1,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:t=>{this._resizeEndHandler(t),this._observeContentResize(!0)},onResize:t=>{this._setContentHeight(),this._actions.onResize(t)},onResizeStart:t=>{this._observeContentResize(!1),this._actions.onResizeStart(t)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler:function(t){var e=this._resizable.option("width"),r=this._resizable.option("height");e&&this._setOptionWithoutOptionChange("width",e),r&&this._setOptionWithoutOptionChange("height",r),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(t.event),this._actions.onResizeEnd(t)},_setContentHeight:function(){(this.option("forceApplyBindings")||noop)();var t=this.$overlayContent().get(0),e=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(e,t)),this._setHeightClasses(this.$overlayContent(),e)},_heightStrategyChangeOffset:function(t,e){return t===HEIGHT_STRATEGIES.flex?-e:0},_chooseHeightStrategy:function(t){var e=t.style.width==="auto"||t.style.width==="",r=HEIGHT_STRATEGIES.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(e||IS_OLD_SAFARI?r=HEIGHT_STRATEGIES.inherit:r=HEIGHT_STRATEGIES.flex),r},_getHeightCssStyles:function(t,e){var r={},n=this._getOptionValue("maxHeight",e),i=this._getOptionValue("minHeight",e),a=this._splitPopupHeight(),o=a.header+a.footer+a.contentVerticalOffsets+a.popupVerticalOffsets+this._heightStrategyChangeOffset(t,a.popupVerticalPaddings);if(t===HEIGHT_STRATEGIES.static){if(!this._isAutoHeight()||n||i){var s=this.option("fullScreen")?Math.min(getBoundingRect(e).height,getWindow().innerHeight):getBoundingRect(e).height,l=s-o;r={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var u=$(this._positionController.$visualContainer).get(0),m=addOffsetToMaxHeight(n,-o,u),b=addOffsetToMinHeight(i,-o,u);r={height:"auto",minHeight:b,maxHeight:m}}return r},_setHeightClasses:function(t,e){var r="";for(var n in HEIGHT_STRATEGIES)HEIGHT_STRATEGIES[n]!==e&&(r+=" "+HEIGHT_STRATEGIES[n]);t.removeClass(r).addClass(e)},_isAutoHeight:function(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight:function(){var t=this.topToolbar(),e=this.bottomToolbar();return{header:getVisibleHeight(t&&t.get(0)),footer:getVisibleHeight(e&&e.get(0)),contentVerticalOffsets:getVerticalOffsets(this.$overlayContent().get(0),!0),popupVerticalOffsets:getVerticalOffsets(this.$content().get(0),!0),popupVerticalPaddings:getVerticalOffsets(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),hasWindow()&&this._renderFullscreenWidthClass()},_dimensionChanged:function(){this._renderGeometry({isDimensionChange:!0})},_clean:function(){this.callBase(),this._observeContentResize(!1)},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_WIDTH_CLASS,getOuterWidth(this.$overlayContent())===getWidth(window$6))},refreshPosition:function(){this._renderPosition()},_optionChanged:function(t){var e,r=t.value;switch(t.name){case"disabled":this.callBase(t),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),triggerResizeEvent(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),triggerResizeEvent(this.$overlayContent());break;case"container":if(this.callBase(t),this.option("resizeEnabled")){var n;(n=this._resizable)===null||n===void 0||n.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":this.callBase(t),(e=this._resizable)===null||e===void 0||e.option(t.name,t.value);break;case"onTitleRendered":this._createTitleRenderAction(t.value);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var i=!t.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),i&&(this._renderGeometry(),triggerResizeEvent(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=r,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=r,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=r;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),triggerResizeEvent(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=t.value,this._toggleFullScreenClass(t.value),this._toggleSafariScrolling(),this._renderGeometry(),triggerResizeEvent(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;default:this.callBase(t)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return getPublicElement(this.$content())},$overlayContent:function(){return this._$content}});registerComponent$1("dxPopup",Popup);var Popup$1=Popup,popup$1=Object.freeze(Object.defineProperty({__proto__:null,default:Popup$1},Symbol.toStringTag,{value:"Module"})),borderWidthStyles={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},_excluded=["shading","target","$arrow"],WEIGHT_OF_SIDES={left:-1,top:-1,center:0,right:1,bottom:1},POPOVER_POSITION_ALIASES={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},POPOVER_DEFAULT_BOUNDARY_OFFSET={h:10,v:10};class PopoverPositionController extends OverlayPositionController{constructor(e){var{shading:r,target:n,$arrow:i}=e,a=_objectWithoutPropertiesLoose(e,_excluded);super(a),this._props=_extends({},this._props,{shading:r,target:n}),this._$arrow=i,this._positionSide=void 0,this.updatePosition(this._props.position)}positionWrapper(){this._props.shading&&this._$wrapper.css({top:0,left:0})}updateTarget(e){this._props.target=e,this.updatePosition(this._props.position)}_renderBoundaryOffset(){}_getContainerPosition(){var e=pairToObject(this._position.offset||""),{h:r,v:n}=e,i=this._isVerticalSide(),a=this._isHorizontalSide();if(i||a){var o=this._isPopoverInside(),s=(o?-1:1)*WEIGHT_OF_SIDES[this._positionSide],l=i?getHeight(this._$arrow):getWidth(this._$arrow),u=this._getContentBorderWidth(this._positionSide),m=s*(l-u);i?n+=m:r+=m}return extend({},this._position,{offset:r+" "+n})}_getContentBorderWidth(e){var r=this._$content.css(borderWidthStyles[e]);return parseInt(r)||0}_isPopoverInside(){var e=positionUtils.setup.normalizeAlign(this._position.my),r=positionUtils.setup.normalizeAlign(this._position.at);return e.h===r.h&&e.v===r.v}_isVerticalSide(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return e==="top"||e==="bottom"}_isHorizontalSide(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return e==="left"||e==="right"}_getDisplaySide(e){var r=positionUtils.setup.normalizeAlign(e.my),n=positionUtils.setup.normalizeAlign(e.at),i=WEIGHT_OF_SIDES[r.h]===WEIGHT_OF_SIDES[n.h]&&WEIGHT_OF_SIDES[r.v]===WEIGHT_OF_SIDES[n.v]?-1:1,a=Math.abs(WEIGHT_OF_SIDES[r.h]-i*WEIGHT_OF_SIDES[n.h]),o=Math.abs(WEIGHT_OF_SIDES[r.v]-i*WEIGHT_OF_SIDES[n.v]);return a>o?n.h:n.v}_normalizePosition(e){var r={of:this._props.target,boundaryOffset:POPOVER_DEFAULT_BOUNDARY_OFFSET},n;return isDefined(e)?n=extend(!0,{},r,this._positionToObject(e)):n=r,this._positionSide=this._getDisplaySide(n),n}_positionToObject(e){return isString$2(e)?extend({},POPOVER_POSITION_ALIASES[e]):e}}var POPOVER_CLASS="dx-popover",POPOVER_WRAPPER_CLASS="dx-popover-wrapper",POPOVER_ARROW_CLASS="dx-popover-arrow",POPOVER_WITHOUT_TITLE_CLASS="dx-popover-without-title",POSITION_FLIP_MAP={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},getEventNameByOption=function(t){return isObject(t)?t.name:t},getEventName=function(t,e){var r=t.option(e);return getEventNameByOption(r)},getEventDelay=function(t,e){var r=t.option(e);return isObject(r)&&r.delay},attachEvent=function(t,e){var{target:r,shading:n,disabled:i,hideEvent:a}=t.option(),o=isString$2(r),s=n&&e==="hide",l=s?null:getEventName(t,"".concat(e,"Event"));if(s&&a&&errors$2.log("W1020"),!(!l||i)){var u=addNamespace$1(l,t.NAME),m=t._createAction(function(){var j=getEventDelay(t,e+"Event");this._clearEventsTimeouts(),j?this._timeouts[e]=setTimeout(function(){t[e]()},j):t[e]()}.bind(t),{validatingTargetName:"target"}),b=function(j){m({event:j,target:$(j.currentTarget)})},_="_"+e+"EventHandler";if(o)t[_]=b,eventsEngine$1.on(domAdapter.getDocument(),u,r,b);else{var I=getPublicElement($(r));t[_]=void 0,eventsEngine$1.on(I,u,b)}}},detachEvent=function(t,e,r,n){var i=n||getEventName(t,r+"Event");if(!!i){i=addNamespace$1(i,t.NAME);var a="_"+r+"EventHandler";t[a]?eventsEngine$1.off(domAdapter.getDocument(),i,e,t[a]):eventsEngine$1.off(getPublicElement($(e)),i)}},Popover=Popup$1.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{target:void 0,shading:!1,position:extend({},POPOVER_POSITION_ALIASES.bottom),hideOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",from:1,to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,hideOnParentScroll:!0,arrowPosition:"",arrowOffset:0,_fixWrapperPosition:!0})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!hasWindow()},options:{animation:null}}]},_init:function(){this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass(POPOVER_CLASS),this.$wrapper().addClass(POPOVER_WRAPPER_CLASS)},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(t){detachEvent(this,t,"show"),detachEvent(this,t,"hide")},_attachEvents:function(){attachEvent(this,"show"),attachEvent(this,"hide")},_renderArrow:function(){this._$arrow=$("<div>").addClass(POPOVER_ARROW_CLASS).prependTo(this.$overlayContent())},_documentDownHandler:function(t){return this._isOutsideClick(t)?this.callBase(t):!0},_isOutsideClick:function(t){return!$(t.target).closest(this.option("target")).length},_animate:function(t){t&&t.to&&typeof t.to=="object"&&extend(t.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this.$wrapper().toggleClass(POPOVER_WITHOUT_TITLE_CLASS,!this.option("showTitle")),this.callBase()},_renderPosition:function(){this.callBase(),this._renderOverlayPosition(),this._actions.onPositioned()},_renderOverlayPosition:function(){this._resetOverlayPosition(),this._updateContentSize();var t=this._getContainerPosition(),e=positionUtils.setup(this.$overlayContent(),t),r=this._getSideByLocation(e);this._togglePositionClass("dx-position-"+r),this._toggleFlippedClass(e.h.flip,e.v.flip);var n=this._isHorizontalSide()||this._isVerticalSide();n&&this._renderArrowPosition(r)},_resetOverlayPosition:function(){this._setContentHeight(!0),this._togglePositionClass("dx-position-"+this._positionController._positionSide),move(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(){if(!!this.$content()){var t=positionUtils.calculate(this.$overlayContent(),this._getContainerPosition());if(t.h.oversize>0&&this._isHorizontalSide()&&!t.h.fit){var e=getWidth(this.$overlayContent())-t.h.oversize;setWidth(this.$overlayContent(),e)}if(t.v.oversize>0&&this._isVerticalSide()&&!t.v.fit){var r=getHeight(this.$overlayContent())-t.v.oversize,n=getHeight(this.$content())-t.v.oversize;setHeight(this.$overlayContent(),r),setHeight(this.$content(),n)}}},_getContainerPosition:function(){return this._positionController._getContainerPosition()},_hideOnParentScrollTarget:function(){return $(this._positionController._position.of||this.callBase())},_getSideByLocation:function(t){var e=t.v.flip,r=t.h.flip;return this._isVerticalSide()&&e||this._isHorizontalSide()&&r||this._isPopoverInside()?POSITION_FLIP_MAP[this._positionController._positionSide]:this._positionController._positionSide},_togglePositionClass:function(t){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(t)},_toggleFlippedClass:function(t,e){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",t).toggleClass("dx-popover-flipped-vertical",e)},_renderArrowPosition:function(t){var e=getBoundingRect(this._$arrow.get(0)),r=-(this._isVerticalSide(t)?e.height:e.width);this._$arrow.css(POSITION_FLIP_MAP[t],r);var n=this._isVerticalSide(t)?"left":"top",i=this._isVerticalSide(t)?"width":"height",a=$(this._positionController._position.of),o=positionUtils.offset(a)||{top:0,left:0},s=positionUtils.offset(this.$overlayContent()),l=e[i],u=s[n],m=getBoundingRect(this.$overlayContent().get(0))[i],b=o[n],_=a.get(0),I=_&&!_.preventDefault?getBoundingRect(_)[i]:0,j=Math.max(u,b),L=Math.min(u+m,b+I),z;this.option("arrowPosition")==="start"?z=j-u:this.option("arrowPosition")==="end"?z=L-u-l:z=(j+L)/2-u-l/2;var M=this._positionController._getContentBorderWidth(t),R=fitIntoRange(z-M+this.option("arrowOffset"),M,m-l-2*M);this._$arrow.css(n,R)},_isPopoverInside:function(){return this._positionController._isPopoverInside()},_setContentHeight:function(t){t&&this.callBase()},_getPositionControllerConfig(){var{shading:t,target:e}=this.option();return extend({},this.callBase(),{target:e,shading:t,$arrow:this._$arrow})},_initPositionController(){this._positionController=new PopoverPositionController(this._getPositionControllerConfig())},_renderWrapperDimensions:function(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})},_isVerticalSide:function(t){return this._positionController._isVerticalSide(t)},_isHorizontalSide:function(t){return this._positionController._isHorizontalSide(t)},_clearEventTimeout:function(t){clearTimeout(this._timeouts[t])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(t){switch(t.name){case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":t.value&&this.option("fullScreen",!1);break;case"target":t.previousValue&&this._detachEvents(t.previousValue),this._positionController.updateTarget(t.value),this._invalidate();break;case"showEvent":case"hideEvent":var e=t.name.substring(0,4),r=getEventNameByOption(t.previousValue);this.hide(),detachEvent(this,this.option("target"),e,r),attachEvent(this,e);break;case"visible":this._clearEventTimeout(t.value?"show":"hide"),this.callBase(t);break;default:this.callBase(t)}},show:function(t){return t&&this.option("target",t),this.callBase()}});registerComponent$1("dxPopover",Popover);var Popover$1=Popover,LIST_ITEM_CLASS="dx-list-item",LIST_GROUP_CLASS="dx-list-group",SELECTION_SHIFT=20,SELECTION_MASK=(1<<SELECTION_SHIFT)-1,combineIndex=function(t){return(t.group<<SELECTION_SHIFT)+t.item},splitIndex=function(t){return{group:t>>SELECTION_SHIFT,item:t&SELECTION_MASK}},GroupedEditStrategy=EditStrategy.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+LIST_GROUP_CLASS)},_groupItemElements:function(t){return t.find("."+LIST_ITEM_CLASS)},getIndexByItemData:function(t){var e=this._collectionWidget.option("items"),r=!1;return t?(t.items&&t.items.length&&(t=t.items[0]),each(e,function(n,i){if(!i.items||(each(i.items,function(a,o){return o!==t?!0:(r={group:n,item:a},!1)}),r))return!1}),r):!1},getItemDataByIndex:function(t){var e=this._collectionWidget.option("items");return isNumeric$1(t)?this.itemsGetter()[t]:t&&e[t.group]&&e[t.group].items[t.item]||null},itemsGetter:function(){for(var t=[],e=this._collectionWidget.option("items"),r=0;r<e.length;r++)e[r]&&e[r].items?t=t.concat(e[r].items):t.push(e[r]);return t},deleteItemAtIndex:function(t){var e=splitIndex(t),r=this._collectionWidget.option("items")[e.group].items;r.splice(e.item,1)},getKeysByItems:function(t){var e=[],r;for(r=0;r<t.length;r++)t[r]&&t[r].items?e=e.concat(t[r].items):e.push(t[r]);var n=[];for(r=0;r<e.length;r++)n.push(this._collectionWidget.keyOf(e[r]));return n},getIndexByKey:function(t,e){var r=e||this._collectionWidget.option("items"),n=-1,i=this;return each(r,function(a,o){if(!!o.items&&(each(o.items,function(s,l){var u=i._collectionWidget.keyOf(l);if(i._equalKeys(u,t))return n={group:a,item:s},!1}),n!==-1))return!1}),n},_getGroups:function(t){var e=this._collectionWidget.getDataSource(),r=e&&e.group();return r?storeHelper.queryByOptions(dataQuery(t),{group:r}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(t,e){var r=[],n=this._getGroups(e),i={},a=o=>{var s=this.getIndexByKey(o,n),l=s&&n[s.group];if(!!l)return{groupKey:l.key,item:l.items[s.item]}};return each(t,function(o,s){var l=a(s);if(!!l){var u=l.groupKey,m=l.item,b=i[u];b||(b={key:u,items:[]},i[u]=b,r.push(b)),b.items.push(m)}}),r},moveItemAtIndexToIndex:function(t,e){var r=this._collectionWidget.option("items"),n=splitIndex(t),i=splitIndex(e),a=r[n.group].items,o=r[i.group].items,s=a[n.item];a.splice(n.item,1),o.splice(i.item,0,s)},_isItemIndex:function(t){return t&&isNumeric$1(t.group)&&isNumeric$1(t.item)},_getNormalizedItemIndex:function(t){var e=$(t),r=e.closest("."+LIST_GROUP_CLASS);return r.length?combineIndex({group:this._groupElements().index(r),item:this._groupItemElements(r).index(e)}):-1},_normalizeItemIndex:function(t){return combineIndex(t)},_denormalizeItemIndex:function(t){return splitIndex(t)},_getItemByNormalizedIndex:function(t){var e=splitIndex(t),r=this._groupElements().eq(e.group);return this._groupItemElements(r).eq(e.item)},_itemsFromSameParent:function(t,e){return splitIndex(t).group===splitIndex(e).group}}),GroupedEditStrategy$1=GroupedEditStrategy,registry={},editOptionsRegistry=[],registerOption=function(t,e,r){editOptionsRegistry.push({enabled:t,decoratorType:e,decoratorSubType:r})};registerOption(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")});registerOption(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var t=this.option("itemDeleteMode");return t==="toggle"||t==="slideButton"||t==="swipe"||t==="static"?"delete":"menu"},function(){var t=this.option("itemDeleteMode");return t==="slideItem"&&(t="slide"),t});registerOption(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"});registerOption(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var LIST_ITEM_BEFORE_BAG_CLASS="dx-list-item-before-bag",LIST_ITEM_AFTER_BAG_CLASS="dx-list-item-after-bag",DECORATOR_BEFORE_BAG_CREATE_METHOD="beforeBag",DECORATOR_AFTER_BAG_CREATE_METHOD="afterBag",DECORATOR_MODIFY_ELEMENT_METHOD="modifyElement",DECORATOR_AFTER_RENDER_METHOD="afterRender",DECORATOR_GET_EXCLUDED_SELECTORS_METHOD="getExcludedSelectors",EditProvider=Class.inherit({ctor:function(t){this._list=t,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&each(this._decorators,function(t,e){e.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],each(editOptionsRegistry,function(t,e){var r=e.enabled.call(this._list);if(r){var n=e.decoratorType.call(this._list),i=e.decoratorSubType.call(this._list),a=this._createDecorator(n,i);this._decorators.push(a)}}.bind(this))},_createDecorator:function(t,e){var r=this._findDecorator(t,e);return new r(this._list)},_findDecorator:function(t,e){var r,n=(r=registry[t])===null||r===void 0?void 0:r[e];if(!n)throw errors$2.Error("E1012",t,e);return n},modifyItemElement:function(t){var e=$(t.itemElement),r={$itemElement:e};this._prependBeforeBags(e,r),this._appendAfterBags(e,r),this._applyDecorators(DECORATOR_MODIFY_ELEMENT_METHOD,r)},afterItemsRendered:function(){this._applyDecorators(DECORATOR_AFTER_RENDER_METHOD)},_prependBeforeBags:function(t,e){var r=this._collectDecoratorsMarkup(DECORATOR_BEFORE_BAG_CREATE_METHOD,e,LIST_ITEM_BEFORE_BAG_CLASS);t.prepend(r)},_appendAfterBags:function(t,e){var r=this._collectDecoratorsMarkup(DECORATOR_AFTER_BAG_CREATE_METHOD,e,LIST_ITEM_AFTER_BAG_CLASS);t.append(r)},_collectDecoratorsMarkup:function(t,e,r){var n=$("<div>");return each(this._decorators,function(){var i=$("<div>").addClass(r);this[t](extend({$container:i},e)),i.children().length&&n.append(i)}),n.children()},_applyDecorators:function(t,e){each(this._decorators,function(){this[t](e)})},_handlerExists:function(t){if(!this._decorators)return!1;for(var e=this._decorators,r=e.length,n=0;n<r;n++)if(e[n][t]!==noop)return!0;return!1},_eventHandler:function(t,e,r){if(!this._decorators)return!1;for(var n=!1,i=this._decorators,a=i.length,o=0;o<a&&(n=i[o][t](e,r),!n);o++);return n},handleClick:function(t,e){return this._eventHandler("handleClick",t,e)},handleKeyboardEvents:function(t,e){return this._eventHandler("handleKeyboardEvents",t,e)},handleEnterPressing:function(t){return this._eventHandler("handleEnterPressing",t)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(t,e){return this._eventHandler("handleContextMenu",t,e)},getExcludedItemSelectors:function(){var t=[];return this._applyDecorators(DECORATOR_GET_EXCLUDED_SELECTORS_METHOD,t),t.join(",")}}),EditProvider$1=EditProvider,LIST_ITEM_SELECTED_CLASS="dx-list-item-selected",LIST_ITEM_RESPONSE_WAIT_CLASS="dx-list-item-response-wait",ListEdit$1=ListBase.inherit({_supportedKeys(){var t=this,e=this.callBase(),r=(n,i)=>{var a=this._editStrategy,o=this.option("focusedElement"),s=a.getNormalizedIndex(o),l=s===this._getLastItemIndex();if(!(l&&this._isDataSourceLoading()))if(n.shiftKey&&t.option("itemDragging.allowReordering")){var u=s+(i?-1:1),m=a.getItemElement(u);this.reorderItem(o,m),this.scrollToItem(o),n.preventDefault()}else{var b=this._editProvider,_=b.handleKeyboardEvents(s,i);_||(i?e.upArrow(n):e.downArrow(n))}};return extend({},e,{del:n=>{t.option("allowItemDeleting")&&(n.preventDefault(),t.deleteItem(t.option("focusedElement")))},upArrow:n=>r(n,!0),downArrow:n=>r(n),enter:function(n){this._editProvider.handleEnterPressing(n)||e.enter.apply(this,arguments)},space:function(n){this._editProvider.handleEnterPressing(n)||e.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var t=this._editProvider.getExcludedItemSelectors();t.length&&(this._itemElementsCache=this._itemElementsCache.not(t))},_isItemStrictEquals:function(t,e){var r=t&&t.__dx_key__;return r&&!this.key()&&this._selection.isItemSelected(r)?!1:this.callBase(t,e)},_getDefaultOptions(){return extend(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:messageLocalization$1.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:t=>t.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new EditProvider$1(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new GroupedEditStrategy$1(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>LIST_ITEM_SELECTED_CLASS,_itemResponseWaitClass:()=>LIST_ITEM_RESPONSE_WAIT_CLASS,_itemClickHandler(t){var e=$(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var r=this._editProvider.handleClick(e,t);r||(this._saveSelectionChangeEvent(t),this.callBase(...arguments))}},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(t){var e=$(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var r=isTouchEvent(t)&&this._editProvider.handleContextMenu(e,t);if(r){t.handledByEditProvider=!0;return}this.callBase(...arguments)}},_getItemContainer:function(t){if(this.option("grouped")){var e,r=(e=this._editStrategy.getIndexByItemData(t))===null||e===void 0?void 0:e.group;return this._getGroupContainerByIndex(r)}else return this.callBase(t)},_itemContextMenuHandler(t){var e=$(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var r=!t.handledByEditProvider&&this._editProvider.handleContextMenu(e,t);if(r){t.preventDefault();return}this.callBase(...arguments)}},_postprocessRenderItem(t){this.callBase(...arguments),this._editProvider.modifyItemElement(t)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(t){var e=this._editStrategy.getItemElement(t);this.option("focusedElement",e),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(t){switch(t.name){case"selectAllMode":this._initDataSource(),this._dataSource.pageIndex(0),this._dataSource.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(t);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(t)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(t){return this._itemElements().index(t)},getItemElementByFlatIndex(t){var e=this._itemElements();return t<0||t>=e.length?$():e.eq(t)},getItemByIndex(t){return this._editStrategy.getItemDataByIndex(t)}}),ListEdit$2=ListEdit$1,ListSearch=ListEdit$2.inherit(searchBoxMixin).inherit({_addWidgetPrefix:function(t){return"dx-list-"+t},_getCombinedFilter:function(){var t,e,r=this._dataSource;return r&&(e={filter:r.filter()},r._addSearchFilter(e),t=e.filter),t},_initDataSource:function(){var t=this.option("searchValue"),e=this.option("searchExpr"),r=this.option("searchMode");this.callBase(),this._dataSource&&(t&&t.length&&this._dataSource.searchValue(t),r.length&&this._dataSource.searchOperation(searchBoxMixin.getOperationBySearchMode(r)),e&&this._dataSource.searchExpr(e))}}),ListEdit=ListSearch;registerComponent$1("dxList",ListEdit);var BUTTON_GROUP_CLASS="dx-buttongroup",TOOLBAR_ITEMS=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],getItemInstance=function(t){var e=t.data&&t.data(),r=e&&e.dxComponents,n=r&&r[0];return n&&e[n]};function toggleItemFocusableElementTabIndex(t,e){var r;if(!!t){var n=t._findItemElementByItem(e);if(!!n.length){var i=t._getItemData(n),a=!!((r=i.options)!==null&&r!==void 0&&r.disabled||i.disabled||t.option("disabled")),{widget:o}=i;if(o&&TOOLBAR_ITEMS.indexOf(o)!==-1){var s=n.find(o.toLowerCase().replace("dx",".dx-"));if(s.length){var l,u,m=getItemInstance(s),b=o==="dxDropDownButton"?m._focusTarget().find(".".concat(BUTTON_GROUP_CLASS)):(m==null||(l=m._focusTarget)===null||l===void 0?void 0:l.call(m))||$(m.element()),_=(u=i.options)===null||u===void 0?void 0:u.tabIndex;a?b.attr("tabIndex",-1):b.attr("tabIndex",_||0)}}}}}var window$5=getWindow(),DROP_DOWN_MENU_CLASS="dx-dropdownmenu",DROP_DOWN_MENU_POPUP_CLASS="dx-dropdownmenu-popup",DROP_DOWN_MENU_POPUP_WRAPPER_CLASS="dx-dropdownmenu-popup-wrapper",DROP_DOWN_MENU_LIST_CLASS="dx-dropdownmenu-list",DROP_DOWN_MENU_BUTTON_CLASS="dx-dropdownmenu-button",POPUP_OPTION_MAP={popupWidth:"width",popupHeight:"height",popupMaxHeight:"maxHeight",popupAutoResizeEnabled:"autoResizeEnabled"},BUTTON_OPTION_MAP={buttonIcon:"icon",buttonText:"text",buttonWidth:"width",buttonHeight:"height",buttonTemplate:"template"},DropDownMenu=Widget$2.inherit({_supportedKeys:function(){var t={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(t=this._button._supportedKeys()),extend(this.callBase(),t,{tab:function(){this._popup&&this._popup.hide()}})},_getDefaultOptions:function(){return extend(this.callBase(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",buttonText:"",buttonIcon:"overflow",buttonWidth:void 0,buttonHeight:void 0,buttonTemplate:"content",onButtonClick:null,usePopover:!1,popupWidth:"auto",popupHeight:"auto",activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,selectionMode:"none",selectedItemKeys:[],deferRendering:!1,popupPosition:{my:"top center",at:"bottom center",collision:"fit flip",offset:{v:1}},popupAnimation:void 0,onItemRendered:null,menuWidget:ListEdit,popupMaxHeight:void 0,closeOnClick:!0,useInkRipple:!1,container:void 0,popupAutoResizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{usePopover:!0}},{device:{platform:"generic"},options:{popupPosition:{offset:{v:4}}}},{device:function(){return devices$1.real().deviceType==="desktop"&&!devices$1.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{popupPosition:{my:"top "+(this.option("rtlEnabled")?"left":"right"),at:"top "+(this.option("rtlEnabled")?"left":"right"),collision:"flipfit"},popupAnimation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}},{device:function(){return isMaterial()},options:{useInkRipple:!0}}])},_initOptions:function(t){devices$1.current().platform==="android"&&(t.popupPosition||(t.popupPosition={at:(t.usePopover?"bottom ":"top ")+(t.rtlEnabled?"left":"right")})),this.callBase(t)},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this.$element().addClass(DROP_DOWN_MENU_CLASS),this._initDataSource(),this._initItemClickAction(),this._initButtonClickAction()},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initButtonClickAction:function(){this._buttonClickAction=this._createActionByOption("onButtonClick")},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new ChildDefaultTemplate("content")}),this.callBase()},_initMarkup:function(){this._renderButton(),this.callBase()},_render:function(){this.callBase(),this.setAria({role:"menubar",haspopup:!0,expanded:this.option("opened")})},_renderContentImpl:function(){this.option("opened")&&this._renderPopup()},_clean:function(){this._cleanFocusState(),this._popup&&(this._popup.$element().remove(),delete this._$popup)},_renderButton:function(){var t=this.$element().addClass(DROP_DOWN_MENU_BUTTON_CLASS),e=this._buttonOptions();this._button=this._createComponent(t,Button,e)},_toggleActiveState:function(t,e,r){this._button._toggleActiveState(t,e,r)},_buttonOptions:function(){return{text:this.option("buttonText"),icon:this.option("buttonIcon"),width:this.option("buttonWidth"),height:this.option("buttonHeight"),useInkRipple:this.option("useInkRipple"),template:this.option("buttonTemplate"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:function(t){this.option("opened",!this.option("opened")),this._buttonClickAction(t)}.bind(this)}},_toggleMenuVisibility:function(t){var e=t===void 0?!this._popup.option("visible"):t;t&&this._renderPopup(),this._popup.toggle(e),this.setAria("expanded",e)},_renderPopup:function(){if(!this._$popup){var t=this._$popup=$("<div>").appendTo(this.$element()),e=this._popupOptions();this._popup=this._createComponent(t,Popover$1,e)}},_popupOptions:function(){var t=!this.option("usePopover");return{onInitialized:function(e){e.component.$wrapper().addClass(DROP_DOWN_MENU_POPUP_WRAPPER_CLASS).toggleClass(DROP_DOWN_MENU_POPUP_CLASS,t)},deferRendering:!1,contentTemplate:function(e){this._renderList(e)}.bind(this),position:this.option("popupPosition"),animation:this.option("popupAnimation"),onOptionChanged:function(e){e.name==="visible"&&this.option("opened",e.value)}.bind(this),target:this.$element(),height:this.option("popupHeight"),width:this.option("popupWidth"),maxHeight:this.option("popupMaxHeight"),container:this.option("container"),autoResizeEnabled:this.option("popupAutoResizeEnabled")}},_renderList:function(t){var e=$(t),r=this._listOptions();e.addClass(DROP_DOWN_MENU_LIST_CLASS),this._list=this._createComponent(e,this.option("menuWidget"),r),this._list._getAriaTarget=function(){return this.$element()}.bind(this),this._setListDataSource();var n=.5*getHeight(window$5);getHeight(e)>n&&setHeight(e,n)},_itemOptionChanged:function(t,e,r){var n;(n=this._list)===null||n===void 0||n._itemOptionChanged(t,e,r),toggleItemFocusableElementTabIndex(this._list,t)},_listOptions:function(){return{pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",selectionMode:this.option("selectionMode"),selectedItemKeys:this.option("selectedItemKeys"),itemTemplate:this.option("itemTemplate"),onItemClick:function(t){this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(t)}.bind(this),tabIndex:-1,focusStateEnabled:this.option("focusStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}}},_setListDataSource:function(){this._list&&this._list.option("dataSource",this._dataSource||this.option("items")),delete this._deferRendering},_getKeyboardListeners(){return this.callBase().concat([this._list])},_toggleVisibility:function(t){this.callBase(t),this._button.option("visible",t)},_optionChanged:function(t){var e=t.name,r=t.value;switch(e){case"items":case"dataSource":this.option("deferRendering")&&!this.option("opened")?this._deferRendering=!0:(this._refreshDataSource(),this._setListDataSource());break;case"itemTemplate":this._list&&this._list.option(e,this._getTemplate(r));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"buttonIcon":case"buttonText":case"buttonWidth":case"buttonHeight":case"buttonTemplate":this._button.option(BUTTON_OPTION_MAP[e],r),this._renderPopup();break;case"popupWidth":case"popupHeight":case"popupMaxHeight":case"popupAutoResizeEnabled":this._popup.option(POPUP_OPTION_MAP[e],r);break;case"usePopover":case"menuWidget":case"useInkRipple":this._invalidate();break;case"focusStateEnabled":case"activeStateEnabled":this._list&&this._list.option(e,r),this.callBase(t);break;case"selectionMode":case"selectedItemKeys":case"onItemRendered":this._list&&this._list.option(e,r);break;case"opened":this._deferRendering&&(this._refreshDataSource(),this._setListDataSource()),this._toggleMenuVisibility(r),this._updateFocusableItemsTabIndex();break;case"deferRendering":case"popupPosition":case"closeOnClick":break;case"container":this._popup&&this._popup.option(t.name,t.value);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:this.callBase(t)}},_updateFocusableItemsTabIndex(){this.option("items").forEach(t=>toggleItemFocusableElementTabIndex(this._list,t))},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)}}).include(DataHelperMixin$1);registerComponent$1("dxDropDownMenu",DropDownMenu);var DropDownMenu$1=DropDownMenu,MENU_INVISIBLE_CLASS="dx-state-invisible",TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS="dx-toolbar-menu-container",POPOVER_BOUNDARY_OFFSET=10;class ToolbarDropDownMenu{constructor(e){this._toolbar=e}render(){if(!!this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var e=$("<div>").appendTo(this._dropDownMenuContainer());this._dropDownMenu=this._toolbar._createComponent(e,DropDownMenu$1,this._dropDownMenuOptions()),this.renderMenuItems()}}renderMenuItems(){this._dropDownMenu||this.render(),this._dropDownMenu&&this._dropDownMenu.option("items",this._getMenuItems()),this._dropDownMenu&&!this._dropDownMenu.option("items").length&&this._dropDownMenu.close()}_renderMenuButtonContainer(){var e=this._toolbar._$afterSection;this._$menuButtonContainer=$("<div>").appendTo(e).addClass(this._toolbar._buttonClass()).addClass(TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS)}_getMenuItemTemplate(){return this._toolbar._getTemplateByOption("menuItemTemplate")}_dropDownMenuOptions(){var e=this._toolbar._createActionByOption("onItemClick"),r=2*POPOVER_BOUNDARY_OFFSET;return{disabled:this._toolbar.option("disabled"),itemTemplate:this._getMenuItemTemplate.bind(this),onItemClick:function(n){e(n)}.bind(this),deferRendering:!0,container:this._toolbar.option("menuContainer"),popupMaxHeight:devices$1.current().platform==="android"?domAdapter.getDocumentElement().clientHeight-r:void 0,menuWidget:ToolbarMenu$1,onOptionChanged:n=>{var{name:i,value:a}=n;i==="opened"&&this._toolbar.option("overflowMenuVisible",a),i==="items"&&this._updateMenuVisibility(a)},popupPosition:{at:"bottom right",my:"top right"}}}_updateMenuVisibility(e){var r=e||this._getMenuItems(),n=r.length&&this._hasVisibleMenuItems(r);this._toggleMenuVisibility(n)}_getMenuItems(){return this._toolbar._getMenuItems()}_hasVisibleMenuItems(e){var r=e||this._toolbar.option("items"),n=!1,i=compileGetter("visible"),a=compileGetter("locateInMenu");return each(r,function(o,s){var l=i(s,{functionsAsIs:!0}),u=a(s,{functionsAsIs:!0});(l!==!1&&(u==="auto"||u==="always")||s.location==="menu")&&(n=!0)}),n}_toggleMenuVisibility(e){!this._dropDownMenuContainer()||this._dropDownMenuContainer().toggleClass(MENU_INVISIBLE_CLASS,!e)}_dropDownMenuContainer(){return this._$menuButtonContainer}widgetOption(e,r){this._dropDownMenu&&this._dropDownMenu.option(e,r)}itemOption(e,r,n){if(r==="disabled"||r==="options.disabled"){var i;(i=this._dropDownMenu)===null||i===void 0||i._itemOptionChanged(e,r,n)}else this.renderMenuItems()}}var ToolbarDropDownMenu$1=ToolbarDropDownMenu,TOOLBAR_AUTO_HIDE_ITEM_CLASS="dx-toolbar-item-auto-hide",TOOLBAR_AUTO_HIDE_TEXT_CLASS="dx-toolbar-text-auto-hide",TOOLBAR_HIDDEN_ITEM="dx-toolbar-item-invisible",Toolbar=ToolbarBase$1.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1})},updateDimensions:function(){this._dimensionChanged()},_dimensionChanged:function(t){t!=="height"&&(this.callBase(),this._menu.renderMenuItems())},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({actionSheetItem:new ChildDefaultTemplate("item")})},_initMarkup:function(){this.callBase(),this._updateFocusableItemsTabIndex(),this._renderMenu()},_postProcessRenderItems:function(){this._hideOverflowItems(),this._menu._updateMenuVisibility(),this.callBase(),deferRender(()=>{this._menu.renderMenuItems()})},_renderItem:function(t,e,r,n){var i=this.callBase(t,e,r,n);return e.locateInMenu==="auto"&&i.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS),e.widget==="dxButton"&&e.showText==="inMenu"&&i.toggleClass(TOOLBAR_AUTO_HIDE_TEXT_CLASS),i},_getItemsWidth:function(){return this._getSummaryItemsWidth([this._$beforeSection,this._$centerSection,this._$afterSection])},_hideOverflowItems:function(t){var e=this.$element().find("."+TOOLBAR_AUTO_HIDE_ITEM_CLASS);if(!!e.length){t=t||getWidth(this.$element()),$(e).removeClass(TOOLBAR_HIDDEN_ITEM);for(var r=this._getItemsWidth();e.length&&t<r;){var n=e.eq(-1);r-=getOuterWidth(n),n.addClass(TOOLBAR_HIDDEN_ITEM),e.splice(-1,1)}}},_getMenuItems:function(){var t=this,e=grep(this.option("items")||[],function(i){return t._isMenuItem(i)}),r=this._itemContainer().children("."+TOOLBAR_AUTO_HIDE_ITEM_CLASS+"."+TOOLBAR_HIDDEN_ITEM).not(".dx-state-invisible");this._restoreItems=this._restoreItems||[];var n=[].slice.call(r).map(i=>{var a=t._getItemData(i),o=$(i),s=o.children();return extend({menuItemTemplate:function(){t._restoreItems.push({container:o,item:s});var l=$("<div>").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);return l.append(s)}},a)});return[...n,...e]},_getToolbarItems:function(){var t=this;return grep(this.option("items")||[],function(e){return!t._isMenuItem(e)})},_renderMenu:function(){this._renderMenuStrategy(),deferRender(()=>{this._menu.render()})},_renderMenuStrategy:function(){this._menu||(this._menu=new ToolbarDropDownMenu$1(this))},_arrangeItems:function(){if(!this.$element().is(":hidden")){this._$centerSection.css({margin:"0 auto",float:"none"}),each(this._restoreItems||[],function(e,r){$(r.container).append(r.item)}),this._restoreItems=[];var t=getWidth(this.$element());this._hideOverflowItems(t),this.callBase(t)}},_itemOptionChanged:function(t,e,r){this._isMenuItem(t)?this._menu.itemOption(t,e,r):this._isToolbarItem(t)?this.callBase(t,e,r):(this.callBase(t,e,r),this._menu.renderMenuItems()),(e==="disabled"||e==="options.disabled")&&toggleItemFocusableElementTabIndex(this,t),e==="location"&&this.repaint()},_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(t=>toggleItemFocusableElementTabIndex(this,t))},_isMenuItem:function(t){return t.location==="menu"||t.locateInMenu==="always"},_isToolbarItem:function(t){return t.location===void 0||t.locateInMenu==="never"},_optionChanged:function(t){var{name:e,value:r}=t;switch(e){case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(r));break;case"onItemClick":this._changeMenuOption(e,r),this.callBase.apply(this,arguments);break;case"menuContainer":this._changeMenuOption("container",r);break;case"overflowMenuVisible":this._changeMenuOption("opened",r);break;case"disabled":this._changeMenuOption("disabled",r),this.callBase.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:this.callBase.apply(this,arguments)}},_changeMenuOption:function(t,e){this._menu.widgetOption(t,e)}});registerComponent$1("dxToolbar",Toolbar);var Toolbar$1=Toolbar,DATAGRID_ROW_SELECTOR=".dx-row",DATAGRID_DEPRECATED_TEMPLATE_WARNING="Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.";gridCore.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var DataGrid=Widget$2.inherit({_activeStateUnit:DATAGRID_ROW_SELECTOR,_getDefaultOptions:function(){var t=this.callBase();return each(gridCore.modules,function(){isFunction$2(this.defaultOptions)&&extend(!0,t,this.defaultOptions())}),t},_setDeprecatedOptions:function(){this.callBase(),extend(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:function(){return isMaterial()},options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:function(){return browser.webkit},options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:function(t){return t.deviceType!=="desktop"},options:{grouping:{expandMode:"rowClick"}}}])},_init:function(){this.callBase(),gridCore.processModules(this,gridCore),gridCore.callModuleItemsMethod(this,"init")},_clean:noop,_optionChanged:function(t){gridCore.callModuleItemsMethod(this,"optionChanged",[t]),t.handled||this.callBase(t)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(t){t&&this.updateDimensions()},_initMarkup:function(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl:function(){this.getView("gridView").update()},_renderContent:function(){var t=this;deferRender(function(){t._renderContentImpl()})},_getTemplate:function(t){var e=t;return isString$2(e)&&e[0]==="#"&&(e=$(t),logger.warn(DATAGRID_DEPRECATED_TEMPLATE_WARNING)),this.callBase(e)},_dispose:function(){this.callBase(),gridCore.callModuleItemsMethod(this,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){this.callBase(),gridCore.callModuleItemsMethod(this,"beginUpdate")},endUpdate:function(){gridCore.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController:function(t){return this._controllers[t]},getView:function(t){return this._views[t]},focus:function(t){this.getController("keyboardNavigation").focus(t)}});DataGrid.registerModule=gridCore.registerModule.bind(gridCore);registerComponent$1("dxDataGrid",DataGrid);var DataGrid$1=DataGrid,WINDOW_HEIGHT_PERCENT=.9,getElementMaxHeightByWindow=(t,e)=>{var r=$(getWindow()),{top:n}=t.offset(),i;if(isNumeric$1(e)){if(e<n)return n-e;i=getInnerHeight(r)-e+r.scrollTop()}else{var a=n-r.scrollTop(),o=getInnerHeight(r)-a-getOuterHeight(t);i=Math.max(a,o)}return i*WINDOW_HEIGHT_PERCENT},DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS$1="dx-context-menu-content-delimiter",DX_SUBMENU_CLASS$1="dx-submenu";class Submenu extends ContextMenu$1{_getDefaultOptions(){return extend(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:noop})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var e=this._dataAdapter.getNodeByKey(this.option("_parentKey"));e&&this._renderItems(this._getChildNodes(e)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=$("<div>").appendTo(this._itemContainer()).addClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS$1)}_getOverlayOptions(){return extend(super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this)})}_overlayPositionedActionHandler(e){this._showDelimiter(e)}_hoverEndHandler(e){super._hoverEndHandler(e),this._toggleFocusClass(!1,e.currentTarget)}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_hoverStartHandler(e){var r=this.option("onHoverStart");r(e),super._hoverStartHandler(e),this._toggleFocusClass(!0,e.currentTarget)}_drawSubmenu(e){this._actions.onShowing({rootItem:getPublicElement(e),submenu:this}),super._drawSubmenu(e),this._actions.onShown({rootItem:getPublicElement(e),submenu:this})}_hideSubmenu(e){this._actions.onHiding({cancel:!0,rootItem:getPublicElement(e),submenu:this}),super._hideSubmenu(e),this._actions.onHidden({rootItem:getPublicElement(e),submenu:this})}_showDelimiter(e){if(!!this.$contentDelimiter){var r=this._itemContainer().children(".".concat(DX_SUBMENU_CLASS$1)).eq(0),n=this.option("position").of,i={of:r},a=e.position,o=a.v.location,s=a.h.location,l=n.offset(),u=Math.round(l.left),m=Math.round(l.top),b=getWidth(n),_=getHeight(n),I=getWidth(r),j=getHeight(r);this.$contentDelimiter.css("display","block"),setWidth(this.$contentDelimiter,this._isMenuHorizontal()?b<I?b-2:I:2),setHeight(this.$contentDelimiter,this._isMenuHorizontal()?2:_<j?_-2:j),this._isMenuHorizontal()?o>m?Math.round(s)===u?(i.offset="1 -1",i.at=i.my="left top"):(i.offset="-1 -1",i.at=i.my="right top"):(setHeight(this.$contentDelimiter,5),Math.round(s)===u?(i.offset="1 4",i.at=i.my="left bottom"):(i.offset="-1 2",i.at=i.my="right bottom")):s>u?Math.round(o)===m?(i.offset="-1 1",i.at=i.my="left top"):(i.offset="-1 -1",i.at=i.my="left bottom"):Math.round(o)===m?(i.offset="1 1",i.at=i.my="right top"):(i.offset="1 -1",i.at=i.my="right bottom"),positionUtils.setup(this.$contentDelimiter,i)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}}var Submenu$1=Submenu,DX_MENU_CLASS="dx-menu",DX_MENU_VERTICAL_CLASS=DX_MENU_CLASS+"-vertical",DX_MENU_HORIZONTAL_CLASS=DX_MENU_CLASS+"-horizontal",DX_MENU_ITEM_CLASS=DX_MENU_CLASS+"-item",DX_MENU_ITEMS_CONTAINER_CLASS=DX_MENU_CLASS+"-items-container",DX_MENU_ITEM_EXPANDED_CLASS=DX_MENU_ITEM_CLASS+"-expanded",DX_CONTEXT_MENU_CLASS="dx-context-menu",DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS=DX_CONTEXT_MENU_CLASS+"-container-border",DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS="dx-context-menu-content-delimiter",DX_SUBMENU_CLASS="dx-submenu",DX_STATE_DISABLED_CLASS="dx-state-disabled",DX_STATE_HOVER_CLASS="dx-state-hover",DX_STATE_ACTIVE_CLASS="dx-state-active",DX_ADAPTIVE_MODE_CLASS=DX_MENU_CLASS+"-adaptive-mode",DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS=DX_MENU_CLASS+"-hamburger-button",DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS=DX_ADAPTIVE_MODE_CLASS+"-overlay-wrapper",FOCUS_UP="up",FOCUS_DOWN="down",FOCUS_LEFT="left",FOCUS_RIGHT="right",SHOW_SUBMENU_OPERATION="showSubmenu",NEXTITEM_OPERATION="nextItem",PREVITEM_OPERATION="prevItem",DEFAULT_DELAY={show:50,hide:300},ACTIONS=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"];class Menu extends MenuBase$1{_getDefaultOptions(){return extend(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),extend(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var e=super._itemElements(),r=this._submenuItemElements();return e.add(r)}_submenuItemElements(){var e=[],r=".".concat(DX_MENU_ITEM_CLASS),n=this._submenus.length&&this._submenus[0];return n&&n.itemsContainer()&&(e=n.itemsContainer().find(r)),e}_focusTarget(){return this.$element()}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_moveFocus(e){var r=this._getAvailableItems(),n=this._isMenuHorizontal(),i=this._getActiveItem(!0),a,o,s,l;switch(e){case FOCUS_UP:o=n?SHOW_SUBMENU_OPERATION:this._getItemsNavigationOperation(PREVITEM_OPERATION),a=n?i:r,s=this._getKeyboardNavigationAction(o,a),l=s();break;case FOCUS_DOWN:o=n?SHOW_SUBMENU_OPERATION:this._getItemsNavigationOperation(NEXTITEM_OPERATION),a=n?i:r,s=this._getKeyboardNavigationAction(o,a),l=s();break;case FOCUS_RIGHT:o=n?this._getItemsNavigationOperation(NEXTITEM_OPERATION):SHOW_SUBMENU_OPERATION,a=n?r:i,s=this._getKeyboardNavigationAction(o,a),l=s();break;case FOCUS_LEFT:o=n?this._getItemsNavigationOperation(PREVITEM_OPERATION):SHOW_SUBMENU_OPERATION,a=n?r:i,s=this._getKeyboardNavigationAction(o,a),l=s();break;default:return super._moveFocus(e)}l&&l.length!==0&&this.option("focusedElement",getPublicElement(l))}_getItemsNavigationOperation(e){var r=e;return this.option("rtlEnabled")&&(r=e===PREVITEM_OPERATION?NEXTITEM_OPERATION:PREVITEM_OPERATION),r}_getKeyboardNavigationAction(e,r){var n=noop;switch(e){case SHOW_SUBMENU_OPERATION:r.hasClass(DX_STATE_DISABLED_CLASS)||(n=this._showSubmenu.bind(this,r));break;case NEXTITEM_OPERATION:n=this._nextItem.bind(this,r);break;case PREVITEM_OPERATION:n=this._prevItem.bind(this,r)}return n}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&this.option("orientation")==="horizontal"}_updateItemsWidthCache(){var e=this.$element().find("ul").first().children("li").children(".".concat(DX_MENU_ITEM_CLASS));this._menuItemsWidth=this._getSummaryItemsWidth(e,!0)}_dimensionChanged(){if(!!this._isAdaptivityEnabled()){var e=getOuterWidth(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>e)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},each(ACTIONS,(e,r)=>{this._actions[r]=this._createActionByOption(r)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(DX_MENU_CLASS),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new Button($("<div>").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(e){isPlainObject(e)&&(e=!this._overlay.option("visible")),this._overlay.option("visible",e),this._toggleHamburgerActiveState(e)}_toggleHamburgerActiveState(e){this._hamburger&&this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS,e)}_toggleAdaptiveMode(e){var r=this.$element().find(".".concat(DX_MENU_HORIZONTAL_CLASS)),n=this.$element().find(".".concat(DX_ADAPTIVE_MODE_CLASS));e?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(e)),r.toggle(!e),n.toggle(e)}_removeAdaptivity(){!this._$adaptiveContainer||(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(e){this._actions.onItemClick(e),e.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var e=this.option("rtlEnabled"),r=e?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>getElementMaxHeightByWindow(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:n=>!$(n.target).closest(".".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length,position:{collision:"flipfit",at:"bottom "+r,my:"top "+r,of:this._hamburger.$element()}}}_getTreeViewOptions(){var e={};return each(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(r,n)=>{e[n]=this.option(n)}),each(["onItemContextMenu","onSelectionChanged","onItemRendered"],(r,n)=>{e[n]=i=>{this._actions[n](i)}}),extend(e,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:r=>{this._overlay.repaint(),this._actions.onSubmenuShown(r)},onItemCollapsed:r=>{this._overlay.repaint(),this._actions.onSubmenuHidden(r)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}_initAdaptivity(){if(!!this._isAdaptivityEnabled()){this._$adaptiveContainer=$("<div>").addClass(DX_ADAPTIVE_MODE_CLASS);var e=this._renderHamburgerButton();this._treeView=this._createComponent($("<div>"),TreeView,this._getTreeViewOptions()),this._overlay=this._createComponent($("<div>"),Overlay$1,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS),this._$adaptiveContainer.append(e),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(e){var r=this.option("showFirstSubmenuMode").delay;return isDefined(r)?isObject(r)?r[e]:r:DEFAULT_DELAY[e]}_keyboardHandler(e){return super._keyboardHandler(e,!!this._visibleSubmenu)}_renderContainer(){var e=$("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?DX_MENU_HORIZONTAL_CLASS:DX_MENU_VERTICAL_CLASS),super._renderContainer(e)}_renderSubmenuItems(e,r){var n=this._createSubmenu(e,r);return this._submenus.push(n),this._renderBorderElement(r),n}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(e,r){var n=$("<div>").addClass(DX_CONTEXT_MENU_CLASS).appendTo(r),i=this._getChildNodes(e),a=this._createComponent(n,Submenu$1,extend(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:i,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(r)}));return this._attachSubmenuHandlers(r,a),a}_getSubmenuOptions(){var e=$("<div>"),r=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:e,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:n=>{!n.component.option("visible")||this.option("focusedElement",n.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:r?null:this._moveMainMenuFocus.bind(this,PREVITEM_OPERATION),onLeftLastItem:r?null:this._moveMainMenuFocus.bind(this,NEXTITEM_OPERATION),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,r?PREVITEM_OPERATION:null),onExpandLastSubmenu:r?this._moveMainMenuFocus.bind(this,NEXTITEM_OPERATION):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var e=this.option("showFirstSubmenuMode");return isObject(e)?e.name:e}_moveMainMenuFocus(e){var r=this._getAvailableItems(),n=r.length,i=r.filter(".".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0),a=r.index(i);this._hideSubmenu(this._visibleSubmenu),a+=e===PREVITEM_OPERATION?-1:1,a>=n?a=0:a<0&&(a=n-1);var o=r.eq(a);this.option("focusedElement",getPublicElement(o))}_nestedItemOnSelectionChangedHandler(e){var r=e.addedItems.length&&e.addedItems[0],n=Submenu$1.getInstance(e.element),i=this._actions.onSelectionChanged;i(e),r&&this._clearSelectionInSubmenus(r[0],n),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",r)}_clearSelectionInSubmenus(e,r){var n=!arguments.length;each(this._submenus,(i,a)=>{var o=a._itemContainer(),s=!o.is(r&&r._itemContainer()),l=o.find(".".concat(this._selectedItemClass()));if(s&&l.length||n){l.removeClass(this._selectedItemClass());var u=this._getItemData(l);u&&(u.selected=!1),a._clearSelectedItems()}})}_clearRootSelection(){var e=this.$element().find(".".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(".".concat(this._selectedItemClass()));if(e.length){var r=this._getItemData(e);r.selected=!1,e.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(e){this._actions.onItemClick(e)}_nestedItemOnItemRenderedHandler(e){this._actions.onItemRendered(e)}_attachSubmenuHandlers(e,r){var n=r.getOverlayContent(),i=n.find(".".concat(DX_SUBMENU_CLASS)),a=addNamespace$1(HOVEREND,this.NAME+"_submenu");r.option({onShowing:this._submenuOnShowingHandler.bind(this,e,r),onShown:this._submenuOnShownHandler.bind(this,e,r),onHiding:this._submenuOnHidingHandler.bind(this,e,r),onHidden:this._submenuOnHiddenHandler.bind(this,e,r)}),each(i,(o,s)=>{eventsEngine$1.off(s,a),eventsEngine$1.on(s,a,null,this._submenuMouseLeaveHandler.bind(this,e))})}_submenuOnShowingHandler(e,r){var n=e.children(".".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));this._actions.onSubmenuShowing({rootItem:getPublicElement(e),submenu:r}),n.show(),e.addClass(DX_MENU_ITEM_EXPANDED_CLASS)}_submenuOnShownHandler(e,r){this._actions.onSubmenuShown({rootItem:getPublicElement(e),submenu:r})}_submenuOnHidingHandler(e,r,n){var i=e.children(".".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS)),a=n;a.rootItem=getPublicElement(e),a.submenu=r,this._actions.onSubmenuHiding(a),n=a,n.cancel||(this._visibleSubmenu===r&&(this._visibleSubmenu=null),i.hide(),e.removeClass(DX_MENU_ITEM_EXPANDED_CLASS))}_submenuOnHiddenHandler(e,r){this._actions.onSubmenuHidden({rootItem:getPublicElement(e),submenu:r})}_submenuMouseLeaveHandler(e,r){var n=$(r.relatedTarget).parents(".".concat(DX_CONTEXT_MENU_CLASS))[0],i=this._getSubmenuByRootElement(e).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&n!==i&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(!!this._visibleSubmenu){var e=$(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS),r=this._visibleSubmenu.getOverlayContent().find(".".concat(DX_STATE_HOVER_CLASS)).length,n=this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover");!n&&!r&&!e&&this._visibleSubmenu.hide()}}_getSubmenuByRootElement(e){if(!e)return!1;var r=e.children(".".concat(DX_CONTEXT_MENU_CLASS));return r.length&&Submenu$1.getInstance(r)}getSubmenuPosition(e){var r=this._isMenuHorizontal(),n=this.option("submenuDirection").toLowerCase(),i=this.option("rtlEnabled"),a={collision:"flip",of:e};switch(n){case"leftortop":a.at="left top",a.my=r?"left bottom":"right top";break;case"rightorbottom":a.at=r?"left bottom":"right top",a.my="left top";break;default:r?(a.at=i?"right bottom":"left bottom",a.my=i?"right top":"left top"):(a.at=i?"left top":"right top",a.my=i?"right top":"left top")}return a}_renderBorderElement(e){$("<div>").appendTo(e).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide()}_itemPointerDownHandler(e){var r=$(e.target),n=r.closest(this._itemElements());if(n.hasClass("dx-menu-item-has-submenu")){this.option("focusedElement",null);return}super._itemPointerDownHandler(e)}_hoverStartHandler(e){var r=addNamespace$1(pointerEvents.move,this.NAME),n=this._getItemElementByEventArgs(e),i=this._dataAdapter.getNodeByItem(this._getItemData(n)),a=isDefined(e.buttons)&&e.buttons===1||!isDefined(e.buttons)&&e.which===1;if(!this._isItemDisabled(n)){if(eventsEngine$1.off(n,r),!this._hasChildren(i)){this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"));return}if(this._getShowFirstSubmenuMode()==="onHover"&&!a){var o=this._getSubmenuByElement(n);this._clearTimeouts(),o.isOverlayVisible()||(eventsEngine$1.on(n,r,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(e){var r=this._getItemElementByEventArgs(e),n=$(e.relatedTarget);super._hoverEndHandler(e),this._clearTimeouts(),!this._isItemDisabled(r)&&(n.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)||this.option("hideSubmenuOnMouseLeave")&&!n.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1}_showSubmenu(e){var r=this._getSubmenuByElement(e);this._visibleSubmenu!==r&&this._hideVisibleSubmenu(),r&&(this._clearTimeouts(),this.focus(),r.show(),this.option("focusedElement",r.option("focusedElement"))),this._visibleSubmenu=r,this._hoveredRootItem=e}_hideSubmenu(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(e){if(!(e.pointers&&e.pointers.length)){var r=$(e.currentTarget);!isDefined(this._showSubmenuTimer)||(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{var n=this._getSubmenuByElement(r);n&&!n.isOverlayVisible()&&this._showSubmenu(r)},this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(e,r){var n=this._getSubmenuByRootElement(e);if(n)return n;r=r||this._getItemData(e);var i=this._dataAdapter.getNodeByItem(r);return this._hasChildren(i)&&this._renderSubmenuItems(i,e)}_updateSubmenuVisibilityOnClick(e){var r=e.args.length&&e.args[0];if(!(!r||this._disabledGetter(r.itemData))){var n=$(r.itemElement),i=this._getSubmenuByElement(n,r.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu)if(this._visibleSubmenu===i){this.option("showFirstSubmenuMode")==="onClick"&&this._hideSubmenu(this._visibleSubmenu);return}else this._hideSubmenu(this._visibleSubmenu);if(!!i&&!i.isOverlayVisible()){this._showSubmenu(n);return}}}_optionChanged(e){if(ACTIONS.indexOf(e.name)>=0){this._initActions();return}switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(e.name,e.value),this._overlay.option(e.name,e.value)),super._optionChanged(e),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!e.value),super._optionChanged(e);break;default:this._isAdaptivityEnabled()&&(e.name===e.fullName||e.name==="items")&&this._treeView.option(e.fullName,e.value),super._optionChanged(e)}}_changeSubmenusOption(e,r){each(this._submenus,(n,i)=>{i.option(e,r)})}selectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}unselectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}}registerComponent$1("dxMenu",Menu);var Menu$1=Menu,FILE_MANAGER_FILES_VIEW_CLASS="dx-filemanager-files-view",FILE_MANAGER_ITEM_LIST_ITEM_OPEN_EVENT_NAMESPACE="dxFileManager_open";class FileManagerItemListBase extends Widget$2{_init(){this._initActions(),this._lockFocusedItemProcessing=!1,this._focusedItemKey=this.option("focusedItemKey"),super._init()}_initMarkup(){this.$element().addClass(FILE_MANAGER_FILES_VIEW_CLASS);var e=addNamespace$1(DBLCLICK_EVENT_NAME,FILE_MANAGER_ITEM_LIST_ITEM_OPEN_EVENT_NAMESPACE);eventsEngine$1.on(this.$element(),e,this._getItemSelector(),this._onItemDblClick.bind(this)),super._initMarkup()}_initActions(){this._actions={onError:this._createActionByOption("onError"),onSelectionChanged:this._createActionByOption("onSelectionChanged"),onFocusedItemChanged:this._createActionByOption("onFocusedItemChanged"),onSelectedItemOpened:this._createActionByOption("onSelectedItemOpened"),onContextMenuShowing:this._createActionByOption("onContextMenuShowing"),onItemListDataLoaded:this._createActionByOption("onItemListDataLoaded")}}_getDefaultOptions(){return extend(super._getDefaultOptions(),{selectionMode:"single",selectedItemKeys:[],focusedItemKey:void 0,contextMenu:null,getItems:null,getItemThumbnail:null,onError:null,onSelectionChanged:null,onFocusedItemChanged:null,onSelectedItemOpened:null,onContextMenuShowing:null})}_optionChanged(e){var r=e.name;switch(r){case"selectionMode":case"contextMenu":case"getItems":case"getItemThumbnail":this.repaint();break;case"selectedItemKeys":this._setSelectedItemKeys(e.value);break;case"focusedItemKey":this._lockFocusedItemProcessing||this._setFocusedItemKey(e.value);break;case"onError":case"onSelectedItemOpened":case"onSelectionChanged":case"onFocusedItemChanged":case"onContextMenuShowing":case"onItemListDataLoaded":this._actions[r]=this._createActionByOption(r);break;default:super._optionChanged(e)}}_getItems(){return this._getItemsInternal().done(e=>{this._itemCount=e.length,this._itemCount===0&&this._resetFocus();var r=this._findParentDirectoryItem(e);this._hasParentDirectoryItem=!!r,this._parentDirectoryItemKey=r?r.fileItem.key:null}).always(()=>{this._onDataLoaded()})}_getItemsInternal(){var e=this.option("getItems"),r=e?e():[];return when(r)}_raiseOnError(e){this._actions.onError({error:e})}_raiseSelectionChanged(e){this._actions.onSelectionChanged(e)}_raiseFocusedItemChanged(e){this._actions.onFocusedItemChanged(e)}_raiseSelectedItemOpened(e){this._actions.onSelectedItemOpened({fileItemInfo:e})}_raiseContextMenuShowing(e){this._actions.onContextMenuShowing(e)}_raiseItemListDataLoaded(){this._actions.onItemListDataLoaded()}_onDataLoaded(){var e;this._raiseItemListDataLoaded(),(e=this._refreshDeferred)===null||e===void 0||e.resolve()}_tryRaiseSelectionChanged(e){var{selectedItemInfos:r,selectedItems:n,selectedItemKeys:i,currentSelectedItemKeys:a,currentDeselectedItemKeys:o}=e,s=this._findParentDirectoryItem(this.getSelectedItems());s&&this._deselectItem(s);var l=!this._hasParentDirectoryItem;l=l||this._hasValidKeys(a)||this._hasValidKeys(o),l&&(r=this._filterOutItemByPredicate(r,u=>u.fileItem.key===this._parentDirectoryItemKey),n=this._filterOutParentDirectory(n),i=this._filterOutParentDirectoryKey(i,!0),a=this._filterOutParentDirectoryKey(a,!0),o=this._filterOutParentDirectoryKey(o,!0),this._raiseSelectionChanged({selectedItemInfos:r,selectedItems:n,selectedItemKeys:i,currentSelectedItemKeys:a,currentDeselectedItemKeys:o}))}_onFocusedItemChanged(e){this._focusedItemKey!==e.itemKey&&(this._focusedItemKey=e.itemKey,this._lockFocusedItemProcessing=!0,this.option("focusedItemKey",e.itemKey),this._lockFocusedItemProcessing=!1,this._raiseFocusedItemChanged(e))}_resetFocus(){}_getItemThumbnail(e){var r=this.option("getItemThumbnail");return r?r(e):{thumbnail:""}}_getItemThumbnailContainer(e){var{thumbnail:r,cssClass:n}=this._getItemThumbnail(e),i=getImageContainer(r).addClass(this._getItemThumbnailCssClass());return n&&i.addClass(n),i}_getItemThumbnailCssClass(){return""}_getItemSelector(){}_onItemDblClick(e){}_isDesktop(){return devices$1.real().deviceType==="desktop"}_showContextMenu(e,r,n,i){this._contextMenu.showAt(e,r,n,i)}get _contextMenu(){return this.option("contextMenu")}_findParentDirectoryItem(e){for(var r=0;r<e.length;r++){var n=e[r];if(this._isParentDirectoryItem(n))return n}return null}_getFileItemsForContextMenu(e){var r=this.getSelectedItems();return this._isParentDirectoryItem(e)&&r.push(e),r}_isParentDirectoryItem(e){return e.fileItem.isParentFolder}_hasValidKeys(e){return e.length>1||e.length===1&&e[0]!==this._parentDirectoryItemKey}_filterOutParentDirectory(e,r){return this._filterOutItemByPredicate(e,n=>n.key===this._parentDirectoryItemKey,r)}_filterOutParentDirectoryKey(e,r){return this._filterOutItemByPredicate(e,n=>n===this._parentDirectoryItemKey,r)}_filterOutItemByPredicate(e,r,n){for(var i=e,a=-1,o=0;o<e.length;o++)if(r(e[o])){a=o;break}return a!==-1&&(n&&(i=[...e]),i.splice(a,1)),i}_isMultipleSelectionMode(){return this.option("selectionMode")==="multiple"}_deselectItem(e){}_setSelectedItemKeys(e){}_setFocusedItemKey(e){}_createDataSource(){return{store:new CustomStore$1({key:"fileItem.key",load:this._getItems.bind(this)})}}getSelectedItems(){}clearSelection(){}selectItem(){}}var FileManagerItemListBase$1=FileManagerItemListBase,FILE_MANAGER_DETAILS_ITEM_LIST_CLASS="dx-filemanager-details",FILE_MANAGER_DETAILS_ITEM_THUMBNAIL_CLASS="dx-filemanager-details-item-thumbnail",FILE_MANAGER_DETAILS_ITEM_NAME_CLASS="dx-filemanager-details-item-name",FILE_MANAGER_DETAILS_ITEM_NAME_WRAPPER_CLASS="dx-filemanager-details-item-name-wrapper",FILE_MANAGER_DETAILS_ITEM_IS_DIRECTORY_CLASS="dx-filemanager-details-item-is-directory",FILE_MANAGER_PARENT_DIRECTORY_ITEM="dx-filemanager-parent-directory-item",DATA_GRID_DATA_ROW_CLASS="dx-data-row",DEFAULT_COLUMN_CONFIGS={thumbnail:{caption:"",calculateSortValue:"isDirectory",width:36,alignment:"center",cssClass:FILE_MANAGER_DETAILS_ITEM_IS_DIRECTORY_CLASS},name:{caption:messageLocalization$1.format("dxFileManager-listDetailsColumnCaptionName")},dateModified:{caption:messageLocalization$1.format("dxFileManager-listDetailsColumnCaptionDateModified"),width:110,hidingPriority:1},size:{caption:messageLocalization$1.format("dxFileManager-listDetailsColumnCaptionFileSize"),width:90,alignment:"right",hidingPriority:0},isParentFolder:{caption:"isParentFolder",visible:!1,sortIndex:0,sortOrder:"asc"}};class FileManagerDetailsItemList extends FileManagerItemListBase$1{_initMarkup(){this._itemCount=0,this._focusedItem=null,this._hasParentDirectoryItem=!1,this._parentDirectoryItemKey=null,this._selectAllCheckBox=null,this._selectAllCheckBoxUpdating=!1,this.$element().addClass(FILE_MANAGER_DETAILS_ITEM_LIST_CLASS),this._createFilesView(),this._contextMenu.option("onContextMenuHidden",()=>this._onContextMenuHidden()),super._initMarkup()}_createFilesView(){var e=$("<div>").appendTo(this.$element()),r=this._isMultipleSelectionMode()?"multiple":"none";this._filesView=this._createComponent(e,DataGrid$1,{dataSource:this._createDataSource(),hoverStateEnabled:!0,selection:{mode:r,showCheckBoxesMode:this._isDesktop()?"onClick":"none"},selectedRowKeys:this.option("selectedItemKeys"),focusedRowKey:this.option("focusedItemKey"),focusedRowEnabled:!0,allowColumnResizing:!0,scrolling:{mode:"virtual"},sorting:{mode:"single",showSortIndexes:!1},loadPanel:{shading:!0},showColumnLines:!1,showRowLines:!1,columnHidingEnabled:!1,columns:this._createColumns(),onEditorPreparing:this._onEditorPreparing.bind(this),onRowPrepared:this._onRowPrepared.bind(this),onContextMenuPreparing:this._onContextMenuPreparing.bind(this),onSelectionChanged:this._onFilesViewSelectionChanged.bind(this),onFocusedRowChanged:this._onFilesViewFocusedRowChanged.bind(this),onOptionChanged:this._onFilesViewOptionChanged.bind(this)})}_createColumns(){var e=this.option("detailColumns");e=e.slice(0),e=e.map(n=>{var i=n;return isString$2(n)&&(i={dataField:n}),this._getPreparedColumn(i)});var r=this.option("customizeDetailColumns");return isFunction$2(r)&&(e=r(e)),e.push(this._getPreparedColumn({dataField:"isParentFolder"})),e.forEach(n=>this._updateColumnDataField(n)),e}_getPreparedColumn(e){var r={},n="";if(this._isDefaultColumn(e.dataField)){var i=extend(!0,{},DEFAULT_COLUMN_CONFIGS[e.dataField]);switch(n=i.cssClass||"",e.dataField){case"thumbnail":i.cellTemplate=this._createThumbnailColumnCell.bind(this),i.calculateSortValue="fileItem.".concat(i.calculateSortValue);break;case"name":i.cellTemplate=this._createNameColumnCell.bind(this),i.caption=messageLocalization$1.format("dxFileManager-listDetailsColumnCaptionName");break;case"size":i.calculateCellValue=this._calculateSizeColumnCellValue.bind(this),i.caption=messageLocalization$1.format("dxFileManager-listDetailsColumnCaptionFileSize"),i.calculateSortValue=a=>a.fileItem.isDirectory?-1:a.fileItem.size;break;case"dateModified":i.caption=messageLocalization$1.format("dxFileManager-listDetailsColumnCaptionDateModified")}extend(!0,r,i)}return extendAttributes(r,e,["alignment","caption","dataField","dataType","hidingPriority","sortIndex","sortOrder","visible","visibleIndex","width"]),e.cssClass&&(n="".concat(n," ").concat(e.cssClass)),n&&(r.cssClass=n),r}_updateColumnDataField(e){var r=this._isDefaultColumn(e.dataField)?"":"dataItem.";return e.dataField="fileItem."+r+e.dataField,e}_isDefaultColumn(e){return!!DEFAULT_COLUMN_CONFIGS[e]}_onFileItemActionButtonClick(e){var{component:r,element:n,event:i}=e;i.stopPropagation();var a=r.$element().closest(this._getItemSelector()),o=a.data("item");this._selectItem(o);var s={itemData:o,itemElement:a,isActionButton:!0},l=this._getFileItemsForContextMenu(o);this._showContextMenu(l,n,i,s),this._activeFileActionsButton=r,this._activeFileActionsButton.setActive(!0)}_onContextMenuHidden(){this._activeFileActionsButton&&this._activeFileActionsButton.setActive(!1)}_getItemThumbnailCssClass(){return FILE_MANAGER_DETAILS_ITEM_THUMBNAIL_CLASS}_getItemSelector(){return".".concat(DATA_GRID_DATA_ROW_CLASS)}_onItemDblClick(e){var r=$(e.currentTarget),n=r.data("item");this._raiseSelectedItemOpened(n)}_isAllItemsSelected(){var e=this._hasParentDirectoryItem?this._itemCount-1:this._itemCount,r=this._filesView.option("selectedRowKeys");return r.length?r.length>=e?!0:void 0:!1}_onEditorPreparing(e){var{component:r,command:n,row:i,parentType:a,editorOptions:o}=e;this._filesView||(this._filesView=r),n==="select"&&i?this._isParentDirectoryItem(i.data)&&(o.disabled=!0):a==="headerRow"&&(o.onInitialized=s=>{var{component:l}=s;this._selectAllCheckBox=l},o.value=this._isAllItemsSelected(),o.onValueChanged=s=>this._onSelectAllCheckBoxValueChanged(s))}_onSelectAllCheckBoxValueChanged(e){var{event:r,previousValue:n,value:i}=e;if(!r){n&&!this._selectAllCheckBoxUpdating&&this._selectAllCheckBox&&this._selectAllCheckBox.option("value",n);return}this._isAllItemsSelected()!==i&&(i?this._filesView.selectAll():this._filesView.deselectAll(),r.preventDefault())}_onRowPrepared(e){var{rowType:r,rowElement:n,data:i}=e;if(r==="data"){var a=$(n);a.data("item",i),this._isParentDirectoryItem(i)&&a.addClass(FILE_MANAGER_PARENT_DIRECTORY_ITEM)}}_onContextMenuPreparing(e){if(!!this._isDesktop()){var r=null,n={};e.row&&e.row.rowType==="data"&&(n=e.row.data,this._selectItem(n),r=this._getFileItemsForContextMenu(n));var i=extend({},{targetElement:e.target==="content"&&isDefined(e.row)?this._filesView.getRowElement(e.rowIndex):void 0,itemData:n,options:this._contextMenu.option(),event:e.event,isActionButton:!1,cancel:!1});this._raiseContextMenuShowing(i),e.items=i.cancel?[]:this._contextMenu.createContextMenuItems(r,null,n)}}_onFilesViewSelectionChanged(e){var{component:r,selectedRowsData:n,selectedRowKeys:i,currentSelectedRowKeys:a,currentDeselectedRowKeys:o}=e;this._filesView=this._filesView||r,this._selectAllCheckBox&&(this._selectAllCheckBoxUpdating=!0,this._selectAllCheckBox.option("value",this._isAllItemsSelected()),this._selectAllCheckBoxUpdating=!1);var s=n.map(l=>l.fileItem);this._tryRaiseSelectionChanged({selectedItemInfos:n,selectedItems:s,selectedItemKeys:i,currentSelectedItemKeys:a,currentDeselectedItemKeys:o})}_onFilesViewFocusedRowChanged(e){var r;if(!this._isMultipleSelectionMode()){var n;this._selectItemSingleSelection((n=e.row)===null||n===void 0?void 0:n.data)}var i=((r=e.row)===null||r===void 0?void 0:r.data.fileItem)||null;this._onFocusedItemChanged({item:i,itemKey:i==null?void 0:i.key,itemElement:e.rowElement})}_onFilesViewOptionChanged(e){var{fullName:r}=e;r.indexOf("sortOrder")>-1&&this._filesView.columnOption("isParentFolder",{sortOrder:"asc",sortIndex:0})}_resetFocus(){this._setFocusedItemKey(void 0)}_createThumbnailColumnCell(e,r){this._getItemThumbnailContainer(r.data).appendTo(e)}_createNameColumnCell(e,r){var n=$("<div>"),i=$("<span>").text(r.data.fileItem.name).addClass(FILE_MANAGER_DETAILS_ITEM_NAME_CLASS),a=$("<div>").append(i,n).addClass(FILE_MANAGER_DETAILS_ITEM_NAME_WRAPPER_CLASS);$(e).append(a),this._createComponent(n,FileManagerFileActionsButton$1,{onClick:o=>this._onFileItemActionButtonClick(o)})}_calculateSizeColumnCellValue(e){return e.fileItem.isDirectory?"":getDisplayFileSize(e.fileItem.size)}_selectItem(e){var r=this._isMultipleSelectionMode()?this._selectItemMultipleSelection:this._selectItemSingleSelection;r.call(this,e)}_deselectItem(e){this._filesView.deselectRows([e.fileItem.key])}_selectItemSingleSelection(e){if(!this._focusedItem||!e||this._focusedItem.fileItem.key!==e.fileItem.key){var r=this._focusedItem;this._focusedItem=e;var n=[];r&&n.push(r.fileItem.key);var i=[],a=[];e&&!this._isParentDirectoryItem(e)&&(i.push(e.fileItem),a.push(e.fileItem.key)),this._raiseSelectionChanged({selectedItems:i,selectedItemKeys:a,currentSelectedItemKeys:[...a],currentDeselectedItemKeys:n})}}_selectItemMultipleSelection(e){var{fileItem:r}=e;if(!this._filesView.isRowSelected(r.key)){var n=this._filesView.getController("selection"),i=n.isSelectionWithCheckboxes();this._filesView.selectRows([r.key],i)}}_setSelectedItemKeys(e){this._filesView.option("selectedRowKeys",e)}_setFocusedItemKey(e){var r;(r=this._filesView)===null||r===void 0||r.option("focusedRowKey",e)}clearSelection(){this._isMultipleSelectionMode()?this._filesView.clearSelection():this._filesView.option("focusedRowIndex",-1)}refresh(e){var r={dataSource:this._createDataSource()};return e&&Object.prototype.hasOwnProperty.call(e,"focusedItemKey")&&(isDefined(e.focusedItemKey)?r.focusedRowKey=e.focusedItemKey:r.focusedRowIndex=-1),this._filesView.option(r),this._refreshDeferred=new Deferred,this._refreshDeferred.promise()}getSelectedItems(){return this._isMultipleSelectionMode()?this._filesView.getSelectedRowsData():this._focusedItem&&!this._isParentDirectoryItem(this._focusedItem)?[this._focusedItem]:[]}}var FileManagerDetailsItemList$1=FileManagerDetailsItemList,FILE_MANAGER_THUMBNAILS_VIEW_PORT_CLASS="dx-filemanager-thumbnails-view-port",FILE_MANAGER_THUMBNAILS_ITEM_LIST_CONTAINER_CLASS="dx-filemanager-thumbnails-container",FILE_MANAGER_THUMBNAILS_ITEM_CLASS$1="dx-filemanager-thumbnails-item",FILE_MANAGER_THUMBNAILS_ITEM_NAME_CLASS="dx-filemanager-thumbnails-item-name",FILE_MANAGER_THUMBNAILS_ITEM_SPACER_CLASS="dx-filemanager-thumbnails-item-spacer",FILE_MANAGER_THUMBNAILS_ITEM_DATA_KEY="dxFileManagerItemData",FILE_MANAGER_THUMBNAILS_LIST_BOX_NAMESPACE="dxFileManagerThumbnailsListBox",FILE_MANAGER_THUMBNAILS_LIST_BOX_HOLD_EVENT_NAME=addNamespace$1(holdEvent.name,FILE_MANAGER_THUMBNAILS_LIST_BOX_NAMESPACE);class FileManagerThumbnailListBox extends CollectionWidget$2{_initMarkup(){this._initActions(),this._lockFocusedItemProcessing=!1,this.$element().addClass(FILE_MANAGER_THUMBNAILS_VIEW_PORT_CLASS),this._renderScrollView(),this._renderItemsContainer(),this._createScrollViewControl(),super._initMarkup(),this.onFocusedItemChanged=this._onFocusedItemChanged.bind(this),this._layoutUtils=new ListBoxLayoutUtils(this._scrollView,this.$element(),this._$itemContainer,this.itemElements().first()),this._syncFocusedItemKey()}_initActions(){this._actions={onItemEnterKeyPressed:this._createActionByOption("onItemEnterKeyPressed"),onFocusedItemChanged:this._createActionByOption("onFocusedItemChanged")}}_initTemplates(){super._initTemplates(),this._itemThumbnailTemplate=this.option("itemThumbnailTemplate"),this._getTooltipText=this.option("getTooltipText"),this._templateManager.addDefaultTemplates({item:new BindableTemplate(function(e,r,n){var i=this._getDefaultItemTemplate(n,e);e.append(i)}.bind(this),["fileItem"],this.option("integrationOptions.watchMethod"))})}_createScrollViewControl(){this._scrollView||(this._scrollView=this._createComponent(this._$scrollView,ScrollView$1,{scrollByContent:!0,scrollByThumb:!0,useKeyboard:!1,showScrollbar:"onHover"}))}_renderScrollView(){this._$scrollView||(this._$scrollView=$("<div>").appendTo(this.$element()))}_renderItemsContainer(){this._$itemContainer||(this._$itemContainer=$("<div>").addClass(FILE_MANAGER_THUMBNAILS_ITEM_LIST_CONTAINER_CLASS).appendTo(this._$scrollView))}_render(){super._render(),this._detachEventHandlers(),this._attachEventHandlers()}_clean(){this._detachEventHandlers(),super._clean()}_supportedKeys(){return extend(super._supportedKeys(),{upArrow(e){this._beforeKeyProcessing(e),this._processArrowKeys(-1,!1,e)},downArrow(e){this._beforeKeyProcessing(e),this._processArrowKeys(1,!1,e)},home(e){this._beforeKeyProcessing(e),this._processHomeEndKeys(0,!0,e)},end(e){this._beforeKeyProcessing(e),this._processHomeEndKeys(this._getItemsLength()-1,!0,e)},pageUp(e){this._beforeKeyProcessing(e),this._processPageChange(!0,e)},pageDown(e){this._beforeKeyProcessing(e),this._processPageChange(!1,e)},enter(e){this._beforeKeyProcessing(e),this._actions.onItemEnterKeyPressed(this._getFocusedItem())},A(e){this._beforeKeyProcessing(e),isCommandKeyPressed(e)&&this.selectAll()}})}_beforeKeyProcessing(e){e.preventDefault(),this._layoutUtils.reset()}_processArrowKeys(e,r,n){var i=this._getFocusedItem();if(i){if(!r){var a=this._layoutUtils.getLayoutModel();if(!a)return;e*=a.itemPerRowCount}var o=this._getIndexByItem(i)+e;this._focusItemByIndex(o,!0,n)}}_processHomeEndKeys(e,r,n){this._focusItemByIndex(e,r,n)}_processPageChange(e,r){var n=this._getFocusedItem();if(!!n){var i=this._layoutUtils.getLayoutModel();if(!!i){var a=this._layoutUtils.createItemLayoutModel(this._getIndexByItem(n)),o=e?i.rowPerPageRate:-i.rowPerPageRate,s=a.itemRowIndex-o,l=e?Math.ceil:Math.floor,u=l(s),m=u*i.itemPerRowCount+a.itemColumnIndex;m<0?m=0:m>=this._getItemsLength()&&(m=this._getItemsLength()-1),this._focusItemByIndex(m,!0,r)}}}_processLongTap(e){var r=this._closestItemElement($(e.target)),n=this._getIndexByItemElement(r);this._selection.changeItemSelection(n,{control:!0})}_attachEventHandlers(){this.option("selectionMode")==="multiple"&&eventsEngine$1.on(this._itemContainer(),FILE_MANAGER_THUMBNAILS_LIST_BOX_HOLD_EVENT_NAME,".".concat(this._itemContentClass()),e=>{this._processLongTap(e),e.stopPropagation()}),eventsEngine$1.on(this._itemContainer(),"mousedown selectstart",e=>{e.shiftKey&&e.preventDefault()})}_detachEventHandlers(){eventsEngine$1.off(this._itemContainer(),FILE_MANAGER_THUMBNAILS_LIST_BOX_HOLD_EVENT_NAME),eventsEngine$1.off(this._itemContainer(),"mousedown selectstart")}_itemContainer(){return this._$itemContainer}_itemClass(){return FILE_MANAGER_THUMBNAILS_ITEM_CLASS$1}_itemDataKey(){return FILE_MANAGER_THUMBNAILS_ITEM_DATA_KEY}_getDefaultItemTemplate(e,r){r.attr("title",this._getTooltipText(e));var n=this._itemThumbnailTemplate(e),i=$("<div>").addClass(FILE_MANAGER_THUMBNAILS_ITEM_SPACER_CLASS),a=$("<div>").addClass(FILE_MANAGER_THUMBNAILS_ITEM_NAME_CLASS).text(e.fileItem.name);r.append(n,i,a)}_itemSelectHandler(e){var r={};this.option("selectionMode")==="multiple"&&(this._isPreserveSelectionMode||(this._isPreserveSelectionMode=isCommandKeyPressed(e)||e.shiftKey),r={control:this._isPreserveSelectionMode,shift:e.shiftKey});var n=this._getIndexByItemElement(e.currentTarget);this._selection.changeItemSelection(n,r)}_initSelectionModule(){super._initSelectionModule();var e=extend(this._selection.options,{selectedKeys:this.option("selectedItemKeys"),onSelectionChanged:r=>{this.option("selectedItems",this._getItemsByKeys(r.selectedItemKeys,r.selectedItems)),this._updateSelectedItems(r)}});this._selection=new Selection(e)}_updateSelectedItems(e){var r=e.addedItemKeys,n=e.removedItemKeys;if(this._rendered&&(r.length||n.length)){var i=this._selectionChangePromise;if(!this._rendering){var a=[],o,s=[];this._editStrategy.beginCache();for(var l=0;l<n.length;l++)o=this._getIndexByKey(n[l]),s.push(o),this._removeSelection(o);for(var u=0;u<r.length;u++)o=this._getIndexByKey(r[u]),a.push(o),this._addSelection(o);this._editStrategy.endCache(),this._updateSelection(a,s)}when(i).done(()=>this._fireSelectionChangeEvent(e))}}_fireSelectionChangeEvent(e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})(e)}_updateSelection(e,r){var n=this.getSelectedItems().length;n===0&&(this._isPreserveSelectionMode=!1)}_normalizeSelectedItems(){var e=this._getKeysByItems(this.option("selectedItems")),r=this._selection.getSelectedItemKeys();return this._compareKeys(r,e)||this._selection.setSelection(e),new Deferred().resolve().promise()}_focusOutHandler(){}_getItems(){return this.option("items")||[]}_getItemsLength(){return this._getItems().length}_getIndexByItemElement(e){return this._editStrategy.getNormalizedIndex(e)}_getItemByIndex(e){return this._getItems()[e]}_getFocusedItem(){return this.getItemByItemElement(this.option("focusedElement"))}_focusItem(e,r){this.option("focusedElement",this.getItemElementByItem(e)),r&&this._layoutUtils.scrollToItem(this._getIndexByItem(e))}_focusItemByIndex(e,r,n){if(e>=0&&e<this._getItemsLength()){var i=this._getItemByIndex(e);this._focusItem(i,r,n)}}_syncFocusedItemKey(){this._syncFocusedItemKeyDeferred||(this._syncFocusedItemKeyDeferred=new Deferred);var e=this._syncFocusedItemKeyDeferred;if(this._dataSource&&this._dataSource.isLoading())return e.promise();var r=this.option("focusedItemKey");if(isDefined(r)){var n=this.option("items"),i=n.find(a=>this.keyOf(a)===r);i?(this._focusItem(i,!0),e.resolve()):(this.option("focusedItemKey",void 0),e.reject())}else e.resolve();return this._syncFocusedItemKeyDeferred=null,e.promise()}_onFocusedItemChanged(){var e=this._getFocusedItem(),r=this.keyOf(e),n=this.option("focusedItemKey");r!==n&&(this._lockFocusedItemProcessing=!0,this.option("focusedItemKey",r),this._lockFocusedItemProcessing=!1,this._raiseFocusedItemChanged(e))}_raiseFocusedItemChanged(e){var r={item:e,itemElement:this.option("focusedElement")};this._actions.onFocusedItemChanged(r)}_changeItemSelection(e,r){if(this.isItemSelected(e)!==r){var n=this.getItemElementByItem(e),i=this._getIndexByItemElement(n);this._selection.changeItemSelection(i,{control:this._isPreserveSelectionMode})}}_chooseSelectOption(){return"selectedItemKeys"}getSelectedItems(){return this._selection.getSelectedItems()}getItemElementByItem(e){return this._editStrategy.getItemElement(e)}getItemByItemElement(e){return this._getItemByIndex(this._getIndexByItemElement(e))}selectAll(){this.option("selectionMode")==="multiple"&&(this._selection.selectAll(),this._isPreserveSelectionMode=!0)}selectItem(e){this._changeItemSelection(e,!0)}deselectItem(e){this._changeItemSelection(e,!1)}clearSelection(){this._selection.deselectAll()}_optionChanged(e){switch(e.name){case"items":this._layoutUtils&&this._layoutUtils.updateItems(this.itemElements().first()),super._optionChanged(e);break;case"focusedItemKey":if(this._lockFocusedItemProcessing)break;isDefined(e.value)?this._syncFocusedItemKey().done(()=>{var r=this._getFocusedItem();this._raiseFocusedItemChanged(r)}):(this.option("focusedElement",null),this._raiseFocusedItemChanged(null));break;case"onItemEnterKeyPressed":case"onFocusedItemChanged":this._actions[e.name]=this._createActionByOption(e.name);break;default:super._optionChanged(e)}}}class ListBoxLayoutUtils{constructor(e,r,n,i){this._layoutModel=null,this._scrollView=e,this._$viewPort=r,this._$itemContainer=n,this._$item=i}updateItems(e){this._$item=e}reset(){this._layoutModel=null}getLayoutModel(){return this._layoutModel||(this._layoutModel=this._createLayoutModel()),this._layoutModel}_createLayoutModel(){if(!this._$item)return null;var e=getOuterWidth(this._$item,!0);if(e===0)return null;var r=getOuterHeight(this._$item,!0),n=getInnerWidth(this._$itemContainer),i=getInnerHeight(this._$viewPort),a=this._scrollView.scrollTop(),o=a+i,s=Math.floor(n/e),l=i/r;return{itemWidth:e,itemHeight:r,viewPortWidth:n,viewPortHeight:i,viewPortScrollTop:a,viewPortScrollBottom:o,itemPerRowCount:s,rowPerPageRate:l}}createItemLayoutModel(e){var r=this.getLayoutModel();if(!r)return null;var n=Math.floor(e/r.itemPerRowCount),i=e%r.itemPerRowCount,a=n*r.itemHeight,o=a+r.itemHeight;return{itemRowIndex:n,itemColumnIndex:i,itemTop:a,itemBottom:o}}scrollToItem(e){var r=this.getLayoutModel();if(!!r){var n=Math.floor(e/r.itemPerRowCount),i=n*r.itemHeight,a=i+r.itemHeight,o=r.viewPortScrollTop;i<r.viewPortScrollTop?o=i:a>r.viewPortScrollBottom&&(o=a-r.viewPortHeight),this._scrollView.scrollTo(o)}}}var FileManagerThumbnailListBox$1=FileManagerThumbnailListBox,FILE_MANAGER_THUMBNAILS_ITEM_LIST_CLASS="dx-filemanager-thumbnails",FILE_MANAGER_THUMBNAILS_ITEM_CLASS="dx-filemanager-thumbnails-item",FILE_MANAGER_THUMBNAILS_ITEM_THUMBNAIL_CLASS="dx-filemanager-thumbnails-item-thumbnail",FILE_MANAGER_THUMBNAILS_EVENT_NAMESPACE="dxFileManager_thumbnails";class FileManagerThumbnailsItemList extends FileManagerItemListBase$1{_initMarkup(){super._initMarkup(),this.$element().addClass(FILE_MANAGER_THUMBNAILS_ITEM_LIST_CLASS);var e=addNamespace$1(name,FILE_MANAGER_THUMBNAILS_EVENT_NAMESPACE);eventsEngine$1.on(this.$element(),e,this._onContextMenu.bind(this)),this._createItemList()}_createItemList(){var e=this._isMultipleSelectionMode()?"multiple":"single",r=$("<div>").appendTo(this.$element());this._itemList=this._createComponent(r,FileManagerThumbnailListBox$1,{dataSource:this._createDataSource(),selectionMode:e,selectedItemKeys:this.option("selectedItemKeys"),focusedItemKey:this.option("focusedItemKey"),activeStateEnabled:!0,hoverStateEnabled:!0,loopItemFocus:!1,focusStateEnabled:!0,onItemEnterKeyPressed:this._tryOpen.bind(this),itemThumbnailTemplate:this._getItemThumbnailContainer.bind(this),getTooltipText:this._getTooltipText.bind(this),onSelectionChanged:this._onItemListSelectionChanged.bind(this),onFocusedItemChanged:this._onItemListFocusedItemChanged.bind(this)})}_onContextMenu(e){if(e.preventDefault(),e.stopPropagation(),!!this._isDesktop()){var r=null,n=$(e.target).closest(this._getItemSelector()),i=null;n.length>0&&(i=this._itemList.getItemByItemElement(n),this._itemList.selectItem(i),r=this._getFileItemsForContextMenu(i));var a={itemData:i,itemElement:n.length?n:void 0};this._showContextMenu(r,e.target,e,a)}}_getItemThumbnailCssClass(){return FILE_MANAGER_THUMBNAILS_ITEM_THUMBNAIL_CLASS}_getItemSelector(){return".".concat(FILE_MANAGER_THUMBNAILS_ITEM_CLASS)}_getTooltipText(e){var r=e.fileItem;if(r.tooltipText)return r.tooltipText;var n="".concat(r.name,`\r
`);return r.isDirectory||(n+="".concat(messageLocalization$1.format("dxFileManager-listThumbnailsTooltipTextSize"),": ").concat(getDisplayFileSize(r.size),`\r
`)),n+="".concat(messageLocalization$1.format("dxFileManager-listThumbnailsTooltipTextDateModified"),": ").concat(r.dateModified),n}_onItemDblClick(e){var r=$(e.currentTarget),n=this._itemList.getItemByItemElement(r);this._tryOpen(n)}_tryOpen(e){e&&this._raiseSelectedItemOpened(e)}_getItemsInternal(){return super._getItemsInternal().then(e=>{var r=new Deferred;return setTimeout(()=>r.resolve(e)),r.promise()})}_disableDragging(){return!1}_getDefaultOptions(){return extend(super._getDefaultOptions(),{focusStateEnabled:!0})}_onItemListSelectionChanged(e){var{addedItemKeys:r,removedItemKeys:n}=e,i=this.getSelectedItems(),a=i.map(s=>s.fileItem),o=a.map(s=>s.key);this._tryRaiseSelectionChanged({selectedItemInfos:i,selectedItems:a,selectedItemKeys:o,currentSelectedItemKeys:r,currentDeselectedItemKeys:n})}_onItemListFocusedItemChanged(e){var{item:r,itemElement:n}=e;this._isMultipleSelectionMode()||this._selectItemSingleSelection(r);var i=(r==null?void 0:r.fileItem)||null;this._onFocusedItemChanged({item:i,itemKey:i==null?void 0:i.key,itemElement:n||void 0})}_setSelectedItemKeys(e){this._itemList.option("selectedItemKeys",e)}_setFocusedItemKey(e){this._itemList.option("focusedItemKey",e)}refresh(e){var r={dataSource:this._createDataSource()};return e&&Object.prototype.hasOwnProperty.call(e,"focusedItemKey")&&(r.focusedItemKey=e.focusedItemKey),e&&Object.prototype.hasOwnProperty.call(e,"selectedItemKeys")&&(r.selectedItemKeys=e.selectedItemKeys),this._itemList.option(r),this._refreshDeferred=new Deferred,this._refreshDeferred.promise()}_deselectItem(e){var r=this._itemList.getItemElementByItem(e);this._itemList.unselectItem(r)}_selectItemSingleSelection(e){e?this._itemList.selectItem(e):this._itemList.clearSelection()}clearSelection(){this._itemList.clearSelection()}getSelectedItems(){return this._itemList.getSelectedItems()}}var FileManagerThumbnailsItemList$1=FileManagerThumbnailsItemList,FILE_MANAGER_TOOLBAR_CLASS="dx-filemanager-toolbar",FILE_MANAGER_GENERAL_TOOLBAR_CLASS="dx-filemanager-general-toolbar",FILE_MANAGER_FILE_TOOLBAR_CLASS="dx-filemanager-file-toolbar",FILE_MANAGER_TOOLBAR_SEPARATOR_ITEM_CLASS=FILE_MANAGER_TOOLBAR_CLASS+"-separator-item",FILE_MANAGER_TOOLBAR_VIEWMODE_ITEM_CLASS=FILE_MANAGER_TOOLBAR_CLASS+"-viewmode-item",FILE_MANAGER_TOOLBAR_HAS_LARGE_ICON_CLASS=FILE_MANAGER_TOOLBAR_CLASS+"-has-large-icon",FILE_MANAGER_VIEW_SWITCHER_POPUP_CLASS="dx-filemanager-view-switcher-popup",DEFAULT_ITEM_CONFIGS={showNavPane:{location:"before"},create:{location:"before",compactMode:{showText:"inMenu",locateInMenu:"auto"}},upload:{location:"before",compactMode:{showText:"inMenu",locateInMenu:"auto"}},refresh:{location:"after",showText:"inMenu",cssClass:FILE_MANAGER_TOOLBAR_HAS_LARGE_ICON_CLASS,compactMode:{showText:"inMenu",locateInMenu:"auto"}},switchView:{location:"after"},download:{location:"before",compactMode:{showText:"inMenu",locateInMenu:"auto"}},move:{location:"before",compactMode:{showText:"inMenu",locateInMenu:"auto"}},copy:{location:"before",compactMode:{showText:"inMenu",locateInMenu:"auto"}},rename:{location:"before",compactMode:{showText:"inMenu",locateInMenu:"auto"}},delete:{location:"before",compactMode:{showText:"inMenu"}},clearSelection:{location:"after",locateInMenu:"never",compactMode:{showText:"inMenu"}},separator:{location:"before"}},DEFAULT_ITEM_ALLOWED_PROPERTIES=["visible","location","locateInMenu","disabled","showText"],DEFAULT_ITEM_ALLOWED_OPTION_PROPERTIES=["accessKey","elementAttr","height","hint","icon","stylingMode","tabIndex","text","width"],ALWAYS_VISIBLE_TOOLBAR_ITEMS=["separator","switchView"],REFRESH_ICON_MAP={default:"dx-filemanager-i dx-filemanager-i-refresh",progress:"dx-filemanager-i dx-filemanager-i-progress",success:"dx-filemanager-i dx-filemanager-i-done",error:"dx-filemanager-i dx-filemanager-i-danger"},REFRESH_ITEM_PROGRESS_MESSAGE_DELAY=500;class FileManagerToolbar extends Widget$2{_init(){super._init(),this._generalToolbarVisible=!0,this._refreshItemState={message:"",status:"default"}}_initMarkup(){this._createItemClickedAction(),this._$viewSwitcherPopup=$("<div>").addClass(FILE_MANAGER_VIEW_SWITCHER_POPUP_CLASS),this._generalToolbar=this._createToolbar(this.option("generalItems"),!this._generalToolbarVisible),this._fileToolbar=this._createToolbar(this.option("fileItems"),this._generalToolbarVisible),this._$viewSwitcherPopup.appendTo(this.$element()),this.$element().addClass(FILE_MANAGER_TOOLBAR_CLASS+" "+FILE_MANAGER_GENERAL_TOOLBAR_CLASS)}_render(){super._render();var e=this._getVisibleToolbar();this._checkCompactMode(e)}_clean(){delete this._commandManager,delete this._itemClickedAction,delete this._$viewSwitcherPopup,delete this._generalToolbar,delete this._fileToolbar,super._clean()}_dimensionChanged(e){if(!e||e!=="height"){var r=this._getVisibleToolbar();this._checkCompactMode(r)}}_getVisibleToolbar(){return this._generalToolbarVisible?this._generalToolbar:this._fileToolbar}_createToolbar(e,r){var n=this._getPreparedItems(e),i=$("<div>").appendTo(this.$element()),a=this._createComponent(i,Toolbar$1,{items:n,visible:!r,onItemClick:o=>this._raiseItemClicked(o)});return a.compactMode=!1,a}_getPreparedItems(e){return e=e.map(r=>{var n=r;isString$2(r)&&(n={name:r});var i=n.name,a=this._configureItemByCommandName(i,n);return a.originalItemData=r,i!=="separator"&&this._setItemVisibleAvailable(a),a}),this._updateSeparatorsVisibility(e),e}_updateSeparatorsVisibility(e,r){var n=!1,i=this._getMenuItems(r),a={before:!1,center:!1,after:!1},o={before:this._getItemsInGroup(e,i,"before"),center:this._getItemsInGroup(e,i,"center"),after:this._getItemsInGroup(e,i,"after")};return e.forEach((s,l)=>{var u=s.location;if(s.name==="separator"){var m=a[u]&&this._groupHasItemsAfter(o[u]);s.visible!==m&&(n=!0,s.visible=m),a[u]=!1}else this._isItemInMenu(i,s)||(a[u]=a[u]||s.visible),o[u].shift()}),r&&n&&r.repaint(),n}_getMenuItems(e){var r=e?e._getMenuItems():[];return r.map(n=>n.originalItemData)}_isItemInMenu(e,r){return!!e.length&&ensureDefined(r.locateInMenu,"never")!=="never"&&e.indexOf(r.originalItemData)!==-1}_getItemsInGroup(e,r,n){return e.filter(i=>i.location===n&&!this._isItemInMenu(r,i))}_groupHasItemsAfter(e){for(var r=0;r<e.length;r++)if(e[r].name!=="separator"&&e[r].visible)return!0;return!1}_configureItemByCommandName(e,r){var n,i={},a=this._commandManager.getCommandByName(e);switch(a&&(i=this._createCommandItem(a)),e){case"separator":i=this._createSeparatorItem();break;case"switchView":i=this._createViewModeItem()}if(this._isDefaultItem(e)){var o=DEFAULT_ITEM_CONFIGS[e];extend(!0,i,o);var s=i.cssClass||"";extendAttributes(i,r,DEFAULT_ITEM_ALLOWED_PROPERTIES),isDefined(r.options)&&extendAttributes(i.options,r.options,DEFAULT_ITEM_ALLOWED_OPTION_PROPERTIES),extendAttributes(i.options,r,["text","icon"]),r.cssClass&&(s="".concat(s," ").concat(r.cssClass)),s&&(i.cssClass=s),isDefined(r.visible)||(i._autoHide=!0),i.widget==="dxButton"&&(i.showText==="inMenu"&&!isDefined(i.options.hint)&&(i.options.hint=i.options.text),i.compactMode&&!isDefined(i.options.hint)&&this._configureHintForCompactMode(i))}else extend(!0,i,r),i.widget||(i.widget="dxButton"),i.widget==="dxButton"&&!i.compactMode&&!i.showText&&i.options&&i.options.icon&&i.options.text&&(i.compactMode={showText:"inMenu"});return e&&!i.name&&extend(i,{name:e}),i.location=ensureDefined(i.location,"before"),isDefined((n=i.options)===null||n===void 0?void 0:n.stylingMode)||(i.widget==="dxButton"&&extend(!0,i,{options:{stylingMode:"text"}}),i.widget==="dxSelectBox"&&extend(!0,i,{options:{stylingMode:"filled"}})),i}_isDefaultItem(e){return!!DEFAULT_ITEM_CONFIGS[e]}_createCommandItem(e){return{widget:"dxButton",options:{text:e.text,hint:e.hint,commandText:e.text,icon:e.icon,stylingMode:"text",onClick:r=>this._executeCommand(e)}}}_createSeparatorItem(){return{template:(e,r,n)=>{$(n).addClass(FILE_MANAGER_TOOLBAR_SEPARATOR_ITEM_CLASS)}}}_createViewModeItem(){var e=["details","thumbnails"].map(n=>{var{text:i,icon:a}=this._commandManager.getCommandByName(n);return{name:n,text:i,icon:a}}),r=this.option("itemViewMode")==="thumbnails"?1:0;return{cssClass:FILE_MANAGER_TOOLBAR_VIEWMODE_ITEM_CLASS,widget:"dxDropDownButton",options:{items:e,keyExpr:"name",selectedItemKey:this.option("itemViewMode"),displayExpr:" ",hint:e[r].text,stylingMode:"text",showArrowIcon:!1,useSelectMode:!0,dropDownOptions:{container:this._$viewSwitcherPopup},onItemClick:n=>this._executeCommand(n.itemData.name)}}}_configureHintForCompactMode(e){e.options.hint="",e.compactMode.options=e.compactMode.options||{},e.compactMode.options.hint=e.options.text}_checkCompactMode(e){e.compactMode&&this._toggleCompactMode(e,!1);var r=this._toolbarHasItemsOverflow(e);e.compactMode!==r?(e.compactMode||this._toggleCompactMode(e,r),e.compactMode=r):e.compactMode&&this._toggleCompactMode(e,!0)}_toolbarHasItemsOverflow(e){var r=getWidth(e.$element()),n=e._getItemsWidth();return r<n}_toggleCompactMode(e,r){var n=!1,i=e.option("items");i.forEach(a=>{if(a.compactMode){var o=null;r?(a.saved=this._getCompactModeOptions(a,a._available),o=a.compactMode):o=a.saved;var s=this._getCompactModeOptions(o,a._available);extend(!0,a,s),n=!0}}),n=this._updateSeparatorsVisibility(i)||n,n&&e.repaint(),this._updateSeparatorsVisibility(i,e)}_getCompactModeOptions(e,r){var{showText:n,locateInMenu:i,options:a}=e;return{visible:r,showText:ensureDefined(n,"always"),locateInMenu:ensureDefined(i,"never"),options:{hint:a==null?void 0:a.hint}}}_ensureAvailableCommandsVisible(e){var r=!1,n=e.option("items");n.forEach(i=>{if(i.name!=="separator"){var a=i._available;this._setItemVisibleAvailable(i),i._available!==a&&(r=!0)}}),r=this._updateSeparatorsVisibility(n)||r,r&&e.repaint(),this._updateSeparatorsVisibility(n,e)}_setItemVisibleAvailable(e){var r,n=(r=e.originalItemData)===null||r===void 0?void 0:r.visible;e._available=this._isToolbarItemAvailable(e),e.visible=isDefined(n)?n:e._available}_fileToolbarHasEffectiveItems(){var e=this._fileToolbar.option("items");return e.some(r=>this._isFileToolbarItemAvailable(r))}_executeCommand(e){this._commandManager.executeCommand(e)}_isToolbarItemAvailable(e){return!this._isDefaultItem(e.name)||!e._autoHide?ensureDefined(e.visible,!0):e.name==="refresh"?this._generalToolbarVisible||!!this._isRefreshVisibleInFileToolbar:ALWAYS_VISIBLE_TOOLBAR_ITEMS.indexOf(e.name)>-1?!0:this._isCommandAvailable(e.name)}_isFileToolbarItemAvailable(e){var{name:r,visible:n}=e;return!this._isDefaultItem(r)&&ensureDefined(n,!0)||r!=="clearSelection"&&r!=="refresh"&&this._isCommandAvailable(r)}_isCommandAvailable(e){return this._commandManager.isCommandAvailable(e,this.option("contextItems"))}_updateItemInToolbar(e,r,n){e.beginUpdate();for(var i=e.option("items"),a=0;a<i.length;a++){var o=i[a];if(o.name===r){e.option("items[".concat(a,"]"),n);break}}e.endUpdate()}_raiseItemClicked(e){var r=extend(!0,{},e);r.itemData=e.itemData.originalItemData,this._itemClickedAction(r)}_createItemClickedAction(){this._itemClickedAction=this._createActionByOption("onItemClick")}_getDefaultOptions(){return extend(super._getDefaultOptions(),{commandManager:null,generalItems:[],fileItems:[],contextItems:[],itemViewMode:"details",onItemClick:null})}_optionChanged(e){var r=e.name;switch(r){case"commandManager":case"itemViewMode":case"generalItems":case"fileItems":this.repaint();break;case"contextItems":this._update();break;case"onItemClick":this._itemClickedAction=this._createActionByOption(r);break;default:super._optionChanged(e)}}updateItemPermissions(){this.repaint(),this._restoreRefreshItemState()}_restoreRefreshItemState(){this.updateRefreshItem(this._refreshItemState.message,this._refreshItemState.status)}updateRefreshItem(e,r){var n=null,i=messageLocalization$1.format("dxFileManager-commandRefresh"),a="inMenu";this._isRefreshVisibleInFileToolbar=!1,this._refreshItemState={message:e,status:r},r==="default"?n={options:{icon:REFRESH_ICON_MAP.default}}:(n={options:{icon:REFRESH_ICON_MAP[r]}},this._isRefreshVisibleInFileToolbar=!0,i=e,a="always");var o=extend({},n,{visible:this._isRefreshVisibleInFileToolbar});this._applyRefreshItemOptions(n,o),this._refreshItemTextTimeout=this._updateRefreshItemText(r==="progress",i,a)}_updateRefreshItemText(e,r,n){var i={showText:n,options:{text:r}};if(e)return setTimeout(()=>{this._applyRefreshItemOptions(i),this._refreshItemTextTimeout=void 0},REFRESH_ITEM_PROGRESS_MESSAGE_DELAY);this._refreshItemTextTimeout&&clearTimeout(this._refreshItemTextTimeout),this._applyRefreshItemOptions(i)}_applyRefreshItemOptions(e,r){r||(r=extend({},e)),this._updateItemInToolbar(this._generalToolbar,"refresh",e),this._updateItemInToolbar(this._fileToolbar,"refresh",r)}_update(){var e=this.option("contextItems").length===0||!this._fileToolbarHasEffectiveItems();this._generalToolbarVisible!==e&&(this._generalToolbar.option("visible",e),this._fileToolbar.option("visible",!e),this._generalToolbarVisible=e,this.$element().toggleClass(FILE_MANAGER_GENERAL_TOOLBAR_CLASS,e),this.$element().toggleClass(FILE_MANAGER_FILE_TOOLBAR_CLASS,!e));var r=this._getVisibleToolbar();this._ensureAvailableCommandsVisible(r),this._checkCompactMode(r)}get _commandManager(){return this.option("commandManager")}}var FileManagerToolbar$1=FileManagerToolbar,animation={moveTo(t){var e=t.$element,r=t.position,n=t.direction||"left",i={},a;switch(n){case"right":i.transform="translate("+r+"px, 0px)",a="custom";break;case"left":i.left=r,a="slide";break;case"top":case"bottom":i.top=r,a="slide"}fx$1.animate(e,{type:a,to:i,duration:t.duration,complete:t.complete})},margin(t){var e=t.$element,r=t.margin,n=t.direction||"left",i={};i["margin"+camelize$2(n,!0)]=r,fx$1.animate(e,{to:i,duration:t.duration,complete:t.complete})},fade(t,e,r,n){fx$1.animate(t,{type:"fade",to:e.to,from:e.from,duration:r,complete:n})},size(t){var e=t.$element,r=t.size,n=t.direction||"left",i=t.marginTop||0,a=t.duration,o={};n==="right"||n==="left"?o.width=r:o.height=r,n==="bottom"&&(o.marginTop=i),fx$1.animate(e,{to:o,duration:a,complete:t.complete})},complete(t){fx$1.stop(t,!0)}};class DrawerStrategy{constructor(e){this._drawer=e}getDrawerInstance(){return this._drawer}renderPanelContent(e){var r=this.getDrawerInstance(),n=r._getTemplate(r.option("template"));n&&n.render({container:r.content(),onRendered:()=>{e.resolve()}})}renderPosition(e,r){var n=new Deferred,i=new Deferred,a=this.getDrawerInstance();e&&when.apply($,[n,i]).done(()=>{a._animationCompleteHandler()}),this._internalRenderPosition(e,n),e||a.resizeViewContent(),this.renderShaderVisibility(e,r,i)}_getPanelOffset(e){var r=this.getDrawerInstance(),n=r.isHorizontalDirection()?r.getRealPanelWidth():r.getRealPanelHeight();return e?-(n-r.getMaxSize()):-(n-r.getMinSize())}_getPanelSize(e){return e?this.getDrawerInstance().getMaxSize():this.getDrawerInstance().getMinSize()}renderShaderVisibility(e,r,n){var i=this.getDrawerInstance(),a=i.option("opened"),o=a?{from:0,to:1}:{from:1,to:0};e?animation.fade($(i._$shader),o,r,()=>{this._drawer._toggleShaderVisibility(a),n.resolve()}):(i._toggleShaderVisibility(a),i._$shader.css("opacity",o.to))}getPanelContent(){return $(this.getDrawerInstance().content())}setPanelSize(e){this.refreshPanelElementSize(e)}refreshPanelElementSize(e){var r=this.getDrawerInstance(),n=this._getPanelSize(r.option("opened"));r.isHorizontalDirection()?setWidth($(r.content()),e?r.getRealPanelWidth():n):setHeight($(r.content()),e?r.getRealPanelHeight():n)}isViewContentFirst(){return!1}onPanelContentRendered(){}}var DrawerStrategy$1=DrawerStrategy;class PushStrategy extends DrawerStrategy$1{_internalRenderPosition(e,r){var n=this.getDrawerInstance(),i=this._getPanelSize(!0),a=this._getPanelSize(n.option("opened"))*n._getPositionCorrection();if($(n.content()).css(n.isHorizontalDirection()?"width":"height",i),n.getMinSize()){var o="padding";switch(n.calcTargetPosition()){case"left":o+="Right";break;case"right":o+="Left";break;case"top":o+="Bottom";break;case"bottom":o+="Top"}$(n.viewContent()).css(o,n.getMinSize())}e?animation.moveTo({$element:$(n.viewContent()),position:a,direction:n.calcTargetPosition(),duration:n.option("animationDuration"),complete:()=>{r.resolve()}}):n.isHorizontalDirection()?move($(n.viewContent()),{left:a}):move($(n.viewContent()),{top:a})}onPanelContentRendered(){$(this.getDrawerInstance().viewContent()).addClass("dx-theme-background-color")}}var PushStrategy$1=PushStrategy;class ShrinkStrategy extends DrawerStrategy$1{_internalRenderPosition(e,r){var n=this.getDrawerInstance(),i=n.calcTargetPosition(),a=$(n.content()),o=this._getPanelSize(n.option("opened")),s=this._getPanelOffset(n.option("opened")),l=n.option("revealMode");e?l==="slide"?animation.margin({complete:()=>{r.resolve()},$element:a,duration:n.option("animationDuration"),direction:i,margin:s}):l==="expand"&&animation.size({complete:()=>{r.resolve()},$element:a,duration:n.option("animationDuration"),direction:i,size:o}):l==="slide"?a.css("margin"+camelize$2(i,!0),s):l==="expand"&&a.css(n.isHorizontalDirection()?"width":"height",o)}isViewContentFirst(e,r){return(r?e==="left":e==="right")||e==="bottom"}}var ShrinkStrategy$1=ShrinkStrategy;class OverlapStrategy extends DrawerStrategy$1{renderPanelContent(e){delete this._initialPosition;var r=this.getDrawerInstance(),{opened:n,minSize:i}=r.option();r._overlay=r._createComponent(r.content(),Overlay$1,{shading:!1,container:r.content(),visualContainer:r.getOverlayTarget(),position:this._getOverlayPosition(),width:n?"auto":i||0,height:"100%",templatesRenderAsynchronously:r.option("templatesRenderAsynchronously"),animation:{show:{duration:0}},onPositioned:function(a){this._fixOverlayPosition(a.component.$content())}.bind(this),contentTemplate:r.option("template"),onContentReady:a=>{e.resolve(),this._processOverlayZIndex(a.component.content())},visible:!0,propagateOutsideClick:!0})}_fixOverlayPosition(e){var r=ensureDefined(this._initialPosition,{left:0,top:0});move(e,r),this.getDrawerInstance().calcTargetPosition()==="right"&&e.css("left","auto"),this.getDrawerInstance().calcTargetPosition()==="bottom"&&(e.css("top","auto"),e.css("bottom","0px"))}_getOverlayPosition(){var e=this.getDrawerInstance(),r=e.calcTargetPosition(),n={};switch(r){case"left":n={my:"top left",at:"top left"};break;case"right":n={my:e.option("rtlEnabled")?"top left":"top right",at:"top right"};break;case"top":case"bottom":n={my:r,at:r}}return n.of=e.getOverlayTarget(),n}refreshPanelElementSize(e){var r=this.getDrawerInstance(),n=r.getOverlay();r.isHorizontalDirection()?(n.option("height","100%"),n.option("width",e?r.getRealPanelWidth():this._getPanelSize(r.option("opened")))):(n.option("width",getWidth(r.getOverlayTarget())),n.option("height",e?r.getRealPanelHeight():this._getPanelSize(r.option("opened"))))}onPanelContentRendered(){this._updateViewContentStyles()}_updateViewContentStyles(){var e=this.getDrawerInstance();$(e.viewContent()).css("padding"+camelize$2(e.calcTargetPosition(),!0),e.option("minSize")),$(e.viewContent()).css("transform","inherit")}_internalRenderPosition(e,r){var n=this.getDrawerInstance(),i=$(n.content()),a=n.getOverlay().$content(),o=n.option("revealMode"),s=n.calcTargetPosition(),l=this._getPanelSize(n.option("opened")),u=this._getPanelOffset(n.option("opened"))*n._getPositionCorrection(),m=n.getRealPanelHeight()-l;this._updateViewContentStyles(),e?o==="slide"?(this._initialPosition=n.isHorizontalDirection()?{left:u}:{top:u},animation.moveTo({complete:()=>{r.resolve()},duration:n.option("animationDuration"),direction:s,$element:i,position:u})):o==="expand"&&(this._initialPosition={left:0},move(a,this._initialPosition),animation.size({complete:()=>{r.resolve()},duration:n.option("animationDuration"),direction:s,$element:a,size:l,marginTop:m})):o==="slide"?(this._initialPosition=n.isHorizontalDirection()?{left:u}:{top:u},move(i,this._initialPosition)):o==="expand"&&(this._initialPosition={left:0},move(a,this._initialPosition),n.isHorizontalDirection()?$(a).css("width",l):($(a).css("height",l),s==="bottom"&&$(a).css("marginTop",m)))}getPanelContent(){return $(this.getDrawerInstance().getOverlay().content())}_processOverlayZIndex(e){var r=$(e).get(0).style,n=r.zIndex||1;this.getDrawerInstance().setZIndex(n)}isViewContentFirst(e){return e==="right"||e==="bottom"}}var OverlapStrategy$1=OverlapStrategy,DRAWER_CLASS="dx-drawer",DRAWER_WRAPPER_CLASS="dx-drawer-wrapper",DRAWER_PANEL_CONTENT_CLASS="dx-drawer-panel-content",DRAWER_VIEW_CONTENT_CLASS="dx-drawer-content",DRAWER_SHADER_CLASS="dx-drawer-shader",INVISIBLE_STATE_CLASS="dx-state-invisible",OPENED_STATE_CLASS="dx-drawer-opened",ANONYMOUS_TEMPLATE_NAME="content",PANEL_TEMPLATE_NAME="panel",Drawer=Widget$2.inherit({_getDefaultOptions(){return extend(this.callBase(),{position:"left",opened:!1,minSize:null,maxSize:null,shading:!1,template:PANEL_TEMPLATE_NAME,openedStateMode:"shrink",revealMode:"slide",animationEnabled:!0,animationDuration:400,closeOnOutsideClick:!1,contentTemplate:ANONYMOUS_TEMPLATE_NAME,target:void 0})},_setDeprecatedOptions(){this.callBase(),extend(this._deprecatedOptions,{target:{since:"20.1",message:"Functionality associated with this option is not intended for the Drawer widget."}})},_init(){this.callBase(),this._initStrategy(),this.$element().addClass(DRAWER_CLASS),this._whenAnimationCompleted=void 0,this._whenPanelContentRendered=void 0,this._whenPanelContentRefreshed=void 0,this._$wrapper=$("<div>").addClass(DRAWER_WRAPPER_CLASS),this._$viewContentWrapper=$("<div>").addClass(DRAWER_VIEW_CONTENT_CLASS),this._$wrapper.append(this._$viewContentWrapper),this.$element().append(this._$wrapper)},_initStrategy(){switch(this.option("openedStateMode")){case"push":this._strategy=new PushStrategy$1(this);break;case"shrink":this._strategy=new ShrinkStrategy$1(this);break;case"overlap":this._strategy=new OverlapStrategy$1(this);break;default:this._strategy=new PushStrategy$1(this)}},_getAnonymousTemplateName:function(){return ANONYMOUS_TEMPLATE_NAME},_initTemplates(){var t={};t[PANEL_TEMPLATE_NAME]=new EmptyTemplate,t[ANONYMOUS_TEMPLATE_NAME]=new EmptyTemplate,this._templateManager.addDefaultTemplates(t),this.callBase()},_viewContentWrapperClickHandler(t){var e=this.option("closeOnOutsideClick");isFunction$2(e)&&(e=e(t)),e&&this.option("opened")&&(this.stopAnimations(),this.option("shading")&&t.preventDefault(),this.hide())},_initMarkup(){this.callBase(),this._toggleOpenedStateClass(this.option("opened")),this._renderPanelContentWrapper(),this._refreshOpenedStateModeClass(),this._refreshRevealModeClass(),this._renderShader(),this._refreshPositionClass(),this._whenPanelContentRendered=new Deferred,this._strategy.renderPanelContent(this._whenPanelContentRendered),this._strategy.onPanelContentRendered(),this._renderViewContent(),eventsEngine$1.off(this._$viewContentWrapper,CLICK_EVENT_NAME),eventsEngine$1.on(this._$viewContentWrapper,CLICK_EVENT_NAME,this._viewContentWrapperClickHandler.bind(this)),this._refreshWrapperChildrenOrder()},_render(){this._initMinMaxSize(),this.callBase(),this._whenPanelContentRendered.always(()=>{this._initMinMaxSize(),this._strategy.refreshPanelElementSize(this.option("revealMode")==="slide"||!this.isHorizontalDirection()),this._renderPosition(this.option("opened"),!0),this._removePanelManualPosition()})},_removePanelManualPosition(){this._$panelContentWrapper.attr("manualposition")&&(this._$panelContentWrapper.removeAttr("manualPosition"),this._$panelContentWrapper.css({position:"",top:"",left:"",right:"",bottom:""}))},_renderPanelContentWrapper(){this._$panelContentWrapper=$("<div>").addClass(DRAWER_PANEL_CONTENT_CLASS);var t=this.calcTargetPosition();this.option("openedStateMode")==="push"&&["top","bottom"].indexOf(t)>-1&&this._$panelContentWrapper.addClass(DRAWER_PANEL_CONTENT_CLASS+"-push-top-or-bottom"),this.option("openedStateMode")!=="overlap"&&!this.option("opened")&&!this.option("minSize")&&(this._$panelContentWrapper.attr("manualposition",!0),this._$panelContentWrapper.css({position:"absolute",top:"-10000px",left:"-10000px",right:"auto",bottom:"auto"})),this._$wrapper.append(this._$panelContentWrapper)},_refreshOpenedStateModeClass(t){t&&this.$element().removeClass(DRAWER_CLASS+"-"+t),this.$element().addClass(DRAWER_CLASS+"-"+this.option("openedStateMode"))},_refreshPositionClass(t){t&&this.$element().removeClass(DRAWER_CLASS+"-"+t),this.$element().addClass(DRAWER_CLASS+"-"+this.calcTargetPosition())},_refreshWrapperChildrenOrder(){var t=this.calcTargetPosition();this._strategy.isViewContentFirst(t,this.option("rtlEnabled"))?this._$wrapper.prepend(this._$viewContentWrapper):this._$wrapper.prepend(this._$panelContentWrapper)},_refreshRevealModeClass(t){t&&this.$element().removeClass(DRAWER_CLASS+"-"+t),this.$element().addClass(DRAWER_CLASS+"-"+this.option("revealMode"))},_renderViewContent(){var t=this.option("contentTemplate"),e=this._getTemplate(t);if(e){var r=e.render({container:this.viewContent(),noModel:!0,transclude:this._templateManager.anonymousTemplateName===t});r.hasClass("ng-scope")&&$(this._$viewContentWrapper).children().not(".".concat(DRAWER_SHADER_CLASS)).replaceWith(r)}},_renderShader(){this._$shader=this._$shader||$("<div>").addClass(DRAWER_SHADER_CLASS),this._$shader.appendTo(this.viewContent()),this._toggleShaderVisibility(this.option("opened"))},_initSize(){this._initMinMaxSize()},_initMinMaxSize(){var t=this.isHorizontalDirection()?this.getRealPanelWidth():this.getRealPanelHeight();this._maxSize=this.option("maxSize")||t,this._minSize=this.option("minSize")||0},calcTargetPosition(){var t=this.option("position"),e=this.option("rtlEnabled"),r=t;return t==="before"?r=e?"right":"left":t==="after"&&(r=e?"left":"right"),r},getOverlayTarget(){return this._options.silent("target")||this._$wrapper},getOverlay(){return this._overlay},getMaxSize(){return this._maxSize},getMinSize(){return this._minSize},getRealPanelWidth(){return hasWindow()?isDefined(this.option("templateSize"))?this.option("templateSize"):getBoundingRect(this._getPanelTemplateElement()).width:0},getRealPanelHeight(){return hasWindow()?isDefined(this.option("templateSize"))?this.option("templateSize"):getBoundingRect(this._getPanelTemplateElement()).height:0},_getPanelTemplateElement(){var t=this._strategy.getPanelContent(),e=t;return t.children().length&&(e=t.children().eq(0),t.hasClass("dx-overlay-content")&&e.hasClass("dx-template-wrapper")&&e.children().length&&(e=e.children().eq(0))),e.get(0)},getElementHeight(t){var e=t.children();return e.length?getBoundingRect(e.eq(0).get(0)).height:getBoundingRect(t.get(0)).height},isHorizontalDirection(){var t=this.calcTargetPosition();return t==="left"||t==="right"},stopAnimations(t){fx$1.stop(this._$shader,t),fx$1.stop($(this.content()),t),fx$1.stop($(this.viewContent()),t);var e=this.getOverlay();e&&fx$1.stop($(e.$content()),t)},setZIndex(t){this._$shader.css("zIndex",t-1),this._$panelContentWrapper.css("zIndex",t)},resizeContent(){this.resizeViewContent},resizeViewContent(){triggerResizeEvent(this.viewContent())},_isInvertedPosition(){var t=this.calcTargetPosition();return t==="right"||t==="bottom"},_renderPosition(t,e,r){if(this.stopAnimations(r),!!hasWindow()){$(this.viewContent()).css("paddingLeft",0),$(this.viewContent()).css("paddingRight",0),$(this.viewContent()).css("paddingTop",0),$(this.viewContent()).css("paddingBottom",0);var n=this.option("animationEnabled");e===!0&&(n=!1),t&&this._toggleShaderVisibility(t),this._strategy.renderPosition(n,this.option("animationDuration"))}},_animationCompleteHandler(){this.resizeViewContent(),this._whenAnimationCompleted&&this._whenAnimationCompleted.resolve()},_getPositionCorrection(){return this._isInvertedPosition()?-1:1},_dispose(){animation.complete($(this.viewContent())),this.callBase()},_visibilityChanged(t){t&&this._dimensionChanged()},_dimensionChanged(){this._initMinMaxSize(),this._strategy.refreshPanelElementSize(this.option("revealMode")==="slide"),this._renderPosition(this.option("opened"),!0)},_toggleShaderVisibility(t){this.option("shading")?(this._$shader.toggleClass(INVISIBLE_STATE_CLASS,!t),this._$shader.css("visibility",t?"visible":"hidden")):this._$shader.toggleClass(INVISIBLE_STATE_CLASS,!0)},_toggleOpenedStateClass(t){this.$element().toggleClass(OPENED_STATE_CLASS,t)},_refreshPanel(){$(this.viewContent()).css("left",0),$(this.viewContent()).css("transform","translate(0px, 0px)"),$(this.viewContent()).removeClass("dx-theme-background-color"),this._removePanelContentWrapper(),this._removeOverlay(),this._renderPanelContentWrapper(),this._refreshWrapperChildrenOrder(),this._whenPanelContentRefreshed=new Deferred,this._strategy.renderPanelContent(this._whenPanelContentRefreshed),this._strategy.onPanelContentRendered(),hasWindow()&&this._whenPanelContentRefreshed.always(()=>{this._strategy.refreshPanelElementSize(this.option("revealMode")==="slide"),this._renderPosition(this.option("opened"),!0,!0),this._removePanelManualPosition()})},_clean(){this._cleanFocusState(),this._removePanelContentWrapper(),this._removeOverlay()},_removePanelContentWrapper(){this._$panelContentWrapper&&this._$panelContentWrapper.remove()},_removeOverlay(){this._overlay&&(this._overlay.dispose(),delete this._overlay,delete this._$panelContentWrapper)},_optionChanged(t){switch(t.name){case"width":this.callBase(t),this._dimensionChanged();break;case"opened":this._renderPosition(this.option("opened")),this._toggleOpenedStateClass(t.value);break;case"position":this._refreshPositionClass(t.previousValue),this._refreshWrapperChildrenOrder(),this._invalidate();break;case"contentTemplate":case"template":this._invalidate();break;case"openedStateMode":case"target":this._initStrategy(),this._refreshOpenedStateModeClass(t.previousValue),this._refreshPanel();break;case"minSize":case"maxSize":this._initMinMaxSize(),this._renderPosition(this.option("opened"),!0);break;case"revealMode":this._refreshRevealModeClass(t.previousValue),this._refreshPanel();break;case"shading":this._toggleShaderVisibility(this.option("opened"));break;case"animationEnabled":case"animationDuration":case"closeOnOutsideClick":break;default:this.callBase(t)}},content(){return getPublicElement(this._$panelContentWrapper)},viewContent(){return getPublicElement(this._$viewContentWrapper)},show(){return this.toggle(!0)},hide(){return this.toggle(!1)},toggle(t){var e=t===void 0?!this.option("opened"):t;return this._whenAnimationCompleted=new Deferred,this.option("opened",e),this._whenAnimationCompleted.promise()}});registerComponent$1("dxDrawer",Drawer);var Drawer$1=Drawer,TRACKBAR_CLASS="dx-trackbar",TRACKBAR_CONTAINER_CLASS="dx-trackbar-container",TRACKBAR_RANGE_CLASS="dx-trackbar-range",TRACKBAR_WRAPPER_CLASS="dx-trackbar-wrapper",TrackBar=Editor$3.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{min:0,max:100,value:0})},_initMarkup:function(){this.$element().addClass(TRACKBAR_CLASS),this._renderWrapper(),this._renderContainer(),this._renderRange(),this._renderValue(),this._setRangeStyles(),this.callBase()},_render:function(){this.callBase(),this._setRangeStyles(this._rangeStylesConfig())},_renderWrapper:function(){this._$wrapper=$("<div>").addClass(TRACKBAR_WRAPPER_CLASS).appendTo(this.$element())},_renderContainer:function(){this._$bar=$("<div>").addClass(TRACKBAR_CONTAINER_CLASS).appendTo(this._$wrapper)},_renderRange:function(){this._$range=$("<div>").addClass(TRACKBAR_RANGE_CLASS).appendTo(this._$bar)},_renderValue:function(){var t=this.option("value"),e=this.option("min"),r=this.option("max");if(!(e>r)){if(t<e){this.option("value",e),this._currentRatio=0;return}if(t>r){this.option("value",r),this._currentRatio=1;return}var n=e===r?0:(t-e)/(r-e);!this._needPreventAnimation&&this._setRangeStyles({width:100*n+"%"}),this.setAria({valuemin:this.option("min"),valuemax:r,valuenow:t}),this._currentRatio=n}},_rangeStylesConfig:function(){return{width:100*this._currentRatio+"%"}},_setRangeStyles:function(t){if(fx$1.stop(this._$range),!t){this._$range.css({width:0});return}this._needPreventAnimation||!hasWindow()||fx$1.animate(this._$range,{type:"custom",duration:100,to:t})},_optionChanged:function(t){switch(t.name){case"value":this._renderValue(),this.callBase(t);break;case"max":case"min":this._renderValue();break;default:this.callBase(t)}},_dispose:function(){fx$1.stop(this._$range),this.callBase()}});registerComponent$1("dxTrackBar",TrackBar);var TrackBar$1=TrackBar,PROGRESSBAR_CLASS="dx-progressbar",PROGRESSBAR_CONTAINER_CLASS="dx-progressbar-container",PROGRESSBAR_RANGE_CONTAINER_CLASS="dx-progressbar-range-container",PROGRESSBAR_RANGE_CLASS="dx-progressbar-range",PROGRESSBAR_WRAPPER_CLASS="dx-progressbar-wrapper",PROGRESSBAR_STATUS_CLASS="dx-progressbar-status",PROGRESSBAR_INDETERMINATE_SEGMENT_CONTAINER="dx-progressbar-animating-container",PROGRESSBAR_INDETERMINATE_SEGMENT="dx-progressbar-animating-segment",ProgressBar=TrackBar$1.inherit({_getDefaultOptions:function(){return extend(this.callBase(),{value:0,statusFormat:function(t){return"Progress: "+Math.round(100*t)+"%"},showStatus:!0,onComplete:null,activeStateEnabled:!1,statusPosition:"bottom left",_animatingSegmentCount:0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return t.platform==="android"},options:{_animatingSegmentCount:2}}])},_initMarkup:function(){this._renderStatus(),this._createCompleteAction(),this.callBase(),this.$element().addClass(PROGRESSBAR_CLASS),this._$wrapper.addClass(PROGRESSBAR_WRAPPER_CLASS),this._$bar.addClass(PROGRESSBAR_CONTAINER_CLASS),this.setAria("role","progressbar"),$("<div>").addClass(PROGRESSBAR_RANGE_CONTAINER_CLASS).appendTo(this._$wrapper).append(this._$bar),this._$range.addClass(PROGRESSBAR_RANGE_CLASS),this._toggleStatus(this.option("showStatus"))},_useTemplates:function(){return!1},_createCompleteAction:function(){this._completeAction=this._createActionByOption("onComplete")},_renderStatus:function(){this._$status=$("<div>").addClass(PROGRESSBAR_STATUS_CLASS)},_renderIndeterminateState:function(){this._$segmentContainer=$("<div>").addClass(PROGRESSBAR_INDETERMINATE_SEGMENT_CONTAINER);for(var t=this.option("_animatingSegmentCount"),e=0;e<t;e++)$("<div>").addClass(PROGRESSBAR_INDETERMINATE_SEGMENT).addClass(PROGRESSBAR_INDETERMINATE_SEGMENT+"-"+(e+1)).appendTo(this._$segmentContainer);this._$segmentContainer.appendTo(this._$wrapper)},_toggleStatus:function(t){var e=this.option("statusPosition").split(" ");t?e[0]==="top"||e[0]==="left"?this._$status.prependTo(this._$wrapper):this._$status.appendTo(this._$wrapper):this._$status.detach(),this._togglePositionClass()},_togglePositionClass:function(){var t=this.option("statusPosition"),e=t.split(" ");this._$wrapper.removeClass("dx-position-top-left dx-position-top-right dx-position-bottom-left dx-position-bottom-right dx-position-left dx-position-right");var r="dx-position-"+e[0];e[1]&&(r+="-"+e[1]),this._$wrapper.addClass(r)},_toggleIndeterminateState:function(t){t?(this._renderIndeterminateState(),this._$bar.toggle(!1)):(this._$bar.toggle(!0),this._$segmentContainer.remove(),delete this._$segmentContainer)},_renderValue:function(){var t=this.option("value"),e=this.option("max");if(!t&&t!==0){this._toggleIndeterminateState(!0);return}this._$segmentContainer&&this._toggleIndeterminateState(!1),t===e&&this._completeAction(),this.callBase(),this._setStatus()},_setStatus:function(){var t=this.option("statusFormat");isFunction$2(t)?t=t.bind(this):t=function(r){return r};var e=t(this._currentRatio,this.option("value"));this._$status.text(e)},_dispose:function(){this._$status.remove(),this.callBase()},_optionChanged:function(t){switch(t.name){case"statusFormat":this._setStatus();break;case"showStatus":this._toggleStatus(t.value);break;case"statusPosition":this._toggleStatus(this.option("showStatus"));break;case"onComplete":this._createCompleteAction();break;case"_animatingSegmentCount":break;default:this.callBase(t)}}});registerComponent$1("dxProgressBar",ProgressBar);var ProgressBar$1=ProgressBar,FILE_MANAGER_PROGRESS_PANEL_CLASS="dx-filemanager-progress-panel",FILE_MANAGER_PROGRESS_PANEL_CONTAINER_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-container"),FILE_MANAGER_PROGRESS_PANEL_TITLE_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-title"),FILE_MANAGER_PROGRESS_PANEL_TITLE_TEXT_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-title-text"),FILE_MANAGER_PROGRESS_PANEL_CLOSE_BUTTON_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-close-button"),FILE_MANAGER_PROGRESS_PANEL_INFOS_CONTAINER_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-infos-container"),FILE_MANAGER_PROGRESS_PANEL_SEPARATOR_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-separator"),FILE_MANAGER_PROGRESS_PANEL_INFO_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-info"),FILE_MANAGER_PROGRESS_PANEL_COMMON_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-common"),FILE_MANAGER_PROGRESS_PANEL_INFO_WITH_DETAILS_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-info-with-details"),FILE_MANAGER_PROGRESS_PANEL_DETAILS_CLASS="".concat(FILE_MANAGER_PROGRESS_PANEL_CLASS,"-details"),FILE_MANAGER_PROGRESS_BOX_CLASS$1="dx-filemanager-progress-box",FILE_MANAGER_PROGRESS_BOX_ERROR_CLASS$1="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS$1,"-error"),FILE_MANAGER_PROGRESS_BOX_WITHOUT_CLOSE_BUTTON_CLASS="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS$1,"-without-close-button"),FILE_MANAGER_PROGRESS_BOX_IMAGE_CLASS$1="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS$1,"-image"),FILE_MANAGER_PROGRESS_BOX_WRAPPER_CLASS$1="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS$1,"-wrapper"),FILE_MANAGER_PROGRESS_BOX_COMMON_CLASS$1="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS$1,"-common"),FILE_MANAGER_PROGRESS_BOX_PROGRESS_BAR_CLASS="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS$1,"-progress-bar"),FILE_MANAGER_PROGRESS_BOX_CLOSE_BUTTON_CLASS="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS$1,"-close-button"),DX_CARD_CLASS="dx-card";class FileManagerProgressPanel extends Widget$2{_initMarkup(){super._initMarkup(),this._initActions(),this._operationCount=0,this.$element().addClass(FILE_MANAGER_PROGRESS_PANEL_CLASS);var e=$("<div>").appendTo(this.$element()),r=$("<div>").addClass(FILE_MANAGER_PROGRESS_PANEL_CONTAINER_CLASS).appendTo(e);this._scrollView=this._createComponent(e,ScrollView$1,{scrollByContent:!0,scrollByThumb:!0,showScrollbar:"onScroll"});var n=$("<div>").addClass(FILE_MANAGER_PROGRESS_PANEL_TITLE_CLASS).appendTo(r);$("<div>").text(messageLocalization$1.format("dxFileManager-notificationProgressPanelTitle")).addClass(FILE_MANAGER_PROGRESS_PANEL_TITLE_TEXT_CLASS).appendTo(n);var i=$("<div>").addClass(FILE_MANAGER_PROGRESS_PANEL_CLOSE_BUTTON_CLASS).appendTo(n);this._createComponent(i,Button,{icon:"close",stylingMode:"text",onClick:()=>this._raisePanelClosed()}),this._$infosContainer=$("<div>").addClass(FILE_MANAGER_PROGRESS_PANEL_INFOS_CONTAINER_CLASS).appendTo(r),this._renderEmptyListText()}_getDefaultOptions(){return extend(super._getDefaultOptions(),{onOperationClosed:null,onOperationCanceled:null,onOperationItemCanceled:null,onPanelClosed:null})}_initActions(){this._actions={onOperationClosed:this._createActionByOption("onOperationClosed"),onOperationCanceled:this._createActionByOption("onOperationCanceled"),onOperationItemCanceled:this._createActionByOption("onOperationItemCanceled"),onPanelClosed:this._createActionByOption("onPanelClosed")}}_optionChanged(e){var r=e.name;switch(r){case"test":break;case"onOperationClosed":case"onOperationCanceled":case"onOperationItemCanceled":this._actions[r]=this._createActionByOption(r);break;default:super._optionChanged(e)}}addOperation(e,r,n){this._operationCount?$("<div>").addClass(FILE_MANAGER_PROGRESS_PANEL_SEPARATOR_CLASS).prependTo(this._$infosContainer):this._$infosContainer.empty(),this._operationCount++;var i={customCloseHandling:r,allowProgressAutoUpdate:ensureDefined(n,!0)},a=$("<div>").addClass(FILE_MANAGER_PROGRESS_PANEL_INFO_CLASS).prependTo(this._$infosContainer);i.$info=a;var o=$("<div>").addClass(FILE_MANAGER_PROGRESS_PANEL_COMMON_CLASS).appendTo(a);return i.common=this._createProgressBox(o,{commonText:e,showCloseButton:!0,showCloseButtonAlways:r,onCloseButtonClick:()=>this._closeOperation(i)}),i}addOperationDetails(e,r,n){e.$info.addClass(FILE_MANAGER_PROGRESS_PANEL_INFO_WITH_DETAILS_CLASS);var i=$("<div>").addClass(FILE_MANAGER_PROGRESS_PANEL_DETAILS_CLASS).appendTo(e.$info);e.details=r.map((a,o)=>(a.info=e,this._createDetailsItem(i,a,o,!1,n)))}_createDetailsItem(e,r,n,i,a){var o=$("<div>").appendTo(e);return n!==-1&&o.addClass(DX_CARD_CLASS),this._createProgressBox(o,{commonText:r.commonText,imageUrl:r.imageUrl,skipProgressBox:i,showCloseButton:a,showCloseButtonAlways:a,onCloseButtonClick:()=>this._cancelOperationItem(r,n)})}completeOperationItem(e,r,n){e.allowProgressAutoUpdate&&this.updateOperationItemProgress(e,r,100,n),this._setCloseButtonVisible(e.details[r],!1)}updateOperationItemProgress(e,r,n,i){if(e.common.progressBar.option("value",i),e.details){var a=e.details[r];a.progressBar.option("value",n)}}completeOperation(e,r,n,i){e.completed=!0,e.common.$commonText.text(r),n?this._removeProgressBar(e.common):e.allowProgressAutoUpdate&&e.common.progressBar.option("value",100),i&&this._setProgressBarText(e.common,i),this._setCloseButtonVisible(e.common,!0)}completeSingleOperationWithError(e,r){var n,i=(n=e.details)===null||n===void 0?void 0:n[0];e.completed=!0,this._renderOperationError(i||e.common,r),this._setCloseButtonVisible(e.common,!0),i&&this._setCloseButtonVisible(i,!1)}addOperationDetailsError(e,r,n){var i=e.details[r];this._renderOperationError(i,n),this._setCloseButtonVisible(i,!1)}_renderError(e,r,n){$("<div>").text(n).addClass(FILE_MANAGER_PROGRESS_BOX_ERROR_CLASS$1).appendTo(e)}_renderEmptyListText(){this._$infosContainer.text(messageLocalization$1.format("dxFileManager-notificationProgressPanelEmptyListText"))}_renderOperationError(e,r){this._removeProgressBar(e),this._renderError(e.$wrapper,e.$commonText,r)}_removeProgressBar(e){e.progressBar&&(e.progressBar.dispose(),e.progressBar.$element().remove(),e.progressBar=null)}_createProgressBox(e,r){e.addClass(FILE_MANAGER_PROGRESS_BOX_CLASS$1),r.showCloseButtonAlways||e.addClass(FILE_MANAGER_PROGRESS_BOX_WITHOUT_CLOSE_BUTTON_CLASS),r.imageUrl&&getImageContainer(r.imageUrl).addClass(FILE_MANAGER_PROGRESS_BOX_IMAGE_CLASS$1).appendTo(e);var n=$("<div>").addClass(FILE_MANAGER_PROGRESS_BOX_WRAPPER_CLASS$1).appendTo(e),i=$("<div>").addClass(FILE_MANAGER_PROGRESS_BOX_COMMON_CLASS$1).text(r.commonText).appendTo(n),a=null;if(!r.skipProgressBox){var o=$("<div>").addClass(FILE_MANAGER_PROGRESS_BOX_PROGRESS_BAR_CLASS).appendTo(n);a=this._createComponent(o,ProgressBar$1,{min:0,max:100,width:"100%",validationMessageMode:"always",statusFormat:(u,m)=>this._getStatusString(u,m)})}var s=null;if(r.showCloseButton){var l=$("<div>").addClass(FILE_MANAGER_PROGRESS_BOX_CLOSE_BUTTON_CLASS).appendTo(e);s=this._createComponent(l,Button,{icon:"dx-filemanager-i dx-filemanager-i-cancel",stylingMode:"text",visible:r.showCloseButtonAlways,onClick:r.onCloseButtonClick})}return{$commonText:i,progressBar:a,$element:e,$wrapper:n,closeButton:s}}_setCloseButtonVisible(e,r){e.closeButton&&(e.$element.toggleClass(FILE_MANAGER_PROGRESS_BOX_WITHOUT_CLOSE_BUTTON_CLASS,!r),e.closeButton.option("visible",r))}_setProgressBarText(e,r){e.progressBar.option("statusFormat",()=>r)}_closeOperation(e){e.customCloseHandling&&!e.completed?(this._raiseOperationCanceled(e),this._setCloseButtonVisible(e.common,!1),e.details.forEach(r=>this._displayClosedOperationItem(r))):(this._raiseOperationClosed(e),e.$info.next(".".concat(FILE_MANAGER_PROGRESS_PANEL_SEPARATOR_CLASS)).remove(),e.$info.remove(),this._operationCount--,this._operationCount||this._renderEmptyListText())}_cancelOperationItem(e,r){this._raiseOperationItemCanceled(e,r);var n=e.info.details[r];this._displayClosedOperationItem(n)}_displayClosedOperationItem(e){this._setProgressBarText(e,messageLocalization$1.format("dxFileManager-notificationProgressPanelOperationCanceled")),this._setCloseButtonVisible(e,!1)}_getStatusString(e,r){return e===1?messageLocalization$1.format("Done"):Math.round(100*e)+"%"}_raiseOperationClosed(e){this._actions.onOperationClosed({info:e})}_raiseOperationCanceled(e){this._actions.onOperationCanceled({info:e})}_raiseOperationItemCanceled(e,r){this._actions.onOperationItemCanceled({item:e,itemIndex:r})}_raisePanelClosed(){this._actions.onPanelClosed()}}var FileManagerProgressPanel$1=FileManagerProgressPanel,FILE_MANAGER_PROGRESS_BOX_CLASS="dx-filemanager-progress-box",FILE_MANAGER_PROGRESS_BOX_ERROR_CLASS="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS,"-error"),FILE_MANAGER_PROGRESS_BOX_IMAGE_CLASS="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS,"-image"),FILE_MANAGER_PROGRESS_BOX_WRAPPER_CLASS="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS,"-wrapper"),FILE_MANAGER_PROGRESS_BOX_COMMON_CLASS="".concat(FILE_MANAGER_PROGRESS_BOX_CLASS,"-common"),MANAGER_ID_NAME="__operationInfoManager",ACTION_PROGRESS_STATUS={default:"default",progress:"progress",error:"error",success:"success"};class NotificationManagerBase{constructor(e){var{onActionProgressStatusChanged:r,isActual:n}=e;this._id=new Guid$1().toString(),this._isActual=n||!1,this._actionProgressStatus=ACTION_PROGRESS_STATUS.default,this._raiseActionProgress=r}getId(){return this._id}isActual(){return this._isActual}createErrorDetailsProgressBox(e,r,n){var i=this._createDetailsItem(e,r);this.renderError(i.$wrapper,n)}renderError(e,r){$("<div>").text(r).addClass(FILE_MANAGER_PROGRESS_BOX_ERROR_CLASS).appendTo(e)}isActionProgressStatusDefault(){return this._actionProgressStatus===ACTION_PROGRESS_STATUS.default}_createDetailsItem(e,r){var n=$("<div>").appendTo(e);return this._createProgressBox(n,{commonText:r.commonText,imageUrl:r.imageUrl})}_createProgressBox(e,r){e.addClass(FILE_MANAGER_PROGRESS_BOX_CLASS),r.imageUrl&&getImageContainer(r.imageUrl).addClass(FILE_MANAGER_PROGRESS_BOX_IMAGE_CLASS).appendTo(e);var n=$("<div>").addClass(FILE_MANAGER_PROGRESS_BOX_WRAPPER_CLASS).appendTo(e),i=$("<div>").addClass(FILE_MANAGER_PROGRESS_BOX_COMMON_CLASS).text(r.commonText).appendTo(n);return{$commonText:i,$element:e,$wrapper:n}}}class NotificationManagerStub extends NotificationManagerBase{addOperation(){return{[MANAGER_ID_NAME]:this._id}}addOperationDetails(){}updateOperationItemProgress(){}completeOperationItem(){}completeOperation(){}completeSingleOperationWithError(){}addOperationDetailsError(){}handleDimensionChanged(){return!1}ensureProgressPanelCreated(){}tryHideActionProgress(){this._updateActionProgress("",ACTION_PROGRESS_STATUS.default)}updateActionProgressStatus(){this._updateActionProgress("",ACTION_PROGRESS_STATUS.default)}_updateActionProgress(e,r){r!==ACTION_PROGRESS_STATUS.default&&r!==ACTION_PROGRESS_STATUS.progress||(this._actionProgressStatus=r,this._raiseActionProgress(e,r))}hasNoOperations(){return!0}get _operationInProgressCount(){return 0}set _operationInProgressCount(e){}get _failedOperationCount(){return 0}set _failedOperationCount(e){}}class NotificationManager extends NotificationManagerBase{constructor(e){super(e),this._failedOperationCount=0,this._operationInProgressCount=0}addOperation(e,r,n){this._operationInProgressCount++;var i=this._progressPanel.addOperation(e,r,n);return i[MANAGER_ID_NAME]=this._id,this._updateActionProgress(e,ACTION_PROGRESS_STATUS.progress),i}addOperationDetails(e,r,n){this._progressPanel.addOperationDetails(e,r,n)}updateOperationItemProgress(e,r,n,i){this._progressPanel.updateOperationItemProgress(e,r,n,i)}completeOperationItem(e,r,n){this._progressPanel.completeOperationItem(e,r,n)}completeOperation(e,r,n,i){this._operationInProgressCount--,n&&this._failedOperationCount++,this._progressPanel.completeOperation(e,r,n,i)}completeSingleOperationWithError(e,r){this._progressPanel.completeSingleOperationWithError(e,r.detailErrorText),this._notifyError(r)}addOperationDetailsError(e,r){this._progressPanel.addOperationDetailsError(e,r.itemIndex,r.detailErrorText),this._notifyError(r)}handleDimensionChanged(){return this._progressPanel&&this._progressPanel.$element().detach(),!0}ensureProgressPanelCreated(e,r){if(this._progressPanel)this._progressPanel.$element().appendTo(e);else{var n=$("<div>").appendTo(e),i=this._getProgressPanelComponent();this._progressPanel=new i(n,extend({},r,{onOperationClosed:a=>{var{info:o}=a;return this._onProgressPanelOperationClosed(o)}}))}}_getProgressPanelComponent(){return FileManagerProgressPanel$1}_onProgressPanelOperationClosed(e){e.hasError&&(this._failedOperationCount--,this.tryHideActionProgress())}tryHideActionProgress(){this.hasNoOperations()&&this._updateActionProgress("",ACTION_PROGRESS_STATUS.default)}updateActionProgressStatus(e){if(e){var r=this._failedOperationCount===0?ACTION_PROGRESS_STATUS.success:ACTION_PROGRESS_STATUS.error;this._updateActionProgress("",r)}}_notifyError(e){var r=this.hasNoOperations()?ACTION_PROGRESS_STATUS.default:ACTION_PROGRESS_STATUS.error;this._updateActionProgress(e.commonErrorText,r)}_updateActionProgress(e,r){this._actionProgressStatus=r,this._raiseActionProgress(e,r)}hasNoOperations(){return this._operationInProgressCount===0&&this._failedOperationCount===0}get _operationInProgressCount(){return this._operationInProgressCountInternal}set _operationInProgressCount(e){this._operationInProgressCountInternal=e}get _failedOperationCount(){return this._failedOperationCountInternal}set _failedOperationCount(e){this._failedOperationCountInternal=e}}var window$4=getWindow(),ADAPTIVE_STATE_SCREEN_WIDTH$1=1e3,FILE_MANAGER_NOTIFICATION_CLASS="dx-filemanager-notification",FILE_MANAGER_NOTIFICATION_DRAWER_CLASS="".concat(FILE_MANAGER_NOTIFICATION_CLASS,"-drawer"),FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS="".concat(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS,"-panel"),FILE_MANAGER_NOTIFICATION_POPUP_CLASS="".concat(FILE_MANAGER_NOTIFICATION_CLASS,"-popup"),FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS="".concat(FILE_MANAGER_NOTIFICATION_CLASS,"-popup-error"),FILE_MANAGER_NOTIFICATION_COMMON_CLASS="".concat(FILE_MANAGER_NOTIFICATION_CLASS,"-common"),FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS="".concat(FILE_MANAGER_NOTIFICATION_CLASS,"-separator"),FILE_MANAGER_NOTIFICATION_DETAILS_CLASS="".concat(FILE_MANAGER_NOTIFICATION_CLASS,"-details"),FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS="".concat(FILE_MANAGER_NOTIFICATION_CLASS,"-common-no-item");class FileManagerNotificationControl extends Widget$2{_initMarkup(){super._initMarkup(),this._initActions(),this._isInAdaptiveState=this._isSmallScreen(),this._managerMap={},this._notificationManagerStubId=null,this._setNotificationManager();var e=this.option("progressPanelContainer"),r=$("<div>").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS).appendTo(e);$("<div>").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS).appendTo(r);var n=extend({opened:!1,position:"right",template:o=>this._ensureProgressPanelCreated(o)},this._getProgressDrawerAdaptiveOptions());this._progressDrawer=this._createComponent(r,Drawer$1,n);var i=r.find(".".concat(FILE_MANAGER_NOTIFICATION_DRAWER_PANEL_CLASS)).first(),a=this.option("contentTemplate");isFunction$2(a)&&a(i,this)}_setNotificationManager(e){if(e=extend({onActionProgressStatusChanged:this._raiseActionProgress.bind(this)},e),!this._notificationManagerStubId){var r=new NotificationManagerStub(e);this._notificationManagerStubId=r.getId(),this._managerMap[this._notificationManagerStubId]=r}if(!this._isProgressDrawerDisabled()){var n=this._getProgressManagerComponent();e.isActual=!0;var i=new n(e);this._managerMap[i.getId()]=i}}_getNotificationManager(e){var r=(e==null?void 0:e[MANAGER_ID_NAME])||this._getActualNotificationManagerId();return this._managerMap[r]||this._managerMap[this._notificationManagerStubId]}_clearManagerMap(){var e=this._managerMap[this._notificationManagerStubId];delete this._managerMap,this._managerMap={[this._notificationManagerStubId]:e}}_getActualNotificationManagerId(){return Object.keys(this._managerMap).filter(e=>this._managerMap[e].isActual())[0]}tryShowProgressPanel(){var e=new Deferred,r=this._getNotificationManager();return r.isActionProgressStatusDefault()||this._isProgressDrawerOpened()||this._isProgressDrawerDisabled()?e.resolve().promise():(setTimeout(()=>{this._progressDrawer.show().done(e.resolve),this._hidePopup(),r.tryHideActionProgress()}),e.promise())}addOperation(e,r,n){var i=this._getNotificationManager();return i.addOperation(e,r,n)}addOperationDetails(e,r,n){var i=this._getNotificationManager(e);i.addOperationDetails(e,r,n)}updateOperationItemProgress(e,r,n,i){var a=this._getNotificationManager(e);a.updateOperationItemProgress(e,r,n,i)}completeOperationItem(e,r,n){var i=this._getNotificationManager(e);i.completeOperationItem(e,r,n)}completeOperation(e,r,n,i){var a=this._getNotificationManager(e);n||this._showPopup(r),a.completeOperation(e,r,n,i),!this._isProgressDrawerOpened()||!a.hasNoOperations()?a.updateActionProgressStatus(e):a.tryHideActionProgress()}completeSingleOperationWithError(e,r){var n=this._getNotificationManager(e);n.completeSingleOperationWithError(e,r),this._showPopupError(r)}addOperationDetailsError(e,r){var n=this._getNotificationManager(e);n.addOperationDetailsError(e,r),this._showPopupError(r)}_hideProgressPanel(){setTimeout(()=>this._progressDrawer.hide())}_isSmallScreen(){return hasWindow()?getWidth(window$4)<=ADAPTIVE_STATE_SCREEN_WIDTH$1:!1}_dimensionChanged(e){e&&e==="height"||this._checkAdaptiveState()}_checkAdaptiveState(){var e=this._isInAdaptiveState;if(this._isInAdaptiveState=this._isSmallScreen(),e!==this._isInAdaptiveState&&this._progressDrawer){var r=this._getNotificationManager();if(r.handleDimensionChanged()){var n=this._getProgressDrawerAdaptiveOptions();this._progressDrawer.option(n)}}}_getProgressDrawerAdaptiveOptions(){return this._isInAdaptiveState?{openedStateMode:"overlap",shading:!0,hideOnOutsideClick:!0}:{openedStateMode:"shrink",shading:!1,hideOnOutsideClick:!1}}_ensureProgressPanelCreated(e){var r=this._getNotificationManager();r.ensureProgressPanelCreated(e,{onOperationCanceled:n=>{var{info:i}=n;return this._raiseOperationCanceled(i)},onOperationItemCanceled:n=>{var{item:i,itemIndex:a}=n;return this._raiseOperationItemCanceled(i,a)},onPanelClosed:()=>this._hideProgressPanel()})}_getProgressManagerComponent(){return NotificationManager}_isProgressDrawerDisabled(){return!this.option("showProgressPanel")}_isProgressDrawerOpened(){return this._progressDrawer.option("opened")}_hidePopup(e){!this.option("showNotificationPopup")&&!e||this._getNotificationPopup().hide()}_showPopup(e,r){this._isProgressDrawerOpened()||!this.option("showNotificationPopup")||(this._getNotificationPopup().$wrapper().toggleClass(FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS,!!r),this._getNotificationPopup().option("contentTemplate",e),this._getNotificationPopup().option("visible")||this._getNotificationPopup().show())}_showPopupError(e){if(!!this.option("showNotificationPopup")){var r=this._getNotificationManager(),n=$("<div>"),i=$("<div>").addClass(FILE_MANAGER_NOTIFICATION_COMMON_CLASS).text(e.commonErrorText),a=$("<div>").addClass(FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS);$("<div>").appendTo(a);var o=$("<div>").addClass(FILE_MANAGER_NOTIFICATION_DETAILS_CLASS);e.item?r.createErrorDetailsProgressBox(o,e.item,e.detailErrorText):(i.addClass(FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS),r.renderError(o,e.detailErrorText)),n.append(i,a,o),this._showPopup(n,!0)}}_getNotificationPopup(){if(!this._notificationPopup){var e=$("<div>").appendTo(this.$element());this._notificationPopup=this._createComponent(e,Popup$1,{container:this.$element(),wrapperAttr:{class:FILE_MANAGER_NOTIFICATION_POPUP_CLASS},width:"auto",height:"auto",showTitle:!1,dragEnabled:!1,shading:!1,visible:!1,hideOnOutsideClick:!0,animation:{duration:0},position:{my:"right top",at:"right top",of:this.option("positionTarget"),offset:"-10 -5"}})}return this._notificationPopup}_raiseActionProgress(e,r){this._actions.onActionProgress({message:e,status:r})}_raiseOperationCanceled(e){this._actions.onOperationCanceled({info:e})}_raiseOperationItemCanceled(e,r){this._actions.onOperationItemCanceled({item:e,itemIndex:r})}_initActions(){this._actions={onActionProgress:this._createActionByOption("onActionProgress"),onOperationCanceled:this._createActionByOption("onOperationCanceled"),onOperationItemCanceled:this._createActionByOption("onOperationItemCanceled")}}_getDefaultOptions(){return extend(super._getDefaultOptions(),{progressPanelContainer:null,contentTemplate:null,onActionProgress:null,onOperationCanceled:null,onOperationItemCanceled:null,showProgressPanel:!0,showNotificationPopup:!0})}_optionChanged(e){var r=e.name;switch(r){case"progressPanelContainer":case"contentTemplate":break;case"showProgressPanel":this._setNotificationManager(),this._getNotificationManager().updateActionProgressStatus(),e.value||(this._hideProgressPanel(),this._clearManagerMap()),this._progressDrawer.repaint();break;case"showNotificationPopup":e.value||this._hidePopup(!0);break;case"onActionProgress":case"onOperationCanceled":case"onOperationItemCanceled":this._actions[r]=this._createActionByOption(r);break;default:super._optionChanged(e)}}}var FILE_MANAGER_DIALOG_CONTENT="dx-filemanager-dialog",FILE_MANAGER_DIALOG_POPUP="dx-filemanager-dialog-popup";class FileManagerDialogBase extends Widget$2{_initMarkup(){var e;super._initMarkup(),this._createOnClosedAction();var r=this._getDialogOptions(),n=$("<div>").appendTo(this.$element()),i={wrapperAttr:{class:"".concat(FILE_MANAGER_DIALOG_POPUP," ").concat((e=r.popupCssClass)!==null&&e!==void 0?e:"")},showTitle:!0,title:r.title,visible:!1,hideOnOutsideClick:!0,contentTemplate:this._createContentTemplate.bind(this),toolbarItems:[{widget:"dxButton",toolbar:"bottom",location:"after",options:{text:r.buttonText,onClick:this._applyDialogChanges.bind(this)}},{widget:"dxButton",toolbar:"bottom",location:"after",options:{text:messageLocalization$1.format("dxFileManager-dialogButtonCancel"),onClick:this._closeDialog.bind(this)}}],onInitialized:a=>{var{component:o}=a;o.registerKeyHandler("enter",this._applyDialogChanges.bind(this))},onHidden:this._onPopupHidden.bind(this),onShown:this._onPopupShown.bind(this)};isDefined(r.height)&&(i.height=r.height),isDefined(r.maxHeight)&&(i.maxHeight=r.maxHeight),this._popup=this._createComponent(n,Popup$1,i)}show(){this._dialogResult=null,this._popup.show()}_getDialogOptions(){return{title:"Title",buttonText:"ButtonText",contentCssClass:"",popupCssClass:""}}_createContentTemplate(e){this._$contentElement=$("<div>").appendTo(e).addClass(FILE_MANAGER_DIALOG_CONTENT);var r=this._getDialogOptions().contentCssClass;r&&this._$contentElement.addClass(r)}_getDialogResult(){return null}_applyDialogChanges(){var e=this._getDialogResult();e&&(this._dialogResult=e,this._closeDialog())}_closeDialog(){this._popup.hide()}_onPopupHidden(){this._onClosedAction({dialogResult:this._dialogResult})}_onPopupShown(){}_createOnClosedAction(){this._onClosedAction=this._createActionByOption("onClosed")}_setTitle(e){this._popup.option("title",e)}_setApplyButtonOptions(e){this._popup.option("toolbarItems[0].options",e)}_getDefaultOptions(){return extend(super._getDefaultOptions(),{onClosed:null})}_optionChanged(e){var r=e.name;switch(r){case"onClosed":this._createOnPathChangedAction();break;default:super._optionChanged(e)}}}var FileManagerDialogBase$1=FileManagerDialogBase,FILE_MANAGER_DIALOG_NAME_EDITOR="dx-filemanager-dialog-name-editor",FILE_MANAGER_DIALOG_NAME_EDITOR_POPUP="dx-filemanager-dialog-name-editor-popup";class FileManagerNameEditorDialog extends FileManagerDialogBase$1{show(e){e=e||"",this._nameTextBox?this._nameTextBox.option("value",e):this._initialNameValue=e,super.show()}_onPopupShown(){if(!!this._nameTextBox){var e=this._nameTextBox._input();e.length&&e[0].select(),this._nameTextBox.focus()}}_getDialogOptions(){return extend(super._getDialogOptions(),{title:this.option("title"),buttonText:this.option("buttonText"),contentCssClass:FILE_MANAGER_DIALOG_NAME_EDITOR,popupCssClass:FILE_MANAGER_DIALOG_NAME_EDITOR_POPUP})}_createContentTemplate(e){super._createContentTemplate(e),this._nameTextBox=this._createComponent($("<div>"),TextBox$1,{value:this._initialNameValue,onEnterKey:()=>this._hasCompositionJustEnded&&this._applyDialogChanges(),onKeyDown:r=>this._checkCompositionEnded(r)}),this._$contentElement.append(this._nameTextBox.$element())}_checkCompositionEnded(e){var{event:r}=e;this._hasCompositionJustEnded=r.which!==229}_getDialogResult(){var e=this._nameTextBox.option("value");return e?{name:e}:null}_getDefaultOptions(){return extend(super._getDefaultOptions(),{title:"",buttonText:""})}}var FileManagerNameEditorDialog$1=FileManagerNameEditorDialog,FILE_MANAGER_DIALOG_FOLDER_CHOOSER="dx-filemanager-dialog-folder-chooser",FILE_MANAGER_DIALOG_FOLDER_CHOOSER_POPUP="dx-filemanager-dialog-folder-chooser-popup";class FileManagerFolderChooserDialog extends FileManagerDialogBase$1{show(){var e;this._setSelectedDirInfo(null),(e=this._filesTreeView)===null||e===void 0||e.refresh(),super.show()}switchToCopyDialog(e){this._targetItemInfos=e,this._setTitle(messageLocalization$1.format("dxFileManager-dialogDirectoryChooserCopyTitle")),this._setApplyButtonOptions({text:messageLocalization$1.format("dxFileManager-dialogDirectoryChooserCopyButtonText"),disabled:!0})}switchToMoveDialog(e){this._targetItemInfos=e,this._setTitle(messageLocalization$1.format("dxFileManager-dialogDirectoryChooserMoveTitle")),this._setApplyButtonOptions({text:messageLocalization$1.format("dxFileManager-dialogDirectoryChooserMoveButtonText"),disabled:!0})}_getDialogOptions(){return extend(super._getDialogOptions(),{contentCssClass:FILE_MANAGER_DIALOG_FOLDER_CHOOSER,popupCssClass:FILE_MANAGER_DIALOG_FOLDER_CHOOSER_POPUP})}_createContentTemplate(e){super._createContentTemplate(e),this._filesTreeView=this._createComponent($("<div>"),FileManagerFilesTreeView$1,{getDirectories:this.option("getDirectories"),getCurrentDirectory:()=>this._getDialogSelectedDirectory(),onDirectoryClick:r=>this._onFilesTreeViewDirectoryClick(r),onFilesTreeViewContentReady:()=>this._toggleUnavailableLocationsDisabled(!0)}),this._$contentElement.append(this._filesTreeView.$element())}_getDialogResult(){var e=this._getDialogSelectedDirectory();return e&&{folder:e}}_getDefaultOptions(){return extend(super._getDefaultOptions(),{getItems:null})}_getDialogSelectedDirectory(){return this._selectedDirectoryInfo}_onFilesTreeViewDirectoryClick(e){var{itemData:r}=e;this._setSelectedDirInfo(r),this._filesTreeView.updateCurrentDirectory()}_setSelectedDirInfo(e){this._selectedDirectoryInfo=e,this._setApplyButtonOptions({disabled:!e})}_onPopupShown(){this._toggleUnavailableLocationsDisabled(!0),super._onPopupShown()}_onPopupHidden(){this._toggleUnavailableLocationsDisabled(!1),super._onPopupHidden()}_toggleUnavailableLocationsDisabled(e){if(!!this._filesTreeView){var r=this._getLocationsToProcess(e);this._filesTreeView.toggleDirectoryExpandedStateRecursive(r.locationsToExpand[0],e).then(()=>this._filesTreeView.toggleDirectoryLineExpandedState(r.locationsToCollapse,!e).then(()=>r.locationKeysToDisable.forEach(n=>this._filesTreeView.toggleNodeDisabledState(n,e))))}}_getLocationsToProcess(e){var r={},n={};this._targetItemInfos.forEach(o=>{o.parentDirectory&&(r[o.parentDirectory.getInternalKey()]=o.parentDirectory),o.fileItem.isDirectory&&(n[o.getInternalKey()]=o)});var i=getMapFromObject(r),a=getMapFromObject(n);return{locationsToExpand:e?i.values:[],locationsToCollapse:e?a.values:[],locationKeysToDisable:i.keys.concat(...a.keys)}}}var FileManagerFolderChooserDialog$1=FileManagerFolderChooserDialog,FILE_MANAGER_DIALOG_DELETE_ITEM="dx-filemanager-dialog-delete-item",FILE_MANAGER_DIALOG_DELETE_ITEM_POPUP="dx-filemanager-dialog-delete-item-popup";class FileManagerDeleteItemDialog extends FileManagerDialogBase$1{show(e){var{itemName:r,itemCount:n}=e,i=n===1?messageLocalization$1.format("dxFileManager-dialogDeleteItemSingleItemConfirmation",r):messageLocalization$1.format("dxFileManager-dialogDeleteItemMultipleItemsConfirmation",n);this._$text?this._$text.text(i):this._initialText=i,super.show()}_getDialogOptions(){return extend(super._getDialogOptions(),{title:messageLocalization$1.format("dxFileManager-dialogDeleteItemTitle"),buttonText:messageLocalization$1.format("dxFileManager-dialogDeleteItemButtonText"),contentCssClass:FILE_MANAGER_DIALOG_DELETE_ITEM,popupCssClass:FILE_MANAGER_DIALOG_DELETE_ITEM_POPUP,height:"auto",maxHeight:"80vh"})}_createContentTemplate(e){super._createContentTemplate(e),this._$text=$("<div>").text(this._initialText).appendTo(this._$contentElement),this._createComponent(this._$contentElement,ScrollView$1,{width:"100%",height:"100%"})}_getDialogResult(){return{}}}var FileManagerDeleteItemDialog$1=FileManagerDeleteItemDialog;class FileManagerDialogManager{constructor(e,r){this._$element=e,this._options=r;var n={onClosed:this._options.onDialogClosed,rtlEnabled:this._options.rtlEnabled},i=$("<div>").appendTo(this._$element);this._chooseDirectoryDialog=new FileManagerFolderChooserDialog$1(i,extend(n,this._options.chooseDirectoryDialog));var a=$("<div>").appendTo(this._$element);this._renameItemDialog=new FileManagerNameEditorDialog$1(a,extend(n,{title:messageLocalization$1.format("dxFileManager-dialogRenameItemTitle"),buttonText:messageLocalization$1.format("dxFileManager-dialogRenameItemButtonText")}));var o=$("<div>").appendTo(this._$element);this._createItemDialog=new FileManagerNameEditorDialog$1(o,extend(n,{title:messageLocalization$1.format("dxFileManager-dialogCreateDirectoryTitle"),buttonText:messageLocalization$1.format("dxFileManager-dialogCreateDirectoryButtonText")}));var s=$("<div>").appendTo(this._$element);this._deleteItemDialog=new FileManagerDeleteItemDialog$1(s,n)}getCopyDialog(e){return this._chooseDirectoryDialog.switchToCopyDialog(e),this._chooseDirectoryDialog}getMoveDialog(e){return this._chooseDirectoryDialog.switchToMoveDialog(e),this._chooseDirectoryDialog}getRenameItemDialog(){return this._renameItemDialog}getCreateItemDialog(){return this._createItemDialog}getDeleteItemDialog(){return this._deleteItemDialog}updateDialogRtl(e){[this._chooseDirectoryDialog,this._renameItemDialog,this._createItemDialog,this._deleteItemDialog].forEach(r=>{r.option("rtlEnabled",e)})}}var FileManagerDialogManager$1=FileManagerDialogManager,window$3=getWindow(),FILEUPLOADER_CLASS="dx-fileuploader",FILEUPLOADER_EMPTY_CLASS="dx-fileuploader-empty",FILEUPLOADER_SHOW_FILE_LIST_CLASS="dx-fileuploader-show-file-list",FILEUPLOADER_DRAGOVER_CLASS="dx-fileuploader-dragover",FILEUPLOADER_WRAPPER_CLASS="dx-fileuploader-wrapper",FILEUPLOADER_CONTAINER_CLASS="dx-fileuploader-container",FILEUPLOADER_CONTENT_CLASS="dx-fileuploader-content",FILEUPLOADER_INPUT_WRAPPER_CLASS="dx-fileuploader-input-wrapper",FILEUPLOADER_INPUT_CONTAINER_CLASS="dx-fileuploader-input-container",FILEUPLOADER_INPUT_LABEL_CLASS="dx-fileuploader-input-label",FILEUPLOADER_INPUT_CLASS="dx-fileuploader-input",FILEUPLOADER_FILES_CONTAINER_CLASS="dx-fileuploader-files-container",FILEUPLOADER_FILE_CONTAINER_CLASS="dx-fileuploader-file-container",FILEUPLOADER_FILE_INFO_CLASS="dx-fileuploader-file-info",FILEUPLOADER_FILE_STATUS_MESSAGE_CLASS="dx-fileuploader-file-status-message",FILEUPLOADER_FILE_CLASS="dx-fileuploader-file",FILEUPLOADER_FILE_NAME_CLASS="dx-fileuploader-file-name",FILEUPLOADER_FILE_SIZE_CLASS="dx-fileuploader-file-size",FILEUPLOADER_BUTTON_CLASS="dx-fileuploader-button",FILEUPLOADER_BUTTON_CONTAINER_CLASS="dx-fileuploader-button-container",FILEUPLOADER_CANCEL_BUTTON_CLASS="dx-fileuploader-cancel-button",FILEUPLOADER_UPLOAD_BUTTON_CLASS="dx-fileuploader-upload-button",FILEUPLOADER_INVALID_CLASS="dx-fileuploader-invalid",FILEUPLOADER_AFTER_LOAD_DELAY=400,FILEUPLOADER_CHUNK_META_DATA_NAME="chunkMetadata",renderFileUploaderInput=()=>$("<input>").attr("type","file"),isFormDataSupported=()=>!!window$3.FormData;class FileUploader extends Editor$3{_supportedKeys(){var e=r=>{r.preventDefault();var n=this._selectButton.$element();eventsEngine$1.trigger(n,CLICK_EVENT_NAME)};return extend(super._supportedKeys(),{space:e,enter:e})}_setOptionsByReference(){super._setOptionsByReference(),extend(this._optionsByReference,{value:!0})}_getDefaultOptions(){return extend(super._getDefaultOptions(),{chunkSize:0,value:[],selectButtonText:messageLocalization$1.format("dxFileUploader-selectFile"),uploadButtonText:messageLocalization$1.format("dxFileUploader-upload"),labelText:messageLocalization$1.format("dxFileUploader-dropFile"),name:"files[]",multiple:!1,accept:"",uploadUrl:"/",allowCanceling:!0,showFileList:!0,progress:0,dialogTrigger:void 0,dropZone:void 0,readyToUploadMessage:messageLocalization$1.format("dxFileUploader-readyToUpload"),uploadedMessage:messageLocalization$1.format("dxFileUploader-uploaded"),uploadFailedMessage:messageLocalization$1.format("dxFileUploader-uploadFailedMessage"),uploadAbortedMessage:messageLocalization$1.format("dxFileUploader-uploadAbortedMessage"),uploadMode:"instantly",uploadMethod:"POST",uploadHeaders:{},uploadCustomData:{},onBeforeSend:null,onUploadStarted:null,onUploaded:null,onFilesUploaded:null,onProgress:null,onUploadError:null,onUploadAborted:null,onDropZoneEnter:null,onDropZoneLeave:null,allowedFileExtensions:[],maxFileSize:0,minFileSize:0,inputAttr:{},invalidFileExtensionMessage:messageLocalization$1.format("dxFileUploader-invalidFileExtension"),invalidMaxFileSizeMessage:messageLocalization$1.format("dxFileUploader-invalidMaxFileSize"),invalidMinFileSizeMessage:messageLocalization$1.format("dxFileUploader-invalidMinFileSize"),extendSelection:!0,validationMessageMode:"always",uploadFile:null,uploadChunk:null,abortUpload:null,validationMessageOffset:{h:0,v:0},hoverStateEnabled:!0,useNativeInputClick:!1,useDragOver:!0,nativeDropSupported:!0,_uploadButtonType:"normal"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>devices$1.real().deviceType==="desktop"&&!devices$1.isSimulator(),options:{focusStateEnabled:!0}},{device:[{platform:"android"}],options:{validationMessageOffset:{v:0}}},{device:()=>devices$1.real().deviceType!=="desktop",options:{useDragOver:!1}},{device:()=>!isFormDataSupported(),options:{uploadMode:"useForm"}},{device:()=>devices$1.real().deviceType!=="desktop",options:{nativeDropSupported:!1}},{device:()=>isMaterial(),options:{_uploadButtonType:"default"}}])}_initOptions(e){var r="labelText"in e;super._initOptions(e),!r&&!this._shouldDragOverBeRendered()&&this.option("labelText","")}_init(){super._init(),this._initFileInput(),this._initLabel(),this._setUploadStrategy(),this._createFiles(),this._createBeforeSendAction(),this._createUploadStartedAction(),this._createUploadedAction(),this._createFilesUploadedAction(),this._createProgressAction(),this._createUploadErrorAction(),this._createUploadAbortedAction(),this._createDropZoneEnterAction(),this._createDropZoneLeaveAction()}_setUploadStrategy(){var e=null;if(this.option("chunkSize")>0){var r=this.option("uploadChunk");e=r&&isFunction$2(r)?new CustomChunksFileUploadStrategy(this):new DefaultChunksFileUploadStrategy(this)}else{var n=this.option("uploadFile");e=n&&isFunction$2(n)?new CustomWholeFileUploadStrategy(this):new DefaultWholeFileUploadStrategy(this)}this._uploadStrategy=e}_initFileInput(){this._isCustomClickEvent=!1,this._$fileInput||(this._$fileInput=renderFileUploaderInput(),eventsEngine$1.on(this._$fileInput,"change",this._inputChangeHandler.bind(this)),eventsEngine$1.on(this._$fileInput,"click",e=>(e.stopPropagation(),this._resetInputValue(),this.option("useNativeInputClick")||this._isCustomClickEvent))),this._$fileInput.prop({multiple:this.option("multiple"),accept:this.option("accept"),tabIndex:-1})}_inputChangeHandler(){if(!this._doPreventInputChange){var e=this._$fileInput.val().replace(/^.*\\/,""),r=this._$fileInput.prop("files");if(!(r&&!r.length&&this.option("uploadMode")!=="useForm")){var n=r?this._getFiles(r):[{name:e}];this._changeValue(n),this.option("uploadMode")==="instantly"&&this._uploadFiles()}}}_shouldFileListBeExtended(){return this.option("uploadMode")!=="useForm"&&this.option("extendSelection")&&this.option("multiple")}_changeValue(e){var r=this._shouldFileListBeExtended()?this.option("value").slice():[];this.option("value",r.concat(e))}_getFiles(e){var r=[];return each(e,(n,i)=>r.push(i)),r}_getFile(e){var r=isNumeric$1(e)?this.option("value")[e]:e;return this._files.filter(n=>n.value===r)[0]}_initLabel(){this._$inputLabel||(this._$inputLabel=$("<div>")),this._updateInputLabelText()}_updateInputLabelText(){var e=this._isInteractionDisabled()?"":this.option("labelText");this._$inputLabel.text(e)}_focusTarget(){return this.$element().find("."+FILEUPLOADER_BUTTON_CLASS)}_getSubmitElement(){return this._$fileInput}_initMarkup(){super._initMarkup(),this.$element().addClass(FILEUPLOADER_CLASS),this._renderWrapper(),this._renderInputWrapper(),this._renderSelectButton(),this._renderInputContainer(),this._renderUploadButton(),this._preventRecreatingFiles=!0,this._activeDropZone=null}_render(){this._preventRecreatingFiles=!1,this._attachDragEventHandlers(this._$inputWrapper),this._attachDragEventHandlers(this.option("dropZone")),this._renderFiles(),super._render()}_createFileProgressBar(e){e.progressBar=this._createProgressBar(e.value.size),e.progressBar.$element().appendTo(e.$file),this._initStatusMessage(e),this._ensureCancelButtonInitialized(e)}_setStatusMessage(e,r){setTimeout(()=>{this.option("showFileList")&&e.$statusMessage&&(e.$statusMessage.text(r),e.$statusMessage.css("display",""),e.progressBar.$element().remove())},FILEUPLOADER_AFTER_LOAD_DELAY)}_getUploadAbortedStatusMessage(){return this.option("uploadMode")==="instantly"?this.option("uploadAbortedMessage"):this.option("readyToUploadMessage")}_createFiles(){var e=this.option("value");this._files&&(e.length===0||!this._shouldFileListBeExtended())&&(this._preventFilesUploading(this._files),this._files=null),this._files||(this._files=[]),each(e.slice(this._files.length),(r,n)=>{var i=this._createFile(n);this._validateFile(i),this._files.push(i)})}_preventFilesUploading(e){e.forEach(r=>this._uploadStrategy.abortUpload(r))}_validateFile(e){e.isValidFileExtension=this._validateFileExtension(e),e.isValidMinSize=this._validateMinFileSize(e),e.isValidMaxSize=this._validateMaxFileSize(e)}_validateFileExtension(e){var r=this.option("allowedFileExtensions"),n=this.option("accept"),i=this._getAllowedFileTypes(n),a=e.value.name.substring(e.value.name.lastIndexOf(".")).toLowerCase();if(n.length!==0&&!this._isFileTypeAllowed(e.value,i))return!1;if(r.length===0)return!0;for(var o=0;o<r.length;o++)if(a===r[o].toLowerCase())return!0;return!1}_validateMaxFileSize(e){var r=e.value.size,n=this.option("maxFileSize");return n>0?r<=n:!0}_validateMinFileSize(e){var r=e.value.size,n=this.option("minFileSize");return n>0?r>=n:!0}_createBeforeSendAction(){this._beforeSendAction=this._createActionByOption("onBeforeSend",{excludeValidators:["readOnly"]})}_createUploadStartedAction(){this._uploadStartedAction=this._createActionByOption("onUploadStarted",{excludeValidators:["readOnly"]})}_createUploadedAction(){this._uploadedAction=this._createActionByOption("onUploaded",{excludeValidators:["readOnly"]})}_createFilesUploadedAction(){this._filesUploadedAction=this._createActionByOption("onFilesUploaded",{excludeValidators:["readOnly"]})}_createProgressAction(){this._progressAction=this._createActionByOption("onProgress",{excludeValidators:["readOnly"]})}_createUploadAbortedAction(){this._uploadAbortedAction=this._createActionByOption("onUploadAborted",{excludeValidators:["readOnly"]})}_createUploadErrorAction(){this._uploadErrorAction=this._createActionByOption("onUploadError",{excludeValidators:["readOnly"]})}_createDropZoneEnterAction(){this._dropZoneEnterAction=this._createActionByOption("onDropZoneEnter")}_createDropZoneLeaveAction(){this._dropZoneLeaveAction=this._createActionByOption("onDropZoneLeave")}_createFile(e){return{value:e,loadedSize:0,onProgress:Callbacks(),onAbort:Callbacks(),onLoad:Callbacks(),onError:Callbacks(),onLoadStart:Callbacks(),isValidFileExtension:!0,isValidMaxSize:!0,isValidMinSize:!0,isValid(){return this.isValidFileExtension&&this.isValidMaxSize&&this.isValidMinSize},isInitialized:!1}}_resetFileState(e){e.isAborted=!1,e.uploadStarted=!1,e.isStartLoad=!1,e.loadedSize=0,e.chunksData=void 0,e.request=void 0}_renderFiles(){var e,r=this.option("value");this._$filesContainer?(!this._shouldFileListBeExtended()||r.length===0)&&this._$filesContainer.empty():this._$filesContainer=$("<div>").addClass(FILEUPLOADER_FILES_CONTAINER_CLASS).appendTo(this._$content);var n=this.option("showFileList");n&&each(this._files,(i,a)=>{a.$file||this._renderFile(a)}),this.$element().toggleClass(FILEUPLOADER_SHOW_FILE_LIST_CLASS,n),this._toggleFileUploaderEmptyClassName(),this._updateFileNameMaxWidth(),(e=this._validationMessage)===null||e===void 0||e.repaint()}_renderFile(e){var r=e.value,n=$("<div>").addClass(FILEUPLOADER_FILE_CONTAINER_CLASS).appendTo(this._$filesContainer);this._renderFileButtons(e,n),e.$file=$("<div>").addClass(FILEUPLOADER_FILE_CLASS).appendTo(n);var i=$("<div>").addClass(FILEUPLOADER_FILE_INFO_CLASS).appendTo(e.$file);e.$statusMessage=$("<div>").addClass(FILEUPLOADER_FILE_STATUS_MESSAGE_CLASS).appendTo(e.$file),$("<div>").addClass(FILEUPLOADER_FILE_NAME_CLASS).text(r.name).appendTo(i),isDefined(r.size)&&$("<div>").addClass(FILEUPLOADER_FILE_SIZE_CLASS).text(this._getFileSize(r.size)).appendTo(i),e.isValid()?e.$statusMessage.text(this.option("readyToUploadMessage")):(e.isValidFileExtension||e.$statusMessage.append(this._createValidationElement("invalidFileExtensionMessage")),e.isValidMaxSize||e.$statusMessage.append(this._createValidationElement("invalidMaxFileSizeMessage")),e.isValidMinSize||e.$statusMessage.append(this._createValidationElement("invalidMinFileSizeMessage")),n.addClass(FILEUPLOADER_INVALID_CLASS))}_createValidationElement(e){return $("<span>").text(this.option(e))}_updateFileNameMaxWidth(){var e=this.option("allowCanceling")&&this.option("uploadMode")!=="useForm"?1:0,r=this.option("uploadMode")==="useButtons"?1:0,n=getWidth(this._$filesContainer.find("."+FILEUPLOADER_FILE_CONTAINER_CLASS).first())||getWidth(this._$filesContainer),i=this._$filesContainer.find("."+FILEUPLOADER_BUTTON_CONTAINER_CLASS).eq(0),a=getWidth(i)*(e+r),o=this._$filesContainer.find("."+FILEUPLOADER_FILE_SIZE_CLASS).eq(0),s=o.text();o.text("1000 Mb");var l=getWidth(o);o.text(s),this._$filesContainer.find("."+FILEUPLOADER_FILE_NAME_CLASS).css("maxWidth",n-a-l)}_renderFileButtons(e,r){var n=this._getCancelButton(e);n&&r.append(n);var i=this._getUploadButton(e);i&&r.append(i)}_getCancelButton(e){return this.option("uploadMode")==="useForm"?null:(e.cancelButton=this._createComponent($("<div>").addClass(FILEUPLOADER_BUTTON_CLASS+" "+FILEUPLOADER_CANCEL_BUTTON_CLASS),Button,{onClick:()=>this._removeFile(e),icon:"close",visible:this.option("allowCanceling"),disabled:this.option("readOnly"),integrationOptions:{},hoverStateEnabled:this.option("hoverStateEnabled")}),$("<div>").addClass(FILEUPLOADER_BUTTON_CONTAINER_CLASS).append(e.cancelButton.$element()))}_getUploadButton(e){return!e.isValid()||this.option("uploadMode")!=="useButtons"?null:(e.uploadButton=this._createComponent($("<div>").addClass(FILEUPLOADER_BUTTON_CLASS+" "+FILEUPLOADER_UPLOAD_BUTTON_CLASS),Button,{onClick:()=>this._uploadFile(e),icon:"upload",hoverStateEnabled:this.option("hoverStateEnabled")}),e.onLoadStart.add(()=>e.uploadButton.option({visible:!1,disabled:!0})),e.onAbort.add(()=>e.uploadButton.option({visible:!0,disabled:!1})),$("<div>").addClass(FILEUPLOADER_BUTTON_CONTAINER_CLASS).append(e.uploadButton.$element()))}_removeFile(e){var r;(r=e.$file)===null||r===void 0||r.parent().remove(),this._files.splice(this._files.indexOf(e),1);var n=this.option("value").slice();n.splice(n.indexOf(e.value),1),this._preventRecreatingFiles=!0,this.option("value",n),this._preventRecreatingFiles=!1,this._toggleFileUploaderEmptyClassName(),this._resetInputValue(!0)}removeFile(e){if(!(this.option("uploadMode")==="useForm"||!isDefined(e))){var r=this._getFile(e);r&&(r.uploadStarted&&this._preventFilesUploading([r]),this._removeFile(r))}}_toggleFileUploaderEmptyClassName(){this.$element().toggleClass(FILEUPLOADER_EMPTY_CLASS,!this._files.length||this._hasInvalidFile(this._files))}_hasInvalidFile(e){for(var r=0;r<e.length;r++)if(!e[r].isValid())return!0;return!1}_getFileSize(e){for(var r=0,n=[messageLocalization$1.format("dxFileUploader-bytes"),messageLocalization$1.format("dxFileUploader-kb"),messageLocalization$1.format("dxFileUploader-Mb"),messageLocalization$1.format("dxFileUploader-Gb")],i=n.length-1;r<i&&e>=1024;)e/=1024,r++;return Math.round(e)+" "+n[r]}_renderSelectButton(){var e=$("<div>").addClass(FILEUPLOADER_BUTTON_CLASS).appendTo(this._$inputWrapper);this._selectButton=this._createComponent(e,Button,{text:this.option("selectButtonText"),focusStateEnabled:!1,integrationOptions:{},disabled:this.option("readOnly"),hoverStateEnabled:this.option("hoverStateEnabled")}),this._selectFileDialogHandler=this._selectButtonClickHandler.bind(this),devices$1.real().deviceType==="desktop"?this._selectButton.option("onClick",this._selectFileDialogHandler):this._attachSelectFileDialogHandler(this._selectButton.$element()),this._attachSelectFileDialogHandler(this.option("dialogTrigger"))}_selectButtonClickHandler(){if(!this.option("useNativeInputClick")){if(this._isInteractionDisabled())return!1;this._isCustomClickEvent=!0,eventsEngine$1.trigger(this._$fileInput,"click"),this._isCustomClickEvent=!1}}_attachSelectFileDialogHandler(e){!isDefined(e)||(this._detachSelectFileDialogHandler(e),eventsEngine$1.on($(e),"click",this._selectFileDialogHandler))}_detachSelectFileDialogHandler(e){!isDefined(e)||eventsEngine$1.off($(e),"click",this._selectFileDialogHandler)}_renderUploadButton(){if(this.option("uploadMode")==="useButtons"){var e=$("<div>").addClass(FILEUPLOADER_BUTTON_CLASS).addClass(FILEUPLOADER_UPLOAD_BUTTON_CLASS).appendTo(this._$content);this._uploadButton=this._createComponent(e,Button,{text:this.option("uploadButtonText"),onClick:this._uploadButtonClickHandler.bind(this),type:this.option("_uploadButtonType"),integrationOptions:{},hoverStateEnabled:this.option("hoverStateEnabled")})}}_uploadButtonClickHandler(){this._uploadFiles()}_shouldDragOverBeRendered(){return!this.option("readOnly")&&(this.option("uploadMode")!=="useForm"||this.option("nativeDropSupported"))}_isInteractionDisabled(){return this.option("readOnly")||this.option("disabled")}_renderInputContainer(){this._$inputContainer=$("<div>").addClass(FILEUPLOADER_INPUT_CONTAINER_CLASS).appendTo(this._$inputWrapper),this._$fileInput.addClass(FILEUPLOADER_INPUT_CLASS),this._renderInput();var e="dx-fileuploader-input-label-".concat(new Guid$1);this._$inputLabel.attr("id",e).addClass(FILEUPLOADER_INPUT_LABEL_CLASS).appendTo(this._$inputContainer),this.setAria("labelledby",e,this._$fileInput)}_renderInput(){this.option("useNativeInputClick")?this._selectButton.option("template",this._selectButtonInputTemplate.bind(this)):(this._$fileInput.appendTo(this._$inputContainer),this._selectButton.option("template","content")),this._applyInputAttributes(this.option("inputAttr"))}_selectButtonInputTemplate(e,r){var n=$(r),i=$("<span>").addClass("dx-button-text").text(e.text);return n.append(i).append(this._$fileInput),n}_renderInputWrapper(){this._$inputWrapper=$("<div>").addClass(FILEUPLOADER_INPUT_WRAPPER_CLASS).appendTo(this._$content)}_detachDragEventHandlers(e){!isDefined(e)||eventsEngine$1.off($(e),addNamespace$1("",this.NAME))}_attachDragEventHandlers(e){var r=e!==this._$inputWrapper;!isDefined(e)||!this._shouldDragOverBeRendered()||(this._detachDragEventHandlers(e),e=$(e),eventsEngine$1.on(e,addNamespace$1("dragenter",this.NAME),this._dragEnterHandler.bind(this,r)),eventsEngine$1.on(e,addNamespace$1("dragover",this.NAME),this._dragOverHandler.bind(this,r)),eventsEngine$1.on(e,addNamespace$1("dragleave",this.NAME),this._dragLeaveHandler.bind(this,r)),eventsEngine$1.on(e,addNamespace$1("drop",this.NAME),this._dropHandler.bind(this,r)))}_applyInputAttributes(e){this._$fileInput.attr(e)}_useInputForDrop(){return this.option("nativeDropSupported")&&this.option("uploadMode")==="useForm"}_getDropZoneElement(e,r){var n=e?Array.from($(this.option("dropZone"))):[this._$inputWrapper];return n=n.map(i=>$(i).get(0)),n[n.indexOf(r.currentTarget)]}_dragEnterHandler(e,r){if(this.option("disabled"))return!1;this._useInputForDrop()||r.preventDefault();var n=this._getDropZoneElement(e,r);isDefined(n)&&this._activeDropZone===null&&this.isMouseOverElement(r,n,!1)&&(this._activeDropZone=n,this._tryToggleDropZoneActive(!0,e,r))}_dragOverHandler(e,r){if(this._useInputForDrop()||r.preventDefault(),r.originalEvent.dataTransfer.dropEffect="copy",!e){var n=this._getDropZoneElement(!1,r);this._activeDropZone===null&&this.isMouseOverElement(r,n,!1)&&this._dragEnterHandler(!1,r),this._activeDropZone!==null&&this._shouldRaiseDragLeave(r,!1)&&this._dragLeaveHandler(!1,r)}}_dragLeaveHandler(e,r){this._useInputForDrop()||r.preventDefault(),this._activeDropZone!==null&&this._shouldRaiseDragLeave(r,e)&&(this._tryToggleDropZoneActive(!1,e,r),this._activeDropZone=null)}_shouldRaiseDragLeave(e,r){return!this.isMouseOverElement(e,this._activeDropZone,!r)}_tryToggleDropZoneActive(e,r,n){var i=e?"addClass":"removeClass",a=e?"_dropZoneEnterAction":"_dropZoneLeaveAction";this[a]({event:n,dropZoneElement:this._activeDropZone}),r||this.$element()[i](FILEUPLOADER_DRAGOVER_CLASS)}_dropHandler(e,r){if(this._activeDropZone=null,e||this.$element().removeClass(FILEUPLOADER_DRAGOVER_CLASS),!(this._useInputForDrop()||e&&this._isInteractionDisabled())){r.preventDefault();var n=r.originalEvent.dataTransfer.files,i=this._getFiles(n);!this.option("multiple")&&i.length>1||(this._changeValue(i),this.option("uploadMode")==="instantly"&&this._uploadFiles())}}_handleAllFilesUploaded(){var e=this._files.every(r=>!r.isValid()||r._isError||r._isLoaded||r.isAborted);e&&this._filesUploadedAction()}_getAllowedFileTypes(e){return e.length?e.split(",").map(r=>r.trim()):[]}_isFileTypeAllowed(e,r){for(var n=0,i=r.length;n<i;n++){var a=r[n];if(a[0]==="."){if(a=a.replace(".","\\."),e.name.match(new RegExp(a+"$","i")))return!0}else if(a=a.replace(new RegExp("\\*","g"),""),e.type.match(new RegExp(a,"i")))return!0}return!1}_renderWrapper(){var e=$("<div>").addClass(FILEUPLOADER_WRAPPER_CLASS).appendTo(this.$element()),r=$("<div>").addClass(FILEUPLOADER_CONTAINER_CLASS).appendTo(e);this._$content=$("<div>").addClass(FILEUPLOADER_CONTENT_CLASS).appendTo(r)}_clean(){this._$fileInput.detach(),delete this._$filesContainer,this._detachSelectFileDialogHandler(this.option("dialogTrigger")),this._detachDragEventHandlers(this.option("dropZone")),this._files&&this._files.forEach(e=>{e.$file=null,e.$statusMessage=null}),super._clean()}abortUpload(e){if(this.option("uploadMode")!=="useForm")if(isDefined(e)){var r=this._getFile(e);r&&this._preventFilesUploading([r])}else this._preventFilesUploading(this._files)}upload(e){if(this.option("uploadMode")!=="useForm")if(isDefined(e)){var r=this._getFile(e);r&&isFormDataSupported()&&this._uploadFile(r)}else this._uploadFiles()}_uploadFiles(){isFormDataSupported()&&each(this._files,(e,r)=>this._uploadFile(r))}_uploadFile(e){this._uploadStrategy.upload(e)}_updateProgressBar(e,r){e.progressBar&&e.progressBar.option({value:r.loaded,showStatus:!0}),this._progressAction({file:e.value,segmentSize:r.currentSegmentSize,bytesLoaded:r.loaded,bytesTotal:r.total,event:r.event,request:e.request})}_updateTotalProgress(e,r){var n=e?this._getProgressValue(r/e):0;this.option("progress",n),this._setLoadedSize(r)}_getProgressValue(e){return Math.floor(100*e)}_initStatusMessage(e){e.$statusMessage.css("display","none")}_ensureCancelButtonInitialized(e){if(!e.isInitialized){e.cancelButton.option("onClick",()=>{this._preventFilesUploading([e]),this._removeFile(e)});var r=()=>{setTimeout(()=>{e.cancelButton.option({visible:!1})},FILEUPLOADER_AFTER_LOAD_DELAY)};e.onLoad.add(r),e.onError.add(r)}}_createProgressBar(e){return this._createComponent($("<div>"),ProgressBar$1,{value:void 0,min:0,max:e,statusFormat:r=>this._getProgressValue(r)+"%",showStatus:!1,statusPosition:"right"})}_getTotalFilesSize(){return this._totalFilesSize||(this._totalFilesSize=0,each(this._files,(e,r)=>{this._totalFilesSize+=r.value.size})),this._totalFilesSize}_getTotalLoadedFilesSize(){return this._totalLoadedFilesSize||(this._totalLoadedFilesSize=0,each(this._files,(e,r)=>{this._totalLoadedFilesSize+=r.loadedSize})),this._totalLoadedFilesSize}_setLoadedSize(e){this._totalLoadedFilesSize=e}_recalculateProgress(){this._totalFilesSize=0,this._totalLoadedFilesSize=0,this._updateTotalProgress(this._getTotalFilesSize(),this._getTotalLoadedFilesSize())}isMouseOverElement(e,r,n){if(!r)return!1;var i=n?parseFloat(window$3.getComputedStyle(r,":before").height):0,a=n?parseFloat(window$3.getComputedStyle(r,":after").height):0,o=getOffset(r).left,s=getOffset(r).top+i,l=r.offsetWidth,u=r.offsetHeight-i-a,m=this._getEventX(e),b=this._getEventY(e);return m>=o&&m<o+l&&b>=s&&b<s+u}_getEventX(e){return isTouchEvent(e)?this._getTouchEventX(e):e.clientX+this._getDocumentScrollLeft()}_getEventY(e){return isTouchEvent(e)?this._getTouchEventY(e):e.clientY+this._getDocumentScrollTop()}_getTouchEventX(e){var r=null;return e.changedTouches.length>0?r=e.changedTouches:e.targetTouches.length>0&&(r=e.targetTouches),r?r[0].pageX:0}_getTouchEventY(e){var r=null;return e.changedTouches.length>0?r=e.changedTouches:e.targetTouches.length>0&&(r=e.targetTouches),r?r[0].pageY:0}_getDocumentScrollTop(){var e=domAdapter.getDocument();return e.documentElement.scrollTop||e.body.scrollTop}_getDocumentScrollLeft(){var e=domAdapter.getDocument();return e.documentElement.scrollLeft||e.body.scrollLeft}_updateReadOnlyState(){var e=this.option("readOnly");this._selectButton.option("disabled",e),this._files.forEach(r=>{var n;return(n=r.cancelButton)===null||n===void 0?void 0:n.option("disabled",e)}),this._updateInputLabelText(),this._attachDragEventHandlers(this._$inputWrapper)}_updateHoverState(){var e,r,n=this.option("hoverStateEnabled");(e=this._selectButton)===null||e===void 0||e.option("hoverStateEnabled",n),(r=this._uploadButton)===null||r===void 0||r.option("hoverStateEnabled",n),this._files.forEach(i=>{var a,o;(a=i.uploadButton)===null||a===void 0||a.option("hoverStateEnabled",n),(o=i.cancelButton)===null||o===void 0||o.option("hoverStateEnabled",n)})}_optionChanged(e){var{name:r,value:n,previousValue:i}=e;switch(r){case"height":case"width":this._updateFileNameMaxWidth(),super._optionChanged(e);break;case"value":!n.length&&this._$fileInput.val(""),this._preventRecreatingFiles||(this._createFiles(),this._renderFiles()),this._recalculateProgress(),super._optionChanged(e);break;case"name":this._initFileInput(),super._optionChanged(e);break;case"accept":this._initFileInput();break;case"multiple":this._initFileInput(),e.value||this.reset();break;case"readOnly":this._updateReadOnlyState(),super._optionChanged(e);break;case"disabled":this._updateInputLabelText(),super._optionChanged(e);break;case"selectButtonText":this._selectButton.option("text",n);break;case"uploadButtonText":this._uploadButton&&this._uploadButton.option("text",n);break;case"_uploadButtonType":this._uploadButton&&this._uploadButton.option("type",n);break;case"dialogTrigger":this._detachSelectFileDialogHandler(i),this._attachSelectFileDialogHandler(n);break;case"dropZone":this._detachDragEventHandlers(i),this._attachDragEventHandlers(n);break;case"maxFileSize":case"minFileSize":case"allowedFileExtensions":case"invalidFileExtensionMessage":case"invalidMaxFileSizeMessage":case"invalidMinFileSizeMessage":case"readyToUploadMessage":case"uploadedMessage":case"uploadFailedMessage":case"uploadAbortedMessage":this._invalidate();break;case"labelText":this._updateInputLabelText();break;case"showFileList":this._preventRecreatingFiles||this._renderFiles();break;case"uploadFile":case"uploadChunk":case"chunkSize":this._setUploadStrategy();break;case"abortUpload":case"uploadUrl":case"progress":case"uploadMethod":case"uploadHeaders":case"uploadCustomData":case"extendSelection":break;case"hoverStateEnabled":this._updateHoverState(),super._optionChanged(e);break;case"allowCanceling":case"uploadMode":this.reset(),this._invalidate();break;case"onBeforeSend":this._createBeforeSendAction();break;case"onUploadStarted":this._createUploadStartedAction();break;case"onUploaded":this._createUploadedAction();break;case"onFilesUploaded":this._createFilesUploadedAction();break;case"onProgress":this._createProgressAction();break;case"onUploadError":this._createUploadErrorAction();break;case"onUploadAborted":this._createUploadAbortedAction();break;case"onDropZoneEnter":this._createDropZoneEnterAction();break;case"onDropZoneLeave":this._createDropZoneLeaveAction();break;case"useNativeInputClick":this._renderInput();break;case"useDragOver":this._attachDragEventHandlers(this._$inputWrapper);break;case"nativeDropSupported":this._invalidate();break;case"inputAttr":this._applyInputAttributes(this.option(r));break;default:super._optionChanged(e)}}_resetInputValue(e){this.option("uploadMode")==="useForm"&&!e||(this._doPreventInputChange=!0,this._$fileInput.val(""),this._doPreventInputChange=!1)}reset(){this.option("value",[])}}class FileBlobReader{constructor(e,r){this.file=e,this.chunkSize=r,this.index=0}read(){if(!this.file)return null;var e=this.createBlobResult(this.file,this.index,this.chunkSize);return e.isCompleted&&(this.file=null),this.index++,e}createBlobResult(e,r,n){var i=r*n;return{blob:this.sliceFile(e,i,n),index:r,isCompleted:i+n>=e.size}}sliceFile(e,r,n){return e.slice?e.slice(r,r+n):e.webkitSlice?e.webkitSlice(r,r+n):null}}class FileUploadStrategyBase{constructor(e){this.fileUploader=e}upload(e){e.isInitialized&&e.isAborted&&this.fileUploader._resetFileState(e),e.isValid()&&!e.uploadStarted&&(this._prepareFileBeforeUpload(e),this._uploadCore(e))}abortUpload(e){if(!(e._isError||e._isLoaded||e.isAborted||!e.uploadStarted)&&(e.isAborted=!0,e.request&&e.request.abort(),this._isCustomCallback("abortUpload"))){var r=this.fileUploader.option("abortUpload"),n=this._createUploadArgument(e),i=null;try{var a=r(e.value,n);i=fromPromise(a)}catch(o){i=new Deferred().reject(o).promise()}i.done(()=>e.onAbort.fire()).fail(o=>this._handleFileError(e,o))}}_beforeSend(e,r){var n=this._createUploadArgument(r);this.fileUploader._beforeSendAction({request:e,file:r.value,uploadInfo:n}),r.request=e}_createUploadArgument(e){}_uploadCore(e){}_isCustomCallback(e){var r=this.fileUploader.option(e);return r&&isFunction$2(r)}_handleProgress(e,r){e._isError||(e._isProgressStarted=!0,this._handleProgressCore(e,r))}_handleProgressCore(e,r){}_handleFileError(e,r){e._isError=!0,e.onError.fire(r)}_prepareFileBeforeUpload(e){if(e.$file){var r;(r=e.progressBar)===null||r===void 0||r.dispose(),this.fileUploader._createFileProgressBar(e)}e.isInitialized||(e.onLoadStart.add(this._onUploadStarted.bind(this,e)),e.onLoad.add(this._onLoadedHandler.bind(this,e)),e.onError.add(this._onErrorHandler.bind(this,e)),e.onAbort.add(this._onAbortHandler.bind(this,e)),e.onProgress.add(this._onProgressHandler.bind(this,e)),e.isInitialized=!0)}_shouldHandleError(e,r){return(this._isStatusError(r.status)||!e._isProgressStarted)&&!e.isAborted}_isStatusError(e){return 400<=e&&e<500||500<=e&&e<600}_onUploadStarted(e,r){e.uploadStarted=!0,this.fileUploader._uploadStartedAction({file:e.value,event:r,request:e.request})}_onAbortHandler(e,r){var n={file:e.value,event:r,request:e.request,message:this.fileUploader._getUploadAbortedStatusMessage()};this.fileUploader._uploadAbortedAction(n),this.fileUploader._setStatusMessage(e,n.message),this.fileUploader._handleAllFilesUploaded()}_onErrorHandler(e,r){var n={file:e.value,event:void 0,request:e.request,error:r,message:this.fileUploader.option("uploadFailedMessage")};this.fileUploader._uploadErrorAction(n),this.fileUploader._setStatusMessage(e,n.message),this.fileUploader._handleAllFilesUploaded()}_onLoadedHandler(e,r){var n={file:e.value,event:r,request:e.request,message:this.fileUploader.option("uploadedMessage")};e._isLoaded=!0,this.fileUploader._uploadedAction(n),this.fileUploader._setStatusMessage(e,n.message),this.fileUploader._handleAllFilesUploaded()}_onProgressHandler(e,r){if(e){var n=this.fileUploader._getTotalFilesSize(),i=this.fileUploader._getTotalLoadedFilesSize(),a=Math.min(r.loaded,e.value.size),o=a-e.loadedSize;e.loadedSize=a,this.fileUploader._updateTotalProgress(n,i+o),this.fileUploader._updateProgressBar(e,this._getLoadedData(a,r.total,o,r))}}_getLoadedData(e,r,n,i){return{loaded:e,total:r,currentSegmentSize:n}}_extendFormData(e){var r=this.fileUploader.option("uploadCustomData");for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&isDefined(r[n])&&e.append(n,r[n])}}class ChunksFileUploadStrategyBase extends FileUploadStrategyBase{constructor(e){super(e),this.chunkSize=this.fileUploader.option("chunkSize")}_uploadCore(e){var r=e.value,n={name:r.name,loadedBytes:0,type:r.type,blobReader:new FileBlobReader(r,this.chunkSize),guid:new Guid$1,fileSize:r.size,count:Math.ceil(r.size/this.chunkSize),customData:{}};e.chunksData=n,this._sendChunk(e,n)}_sendChunk(e,r){var n=r.blobReader.read();r.currentChunk=n,n&&this._sendChunkCore(e,r,n).done(()=>{e.isAborted||(r.loadedBytes+=n.blob.size,e.onProgress.fire({loaded:r.loadedBytes,total:e.value.size}),n.isCompleted&&e.onLoad.fire(),setTimeout(()=>this._sendChunk(e,r)))}).fail(i=>{this._shouldHandleError(e,i)&&this._handleFileError(e,i)})}_sendChunkCore(e,r,n){}_tryRaiseStartLoad(e){e.isStartLoad||(e.isStartLoad=!0,e.onLoadStart.fire())}_getEvent(e){return null}_createUploadArgument(e){return this._createChunksInfo(e.chunksData)}_createChunksInfo(e){return{bytesUploaded:e.loadedBytes,chunkCount:e.count,customData:e.customData,chunkBlob:e.currentChunk.blob,chunkIndex:e.currentChunk.index}}}class DefaultChunksFileUploadStrategy extends ChunksFileUploadStrategyBase{_sendChunkCore(e,r,n){return ajax.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:i=>this._beforeSend(i,e),upload:{onprogress:i=>this._handleProgress(e,i),onloadstart:()=>this._tryRaiseStartLoad(e),onabort:()=>e.onAbort.fire()},data:this._createFormData({fileName:r.name,blobName:this.fileUploader.option("name"),blob:n.blob,index:n.index,count:r.count,type:r.type,guid:r.guid,size:r.fileSize})})}_createFormData(e){var r=new window$3.FormData;return r.append(e.blobName,e.blob),r.append(FILEUPLOADER_CHUNK_META_DATA_NAME,JSON.stringify({FileName:e.fileName,Index:e.index,TotalCount:e.count,FileSize:e.size,FileType:e.type,FileGuid:e.guid})),this._extendFormData(r),r}}class CustomChunksFileUploadStrategy extends ChunksFileUploadStrategyBase{_sendChunkCore(e,r){this._tryRaiseStartLoad(e);var n=this._createChunksInfo(r),i=this.fileUploader.option("uploadChunk");try{var a=i(e.value,n);return fromPromise(a)}catch(o){return new Deferred().reject(o).promise()}}_shouldHandleError(e,r){return!0}}class WholeFileUploadStrategyBase extends FileUploadStrategyBase{_uploadCore(e){e.loadedSize=0,this._uploadFile(e).done(()=>{e.isAborted||e.onLoad.fire()}).fail(r=>{this._shouldHandleError(e,r)&&this._handleFileError(e,r)})}_uploadFile(e){}_handleProgressCore(e,r){e.onProgress.fire(r)}_getLoadedData(e,r,n,i){var a=super._getLoadedData(e,r,n,i);return a.event=i,a}}class DefaultWholeFileUploadStrategy extends WholeFileUploadStrategyBase{_uploadFile(e){return ajax.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:r=>this._beforeSend(r,e),upload:{onprogress:r=>this._handleProgress(e,r),onloadstart:()=>e.onLoadStart.fire(),onabort:()=>e.onAbort.fire()},data:this._createFormData(this.fileUploader.option("name"),e.value)})}_createFormData(e,r){var n=new window$3.FormData;return n.append(e,r,r.name),this._extendFormData(n),n}}class CustomWholeFileUploadStrategy extends WholeFileUploadStrategyBase{_uploadFile(e){e.onLoadStart.fire();var r=this.fileUploader.option("uploadFile");try{var n=r(e.value,i=>{var a={loaded:i,total:e.value.size};this._handleProgress(e,a)});return fromPromise(n)}catch(i){return new Deferred().reject(i).promise()}}_shouldHandleError(e,r){return!0}}registerComponent$1("dxFileUploader",FileUploader);var FileUploader$1=FileUploader,FILE_MANAGER_FILE_UPLOADER_CLASS="dx-filemanager-fileuploader",FILE_MANAGER_FILE_UPLOADER_DROPZONE_PLACEHOLER_CLASS="dx-filemanager-fileuploader-dropzone-placeholder";class FileManagerFileUploader extends Widget$2{_initMarkup(){this._initActions(),this.$element().addClass(FILE_MANAGER_FILE_UPLOADER_CLASS),this._uploaderInfos=[],this._createInternalFileUploader(),this._createDropZonePlaceholder(),this._setDropZonePlaceholderVisible(!1),super._initMarkup()}_createInternalFileUploader(){var e=this._getController().chunkSize,r=$("<div>").appendTo(this.$element()),n=this._createComponent(r,FileUploader$1,{name:"file",multiple:!0,showFileList:!1,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,labelText:"",readyToUploadMessage:"",accept:"*",chunkSize:e,dropZone:this.option("dropZone"),onValueChanged:a=>this._onFileUploaderValueChanged(a),onProgress:a=>this._onFileUploaderProgress(a),onUploaded:a=>this._onFileUploaderUploaded(a),onUploadAborted:a=>this._onFileUploaderUploadAborted(a),onUploadError:a=>this._onFileUploaderUploadError(a),onDropZoneEnter:()=>this._setDropZonePlaceholderVisible(!0),onDropZoneLeave:()=>this._setDropZonePlaceholderVisible(!1)});n.option({uploadChunk:(a,o)=>this._fileUploaderUploadChunk(n,a,o),abortUpload:(a,o)=>this._fileUploaderAbortUpload(n,a,o)}),n._shouldRaiseDragLeaveBase=n._shouldRaiseDragLeave,n._shouldRaiseDragLeave=a=>this._shouldRaiseDragLeave(a,n);var i={fileUploader:n};this._uploaderInfos.push(i)}tryUpload(){var e=this._findAndUpdateAvailableUploaderInfo();e&&e.fileUploader._selectButtonClickHandler()}cancelUpload(e){this._cancelUpload(e)}cancelFileUpload(e,r){this._cancelUpload(e,r)}_cancelUpload(e,r){var{fileUploader:n}=this._findUploaderInfoBySessionId(e);n.abortUpload(r)}_fileUploaderUploadChunk(e,r,n){var{session:i,fileIndex:a}=this._findSessionByFile(e,r),o=i.controller;return n.fileIndex=a,o.uploadFileChunk(r,n)}_fileUploaderAbortUpload(e,r,n){var{session:i,fileIndex:a}=this._findSessionByFile(e,r),o=i.controller;return n.fileIndex=a,o.abortFileUpload(r,n)}_onFileUploaderValueChanged(e){var{component:r,value:n}=e;if(n.length!==0){var i=n.slice(),a=this._findUploaderInfo(r);this._uploadFiles(a,i),setTimeout(()=>{this._findAndUpdateAvailableUploaderInfo()||this._createInternalFileUploader()})}}_onFileUploaderProgress(e){var{component:r,file:n,bytesLoaded:i,bytesTotal:a}=e,{session:o,fileIndex:s}=this._findSessionByFile(r,n),l=a!==0?i/a:1,u=r.option("progress")/100,m={sessionId:o.id,fileIndex:s,commonValue:u,fileValue:l};this._raiseUploadProgress(m)}_onFileUploaderUploaded(e){var{component:r,file:n}=e,i=this._getDeferredForFile(r,n);i.resolve()}_onFileUploaderUploadAborted(e){var{component:r,file:n}=e,i=this._getDeferredForFile(r,n);i.resolve({canceled:!0})}_onFileUploaderUploadError(e){var{component:r,file:n,error:i}=e,a=this._getDeferredForFile(r,n);a.reject(i)}_createDropZonePlaceholder(){this._$dropZonePlaceholder=$("<div>").addClass(FILE_MANAGER_FILE_UPLOADER_DROPZONE_PLACEHOLER_CLASS).appendTo(this.option("dropZonePlaceholderContainer"))}_adjustDropZonePlaceholder(){var e=this.option("dropZone");if(!(!hasWindow()||e.length===0)){var r=parseFloat(this._$dropZonePlaceholder.css("borderTopWidth")),n=parseFloat(this._$dropZonePlaceholder.css("borderLeftWidth")),i=this.option("dropZonePlaceholderContainer"),a=parseFloat(i.css("borderBottomWidth")),o=parseFloat(i.css("borderLeftWidth")),s=getInnerHeight(i),l=i.offset(),u=e.offset();this._$dropZonePlaceholder.css({top:u.top-l.top-s-a,left:u.left-l.left-o}),setHeight(this._$dropZonePlaceholder,e.get(0).offsetHeight-2*r),setWidth(this._$dropZonePlaceholder,e.get(0).offsetWidth-2*n)}}_setDropZonePlaceholderVisible(e){e?(this._adjustDropZonePlaceholder(),this._$dropZonePlaceholder.css("display","")):this._$dropZonePlaceholder.css("display","none")}_shouldRaiseDragLeave(e,r){return r.isMouseOverElement(e,this.option("splitterElement"))||r._shouldRaiseDragLeaveBase(e,!0)}_uploadFiles(e,r){this._setDropZonePlaceholderVisible(!1);var n=new Guid$1().toString(),i=this._getController(),a=r.map(()=>new Deferred),o={id:n,controller:i,files:r,deferreds:a};e.session=o;var s={sessionId:n,deferreds:a,files:r};return this._raiseUploadSessionStarted(s),whenSome(a).always(()=>setTimeout(()=>{e.fileUploader.reset(),e.session=null}))}_getDeferredForFile(e,r){var{session:n,fileIndex:i}=this._findSessionByFile(e,r);return n.deferreds[i]}_findSessionByFile(e,r){var n=this._findUploaderInfo(e),i=n.session,a=i.files.indexOf(r);return{session:i,fileIndex:a}}_findUploaderInfoBySessionId(e){for(var r=0;r<this._uploaderInfos.length;r++){var n=this._uploaderInfos[r],i=n.session;if(i&&i.id===e)return n}return null}_findAndUpdateAvailableUploaderInfo(){for(var e,r=null,n=0;n<this._uploaderInfos.length;n++){var i=this._uploaderInfos[n];i.fileUploader.option("dropZone",""),!r&&!i.session&&(r=i)}return(e=r)===null||e===void 0||e.fileUploader.option("dropZone",this.option("dropZone")),r}_findUploaderInfo(e){for(var r=0;r<this._uploaderInfos.length;r++){var n=this._uploaderInfos[r];if(n.fileUploader===e)return n}return null}_getController(){var e=this.option("getController");return e()}_raiseUploadSessionStarted(e){this._actions.onUploadSessionStarted({sessionInfo:e})}_raiseUploadProgress(e){this._actions.onUploadProgress(e)}_initActions(){this._actions={onUploadSessionStarted:this._createActionByOption("onUploadSessionStarted"),onUploadProgress:this._createActionByOption("onUploadProgress")}}_getDefaultOptions(){return extend(super._getDefaultOptions(),{getController:null,onUploadSessionStarted:null,onUploadProgress:null,splitterElement:null})}_optionChanged(e){var r=e.name;switch(r){case"getController":this.repaint();break;case"onUploadSessionStarted":case"onUploadProgress":this._actions[r]=this._createActionByOption(r);break;case"dropZone":this._findAndUpdateAvailableUploaderInfo(),this._adjustDropZonePlaceholder();break;case"dropZonePlaceholderContainer":this._$dropZonePlaceholder.detach(),this._$dropZonePlaceholder.appendTo(e.value);break;case"splitterElement":break;default:super._optionChanged(e)}}}var FileManagerFileUploader$1=FileManagerFileUploader,FileManagerMessages={get:(t,e)=>{switch(t){case ErrorCode$1.NoAccess:return messageLocalization$1.format("dxFileManager-errorNoAccess");case ErrorCode$1.FileExists:return messageLocalization$1.format("dxFileManager-errorFileExistsFormat",e);case ErrorCode$1.FileNotFound:return messageLocalization$1.format("dxFileManager-errorFileNotFoundFormat",e);case ErrorCode$1.DirectoryExists:return messageLocalization$1.format("dxFileManager-errorDirectoryExistsFormat",e);case ErrorCode$1.DirectoryNotFound:return messageLocalization$1.format("dxFileManager-errorDirectoryNotFoundFormat",e);case ErrorCode$1.WrongFileExtension:return messageLocalization$1.format("dxFileManager-errorWrongFileExtension");case ErrorCode$1.MaxFileSizeExceeded:return messageLocalization$1.format("dxFileManager-errorMaxFileSizeExceeded");case ErrorCode$1.InvalidSymbols:return messageLocalization$1.format("dxFileManager-errorInvalidSymbols")}return messageLocalization$1.format("dxFileManager-errorDefault")}};class FileManagerEditingControl extends Widget$2{_initMarkup(){super._initMarkup(),this._initActions(),this._controller=this.option("controller"),this._controller.on("EditActionStarting",this._onEditActionStarting.bind(this)),this._controller.on("EditActionResultAcquired",this._onEditActionResultAcquired.bind(this)),this._controller.on("EditActionItemError",this._onEditActionItemError.bind(this)),this._controller.on("EditActionError",this._onEditActionError.bind(this)),this._controller.on("CompleteEditActionItem",this._onCompleteEditActionItem.bind(this)),this._controller.on("CompleteEditAction",this._onCompleteEditAction.bind(this)),this._model=this.option("model"),this._uploadOperationInfoMap={},this._dialogManager=new FileManagerDialogManager$1(this.$element(),{chooseDirectoryDialog:{provider:this._controller._fileProvider,getDirectories:this._controller.getDirectories.bind(this._controller),getCurrentDirectory:this._controller.getCurrentDirectory.bind(this._controller)},rtlEnabled:this.option("rtlEnabled"),onDialogClosed:this._onDialogClosed.bind(this)}),this._fileUploader=this._createFileUploader();var e=this.option("notificationControl");e&&this._initNotificationControl(e),this._createMetadataMap()}_initNotificationControl(e){this._notificationControl=e,this._notificationControl.option({onOperationCanceled:r=>{var{info:n}=r;return this._onCancelUploadSession(n)},onOperationItemCanceled:r=>{var{item:n,itemIndex:i}=r;return this._onCancelFileUpload(n,i)}})}_getFileUploaderComponent(){return FileManagerFileUploader$1}_createFileUploader(){var e=$("<div>").appendTo(this.$element());return this._createComponent(e,this._getFileUploaderComponent(),{getController:this._getFileUploaderController.bind(this),dropZonePlaceholderContainer:this.option("uploadDropZonePlaceholderContainer"),onUploadSessionStarted:r=>this._onUploadSessionStarted(r),onUploadProgress:r=>this._onUploadProgress(r)})}setUploaderDropZone(e){this._fileUploader.option("dropZone",e)}setUploaderSplitterElement(e){this._fileUploader.option("splitterElement",e)}_getFileUploaderController(){var e=this.uploadDirectoryInfo.fileItem;return{chunkSize:this._controller.getFileUploadChunkSize(),uploadFileChunk:(r,n)=>this._controller.uploadFileChunk(r,n,e),abortFileUpload:(r,n)=>this._controller.abortFileUpload(r,n,e)}}_createMetadataMap(){this._metadataMap={create:{action:e=>this._tryCreate(e),affectsAllItems:!0,singleItemProcessingMessage:messageLocalization$1.format("dxFileManager-editingCreateSingleItemProcessingMessage"),singleItemSuccessMessage:messageLocalization$1.format("dxFileManager-editingCreateSingleItemSuccessMessage"),singleItemErrorMessage:messageLocalization$1.format("dxFileManager-editingCreateSingleItemErrorMessage"),commonErrorMessage:messageLocalization$1.format("dxFileManager-editingCreateCommonErrorMessage")},rename:{action:e=>this._tryRename(e),singleItemProcessingMessage:messageLocalization$1.format("dxFileManager-editingRenameSingleItemProcessingMessage"),singleItemSuccessMessage:messageLocalization$1.format("dxFileManager-editingRenameSingleItemSuccessMessage"),singleItemErrorMessage:messageLocalization$1.format("dxFileManager-editingRenameSingleItemErrorMessage"),commonErrorMessage:messageLocalization$1.format("dxFileManager-editingRenameCommonErrorMessage")},delete:{action:e=>this._tryDelete(e),singleItemProcessingMessage:messageLocalization$1.format("dxFileManager-editingDeleteSingleItemProcessingMessage"),multipleItemsProcessingMessage:messageLocalization$1.format("dxFileManager-editingDeleteMultipleItemsProcessingMessage"),singleItemSuccessMessage:messageLocalization$1.format("dxFileManager-editingDeleteSingleItemSuccessMessage"),multipleItemsSuccessMessage:messageLocalization$1.format("dxFileManager-editingDeleteMultipleItemsSuccessMessage"),singleItemErrorMessage:messageLocalization$1.format("dxFileManager-editingDeleteSingleItemErrorMessage"),multipleItemsErrorMessage:messageLocalization$1.format("dxFileManager-editingDeleteMultipleItemsErrorMessage"),commonErrorMessage:messageLocalization$1.format("dxFileManager-editingDeleteCommonErrorMessage")},move:{action:e=>this._tryMove(e),singleItemProcessingMessage:messageLocalization$1.format("dxFileManager-editingMoveSingleItemProcessingMessage"),multipleItemsProcessingMessage:messageLocalization$1.format("dxFileManager-editingMoveMultipleItemsProcessingMessage"),singleItemSuccessMessage:messageLocalization$1.format("dxFileManager-editingMoveSingleItemSuccessMessage"),multipleItemsSuccessMessage:messageLocalization$1.format("dxFileManager-editingMoveMultipleItemsSuccessMessage"),singleItemErrorMessage:messageLocalization$1.format("dxFileManager-editingMoveSingleItemErrorMessage"),multipleItemsErrorMessage:messageLocalization$1.format("dxFileManager-editingMoveMultipleItemsErrorMessage"),commonErrorMessage:messageLocalization$1.format("dxFileManager-editingMoveCommonErrorMessage")},copy:{action:e=>this._tryCopy(e),singleItemProcessingMessage:messageLocalization$1.format("dxFileManager-editingCopySingleItemProcessingMessage"),multipleItemsProcessingMessage:messageLocalization$1.format("dxFileManager-editingCopyMultipleItemsProcessingMessage"),singleItemSuccessMessage:messageLocalization$1.format("dxFileManager-editingCopySingleItemSuccessMessage"),multipleItemsSuccessMessage:messageLocalization$1.format("dxFileManager-editingCopyMultipleItemsSuccessMessage"),singleItemErrorMessage:messageLocalization$1.format("dxFileManager-editingCopySingleItemErrorMessage"),multipleItemsErrorMessage:messageLocalization$1.format("dxFileManager-editingCopyMultipleItemsErrorMessage"),commonErrorMessage:messageLocalization$1.format("dxFileManager-editingCopyCommonErrorMessage")},upload:{action:e=>this._tryUpload(e),allowCancel:!0,allowItemProgress:!0,singleItemProcessingMessage:messageLocalization$1.format("dxFileManager-editingUploadSingleItemProcessingMessage"),multipleItemsProcessingMessage:messageLocalization$1.format("dxFileManager-editingUploadMultipleItemsProcessingMessage"),singleItemSuccessMessage:messageLocalization$1.format("dxFileManager-editingUploadSingleItemSuccessMessage"),multipleItemsSuccessMessage:messageLocalization$1.format("dxFileManager-editingUploadMultipleItemsSuccessMessage"),singleItemErrorMessage:messageLocalization$1.format("dxFileManager-editingUploadSingleItemErrorMessage"),multipleItemsErrorMessage:messageLocalization$1.format("dxFileManager-editingUploadMultipleItemsErrorMessage"),canceledMessage:messageLocalization$1.format("dxFileManager-editingUploadCanceledMessage")},download:{action:e=>this._download(e),singleItemProcessingMessage:"",multipleItemsProcessingMessage:"",singleItemErrorMessage:messageLocalization$1.format("dxFileManager-editingDownloadSingleItemErrorMessage"),multipleItemsErrorMessage:messageLocalization$1.format("dxFileManager-editingDownloadMultipleItemsErrorMessage")},getItemContent:{action:e=>this._getItemContent(e)},getItems:{singleItemProcessingMessage:"",singleItemErrorMessage:messageLocalization$1.format("dxFileManager-errorDirectoryOpenFailed"),commonErrorMessage:messageLocalization$1.format("dxFileManager-errorDirectoryOpenFailed")}}}getCommandActions(){var e={};return each(this._metadataMap,r=>{Object.prototype.hasOwnProperty.call(this._metadataMap,r)&&(e[r]=n=>this._executeAction(r,n))}),e}_executeAction(e,r){var n=this._metadataMap[e];return n?n.action(r):null}_onCancelUploadSession(e){this._fileUploader.cancelUpload(e.uploadSessionId)}_onCancelFileUpload(e,r){this._fileUploader.cancelFileUpload(e.info.uploadSessionId,r)}_onUploadProgress(e){var{sessionId:r,fileIndex:n,commonValue:i,fileValue:a}=e,o=this._uploadOperationInfoMap[r];this._notificationControl.updateOperationItemProgress(o,n,100*a,100*i)}_onUploadSessionStarted(e){var{sessionInfo:r}=e;this._controller.processUploadSession(r,this.uploadDirectoryInfo)}_onEditActionStarting(e){var r=this._metadataMap[e.name],n=new FileManagerActionContext(r,e.itemInfos,e.directory),i=this._notificationControl.addOperation(n.processingMessage,r.allowCancel,!r.allowItemProgress);switch(extend(e.customData,{context:n,operationInfo:i}),e.name){case"upload":var a=e.customData.sessionInfo.sessionId;i.uploadSessionId=a,this._uploadOperationInfoMap[a]=i;break;case"rename":e.customData.context.itemNewName=e.customData.itemNewName}}_onEditActionResultAcquired(e){var{context:r,operationInfo:n}=e.customData;r.singleRequest=e.singleRequest;var i=r.itemInfos.map(a=>this._getItemProgressDisplayInfo(a));this._notificationControl.addOperationDetails(n,i,r.actionMetadata.allowCancel)}_onEditActionError(e,r){var{context:n,operationInfo:i}=e.customData;n.singleRequest=e.singleRequest,this._handleActionError(i,n,r),this._completeAction(i,n)}_onEditActionItemError(e,r){var{context:n,operationInfo:i}=e.customData;this._handleActionError(i,n,r)}_onCompleteEditActionItem(e,r){var{context:n,operationInfo:i}=e.customData;(!r.result||!r.result.canceled)&&(n.completeOperationItem(r.index),this._notificationControl.completeOperationItem(i,r.index,n.commonProgress))}_onCompleteEditAction(e){var{context:r,operationInfo:n}=e.customData;this._completeAction(n,r),e.name==="upload"&&delete this._uploadOperationInfoMap[e.customData.sessionInfo.sessionId]}_tryCreate(e){var r=e&&e[0]||this._getCurrentDirectory(),n=messageLocalization$1.format("dxFileManager-newDirectoryName");return this._showDialog(this._dialogManager.getCreateItemDialog(),n).then(i=>{var{name:a}=i;return this._controller.createDirectory(r,a)})}_tryRename(e){var r=e&&e[0]||this._model.getMultipleSelectedItems()[0];return r?this._showDialog(this._dialogManager.getRenameItemDialog(),r.fileItem.name).then(n=>{var{name:i}=n;return this._controller.renameItem(r,i)}):new Deferred().reject().promise()}_tryDelete(e){if(e=e||this._model.getMultipleSelectedItems(),e.length===0)return new Deferred().reject().promise();var r=e[0].fileItem.name,n=e.length;return this._showDialog(this._dialogManager.getDeleteItemDialog(),{itemName:r,itemCount:n}).then(()=>this._controller.deleteItems(e))}_tryMove(e){return e=e||this._model.getMultipleSelectedItems(),e.length===0?new Deferred().reject().promise():this._showDialog(this._dialogManager.getMoveDialog(e)).then(r=>{var{folder:n}=r;return this._controller.moveItems(e,n)})}_tryCopy(e){return e=e||this._model.getMultipleSelectedItems(),e.length===0?new Deferred().reject().promise():this._showDialog(this._dialogManager.getCopyDialog(e)).then(r=>{var{folder:n}=r;return this._controller.copyItems(e,n)})}_tryUpload(e){this._uploadDirectoryInfo=e==null?void 0:e[0],this._fileUploader.tryUpload()}_download(e){return e=e||this._model.getMultipleSelectedItems(),e.length===0?new Deferred().reject().promise():this._controller.downloadItems(e)}_getItemContent(e){return e=e||this._model.getMultipleSelectedItems(),this._controller.getItemContent(e)}_completeAction(e,r){this._notificationControl.completeOperation(e,r.completionMessage,!r.success,r.statusText),r.hasModifiedItems()&&this._raiseOnSuccess(r.onlyFiles)}_handleActionError(e,r,n){e.hasError=!0,r.singleRequest?this._handleSingleRequestActionError(e,r,n):this._handleMultipleRequestActionError(e,r,n)}_handleSingleRequestActionError(e,r,n){var i=r.getItemForSingleRequestError(),a=r.getItemName(n.errorCode),o=this._getErrorText(n,i,a);r.processSingleRequestError(o);var s=this._getOperationErrorInfo(r);this._notificationControl.completeSingleOperationWithError(e,s),r.multipleItems&&this._raiseOnSuccess(r.onlyFiles)}_handleMultipleRequestActionError(e,r,n){var i=r.getItemForMultipleRequestError(n.index),a=r.getItemName(n.errorCode,n.index),o=this._getErrorText(n,i,a);r.processMultipleRequestError(n.index,o);var s=this._getOperationErrorInfo(r);this._notificationControl.addOperationDetailsError(e,s)}_getOperationErrorInfo(e){var r=e.errorState.currentDetailError;return{commonErrorText:e.errorState.commonErrorText,item:r.itemInfo?this._getItemProgressDisplayInfo(r.itemInfo):null,itemIndex:r.itemIndex,detailErrorText:r.errorText}}_getErrorText(e,r,n){var i=e.errorText||FileManagerMessages.get(e.errorCode,n),a={fileSystemItem:r==null?void 0:r.fileItem,errorCode:e.errorCode,errorText:i};return this._raiseOnError(a),a.errorText}_getItemProgressDisplayInfo(e){return{commonText:e.fileItem.name,imageUrl:this._getItemThumbnail(e)}}_showDialog(e,r){return this._dialogDeferred=new Deferred,e.show(r),this._dialogDeferred.promise()}_onDialogClosed(e){var r=e.dialogResult;r?this._dialogDeferred.resolve(r):this._dialogDeferred.reject()}updateDialogRtl(e){this._dialogManager.updateDialogRtl(e)}_getItemThumbnail(e){var r=this.option("getItemThumbnail");if(!r)return null;var n=r(e);return n?n.thumbnail:null}_initActions(){this._actions={onSuccess:this._createActionByOption("onSuccess"),onError:this._createActionByOption("onError")}}_getDefaultOptions(){return extend(super._getDefaultOptions(),{model:{getMultipleSelectedItems:null},notificationControl:null,getItemThumbnail:null,onSuccess:null,onError:null})}_optionChanged(e){var r=e.name;switch(r){case"model":this.repaint();break;case"notificationControl":this._initNotificationControl(e.value);break;case"getItemThumbnail":break;case"uploadDropZonePlaceholderContainer":this._fileUploader.option("dropZonePlaceholderContainer",e.value);break;case"onSuccess":case"onError":this._actions[r]=this._createActionByOption(r);break;default:super._optionChanged(e)}}_raiseOnSuccess(e){this._actions.onSuccess({updatedOnlyFiles:e})}_raiseOnError(e){this._actions.onError(e)}_getCurrentDirectory(){return this._controller.getCurrentDirectory()}get uploadDirectoryInfo(){return this._uploadDirectoryInfo||this._getCurrentDirectory()}}class FileManagerActionContext{constructor(e,r,n){this._actionMetadata=e,this._itemInfos=r,this._onlyFiles=!this._actionMetadata.affectsAllItems&&this._itemInfos.every(i=>!i.fileItem.isDirectory),this._items=this._itemInfos.map(i=>i.fileItem),this._multipleItems=this._items.length>1,this._location=n.getDisplayName(),this._singleRequest=!0,this._completedItems=[],this._commonProgress=0,this._errorState={failedCount:0},this._itemNewName=""}completeOperationItem(e){if(this._singleRequest)this._completedItems=[...this._items];else{var r=this._items[e];this._completedItems.push(r)}this._actionMetadata.allowItemProgress||(this._commonProgress=this._completedItems.length/this._items.length*100)}processSingleRequestError(e){this._errorState.failedCount=1,this._errorState.commonErrorText=this._multipleItems?this._actionMetadata.commonErrorMessage:this._actionMetadata.singleItemErrorMessage;var r=this._multipleItems?-1:1,n=this.getItemForSingleRequestError();this._setCurrentDetailError(r,n,e)}processMultipleRequestError(e,r){this._errorState.failedCount++,this._errorState.commonErrorText=this._errorState.failedCount>1?format(this._actionMetadata.multipleItemsErrorMessage,this._errorState.failedCount):this._actionMetadata.singleItemErrorMessage;var n=this.getItemForMultipleRequestError(e);this._setCurrentDetailError(e,n,r)}hasModifiedItems(){return this._hasCompletedItems()||this._singleRequest&&!this.success&&this._multipleItems}getItemForSingleRequestError(){return this._multipleItems?null:this._itemInfos[0]}getItemForMultipleRequestError(e){return this._itemInfos[e]}getItemName(e,r){var n=this.singleRequest?this.getItemForSingleRequestError():this.getItemForMultipleRequestError(r),i=n==null?void 0:n.fileItem.name;return this.itemNewName&&this._isItemExistsErrorCode(e)&&(i=this.itemNewName),i}_isItemExistsErrorCode(e){return e===ErrorCode$1.DirectoryExists||e===ErrorCode$1.FileExists}_setCurrentDetailError(e,r,n){this._errorState.currentDetailError={itemIndex:e,itemInfo:r,errorText:n}}_hasCompletedItems(){return this._completedItems.length>0}get actionMetadata(){return this._actionMetadata}get itemInfos(){return this._itemInfos}get itemNewName(){return this._itemNewName}set itemNewName(e){this._itemNewName=e}get errorState(){return this._errorState}get singleRequest(){return this._singleRequest}set singleRequest(e){this._singleRequest=e}get multipleItems(){return this._multipleItems}get onlyFiles(){return this._onlyFiles}get processingMessage(){return this._multipleItems?format(this._actionMetadata.multipleItemsProcessingMessage,this._items.length,this._location):format(this._actionMetadata.singleItemProcessingMessage,this._location)}get successMessage(){return this._hasCompletedItems()?this._multipleItems?format(this._actionMetadata.multipleItemsSuccessMessage,this._completedItems.length,this._location):format(this._actionMetadata.singleItemSuccessMessage,this._location):this._multipleItems?format(this._actionMetadata.multipleItemsErrorMessage,this._items.length):this._actionMetadata.singleItemErrorMessage}get completionMessage(){return this.success?this.successMessage:this.errorState.commonErrorText}get statusText(){return this.success&&!this._hasCompletedItems()?this._actionMetadata.canceledMessage:void 0}get commonProgress(){return this._commonProgress}get success(){return!this._errorState.failedCount}}var FileManagerEditingControl$1=FileManagerEditingControl,FILE_MANAGER_BREADCRUMBS_CLASS="dx-filemanager-breadcrumbs",FILE_MANAGER_BREADCRUMBS_PARENT_FOLDER_ITEM_CLASS=FILE_MANAGER_BREADCRUMBS_CLASS+"-parent-folder-item",FILE_MANAGER_BREADCRUMBS_SEPARATOR_ITEM_CLASS=FILE_MANAGER_BREADCRUMBS_CLASS+"-separator-item",FILE_MANAGER_BREADCRUMBS_PATH_SEPARATOR_ITEM_CLASS=FILE_MANAGER_BREADCRUMBS_CLASS+"-path-separator-item";class FileManagerBreadcrumbs extends Widget$2{_init(){super._init(),this._currentDirectory=null}_initMarkup(){super._initMarkup(),this._initActions(),this._currentDirectory&&this._renderMenu(),this.$element().addClass(FILE_MANAGER_BREADCRUMBS_CLASS)}setCurrentDirectory(e){this._areDirsEqual(this._currentDirectory,e)||(this._currentDirectory=e,this.repaint())}_renderMenu(){var e=$("<div>").appendTo(this.$element());this._menu=this._createComponent(e,Menu$1,{dataSource:this._getMenuItems(),onItemClick:this._onItemClick.bind(this),onItemRendered:this._onItemRendered.bind(this)})}_getMenuItems(){var e=this._getParentDirsLine(),r=[{icon:"arrowup",directory:this._currentDirectory.parentDirectory,isPathItem:!0,cssClass:FILE_MANAGER_BREADCRUMBS_PARENT_FOLDER_ITEM_CLASS},{text:"\xA0",cssClass:FILE_MANAGER_BREADCRUMBS_SEPARATOR_ITEM_CLASS}];return e.forEach((n,i)=>{r.push({text:n.getDisplayName(),directory:n,isPathItem:!0}),i!==e.length-1&&r.push({icon:"spinnext",cssClass:FILE_MANAGER_BREADCRUMBS_PATH_SEPARATOR_ITEM_CLASS})}),r}_onItemClick(e){var{itemData:r}=e;if(!!r.isPathItem){var n=r.directory;this._areDirsEqual(n,this._currentDirectory)||this._raiseCurrentDirectoryChanged(n)}}_onItemRendered(e){var{itemElement:r,itemData:n}=e;n.cssClass&&$(r).addClass(n.cssClass)}_getParentDirsLine(){for(var e=this._currentDirectory,r=[];e;)r.unshift(e),e=e.parentDirectory;return r}_areDirsEqual(e,r){return e&&r&&e===r&&e.fileItem.key===r.fileItem.key}_initActions(){this._actions={onCurrentDirectoryChanging:this._createActionByOption("onCurrentDirectoryChanging")}}_raiseCurrentDirectoryChanged(e){this._actions.onCurrentDirectoryChanging({currentDirectory:e})}_getDefaultOptions(){return extend(super._getDefaultOptions(),{rootFolderDisplayName:"Files",onCurrentDirectoryChanging:null})}_optionChanged(e){var r=e.name;switch(r){case"rootFolderDisplayName":this.repaint();break;case"onCurrentDirectoryChanging":this._actions[r]=this._createActionByOption(r);break;default:super._optionChanged(e)}}}var FileManagerBreadcrumbs$1=FileManagerBreadcrumbs,window$2=getWindow(),SPLITTER_CLASS="dx-splitter",SPLITTER_WRAPPER_CLASS="".concat(SPLITTER_CLASS,"-wrapper"),SPLITTER_INACTIVE_CLASS="".concat(SPLITTER_CLASS,"-inactive"),SPLITTER_BORDER_CLASS="".concat(SPLITTER_CLASS,"-border"),SPLITTER_INITIAL_STATE_CLASS="".concat(SPLITTER_CLASS,"-initial"),STATE_DISABLED_CLASS="dx-state-disabled",SPLITTER_MODULE_NAMESPACE="dxSplitterResizing";class SplitterControl extends Widget$2{_init(){super._init();var e=new Guid$1().toString();this.SPLITTER_POINTER_DOWN_EVENT_NAME=addNamespace$1(pointerEvents.down,SPLITTER_MODULE_NAMESPACE+e),this.SPLITTER_POINTER_MOVE_EVENT_NAME=addNamespace$1(pointerEvents.move,SPLITTER_MODULE_NAMESPACE+e),this.SPLITTER_POINTER_UP_EVENT_NAME=addNamespace$1(pointerEvents.up,SPLITTER_MODULE_NAMESPACE+e)}_initMarkup(){super._initMarkup(),this._initActions(),this._$container=this.option("container"),this._$leftElement=this.option("leftElement"),this._$rightElement=this.option("rightElement"),this.$element().addClass(SPLITTER_WRAPPER_CLASS).addClass(SPLITTER_INITIAL_STATE_CLASS),this._$splitterBorder=$("<div>").addClass(SPLITTER_BORDER_CLASS).appendTo(this.$element()),this._$splitter=$("<div>").addClass(SPLITTER_CLASS).addClass(SPLITTER_INACTIVE_CLASS).appendTo(this._$splitterBorder)}_initActions(){this._actions={onApplyPanelSize:this._createActionByOption("onApplyPanelSize"),onActiveStateChanged:this._createActionByOption("onActiveStateChanged")}}_render(){super._render(),this._detachEventHandlers(),this._attachEventHandlers()}_clean(){this._detachEventHandlers(),super._clean()}_attachEventHandlers(){var e=domAdapter.getDocument();eventsEngine$1.on(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME,this._onMouseDownHandler.bind(this)),eventsEngine$1.on(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME,this._onMouseMoveHandler.bind(this)),eventsEngine$1.on(e,this.SPLITTER_POINTER_UP_EVENT_NAME,this._onMouseUpHandler.bind(this))}_detachEventHandlers(){var e=domAdapter.getDocument();eventsEngine$1.off(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME),eventsEngine$1.off(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME),eventsEngine$1.off(e,this.SPLITTER_POINTER_UP_EVENT_NAME)}_dimensionChanged(e){(!e||e!=="height")&&(this._containerWidth=this._$container.get(0).clientWidth,this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_onMouseDownHandler(e){e.preventDefault(),this._offsetX=e.pageX-this._$splitterBorder.offset().left<=this._getSplitterBorderWidth()?e.pageX-this._$splitterBorder.offset().left:0,this._containerWidth=this._$container.get(0).clientWidth,this.$element().removeClass(SPLITTER_INITIAL_STATE_CLASS),this._toggleActive(!0),this._setSplitterPositionLeft({needUpdatePanels:!0})}_onMouseMoveHandler(e){!this._isSplitterActive||this._setSplitterPositionLeft({splitterPositionLeft:this._getNewSplitterPositionLeft(e),needUpdatePanels:!0})}_onMouseUpHandler(){!this._isSplitterActive||(this._leftPanelPercentageWidth=null,this._toggleActive(!1),this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_getNewSplitterPositionLeft(e){var r=e.pageX-this._getContainerLeftOffset()-this._offsetX;return r=Math.max(0-this._getSplitterOffset(),r),r=Math.min(this._containerWidth-this._getSplitterOffset()-this._getSplitterWidth(),r),r}_getContainerLeftOffset(){var e=this._$container.offset().left;if(window$2){var r=window$2.getComputedStyle(this._$container.get(0)),n=parseFloat(r.paddingLeft)||0,i=parseFloat(r.borderLeftWidth)||0;e+=n+i}return e}_getSplitterOffset(){return(this._getSplitterBorderWidth()-this._getSplitterWidth())/2}_getSplitterWidth(){return this._$splitter.get(0).clientWidth}_getSplitterBorderWidth(){return this._$splitterBorder.get(0).clientWidth}_getLeftPanelWidth(){return this._$leftElement.get(0).clientWidth}getSplitterBorderElement(){return this._$splitterBorder}_toggleActive(e){this.$element().toggleClass(SPLITTER_INACTIVE_CLASS,!e),this._$splitter.toggleClass(SPLITTER_INACTIVE_CLASS,!e),this._isSplitterActive=e,this._actions.onActiveStateChanged({isActive:e})}toggleDisabled(e){this.$element().toggleClass(STATE_DISABLED_CLASS,e),this._$splitter.toggleClass(STATE_DISABLED_CLASS,e)}isSplitterMoved(){return!this.$element().hasClass(SPLITTER_INITIAL_STATE_CLASS)}disableSplitterCalculation(e){this._isSplitterCalculationDisabled=e}_setSplitterPositionLeft(){var{splitterPositionLeft:e=null,needUpdatePanels:r=!1,usePercentagePanelsWidth:n=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e=e||this._getLeftPanelWidth()-this._getSplitterOffset();var i=e+this._getSplitterOffset(),a=this._containerWidth-i;this._isSplitterCalculationDisabled||this.$element().css("left",e),this._leftPanelPercentageWidth=this._leftPanelPercentageWidth||this._convertToPercentage(i);var o=this._convertToPercentage(this._containerWidth-this._convertToPixels(this._leftPanelPercentageWidth));!r||this._actions.onApplyPanelSize({leftPanelWidth:n?"".concat(this._leftPanelPercentageWidth,"%"):i,rightPanelWidth:n?"".concat(o,"%"):a})}_optionChanged(e){switch(e.name){case"initialLeftPanelWidth":this._leftPanelPercentageWidth=this._convertToPercentage(e.value),this._dimensionChanged();break;case"leftElement":this.repaint();break;case"onActiveStateChanged":case"onApplyPanelSize":this._actions[e.name]=this._createActionByOption(e.name);break;default:super._optionChanged(e)}}_convertToPercentage(e){return e/this._$container.get(0).clientWidth*100}_convertToPixels(e){return e/100*this._$container.get(0).clientWidth}}var window$1=getWindow(),ADAPTIVE_STATE_SCREEN_WIDTH=573,FILE_MANAGER_ADAPTIVITY_DRAWER_PANEL_CLASS="dx-filemanager-adaptivity-drawer-panel",DRAWER_PANEL_CONTENT_INITIAL="dx-drawer-panel-content-initial",DRAWER_PANEL_CONTENT_ADAPTIVE="dx-drawer-panel-content-adaptive";class FileManagerAdaptivityControl extends Widget$2{_initMarkup(){super._initMarkup(),this._initActions(),this._isInAdaptiveState=!1;var e=$("<div>").appendTo(this.$element());$("<div>").addClass(FILE_MANAGER_ADAPTIVITY_DRAWER_PANEL_CLASS).appendTo(e),this._drawer=this._createComponent(e,Drawer$1),this._drawer.option({opened:!0,template:this._createDrawerTemplate.bind(this)}),$(this._drawer.content()).addClass(DRAWER_PANEL_CONTENT_INITIAL);var r=e.find(".".concat(FILE_MANAGER_ADAPTIVITY_DRAWER_PANEL_CLASS)).first(),n=this.option("contentTemplate");isFunction$2(n)&&n(r),this._updateDrawerMaxSize()}_createDrawerTemplate(e){this.option("drawerTemplate")(e),this._splitter=this._createComponent("<div>",SplitterControl,{container:this.$element(),leftElement:$(this._drawer.content()),rightElement:$(this._drawer.viewContent()),onApplyPanelSize:this._onApplyPanelSize.bind(this),onActiveStateChanged:this._onActiveStateChanged.bind(this)}),this._splitter.$element().appendTo(e),this._splitter.disableSplitterCalculation(!0)}_render(){super._render(),this._checkAdaptiveState()}_onApplyPanelSize(e){if(!!hasWindow()){if(!this._splitter.isSplitterMoved()){this._setDrawerWidth("");return}$(this._drawer.content()).removeClass(DRAWER_PANEL_CONTENT_INITIAL),this._setDrawerWidth(e.leftPanelWidth)}}_onActiveStateChanged(e){var{isActive:r}=e;this._splitter.disableSplitterCalculation(!r),!r&&this._splitter.$element().css("left","auto")}_setDrawerWidth(e){$(this._drawer.content()).css("width",e),this._updateDrawerMaxSize(),this._drawer.resizeViewContent()}_updateDrawerMaxSize(){this._drawer.option("maxSize",this._drawer.getRealPanelWidth())}_dimensionChanged(e){(!e||e!=="height")&&this._checkAdaptiveState()}_checkAdaptiveState(){var e=this._isInAdaptiveState;this._isInAdaptiveState=this._isSmallScreen(),e!==this._isInAdaptiveState&&(this.toggleDrawer(!this._isInAdaptiveState,!0),$(this._drawer.content()).toggleClass(DRAWER_PANEL_CONTENT_ADAPTIVE,this._isInAdaptiveState),this._raiseAdaptiveStateChanged(this._isInAdaptiveState)),this._isInAdaptiveState&&this._isDrawerOpened()&&this._updateDrawerMaxSize()}_isSmallScreen(){return getWidth(window$1)<=ADAPTIVE_STATE_SCREEN_WIDTH}_isDrawerOpened(){return this._drawer.option("opened")}_initActions(){this._actions={onAdaptiveStateChanged:this._createActionByOption("onAdaptiveStateChanged")}}_raiseAdaptiveStateChanged(e){this._actions.onAdaptiveStateChanged({enabled:e})}_getDefaultOptions(){return extend(super._getDefaultOptions(),{drawerTemplate:null,contentTemplate:null,onAdaptiveStateChanged:null})}_optionChanged(e){var r=e.name;switch(r){case"drawerTemplate":case"contentTemplate":this.repaint();break;case"onAdaptiveStateChanged":this._actions[r]=this._createActionByOption(r);break;default:super._optionChanged(e)}}isInAdaptiveState(){return this._isInAdaptiveState}toggleDrawer(e,r){this._updateDrawerMaxSize(),this._drawer.option("animationEnabled",!r),this._drawer.toggle(e);var n=this._isDrawerOpened()&&!this.isInAdaptiveState();this._splitter.toggleDisabled(!n)}getSplitterElement(){return this._splitter.getSplitterBorderElement().get(0)}}var FileManagerAdaptivityControl$1=FileManagerAdaptivityControl,FILE_MANAGER_CLASS="dx-filemanager",FILE_MANAGER_WRAPPER_CLASS=FILE_MANAGER_CLASS+"-wrapper",FILE_MANAGER_CONTAINER_CLASS=FILE_MANAGER_CLASS+"-container",FILE_MANAGER_DIRS_PANEL_CLASS=FILE_MANAGER_CLASS+"-dirs-panel",FILE_MANAGER_EDITING_CONTAINER_CLASS=FILE_MANAGER_CLASS+"-editing-container",FILE_MANAGER_ITEMS_PANEL_CLASS=FILE_MANAGER_CLASS+"-items-panel",FILE_MANAGER_ITEM_CUSTOM_THUMBNAIL_CLASS=FILE_MANAGER_CLASS+"-item-custom-thumbnail",PARENT_DIRECTORY_KEY_PREFIX="[*DXPDK*]$40F96F03-FBD8-43DF-91BE-F55F4B8BA871$",VIEW_AREAS={folders:"navPane",items:"itemView"};class FileManager extends Widget$2{_initTemplates(){}_init(){super._init(),this._initActions(),this._providerUpdateDeferred=null,this._lockCurrentPathProcessing=!1,this._wasRendered=!1,this._controller=new FileItemsController({currentPath:this.option("currentPath"),currentPathKeys:this.option("currentPathKeys"),rootText:this.option("rootFolderName"),fileProvider:this.option("fileSystemProvider"),allowedFileExtensions:this.option("allowedFileExtensions"),uploadMaxFileSize:this.option("upload").maxFileSize,uploadChunkSize:this.option("upload").chunkSize,onInitialized:this._onControllerInitialized.bind(this),onDataLoading:this._onDataLoading.bind(this),onSelectedDirectoryChanged:this._onSelectedDirectoryChanged.bind(this),onPathPotentiallyChanged:this._checkPathActuality.bind(this),editingEvents:this._actions.editing})}_initMarkup(){super._initMarkup(),this._firstItemViewLoad=!0,this._lockSelectionProcessing=!1,this._lockFocusedItemProcessing=!1,this._itemKeyToFocus=void 0,this._loadedWidgets=[],this._commandManager=new FileManagerCommandManager(this.option("permissions")),this.$element().addClass(FILE_MANAGER_CLASS),this._wasRendered?this._prepareToLoad():this._wasRendered=!0,this._createNotificationControl(),this._initCommandManager()}_createNotificationControl(){var e=$("<div>").addClass("dx-filemanager-notification-container").appendTo(this.$element());this._notificationControl=this._createComponent(e,FileManagerNotificationControl,{progressPanelContainer:this.$element(),contentTemplate:(r,n)=>this._createWrapper(r,n),onActionProgress:r=>this._onActionProgress(r),positionTarget:".".concat(FILE_MANAGER_CONTAINER_CLASS),showProgressPanel:this.option("notifications.showPanel"),showNotificationPopup:this.option("notifications.showPopup")})}_createWrapper(e,r){this._$wrapper=$("<div>").addClass(FILE_MANAGER_WRAPPER_CLASS).appendTo(e),this._createEditing(r);var n=$("<div>").appendTo(this._$wrapper);this._toolbar=this._createComponent(n,FileManagerToolbar$1,{commandManager:this._commandManager,generalItems:this.option("toolbar.items"),fileItems:this.option("toolbar.fileSelectionItems"),itemViewMode:this.option("itemView").mode,onItemClick:i=>this._actions.onToolbarItemClick(i)}),this._createAdaptivityControl()}_createAdaptivityControl(){var e=$("<div>").addClass(FILE_MANAGER_CONTAINER_CLASS).appendTo(this._$wrapper);this._adaptivityControl=this._createComponent(e,FileManagerAdaptivityControl$1,{drawerTemplate:r=>this._createFilesTreeView(r),contentTemplate:r=>this._createItemsPanel(r),onAdaptiveStateChanged:r=>this._onAdaptiveStateChanged(r)}),this._editing.setUploaderSplitterElement(this._adaptivityControl.getSplitterElement())}_createEditing(e){var r=$("<div>").addClass(FILE_MANAGER_EDITING_CONTAINER_CLASS).appendTo(this.$element());this._editing=this._createComponent(r,FileManagerEditingControl$1,{controller:this._controller,model:{getMultipleSelectedItems:this._getSelectedItemInfos.bind(this)},getItemThumbnail:this._getItemThumbnailInfo.bind(this),notificationControl:e,uploadDropZonePlaceholderContainer:this.$element(),rtlEnabled:this.option("rtlEnabled"),onSuccess:n=>{var{updatedOnlyFiles:i}=n;return this._redrawComponent(i)},onError:n=>this._onEditingError(n)})}_createItemsPanel(e){this._$itemsPanel=$("<div>").addClass(FILE_MANAGER_ITEMS_PANEL_CLASS).appendTo(e),this._createBreadcrumbs(this._$itemsPanel),this._createItemView(this._$itemsPanel),this._updateUploadDropZone()}_updateUploadDropZone(){var e=this._commandManager.isCommandAvailable("upload")?this._$itemsPanel:$();this._editing.setUploaderDropZone(e)}_createFilesTreeView(e){this._filesTreeViewContextMenu=this._createContextMenu(!1,VIEW_AREAS.folders);var r=$("<div>").addClass(FILE_MANAGER_DIRS_PANEL_CLASS).appendTo(e);this._filesTreeView=this._createComponent(r,FileManagerFilesTreeView$1,{storeExpandedState:!0,contextMenu:this._filesTreeViewContextMenu,getDirectories:this.getDirectories.bind(this),getCurrentDirectory:this._getCurrentDirectory.bind(this),onDirectoryClick:n=>{var{itemData:i}=n;return this._setCurrentDirectory(i)},onItemListDataLoaded:()=>this._tryEndLoading(VIEW_AREAS.folders)}),this._filesTreeView.updateCurrentDirectory()}_createItemView(e,r){this._itemViewContextMenu=this._createContextMenu(!0,VIEW_AREAS.items);var n=this.option("itemView"),i={selectionMode:this.option("selectionMode"),selectedItemKeys:this.option("selectedItemKeys"),focusedItemKey:this.option("focusedItemKey"),contextMenu:this._itemViewContextMenu,getItems:this._getItemViewItems.bind(this),onError:s=>{var{error:l}=s;return this._showError(l)},onSelectionChanged:this._onItemViewSelectionChanged.bind(this),onFocusedItemChanged:this._onItemViewFocusedItemChanged.bind(this),onSelectedItemOpened:this._onSelectedItemOpened.bind(this),onContextMenuShowing:s=>this._onContextMenuShowing(VIEW_AREAS.items,s),onItemListItemsLoaded:()=>this._tryEndLoading(VIEW_AREAS.items),getItemThumbnail:this._getItemThumbnailInfo.bind(this),customizeDetailColumns:this.option("customizeDetailColumns"),detailColumns:this.option("itemView.details.columns")},a=$("<div>").appendTo(e);r=r||n.mode;var o=r==="thumbnails"?FileManagerThumbnailsItemList$1:FileManagerDetailsItemList$1;this._itemView=this._createComponent(a,o,i)}_createBreadcrumbs(e){var r=$("<div>").appendTo(e);this._breadcrumbs=this._createComponent(r,FileManagerBreadcrumbs$1,{rootFolderDisplayName:this.option("rootFolderName"),onCurrentDirectoryChanging:n=>{var{currentDirectory:i}=n;return this._setCurrentDirectory(i,!0)}}),this._breadcrumbs.setCurrentDirectory(this._getCurrentDirectory())}_createContextMenu(e,r){var n=$("<div>").appendTo(this._$wrapper);return this._createComponent(n,FileManagerContextMenu$1,{commandManager:this._commandManager,items:this.option("contextMenu.items"),onItemClick:i=>this._actions.onContextMenuItemClick(i),onContextMenuShowing:i=>this._onContextMenuShowing(r,i),isolateCreationItemCommands:e,viewArea:r})}_initCommandManager(){var e=extend(this._editing.getCommandActions(),{refresh:()=>this._refreshAndShowProgress(),thumbnails:()=>this.option("itemView.mode","thumbnails"),details:()=>this.option("itemView.mode","details"),clearSelection:()=>this._clearSelection(),showNavPane:()=>this._adaptivityControl.toggleDrawer()});this._commandManager.registerActions(e)}_onItemViewSelectionChanged(e){var{selectedItemInfos:r,selectedItems:n,selectedItemKeys:i,currentSelectedItemKeys:a,currentDeselectedItemKeys:o}=e;this._lockSelectionProcessing=!0,this.option("selectedItemKeys",i),this._lockSelectionProcessing=!1,this._actions.onSelectionChanged({selectedItems:n,selectedItemKeys:i,currentSelectedItemKeys:a,currentDeselectedItemKeys:o}),this._updateToolbar(r)}_onItemViewFocusedItemChanged(e){this._lockFocusedItemProcessing=!0,this.option("focusedItemKey",e.itemKey),this._lockFocusedItemProcessing=!1,this._actions.onFocusedItemChanged({item:e.item,itemElement:e.itemElement})}_onAdaptiveStateChanged(e){var{enabled:r}=e;this._commandManager.setCommandEnabled("showNavPane",r),this._updateToolbar()}_onActionProgress(e){var{message:r,status:n}=e;this._toolbar.updateRefreshItem(r,n),this._updateToolbar()}_onEditingError(e){var r=extendAttributes({},e,["errorCode","errorText","fileSystemItem"]);this._actions.onErrorOccurred(r),e.errorText=r.errorText}_refreshAndShowProgress(){return this._prepareToLoad(),when(this._notificationControl.tryShowProgressPanel(),this._controller.refresh()).then(()=>this._filesTreeView.refresh())}_isAllWidgetsLoaded(){return this._loadedWidgets.length===2&&this._loadedWidgets.indexOf(VIEW_AREAS.folders)!==-1&&this._loadedWidgets.indexOf(VIEW_AREAS.items)!==-1}_tryEndLoading(e){this._loadedWidgets.push(e),this._isAllWidgetsLoaded()&&this._controller.endSingleLoad()}_prepareToLoad(){this._loadedWidgets=[],this._controller.startSingleLoad()}_updateToolbar(e){var r=e||this._getSelectedItemInfos();this._toolbar.option("contextItems",ensureDefined(r,[]))}_switchView(e){this._disposeWidget(this._itemView.option("contextMenu")),this._disposeWidget(this._itemView),this._createItemView(this._$itemsPanel,e),this._toolbar.option({itemViewMode:e})}_disposeWidget(e){e.dispose(),e.$element().remove()}_clearSelection(){this._itemView.clearSelection()}_showError(e){this._showNotification(e,!1)}_showNotification(e,r){notify({message:e,width:450},r?"success":"error",5e3)}_redrawComponent(e){this._itemView.refresh().then(()=>!e&&this._filesTreeView.refresh())}_getItemViewItems(){var e=this.option("itemView").showFolders,r=this._controller.getCurrentItems(!e);return this._updateToolbarWithSelectionOnFirstLoad(r),this.option("itemView.showParentFolder")&&(r=when(r).then(n=>this._getPreparedItemViewItems(n))),r}_updateToolbarWithSelectionOnFirstLoad(e){if(!!this._firstItemViewLoad){this._firstItemViewLoad=!1;var r=this.option("selectedItemKeys");r.length>0&&when(e).done(n=>{var i=findItemsByKeys(n,r);i.length>0&&this._updateToolbar(i)})}}_getPreparedItemViewItems(e){var r=this._getCurrentDirectory();if(r.fileItem.isRoot())return e;var n=r.fileItem.createClone();n.isParentFolder=!0,n.name="..",n.relativeName="..",n.key="".concat(PARENT_DIRECTORY_KEY_PREFIX).concat(r.fileItem.key);var i=[...e];return i.unshift({fileItem:n,icon:"parentfolder"}),i}_onContextMenuShowing(e,r){var n,i=extendAttributes({},r,["targetElement","cancel","event"]);i=extend(i,{viewArea:e,fileSystemItem:(n=r.itemData)===null||n===void 0?void 0:n.fileItem,_isActionButton:r.isActionButton}),this._actions.onContextMenuShowing(i),r.cancel=ensureDefined(i.cancel,!1)}_getItemThumbnailInfo(e){var r=this.option("customizeThumbnail"),n=isFunction$2(r)?r(e.fileItem):e.fileItem.thumbnail;return n?{thumbnail:n,cssClass:FILE_MANAGER_ITEM_CUSTOM_THUMBNAIL_CLASS}:{thumbnail:e.icon}}_getDefaultOptions(){return extend(super._getDefaultOptions(),{fileSystemProvider:null,currentPath:"",currentPathKeys:[],rootFolderName:messageLocalization$1.format("dxFileManager-rootDirectoryName"),selectionMode:"multiple",selectedItemKeys:[],focusedItemKey:void 0,toolbar:{items:["showNavPane","create","upload","switchView",{name:"separator",location:"after"},"refresh"],fileSelectionItems:["download","separator","move","copy","rename","separator","delete","clearSelection",{name:"separator",location:"after"},"refresh"]},contextMenu:{items:["create","upload","rename","move","copy","delete","refresh","download"]},itemView:{details:{columns:["thumbnail","name","dateModified","size"]},mode:"details",showFolders:!0,showParentFolder:!0},customizeThumbnail:null,customizeDetailColumns:null,onContextMenuItemClick:null,onContextMenuShowing:null,onCurrentDirectoryChanged:null,onSelectedFileOpened:null,onSelectionChanged:null,onFocusedItemChanged:null,onToolbarItemClick:null,onErrorOccurred:null,onDirectoryCreating:null,onDirectoryCreated:null,onItemRenaming:null,onItemRenamed:null,onItemDeleting:null,onItemDeleted:null,onItemCopying:null,onItemCopied:null,onItemMoving:null,onItemMoved:null,onFileUploading:null,onFileUploaded:null,onItemDownloading:null,allowedFileExtensions:[],upload:{maxFileSize:0,chunkSize:2e5},permissions:extend({},defaultPermissions),notifications:{showPanel:!0,showPopup:!0}})}option(e,r){var n=normalizeOptions(e,r),i=arguments.length<2&&type(e)!=="object",a=s=>isDefined(n[s]),o=s=>{if(!a(s))return!1;var l=this.option(s),u=n[s];return!equals(l,u)};return!i&&a("fileSystemProvider")&&(this._providerUpdateDeferred=new Deferred,(o("currentPath")||o("currentPathKeys"))&&(this._lockCurrentPathProcessing=!0)),super.option(...arguments)}_optionChanged(e){var r=e.name;switch(r){case"currentPath":var n=()=>(this._lockCurrentPathProcessing=!1,this._controller.setCurrentPath(e.value));this._lockCurrentPathProcessing=!0,this._providerUpdateDeferred?this._providerUpdateDeferred.then(n):n();break;case"currentPathKeys":var i=()=>(this._lockCurrentPathProcessing=!1,this._controller.setCurrentPathByKeys(e.value));this._lockCurrentPathProcessing=!0,this._providerUpdateDeferred?this._providerUpdateDeferred.then(i):i();break;case"selectedItemKeys":!this._lockSelectionProcessing&&this._itemView&&this._itemView.option("selectedItemKeys",e.value);break;case"focusedItemKey":!this._lockFocusedItemProcessing&&this._itemView&&this._itemView.option("focusedItemKey",e.value);break;case"rootFolderName":this._controller.setRootText(e.value),this._invalidate();break;case"fileSystemProvider":this._lockCurrentPathProcessing||(this._providerUpdateDeferred=new Deferred);var a=this._lockCurrentPathProcessing?void 0:this.option("currentPathKeys");this._controller.updateProvider(e.value,a).then(()=>this._providerUpdateDeferred.resolve()).always(()=>{this._providerUpdateDeferred=null,this.repaint()});break;case"allowedFileExtensions":this._controller.setAllowedFileExtensions(e.value),this._invalidate();break;case"upload":this._controller.setUploadOptions(this.option("upload")),this._invalidate();break;case"permissions":this._commandManager.updatePermissions(this.option("permissions")),this._filesTreeViewContextMenu.tryUpdateVisibleContextMenu(),this._itemViewContextMenu.tryUpdateVisibleContextMenu(),this._toolbar.updateItemPermissions(),this._updateUploadDropZone();break;case"selectionMode":case"customizeThumbnail":case"customizeDetailColumns":this._invalidate();break;case"itemView":e.fullName==="itemView.mode"?this._switchView(e.value):this._invalidate();break;case"toolbar":var o={};e.fullName==="toolbar"&&(e.value.items&&(o.generalItems=e.value.items),e.value.fileSelectionItems&&(o.fileItems=e.value.fileSelectionItems)),e.fullName.indexOf("toolbar.items")===0&&(o.generalItems=this.option("toolbar.items")),e.fullName.indexOf("toolbar.fileSelectionItems")===0&&(o.fileItems=this.option("toolbar.fileSelectionItems")),this._toolbar.option(o);break;case"contextMenu":if(e.fullName==="contextMenu"&&e.value.items||e.fullName.indexOf("contextMenu.items")===0){var s=this.option("contextMenu.items");this._filesTreeViewContextMenu.option("items",s),this._itemViewContextMenu.option("items",s)}break;case"notifications":this._notificationControl.option("showProgressPanel",this.option("notifications.showPanel")),this._notificationControl.option("showNotificationPopup",this.option("notifications.showPopup"));break;case"onContextMenuItemClick":case"onContextMenuShowing":case"onCurrentDirectoryChanged":case"onSelectedFileOpened":case"onSelectionChanged":case"onFocusedItemChanged":case"onToolbarItemClick":case"onErrorOccurred":this._actions[r]=this._createActionByOption(r);break;case"onDirectoryCreating":case"onDirectoryCreated":case"onItemRenaming":case"onItemRenamed":case"onItemDeleting":case"onItemDeleted":case"onItemCopying":case"onItemCopied":case"onItemMoving":case"onItemMoved":case"onFileUploading":case"onFileUploaded":case"onItemDownloading":this._actions.editing[r]=this._createActionByOption(r);break;case"rtlEnabled":this._editing.updateDialogRtl(e.value),super._optionChanged(e);break;default:super._optionChanged(e)}}_initActions(){this._actions={onContextMenuItemClick:this._createActionByOption("onContextMenuItemClick"),onContextMenuShowing:this._createActionByOption("onContextMenuShowing"),onCurrentDirectoryChanged:this._createActionByOption("onCurrentDirectoryChanged"),onSelectedFileOpened:this._createActionByOption("onSelectedFileOpened"),onSelectionChanged:this._createActionByOption("onSelectionChanged"),onFocusedItemChanged:this._createActionByOption("onFocusedItemChanged"),onToolbarItemClick:this._createActionByOption("onToolbarItemClick"),onErrorOccurred:this._createActionByOption("onErrorOccurred"),editing:{onDirectoryCreating:this._createActionByOption("onDirectoryCreating"),onDirectoryCreated:this._createActionByOption("onDirectoryCreated"),onItemRenaming:this._createActionByOption("onItemRenaming"),onItemRenamed:this._createActionByOption("onItemRenamed"),onItemDeleting:this._createActionByOption("onItemDeleting"),onItemDeleted:this._createActionByOption("onItemDeleted"),onItemCopying:this._createActionByOption("onItemCopying"),onItemCopied:this._createActionByOption("onItemCopied"),onItemMoving:this._createActionByOption("onItemMoving"),onItemMoved:this._createActionByOption("onItemMoved"),onFileUploading:this._createActionByOption("onFileUploading"),onFileUploaded:this._createActionByOption("onFileUploaded"),onItemDownloading:this._createActionByOption("onItemDownloading")}}}executeCommand(e){return this._commandManager.executeCommand(e)}_setCurrentDirectory(e,r){this._controller.setCurrentDirectory(e,r)}_getCurrentDirectory(){return this._controller.getCurrentDirectory()}_onControllerInitialized(e){var{controller:r}=e;this._controller=this._controller||r,this._syncToCurrentDirectory()}_onDataLoading(e){var{operation:r}=e,n=null;r==="navigation"&&(n={focusedItemKey:this._itemKeyToFocus,selectedItemKeys:this.option("selectedItemKeys")},this._itemKeyToFocus=void 0),this._itemView.refresh(n)}_onSelectedDirectoryChanged(){var e=this._getCurrentDirectory();this._syncToCurrentDirectory(),this._actions.onCurrentDirectoryChanged({directory:e.fileItem})}_syncToCurrentDirectory(){var e=this._getCurrentDirectory();this._filesTreeView&&this._filesTreeView.updateCurrentDirectory(),this._breadcrumbs&&this._breadcrumbs.setCurrentDirectory(e),this._checkPathActuality()}_checkPathActuality(){if(!this._lockCurrentPathProcessing){var e=this._controller.getCurrentPath(),r=this._controller.getCurrentPathKeys(),n={};this.option("currentPath")!==e&&(n.currentPath=e),equalByValue(this.option("currentPathKeys"),r)||(n.currentPathKeys=r),isEmptyObject(n)||this.option(n)}}getDirectories(e,r){return this._controller.getDirectories(e,r)}_getSelectedItemInfos(){return this._itemView?this._itemView.getSelectedItems():[]}refresh(){return this.executeCommand("refresh")}getCurrentDirectory(){var e=this._getCurrentDirectory();return e&&e.fileItem||null}getSelectedItems(){return this._getSelectedItemInfos().map(e=>e.fileItem)}_onSelectedItemOpened(e){var{fileItemInfo:r}=e,n=r.fileItem;if(!n.isDirectory){this._actions.onSelectedFileOpened({file:n});return}n.isParentFolder&&(this._itemKeyToFocus=this._getCurrentDirectory().fileItem.key);var i=n.isParentFolder?this._getCurrentDirectory().parentDirectory:r;this._setCurrentDirectory(i),i&&this._filesTreeView.toggleDirectoryExpandedState(i.parentDirectory,!0)}}registerComponent$1("dxFileManager",FileManager);var FileManager$1=FileManager,file_manager=Object.freeze(Object.defineProperty({__proto__:null,default:FileManager$1},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(file_manager),core={},vue2={},require$$0$2=getAugmentedNamespace(vue_runtime_esmBundler),component$1={},on=eventsEngine$1.on,one=eventsEngine$1.one,off=eventsEngine$1.off,trigger=eventsEngine$1.trigger,triggerHandler=eventsEngine$1.triggerHandler,Event=eventsEngine$1.Event,events=Object.freeze(Object.defineProperty({__proto__:null,on,one,off,trigger,triggerHandler,Event},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(events),childrenProcessing$1={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign$9=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$9=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign$9.apply(this,arguments)};Object.defineProperty(childrenProcessing$1,"__esModule",{value:!0});childrenProcessing$1.pullAllChildren=void 0;function pullAllChildren$1(t,e,r){!t||t.length===0||pullConfigComponents$1(t,e,r)}childrenProcessing$1.pullAllChildren=pullAllChildren$1;function pullConfigComponents$1(t,e,r){t.forEach(function(n){if(e.push(n),!!n.componentOptions){var i=n.componentOptions.Ctor;if(!!i.$_optionName){var a=__assign$9(__assign$9({},i.$_predefinedProps),n.componentOptions.propsData),o=r.createNested(i.$_optionName,a,i.$_isCollectionItem,i.$_expectedChildren);n.componentOptions.$_config=o,n.componentOptions.$_innerChanges={},n.componentOptions.children&&pullConfigComponents$1(n.componentOptions.children,e,o)}}})}var configuration$1={},helpers$1={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(helpers$1,"__esModule",{value:!0});helpers$1.getOptionInfo=helpers$1.getOptionValue=helpers$1.allKeysAreEqual=helpers$1.forEachChildNode=helpers$1.isEqual=helpers$1.toComparable=helpers$1.camelize=helpers$1.lowercaseFirst=helpers$1.uppercaseFirst=helpers$1.getTemplatePropName=void 0;function getTemplatePropName$1(t,e){for(var r in t)if(t[r]===e)return r;return e}helpers$1.getTemplatePropName=getTemplatePropName$1;function uppercaseFirst$1(t){return t[0].toUpperCase()+t.substr(1)}helpers$1.uppercaseFirst=uppercaseFirst$1;function lowercaseFirst$1(t){return t[0].toLowerCase()+t.substr(1)}helpers$1.lowercaseFirst=lowercaseFirst$1;function camelize$1(t){return lowercaseFirst$1(t.split("-").map(function(e){return uppercaseFirst$1(e)}).join(""))}helpers$1.camelize=camelize$1;function toComparable$1(t){return t instanceof Date?t.getTime():t}helpers$1.toComparable=toComparable$1;function isEqual$1(t,e){return toComparable$1(t)===toComparable$1(e)?!0:Array.isArray(t)&&Array.isArray(e)?t.length===0&&e.length===0:!1}helpers$1.isEqual=isEqual$1;function forEachChildNode$1(t,e){Array.prototype.slice.call(t.childNodes).forEach(e)}helpers$1.forEachChildNode=forEachChildNode$1;function allKeysAreEqual$1(t,e){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(var n=0,i=r;n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a))return!1}return!0}helpers$1.allKeysAreEqual=allKeysAreEqual$1;function getOptionValue$1(t,e){var r=t;return e.split(".").forEach(function(n){var i=getOptionInfo$1(n);r&&(r=i.isCollection?r[i.name]&&r[i.name][i.index]:r[i.name])}),r}helpers$1.getOptionValue=getOptionValue$1;function getOptionInfo$1(t){var e=t.split("[");return e.length===1?{isCollection:!1,name:t,fullName:t}:{isCollection:!0,name:e[0],fullName:t,index:Number(e[1].slice(0,-1))}}helpers$1.getOptionInfo=getOptionInfo$1;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign$8=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$8=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign$8.apply(this,arguments)};Object.defineProperty(configuration$1,"__esModule",{value:!0});configuration$1.setEmitOptionChangedFunc=configuration$1.bindOptionWatchers=void 0;var helpers_1$5=helpers$1,Configuration$1=function(){function t(e,r,n,i,a,o,s){this._updateFunc=e,this._name=r,this._initialValues=n||{},this._nestedConfigurations=[],this._isCollectionItem=!!a,this._collectionItemIndex=o,this._expectedChildren=i||{},this._ownerConfig=s,this._componentChanges=[],this.updateValue=this.updateValue.bind(this)}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullName",{get:function(){return this._name&&this._isCollectionItem?this._name+"["+this._collectionItemIndex+"]":this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentsCountChanged",{get:function(){return this._componentChanges},enumerable:!1,configurable:!0}),t.prototype.cleanComponentsCountChanged=function(){this._componentChanges=[]},Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._ownerConfig&&this._ownerConfig.fullPath?this._ownerConfig.fullPath+"."+this.fullName:this.fullName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownerConfig",{get:function(){return this._ownerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initialValues",{get:function(){return this._initialValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expectedChildren",{get:function(){return this._expectedChildren},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nested",{get:function(){return this._nestedConfigurations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prevNestedOptions",{get:function(){return this._prevNestedConfigOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collectionItemIndex",{get:function(){return this._collectionItemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollectionItem",{get:function(){return this._isCollectionItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFunc",{get:function(){return this._updateFunc},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this._options=e||[]},Object.defineProperty(t.prototype,"emitOptionChanged",{set:function(e){this._emitOptionChanged=e},enumerable:!1,configurable:!0}),t.prototype.setPrevNestedOptions=function(e){this._prevNestedConfigOptions=e},t.prototype.onOptionChanged=function(e){helpers_1$5.isEqual(e.value,e.previousValue)||this._onOptionChanged(e.fullName.split("."),e)},t.prototype.cleanNested=function(){this._nestedConfigurations=[]},t.prototype.createNested=function(e,r,n,i){var a=this._expectedChildren[e],o=e,s=n;a&&(s=a.isCollectionItem,a.optionName&&(o=a.optionName));var l=-1;s&&o&&(l=this._nestedConfigurations.filter(function(m){return m._name&&m._name===o}).length);var u=new t(this._updateFunc,o,r,i,s,l,this);return this._nestedConfigurations.push(u),u},t.prototype.updateValue=function(e,r){var n=[this.fullPath,e].filter(function(i){return i}).join(".");this._updateFunc(n,r)},t.prototype.getNestedOptionValues=function(){var e={};return this._nestedConfigurations.forEach(function(r){if(!!r._name){var n=__assign$8(__assign$8({},r.initialValues),r.getNestedOptionValues());if(!!n)if(!r._isCollectionItem)e[r._name]=n;else{var i=e[r._name];(!i||!Array.isArray(i))&&(i=[],e[r._name]=i),i.push(n)}}}),e},t.prototype.getOptionsToWatch=function(){var e={};return this._nestedConfigurations.forEach(function(r){return r._name&&(e[r._name]=!0)}),this._options.filter(function(r){return!e[r]})},t.prototype._onOptionChanged=function(e,r){if(e.length!==0){var n=helpers_1$5.getOptionInfo(e[0]);if(n.isCollection||e.length>1){var i=this._getNestedConfig(n.fullName);if(i){i._onOptionChanged(e.slice(1),r);return}this._tryEmitOptionChanged(n.name,r.component.option(this.fullPath?this.fullPath+"."+n.name:n.name))}else this._tryEmitOptionChanged(n.name,r.value)}},t.prototype._getNestedConfig=function(e){for(var r=0,n=this._nestedConfigurations;r<n.length;r++){var i=n[r];if(i.fullName===e)return i}},t.prototype._tryEmitOptionChanged=function(e,r){this._emitOptionChanged&&this._emitOptionChanged(e,r)},t}();function bindOptionWatchers$1(t,e,r){var n=t&&t.getOptionsToWatch();n&&n.forEach(function(i){e.$watch(i,function(a){(!r.hasOwnProperty(i)||r[i]!==a)&&t.updateValue(i,a),delete r[i]})})}configuration$1.bindOptionWatchers=bindOptionWatchers$1;function setEmitOptionChangedFunc$1(t,e,r){t.emitOptionChanged=function(n,i){helpers_1$5.isEqual(i,e.$props[n])||(r[n]=i,e.$emit("update:"+n,i))}}configuration$1.setEmitOptionChangedFunc=setEmitOptionChangedFunc$1;configuration$1.default=Configuration$1;var configurationComponent$1={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __createBinding$6=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$6=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$6(e,t,r);return __setModuleDefault$6(e,t),e};Object.defineProperty(configurationComponent$1,"__esModule",{value:!0});configurationComponent$1.getInnerChanges=configurationComponent$1.getConfig=configurationComponent$1.initOptionChangedFunc=configurationComponent$1.DxConfiguration=void 0;var VueType$4=__importStar$6(require$$0$2),Vue$4=VueType$4.default||VueType$4,configuration_1$3=configuration$1;function getConfig$1(t){if(!!t.$vnode){var e=t.$vnode.componentOptions;return e&&e.$_config}}configurationComponent$1.getConfig=getConfig$1;function getInnerChanges$1(t){if(!!t.$vnode){var e=t.$vnode.componentOptions;return e&&e.$_innerChanges}}configurationComponent$1.getInnerChanges=getInnerChanges$1;function initOptionChangedFunc$1(t,e,r){!t||(t.init(Object.keys(e.$props)),configuration_1$3.setEmitOptionChangedFunc(t,e,r))}configurationComponent$1.initOptionChangedFunc=initOptionChangedFunc$1;function getComponentInfo$1(t,e){var r=t.name,n=t.isCollectionItem,i=t.ownerConfig,a=i&&i.fullPath,o=r&&a?a+"."+r:r||"";return{optionPath:o,isCollection:n,removed:e}}var DxConfiguration=function(){return Vue$4.extend({beforeMount:function(){var t=getConfig$1(this),e=getInnerChanges$1(this);initOptionChangedFunc$1(t,this,e),configuration_1$3.bindOptionWatchers(t,this,e)},mounted:function(){this.$parent.$_instance&&this.$parent.$_config.componentsCountChanged.push(getComponentInfo$1(getConfig$1(this)))},beforeDestroy:function(){this.$parent.$_config.componentsCountChanged.push(getComponentInfo$1(getConfig$1(this),!0))},render:function(t){return t()}})};configurationComponent$1.DxConfiguration=DxConfiguration;var constants$1={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(constants$1,"__esModule",{value:!0});constants$1.DX_REMOVE_EVENT=constants$1.DX_TEMPLATE_WRAPPER_CLASS=void 0;var DX_TEMPLATE_WRAPPER_CLASS$1="dx-template-wrapper";constants$1.DX_TEMPLATE_WRAPPER_CLASS=DX_TEMPLATE_WRAPPER_CLASS$1;var DX_REMOVE_EVENT$1="dxremove";constants$1.DX_REMOVE_EVENT=DX_REMOVE_EVENT$1;var templatesManager$1={},config$3={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign$7=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$7=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign$7.apply(this,arguments)};Object.defineProperty(config$3,"__esModule",{value:!0});config$3.getOption=void 0;var config$2={useLegacyTemplateEngine:!1};function setOptions$1(t){config$2=__assign$7(__assign$7({},config$2),t)}function getOption$1(t){return config$2[t]}config$3.getOption=getOption$1;config$3.default=setOptions$1;var templatesDiscovering$1={},errors={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(errors,"__esModule",{value:!0});errors.TEMPLATE_MULTIPLE_ROOTS_ERROR=void 0;errors.TEMPLATE_MULTIPLE_ROOTS_ERROR="Template must have a single root node.";/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$5(e,t,r);return __setModuleDefault$5(e,t),e};Object.defineProperty(templatesDiscovering$1,"__esModule",{value:!0});templatesDiscovering$1.discover=templatesDiscovering$1.mountTemplate=void 0;var VueType$3=__importStar$5(require$$0$2),errors_1=errors,TEMPLATE_PROP$1="template",Vue$3=VueType$3.default||VueType$3;function asConfigurable$1(t){if(!!t.$vnode){var e=t.$vnode.componentOptions;if(!(!e.$_config||!e.$_config.name))return e}}function hasTemplate$1(t){return TEMPLATE_PROP$1 in t.$props&&t.$vnode.data&&t.$vnode.data.scopedSlots}function discover$1(t){var e={};for(var r in t.$scopedSlots)if(!(r==="default"&&t.$slots.default)){var n=t.$scopedSlots[r];!n||(e[r]=n)}for(var i=0,a=t.$children;i<a.length;i++){var o=a[i],s=asConfigurable$1(o);if(!!s){var l=o.$scopedSlots.default;if(!(!l||!hasTemplate$1(o))){var u=s.$_config.fullPath+"."+TEMPLATE_PROP$1;e[u]=l}}}return e}templatesDiscovering$1.discover=discover$1;function mountTemplate$1(t,e,r,n,i){return new Vue$3({el:i,name:n,inject:["eventBus"],parent:e,created:function(){var a=this;this.eventBus.$on("updated",function(){a.$forceUpdate()})},render:function(a){var o=t()(r);if(!o)return a("div");if(o.length>1)throw new Error(errors_1.TEMPLATE_MULTIPLE_ROOTS_ERROR);return o[0]},destroyed:function(){this.eventBus.$off("updated")}})}templatesDiscovering$1.mountTemplate=mountTemplate$1;var require$$1$1=getAugmentedNamespace(dom_adapter);/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign$6=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$6=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign$6.apply(this,arguments)},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(templatesManager$1,"__esModule",{value:!0});templatesManager$1.TemplatesManager=void 0;var config_1$1=config$3,templates_discovering_1$1=templatesDiscovering$1,dom_adapter_1$1=__importDefault$5(require$$1$1),events_1$3=require$$2,constants_1$3=constants$1,helpers_1$4=helpers$1,TemplatesManager$1=function(){function t(e){this._slots={},this._templates={},this._isDirty=!1,this._component=e,this.discover()}return t.prototype.discover=function(){var e=templates_discovering_1$1.discover(this._component);this._slots=__assign$6(__assign$6({},this._slots),e),helpers_1$4.allKeysAreEqual(this._templates,e)||this._prepareTemplates()},Object.defineProperty(t.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),t.prototype.resetDirtyFlag=function(){this._isDirty=!1},t.prototype._prepareTemplates=function(){this._templates={};for(var e=0,r=Object.keys(this._slots);e<r.length;e++){var n=r[e];this._templates[n]=this.createDxTemplate(n)}this._isDirty=!0},t.prototype.createDxTemplate=function(e){var r=this;return{render:function(n){var i=config_1$1.getOption("useLegacyTemplateEngine")?n.model:{data:n.model,index:n.index},a=n.container.get?n.container.get(0):n.container,o=document.createElement("div");a.appendChild(o);var s=templates_discovering_1$1.mountTemplate(function(){return r._slots[e]},r._component,i,e,o),l=s.$el;if(dom_adapter_1$1.default.setClass(l,constants_1$3.DX_TEMPLATE_WRAPPER_CLASS,!0),l.nodeType===Node.TEXT_NODE){var u=document.createElement(a.nodeName==="TABLE"?"tbody":"span");u.style.display="none",a.appendChild(u),events_1$3.one(u,constants_1$3.DX_REMOVE_EVENT,s.$destroy.bind(s))}else events_1$3.one(l,constants_1$3.DX_REMOVE_EVENT,s.$destroy.bind(s));return l}}},t}();templatesManager$1.TemplatesManager=TemplatesManager$1;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign$5=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$5=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign$5.apply(this,arguments)},__createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$4(e,t,r);return __setModuleDefault$4(e,t),e};Object.defineProperty(component$1,"__esModule",{value:!0});component$1.BaseComponent=component$1.DxComponent=void 0;var VueType$2=__importStar$4(require$$0$2),events_1$2=require$$2,children_processing_1$1=childrenProcessing$1,configuration_1$2=__importStar$4(configuration$1),configuration_component_1$3=configurationComponent$1,constants_1$2=constants$1,helpers_1$3=helpers$1,templates_manager_1$1=templatesManager$1,Vue$2=VueType$2.default||VueType$2,BaseComponent=function(){return Vue$2.extend({inheritAttrs:!1,data:function(){return{eventBus:new Vue$2}},provide:function(){return{eventBus:this.eventBus}},render:function(t){var e=[];return this.$_config.cleanNested&&this.$_config.cleanNested(),children_processing_1$1.pullAllChildren(this.$slots.default,e,this.$_config),this.$_processChildren(e),t("div",{attrs:{id:this.$attrs.id}},e)},beforeUpdate:function(){this.$_config.setPrevNestedOptions(this.$_config.getNestedOptionValues())},updated:function(){var t,e;if(this.$children.forEach(function(u){return configuration_component_1$3.initOptionChangedFunc(configuration_component_1$3.getConfig(u),u,configuration_component_1$3.getInnerChanges(u))}),this.$_templatesManager.discover(),this.$_instance.beginUpdate(),this.$_templatesManager.isDirty){this.$_instance.option("integrationOptions.templates",this.$_templatesManager.templates);for(var r=(e=(t=this.$vnode)===null||t===void 0?void 0:t.componentOptions)===null||e===void 0?void 0:e.propsData,n=0,i=Object.keys(this.$_templatesManager.templates);n<i.length;n++){var a=i[n];this.$_instance.option(helpers_1$3.getTemplatePropName(r,a),a)}this.$_templatesManager.resetDirtyFlag()}for(var o=0,s=Object.keys(this.$_pendingOptions);o<s.length;o++){var l=s[o];this.$_instance.option(l,this.$_pendingOptions[l])}this.$_pendingOptions={},this.$_applyConfigurationChanges(),this.$_instance.endUpdate(),this.eventBus.$emit("updated")},beforeDestroy:function(){var t=this.$_instance;t&&(events_1$2.triggerHandler(this.$el,constants_1$2.DX_REMOVE_EVENT),t.dispose())},created:function(){var t=this;this.$_config=new configuration_1$2.default(function(e,r){return t.$_pendingOptions[e]=r},null,this.$options.propsData&&__assign$5({},this.$options.propsData),this.$_expectedChildren),this.$_innerChanges={},this.$_config.init(this.$props&&Object.keys(this.$props))},methods:{$_applyConfigurationChanges:function(){var t=this;this.$_config.componentsCountChanged.forEach(function(e){var r=e.optionPath,n=e.isCollection,i=e.removed,a=t.$_config.getNestedOptionValues();!n&&i?t.$_instance.resetOption(r):t.$_instance.option(r,helpers_1$3.getOptionValue(a,r))}),this.$_config.cleanComponentsCountChanged()},$_createWidget:function(t){var e=this;e.$_pendingOptions={},e.$_templatesManager=new templates_manager_1$1.TemplatesManager(this);var r=this.$_config,n=__assign$5(__assign$5(__assign$5(__assign$5({},this.$options.propsData),r.initialValues),r.getNestedOptionValues()),this.$_getIntegrationOptions()),i=new this.$_WidgetClass(t,n);e.$_instance=i,i.on("optionChanged",function(a){return r.onOptionChanged(a)}),configuration_1$2.setEmitOptionChangedFunc(r,this,this.$_innerChanges),configuration_1$2.bindOptionWatchers(r,this,this.$_innerChanges),this.$_createEmitters(i)},$_getIntegrationOptions:function(){var t,e,r=__assign$5({integrationOptions:{watchMethod:this.$_getWatchMethod()}},this.$_getExtraIntegrationOptions());if(this.$_templatesManager.isDirty){var n=this.$_templatesManager.templates;r.integrationOptions.templates=n;for(var i=(e=(t=this.$vnode)===null||t===void 0?void 0:t.componentOptions)===null||e===void 0?void 0:e.propsData,a=0,o=Object.keys(n);a<o.length;a++){var s=o[a];r[helpers_1$3.getTemplatePropName(i,s)]=s}this.$_templatesManager.resetDirtyFlag()}return r},$_getWatchMethod:function(){var t=this;return function(e,r,n){return n=n||{},n.skipImmediate||r(e()),t.$watch(function(){return e()},function(i,a){(helpers_1$3.toComparable(a)!==helpers_1$3.toComparable(i)||n.deep)&&r(i)},{deep:n.deep})}},$_getExtraIntegrationOptions:function(){return{}},$_processChildren:function(t){},$_createEmitters:function(t){var e=this;Object.keys(this.$listeners).forEach(function(r){var n=helpers_1$3.camelize(r);t.on(n,function(i){e.$emit(r,i)})})}}})};component$1.BaseComponent=BaseComponent;function cleanWidgetNode$1(t){var e=[];return helpers_1$3.forEachChildNode(t,function(r){var n=r.parentNode,i=r.hasAttribute&&r.hasAttribute("isExtension");(r.nodeName==="#comment"||i)&&n&&(e.push(r),n.removeChild(r))}),e}function restoreNodes$1(t,e){e.forEach(function(r){t.appendChild(r)})}var DxComponent=function(){return BaseComponent().extend({methods:{$_getExtraIntegrationOptions:function(){return{onInitializing:function(){this.beginUpdate()}}},$_processChildren:function(t){t.forEach(function(e){!e.componentOptions||(e.componentOptions.$_hasOwner=!0)})}},mounted:function(){var t=this,e=cleanWidgetNode$1(this.$el);this.$_createWidget(this.$el),this.$_instance.endUpdate(),restoreNodes$1(this.$el,e),this.$slots&&this.$slots.default&&this.$slots.default.forEach(function(r){var n=r.componentInstance;n&&n.$_isExtension&&n.attachTo(t.$el)})}})};component$1.DxComponent=DxComponent;var extensionComponent$1={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(extensionComponent$1,"__esModule",{value:!0});extensionComponent$1.DxExtensionComponent=void 0;var component_1$3=component$1,DxExtensionComponent=function(){return component_1$3.BaseComponent().extend({created:function(){this.$_isExtension=!0},mounted:function(){this.$el.setAttribute("isExtension","true"),!(this.$vnode&&this.$vnode.componentOptions.$_hasOwner)&&this.attachTo(this.$el)},methods:{attachTo:function(t){this.$_createWidget(t)}}})};extensionComponent$1.DxExtensionComponent=DxExtensionComponent;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$3(e,t,r);return __setModuleDefault$3(e,t),e};Object.defineProperty(vue2,"__esModule",{value:!0});vue2.createExtensionComponent=vue2.createConfigurationComponent=vue2.createComponent=void 0;var VueType$1=__importStar$3(require$$0$2),Vue$1=VueType$1.default||VueType$1,component_1$2=component$1,configuration_component_1$2=configurationComponent$1,extension_component_1$1=extensionComponent$1;function createComponent$1(t){return t.extends=component_1$2.DxComponent(),Vue$1.extend(t)}vue2.createComponent=createComponent$1;function createConfigurationComponent$1(t){return t.extends=configuration_component_1$2.DxConfiguration(),Vue$1.extend(t)}vue2.createConfigurationComponent=createConfigurationComponent$1;function createExtensionComponent$1(t){return t.extends=extension_component_1$1.DxExtensionComponent(),Vue$1.extend(t)}vue2.createExtensionComponent=createExtensionComponent$1;var vue3={},component={},require$$1=getAugmentedNamespace(callbacks$3),vueHelper={},helpers={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(helpers,"__esModule",{value:!0});helpers.getOptionInfo=helpers.getOptionValue=helpers.allKeysAreEqual=helpers.forEachChildNode=helpers.isEqual=helpers.toComparable=helpers.camelize=helpers.lowercaseFirst=helpers.uppercaseFirst=helpers.getTemplatePropName=void 0;function getTemplatePropName(t,e){for(var r in t)if(t[r]===e)return r;return e}helpers.getTemplatePropName=getTemplatePropName;function uppercaseFirst(t){return t[0].toUpperCase()+t.substr(1)}helpers.uppercaseFirst=uppercaseFirst;function lowercaseFirst(t){return t[0].toLowerCase()+t.substr(1)}helpers.lowercaseFirst=lowercaseFirst;function camelize(t){return lowercaseFirst(t.split("-").map(function(e){return uppercaseFirst(e)}).join(""))}helpers.camelize=camelize;function toComparable(t){return t instanceof Date?t.getTime():t}helpers.toComparable=toComparable;function isEqual(t,e){return toComparable(t)===toComparable(e)?!0:Array.isArray(t)&&Array.isArray(e)?t.length===0&&e.length===0:!1}helpers.isEqual=isEqual;function forEachChildNode(t,e){Array.prototype.slice.call(t.childNodes).forEach(e)}helpers.forEachChildNode=forEachChildNode;function allKeysAreEqual(t,e){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(var n=0,i=r;n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a))return!1}return!0}helpers.allKeysAreEqual=allKeysAreEqual;function getOptionValue(t,e){var r=t;return e.split(".").forEach(function(n){var i=getOptionInfo(n);r&&(r=i.isCollection?r[i.name]&&r[i.name][i.index]:r[i.name])}),r}helpers.getOptionValue=getOptionValue;function getOptionInfo(t){var e=t.split("[");return e.length===1?{isCollection:!1,name:t,fullName:t}:{isCollection:!0,name:e[0],fullName:t,index:Number(e[1].slice(0,-1))}}helpers.getOptionInfo=getOptionInfo;var childrenProcessing={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign$4=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$4=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign$4.apply(this,arguments)};Object.defineProperty(childrenProcessing,"__esModule",{value:!0});childrenProcessing.pullAllChildren=childrenProcessing.pullConfigComponents=childrenProcessing.isFragment=void 0;var vue_helper_1$6=vueHelper;function pullAllChildren(t,e,r){!t||t.length===0||pullConfigComponents(t,e,r)}childrenProcessing.pullAllChildren=pullAllChildren;function isFragment(t){var e=t.patchFlag;return e===128||e===256||e===64||e===-2}childrenProcessing.isFragment=isFragment;function pullConfigComponents(t,e,r){t.forEach(function(n){if(isFragment(n)&&Array.isArray(n.children)&&pullConfigComponents(n.children,e,r),isFragment(n)||e.push(n),!!n){var i=vue_helper_1$6.getComponentInfo(n);if(!(!i||!i.$_optionName)){var a=vue_helper_1$6.configurationChildren(n),o=__assign$4(__assign$4({},i.$_predefinedProps),vue_helper_1$6.getNormalizedProps(n.props||{})),s=r.createNested(i.$_optionName,o,i.$_isCollectionItem,i.$_expectedChildren);n.$_config=s,n.$_innerChanges={},a&&pullConfigComponents(a,e,s)}}})}childrenProcessing.pullConfigComponents=pullConfigComponents;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */(function(t){var e=commonjsGlobal&&commonjsGlobal.__assign||function(){return e=Object.assign||function(v){for(var c,O=1,H=arguments.length;O<H;O++){c=arguments[O];for(var N in c)Object.prototype.hasOwnProperty.call(c,N)&&(v[N]=c[N])}return v},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigurationOptions=t.setVModel=t.setCompatOptions=t.getVModelValue=t.getNodeTypeOfComponent=t.getNodeOptions=t.usedConfigurationProps=t.getComponentProps=t.mount=t.defaultSlots=t.declaredTemplates=t.configurationTemplate=t.configurationDefaultTemplate=t.configurationChildren=t.getNormalizedProps=t.getComponentInfo=t.getChildren=t.VMODEL_NAME=void 0;var r=require$$0$2,n=helpers,i=childrenProcessing;t.VMODEL_NAME="modelValue";function a(v){if(!d(v)||!v.$_config)return[];var c=v.$.subTree&&v.$.subTree.children;return Array.isArray(c)?c.filter(function(O){if(!i.isFragment(O))return O}):[]}t.getChildren=a;function o(v){return f(v)}t.getComponentInfo=o;function s(v){var c={};for(var O in v)v.hasOwnProperty(O)&&(c[n.camelize(O)]=v[O]);return c}t.getNormalizedProps=s;function l(v){return!v.children||!v.children.default?[]:P(v.children.default())}t.configurationChildren=l;function u(v){if(!(!v.children||v.children==="object"||!v.children.default))return T(v.children.default())?v.children.default:void 0}t.configurationDefaultTemplate=u;function m(v){return u(v)}t.configurationTemplate=m;function b(v){return v.$slots}t.declaredTemplates=b;function _(v){var c=b(v);return c.default?c.default():[]}t.defaultSlots=_;function I(v,c,O){var H=r.createApp(v);return H.provide("eventBus",c.eventBus),D(H,c),H.mount(O)}t.mount=I;function j(v){var c=v.$.vnode.props||{};return s(c)}t.getComponentProps=j;function L(v){return v.props}t.usedConfigurationProps=L;function z(v){return v.$?v.$.vnode:v}t.getNodeOptions=z;function M(v){return v.$.vnode.type}t.getNodeTypeOfComponent=M;function R(v){return v[t.VMODEL_NAME]}t.getVModelValue=R;function w(v){v.compatConfig={MODE:3}}t.setCompatOptions=w;function k(v){var c,O="update:"+t.VMODEL_NAME;v.model.prop=t.VMODEL_NAME,v.model.event=O,v.props.modelValue={},v.emits=e(e({},v.emits),(c={},c[""+O]=null,c))}t.setVModel=k;function A(v,c){for(var O in c)!v.hasOwnProperty(O)&&c.hasOwnProperty(O)&&(v[O]=c[O])}function D(v,c){v._context.components=Object.assign(c.$.appContext.components,v._context.components),Object.setPrototypeOf(v._context.provides,Object.getPrototypeOf(c.$.provides)),Object.assign(v._context.provides,c.$.appContext.provides),v._context.config=c.$.appContext.config,v._context.directives=c.$.appContext.directives,v._context.mixins=c.$.appContext.mixins,A(v._context.app,c.$.appContext.app)}function P(v){return v.filter(function(c){if(i.isFragment(c))return P(c.children||[]);var O=c.type;if(O&&typeof O=="object"&&O.$_optionName)return delete c.$_config,delete c.$_innerChanges,c})}function T(v){var c=!1;return v.forEach(function(O){!g(O)&&!i.isFragment(O)&&!x(O)&&(c=!0)}),c}function x(v){var c=v.type,O=typeof c=="symbol"?c.toString():c;return O==="Symbol(Comment)"||O==="Symbol()"&&!v.children}function g(v){return v.type&&typeof v.type=="object"&&v.type.$_optionName}function f(v){return v.type}t.getConfigurationOptions=f;function d(v){return v.$.vnode&&v.$.vnode.children&&v.$.vnode.children.default}})(vueHelper);var configuration={},config$1={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign$3=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$3=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign$3.apply(this,arguments)};Object.defineProperty(config$1,"__esModule",{value:!0});config$1.getOption=void 0;var config={deepWatch:!1};function setOptions(t){config=__assign$3(__assign$3({},config),t)}function getOption(t){return config[t]}config$1.getOption=getOption;config$1.default=setOptions;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign$2=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$2=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign$2.apply(this,arguments)};Object.defineProperty(configuration,"__esModule",{value:!0});configuration.setEmitOptionChangedFunc=configuration.bindOptionWatchers=void 0;var vue_1$5=require$$0$2,config_1=config$1,helpers_1$2=helpers,vue_helper_1$5=vueHelper,Configuration=function(){function t(e,r,n,i,a,o,s){this._updateFunc=e,this._name=r,this._initialValues=n||{},this._nestedConfigurations=[],this._isCollectionItem=!!a,this._collectionItemIndex=o,this._expectedChildren=i||{},this._ownerConfig=s,this._componentChanges=[],this.updateValue=this.updateValue.bind(this)}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullName",{get:function(){return this._name&&this._isCollectionItem?this._name+"["+this._collectionItemIndex+"]":this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentsCountChanged",{get:function(){return this._componentChanges},enumerable:!1,configurable:!0}),t.prototype.cleanComponentsCountChanged=function(){this._componentChanges=[]},Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._ownerConfig&&this._ownerConfig.fullPath?this._ownerConfig.fullPath+"."+this.fullName:this.fullName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownerConfig",{get:function(){return this._ownerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initialValues",{get:function(){return this._initialValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expectedChildren",{get:function(){return this._expectedChildren},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nested",{get:function(){return this._nestedConfigurations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prevNestedOptions",{get:function(){return this._prevNestedConfigOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collectionItemIndex",{get:function(){return this._collectionItemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollectionItem",{get:function(){return this._isCollectionItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFunc",{get:function(){return this._updateFunc},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this._options=e||[]},Object.defineProperty(t.prototype,"emitOptionChanged",{set:function(e){this._emitOptionChanged=e},enumerable:!1,configurable:!0}),t.prototype.setPrevNestedOptions=function(e){this._prevNestedConfigOptions=e},t.prototype.onOptionChanged=function(e){helpers_1$2.isEqual(e.value,e.previousValue)||this._onOptionChanged(e.fullName.split("."),e)},t.prototype.cleanNested=function(){this._nestedConfigurations=[]},t.prototype.createNested=function(e,r,n,i){var a=this._expectedChildren[e],o=e,s=n;a&&(s=a.isCollectionItem,a.optionName&&(o=a.optionName));var l=-1;s&&o&&(l=this._nestedConfigurations.filter(function(m){return m._name&&m._name===o}).length);var u=new t(this._updateFunc,o,r,i,s,l,this);return this._nestedConfigurations.push(u),u},t.prototype.updateValue=function(e,r){var n=[this.fullPath,e].filter(function(i){return i}).join(".");this._updateFunc(n,r)},t.prototype.getNestedOptionValues=function(){var e={};return this._nestedConfigurations.forEach(function(r){if(!!r._name){var n=__assign$2(__assign$2({},r.initialValues),r.getNestedOptionValues());if(!!n)if(!r._isCollectionItem)e[r._name]=n;else{var i=e[r._name];(!i||!Array.isArray(i))&&(i=[],e[r._name]=i),i.push(n)}}}),e},t.prototype.getOptionsToWatch=function(){var e={};return this._nestedConfigurations.forEach(function(r){return r._name&&(e[r._name]=!0)}),this._options.filter(function(r){return!e[r]})},t.prototype._onOptionChanged=function(e,r){if(e.length!==0){var n=helpers_1$2.getOptionInfo(e[0]);if(n.isCollection||e.length>1){var i=this._getNestedConfig(n.fullName);if(i){i._onOptionChanged(e.slice(1),r);return}this._tryEmitOptionChanged(n.name,r.component.option(this.fullPath?this.fullPath+"."+n.name:n.name))}else this._tryEmitOptionChanged(n.name,r.value)}},t.prototype._getNestedConfig=function(e){for(var r=0,n=this._nestedConfigurations;r<n.length;r++){var i=n[r];if(i.fullName===e)return i}},t.prototype._tryEmitOptionChanged=function(e,r){this._emitOptionChanged&&this._emitOptionChanged(e,r)},t}();function bindOptionWatchers(t,e,r){var n=t&&t.getOptionsToWatch();n&&n.forEach(function(i){e.$watch(i,function(a){var o=vue_1$5.toRaw(a);(!r.hasOwnProperty(i)||r[i]!==o)&&t.updateValue(i,a),delete r[i]},{deep:config_1.getOption("deepWatch")})})}configuration.bindOptionWatchers=bindOptionWatchers;function hasProp(t,e){var r=t.$options.props;return r&&r.hasOwnProperty(e)}function hasVModelValue(t,e,r){var n;return t.model&&e.hasOwnProperty(vue_helper_1$5.VMODEL_NAME)&&((n=r==null?void 0:r.props)===null||n===void 0?void 0:n.hasOwnProperty(vue_helper_1$5.VMODEL_NAME))}function setEmitOptionChangedFunc(t,e,r){t.emitOptionChanged=function(n,i){var a,o=e.$props,s=(a=e==null?void 0:e.$)===null||a===void 0?void 0:a.vnode;if(hasProp(e,n)&&!helpers_1$2.isEqual(i,o[n])&&e.$emit){r[n]=vue_1$5.toRaw(i);var l=n==="value"&&hasVModelValue(e.$options,o,s)?"update:"+vue_helper_1$5.VMODEL_NAME:"update:"+n;e.$emit(l,i)}}}configuration.setEmitOptionChangedFunc=setEmitOptionChangedFunc;configuration.default=Configuration;var configurationComponent={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(configurationComponent,"__esModule",{value:!0});configurationComponent.getInnerChanges=configurationComponent.getConfig=configurationComponent.initOptionChangedFunc=configurationComponent.initDxConfiguration=void 0;var vue_1$4=require$$0$2,vue_helper_1$4=vueHelper,configuration_1$1=configuration;function getConfig(t){var e=vue_helper_1$4.getNodeOptions(t);if(!!e)return e.$_config||t.$_config}configurationComponent.getConfig=getConfig;function getInnerChanges(t){var e=vue_helper_1$4.getNodeOptions(t);if(!!e)return e.$_innerChanges||t.$_innerChanges}configurationComponent.getInnerChanges=getInnerChanges;function initOptionChangedFunc(t,e,r,n){!t||(t.init(Object.keys(e)),r&&configuration_1$1.setEmitOptionChangedFunc(t,r,n))}configurationComponent.initOptionChangedFunc=initOptionChangedFunc;function getComponentInfo(t,e){var r=t.name,n=t.isCollectionItem,i=t.ownerConfig,a=i&&i.fullPath,o=r&&a?a+"."+r:r||"";return{optionPath:o,isCollection:n,removed:e}}function initDxConfiguration(){return vue_1$4.defineComponent({beforeMount:function(){var t=this,e=getConfig(t),r=getInnerChanges(t);initOptionChangedFunc(e,vue_helper_1$4.getNodeTypeOfComponent(t).props,t,r),configuration_1$1.bindOptionWatchers(e,this,r)},mounted:function(){this.$parent.$_instance&&this.$parent.$_config.componentsCountChanged.push(getComponentInfo(getConfig(this)))},beforeUnmount:function(){var t=getConfig(this);t&&this.$parent.$_config.componentsCountChanged.push(getComponentInfo(t,!0))},render:function(){return null}})}configurationComponent.initDxConfiguration=initDxConfiguration;var constants={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(constants,"__esModule",{value:!0});constants.DX_REMOVE_EVENT=constants.DX_TEMPLATE_WRAPPER_CLASS=void 0;var DX_TEMPLATE_WRAPPER_CLASS="dx-template-wrapper";constants.DX_TEMPLATE_WRAPPER_CLASS=DX_TEMPLATE_WRAPPER_CLASS;var DX_REMOVE_EVENT="dxremove";constants.DX_REMOVE_EVENT=DX_REMOVE_EVENT;var templatesManager={},templatesDiscovering={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(templatesDiscovering,"__esModule",{value:!0});templatesDiscovering.discover=templatesDiscovering.mountTemplate=void 0;var vue_helper_1$3=vueHelper,vue_1$3=require$$0$2,TEMPLATE_PROP="template";function asConfigurable(t){var e=t;if(!!e&&!(!e.$_config||!e.$_config.name))return e}function hasTemplate(t){return TEMPLATE_PROP in t.type.props&&vue_helper_1$3.configurationTemplate(t)}function discover(t){var e={},r=vue_helper_1$3.declaredTemplates(t);for(var n in r)if(!(n==="default"&&t.$slots.default)){var i=r[n];!i||(e[n]=i)}for(var a=vue_helper_1$3.getChildren(t),o=0,s=a;o<s.length;o++){var l=s[o],u=asConfigurable(l);if(!!u){var m=vue_helper_1$3.configurationDefaultTemplate(l);if(!(!m||!hasTemplate(l))){var b=u.$_config.fullPath+"."+TEMPLATE_PROP;e[b]=m}}}return e}templatesDiscovering.discover=discover;function clearConfiguration(t){var e=[];return t.forEach(function(r){var n=vue_helper_1$3.getConfigurationOptions(r);(!n||!n.$_optionName)&&e.push(r)}),e}function mountTemplate(t,e,r,n,i){return vue_helper_1$3.mount({name:n,inject:["eventBus"],created:function(){this.eventBus.add(this.$_updatedHandler)},mounted:function(){r.onRendered()},unmounted:function(){this.eventBus.remove(this.$_updatedHandler)},methods:{$_updatedHandler:function(){this.$forceUpdate()}},render:function(){var a=clearConfiguration(t()(r));return a?a.length>1?a:a[0]:vue_1$3.h("div")}},e,i)}templatesDiscovering.mountTemplate=mountTemplate;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign$1.apply(this,arguments)},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(templatesManager,"__esModule",{value:!0});templatesManager.TemplatesManager=void 0;var templates_discovering_1=templatesDiscovering,dom_adapter_1=__importDefault$4(require$$1$1),events_1$1=require$$2,constants_1$1=constants,helpers_1$1=helpers,TemplatesManager=function(){function t(e){this._slots={},this._templates={},this._isDirty=!1,this._component=e,this.discover()}return t.prototype.discover=function(){var e=templates_discovering_1.discover(this._component);this._slots=__assign$1(__assign$1({},this._slots),e),helpers_1$1.allKeysAreEqual(this._templates,e)||this._prepareTemplates()},Object.defineProperty(t.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),t.prototype.resetDirtyFlag=function(){this._isDirty=!1},t.prototype._prepareTemplates=function(){this._templates={};for(var e=0,r=Object.keys(this._slots);e<r.length;e++){var n=r[e];this._templates[n]=this.createDxTemplate(n)}this._isDirty=!0},t.prototype.createDxTemplate=function(e){var r=this;return{render:function(n){var i=function(b,_){return _===void 0&&(_=0),function(){_===1&&b&&b(),_++}}(n.onRendered),a={data:n.model,index:n.index,onRendered:i},o=document.createElement("div"),s=n.container.get?n.container.get(0):n.container;s.appendChild(o);var l=templates_discovering_1.mountTemplate(function(){return r._slots[e]},r._component,a,e,o),u=l.$el;for(s.removeChild(o);o.firstChild;)s.appendChild(o.firstChild);if(dom_adapter_1.default.setClass(u,constants_1$1.DX_TEMPLATE_WRAPPER_CLASS,!0),u.nodeType===Node.TEXT_NODE){var m=document.createElement(s.nodeName==="TABLE"?"tbody":"span");m.style.display="none",s.appendChild(m),events_1$1.one(m,constants_1$1.DX_REMOVE_EVENT,l.$.appContext.app.unmount.bind(l))}else events_1$1.one(u,constants_1$1.DX_REMOVE_EVENT,l.$.appContext.app.unmount.bind(l));return i(),u}}},t}();templatesManager.TemplatesManager=TemplatesManager;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign.apply(this,arguments)},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$2(e,t,r);return __setModuleDefault$2(e,t),e},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(component,"__esModule",{value:!0});component.initBaseComponent=component.initDxComponent=void 0;var vue_1$2=require$$0$2,callbacks_1=__importDefault$3(require$$1),events_1=require$$2,vue_helper_1$2=vueHelper,children_processing_1=childrenProcessing,configuration_1=__importStar$2(configuration),configuration_component_1$1=configurationComponent,constants_1=constants,helpers_1=helpers,templates_manager_1=templatesManager,includeAttrs=["id","class","style"];function getAttrs(t){var e={};return includeAttrs.forEach(function(r){var n=t[r];n&&(e[r]=n)}),e}function initBaseComponent(){return vue_1$2.defineComponent({inheritAttrs:!1,data:function(){return{eventBus:callbacks_1.default()}},provide:function(){return{eventBus:this.eventBus}},render:function(){var t=this,e=[];return t.$_config.cleanNested&&t.$_config.cleanNested(),children_processing_1.pullAllChildren(vue_helper_1$2.defaultSlots(this),e,t.$_config),this.$_processChildren(e),vue_1$2.h("div",__assign({},getAttrs(this.$attrs)),e)},beforeUpdate:function(){var t=this;t.$_config.setPrevNestedOptions(t.$_config.getNestedOptionValues())},updated:function(){var t=this,e=cleanWidgetNode(this.$el);if(vue_helper_1$2.getChildren(t).forEach(function(u){var m;configuration_component_1$1.initOptionChangedFunc(u.$_config,u.type.props||{},(m=u==null?void 0:u.component)===null||m===void 0?void 0:m.proxy,u.$_innerChanges)}),t.$_templatesManager.discover(),t.$_instance.beginUpdate(),t.$_templatesManager.isDirty){t.$_instance.option("integrationOptions.templates",t.$_templatesManager.templates);for(var r=t.$.vnode.props,n=0,i=Object.keys(t.$_templatesManager.templates);n<i.length;n++){var a=i[n];t.$_instance.option(helpers_1.getTemplatePropName(r,a),a)}t.$_templatesManager.resetDirtyFlag()}for(var o=0,s=Object.keys(t.$_pendingOptions);o<s.length;o++){var l=s[o];t.$_instance.option(l,t.$_pendingOptions[l])}t.$_pendingOptions={},this.$_applyConfigurationChanges(),t.$_instance.endUpdate(),restoreNodes(this.$el,e),this.eventBus.fire()},beforeUnmount:function(){var t=this,e=t.$_instance;e&&(events_1.triggerHandler(this.$el,constants_1.DX_REMOVE_EVENT),e.dispose())},created:function(){var t=this,e=vue_helper_1$2.getComponentProps(this);t.$_config=new configuration_1.default(function(r,n){Array.isArray(n)?t.$_instance.option(r,n):t.$_pendingOptions[r===vue_helper_1$2.VMODEL_NAME?"value":r]=n},null,e&&__assign({},e),t.$_expectedChildren),t.$_innerChanges={},t.$_config.init(this.$props&&Object.keys(this.$props))},methods:{$_applyConfigurationChanges:function(){var t=this;t.$_config.componentsCountChanged.forEach(function(e){var r=e.optionPath,n=e.isCollection,i=e.removed,a=t.$_config.getNestedOptionValues();!n&&i?t.$_instance.resetOption(r):t.$_instance.option(r,helpers_1.getOptionValue(a,r))}),t.$_config.cleanComponentsCountChanged()},$_createWidget:function(t){var e=this;e.$_pendingOptions={},e.$_templatesManager=new templates_manager_1.TemplatesManager(this);var r=e.$_config;r.initialValues.hasOwnProperty(vue_helper_1$2.VMODEL_NAME)&&(r.initialValues.value=vue_helper_1$2.getVModelValue(r.initialValues));var n=__assign(__assign(__assign(__assign({templatesRenderAsynchronously:e.$_hasAsyncTemplate},vue_helper_1$2.getComponentProps(e)),r.initialValues),r.getNestedOptionValues()),this.$_getIntegrationOptions()),i=new e.$_WidgetClass(t,n);e.$_instance=i,i.on("optionChanged",function(a){return r.onOptionChanged(a)}),configuration_1.setEmitOptionChangedFunc(r,e,e.$_innerChanges),configuration_1.bindOptionWatchers(r,e,e.$_innerChanges),this.$_createEmitters(i)},$_getIntegrationOptions:function(){var t=this,e=__assign({integrationOptions:{watchMethod:this.$_getWatchMethod()}},this.$_getExtraIntegrationOptions());if(t.$_templatesManager.isDirty){var r=t.$_templatesManager.templates;e.integrationOptions.templates=r;for(var n=t.$.vnode.props,i=0,a=Object.keys(r);i<a.length;i++){var o=a[i];e[helpers_1.getTemplatePropName(n,o)]=o}t.$_templatesManager.resetDirtyFlag()}return e},$_getWatchMethod:function(){var t=this;return function(e,r,n){return n=n||{},n.skipImmediate||r(e()),t.$watch(function(){return e()},function(i,a){(helpers_1.toComparable(a)!==helpers_1.toComparable(i)||n.deep)&&r(i)},{deep:n.deep})}},$_getExtraIntegrationOptions:function(){return{}},$_processChildren:function(t){},$_createEmitters:function(t){var e=this;this.$attrs&&Object.keys(this.$attrs).forEach(function(r){var n=helpers_1.camelize(r);t.on(n,function(i){e.$emit(r,i)})})}}})}component.initBaseComponent=initBaseComponent;function cleanWidgetNode(t){var e=[];return helpers_1.forEachChildNode(t,function(r){var n=r.parentNode,i=r.hasAttribute&&r.hasAttribute("isExtension");(r.nodeName==="#comment"||i)&&n&&(e.push(r),n.removeChild(r))}),e}function restoreNodes(t,e){e.forEach(function(r){t.appendChild(r)})}function initDxComponent(){return vue_1$2.defineComponent({extends:initBaseComponent(),methods:{$_getExtraIntegrationOptions:function(){return{onInitializing:function(){this.beginUpdate()}}},$_processChildren:function(t){t.forEach(function(e){!e||typeof e!="object"||(e.$_hasOwner=!0)})}},mounted:function(){var t=this,e=cleanWidgetNode(this.$el),r=this;this.$_createWidget(this.$el),r.$_instance.endUpdate(),restoreNodes(this.$el,e),this.$slots&&this.$slots.default&&vue_helper_1$2.getChildren(r).forEach(function(n){var i=n;i&&i.$_isExtension&&i.$_attachTo(t.$el)})}})}component.initDxComponent=initDxComponent;var extensionComponent={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(extensionComponent,"__esModule",{value:!0});extensionComponent.initDxExtensionComponent=void 0;var vue_1$1=require$$0$2,component_1$1=component,vue_helper_1$1=vueHelper;function initDxExtensionComponent(){return vue_1$1.defineComponent({extends:component_1$1.initBaseComponent(),mounted:function(){this.$el.setAttribute("isExtension","true");var t=vue_helper_1$1.getNodeOptions(this);t.$_isExtension=!0,t.$_attachTo=this.attachTo.bind(this),!(t&&t.$_hasOwner)&&this.attachTo(this.$el)},methods:{attachTo:function(t){this.$_createWidget(t)}}})}extensionComponent.initDxExtensionComponent=initDxExtensionComponent;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(vue3,"__esModule",{value:!0});vue3.createExtensionComponent=vue3.createConfigurationComponent=vue3.createComponent=void 0;var vue_1=require$$0$2,component_1=component,configuration_component_1=configurationComponent,extension_component_1=extensionComponent,vue_helper_1=vueHelper;function createComponent(t){return t.extends=component_1.initDxComponent(),vue_helper_1.setCompatOptions(t),t.model&&vue_helper_1.setVModel(t),vue_1.defineComponent(t)}vue3.createComponent=createComponent;function createConfigurationComponent(t){return t.extends=configuration_component_1.initDxConfiguration(),vue_helper_1.setCompatOptions(t),vue_1.defineComponent(t)}vue3.createConfigurationComponent=createConfigurationComponent;function createExtensionComponent(t){return t.extends=extension_component_1.initDxExtensionComponent(),vue_helper_1.setCompatOptions(t),vue_1.defineComponent(t)}vue3.createExtensionComponent=createExtensionComponent;var version={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$1(e,t,r);return __setModuleDefault$1(e,t),e};Object.defineProperty(version,"__esModule",{value:!0});version.isVue3=version.getVueVersion=void 0;var VueType=__importStar$1(require$$0$2),Vue=VueType.default||VueType;function getVueVersion(){var t=Vue.version;return Number(t.split(".")[0])}version.getVueVersion=getVueVersion;function isVue3(){return getVueVersion()===3}version.isVue3=isVue3;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding(e,t,r);return __setModuleDefault(e,t),e};Object.defineProperty(core,"__esModule",{value:!0});core.createExtensionComponent=core.createConfigurationComponent=core.createComponent=void 0;var vue2Stategy=__importStar(vue2),vue3Stategy=__importStar(vue3),version_1=version,strategy=version_1.isVue3()?vue3Stategy:vue2Stategy;core.createComponent=strategy.createComponent;core.createConfigurationComponent=strategy.createConfigurationComponent;core.createExtensionComponent=strategy.createExtensionComponent;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fileManager,"__esModule",{value:!0});fileManager.DxUpload=fileManager.DxToolbarItem=fileManager.DxToolbar=DxPermissions_1=fileManager.DxPermissions=fileManager.DxNotifications=fileManager.DxItemView=fileManager.DxItem=fileManager.DxFileSelectionItem=fileManager.DxDetails=fileManager.DxContextMenuItem=fileManager.DxContextMenu=fileManager.DxColumn=DxFileManager_1=fileManager.DxFileManager=void 0;var file_manager_1=__importDefault$2(require$$0$3),index_1$2=core,index_2$1=core,DxFileManager=index_1$2.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowedFileExtensions:Array,contextMenu:Object,currentPath:String,currentPathKeys:Array,customizeDetailColumns:Function,customizeThumbnail:Function,disabled:Boolean,elementAttr:Object,fileSystemProvider:{},focusedItemKey:String,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,itemView:Object,notifications:Object,onContentReady:Function,onContextMenuItemClick:Function,onContextMenuShowing:Function,onCurrentDirectoryChanged:Function,onDirectoryCreated:Function,onDirectoryCreating:Function,onDisposing:Function,onErrorOccurred:Function,onFileUploaded:Function,onFileUploading:Function,onFocusedItemChanged:Function,onInitialized:Function,onItemCopied:Function,onItemCopying:Function,onItemDeleted:Function,onItemDeleting:Function,onItemDownloading:Function,onItemMoved:Function,onItemMoving:Function,onItemRenamed:Function,onItemRenaming:Function,onOptionChanged:Function,onSelectedFileOpened:Function,onSelectionChanged:Function,onToolbarItemClick:Function,permissions:Object,rootFolderName:String,rtlEnabled:Boolean,selectedItemKeys:Array,selectionMode:String,tabIndex:Number,toolbar:Object,upload:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowedFileExtensions":null,"update:contextMenu":null,"update:currentPath":null,"update:currentPathKeys":null,"update:customizeDetailColumns":null,"update:customizeThumbnail":null,"update:disabled":null,"update:elementAttr":null,"update:fileSystemProvider":null,"update:focusedItemKey":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:itemView":null,"update:notifications":null,"update:onContentReady":null,"update:onContextMenuItemClick":null,"update:onContextMenuShowing":null,"update:onCurrentDirectoryChanged":null,"update:onDirectoryCreated":null,"update:onDirectoryCreating":null,"update:onDisposing":null,"update:onErrorOccurred":null,"update:onFileUploaded":null,"update:onFileUploading":null,"update:onFocusedItemChanged":null,"update:onInitialized":null,"update:onItemCopied":null,"update:onItemCopying":null,"update:onItemDeleted":null,"update:onItemDeleting":null,"update:onItemDownloading":null,"update:onItemMoved":null,"update:onItemMoving":null,"update:onItemRenamed":null,"update:onItemRenaming":null,"update:onOptionChanged":null,"update:onSelectedFileOpened":null,"update:onSelectionChanged":null,"update:onToolbarItemClick":null,"update:permissions":null,"update:rootFolderName":null,"update:rtlEnabled":null,"update:selectedItemKeys":null,"update:selectionMode":null,"update:tabIndex":null,"update:toolbar":null,"update:upload":null,"update:visible":null,"update:width":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=file_manager_1.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={contextMenu:{isCollectionItem:!1,optionName:"contextMenu"},itemView:{isCollectionItem:!1,optionName:"itemView"},notifications:{isCollectionItem:!1,optionName:"notifications"},permissions:{isCollectionItem:!1,optionName:"permissions"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},upload:{isCollectionItem:!1,optionName:"upload"}}}}),DxFileManager_1=fileManager.DxFileManager=DxFileManager,DxColumn=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:caption":null,"update:cssClass":null,"update:dataField":null,"update:dataType":null,"update:hidingPriority":null,"update:sortIndex":null,"update:sortOrder":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,caption:String,cssClass:String,dataField:String,dataType:String,hidingPriority:Number,sortIndex:Number,sortOrder:String,visible:Boolean,visibleIndex:Number,width:[Number,String]}});fileManager.DxColumn=DxColumn;DxColumn.$_optionName="columns";DxColumn.$_isCollectionItem=!0;var DxContextMenu=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:items":null},props:{items:Array}});fileManager.DxContextMenu=DxContextMenu;DxContextMenu.$_optionName="contextMenu";DxContextMenu.$_expectedChildren={contextMenuItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};var DxContextMenuItem=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,html:String,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}});fileManager.DxContextMenuItem=DxContextMenuItem;DxContextMenuItem.$_optionName="items";DxContextMenuItem.$_isCollectionItem=!0;var DxDetails=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:columns":null},props:{columns:Array}});fileManager.DxDetails=DxDetails;DxDetails.$_optionName="details";DxDetails.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"}};var DxFileSelectionItem=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,icon:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});fileManager.DxFileSelectionItem=DxFileSelectionItem;DxFileSelectionItem.$_optionName="fileSelectionItems";DxFileSelectionItem.$_isCollectionItem=!0;var DxItem=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}});fileManager.DxItem=DxItem;DxItem.$_optionName="items";DxItem.$_isCollectionItem=!0;var DxItemView=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:details":null,"update:mode":null,"update:showFolders":null,"update:showParentFolder":null},props:{details:Object,mode:String,showFolders:Boolean,showParentFolder:Boolean}});fileManager.DxItemView=DxItemView;DxItemView.$_optionName="itemView";DxItemView.$_expectedChildren={details:{isCollectionItem:!1,optionName:"details"}};var DxNotifications=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:showPanel":null,"update:showPopup":null},props:{showPanel:Boolean,showPopup:Boolean}});fileManager.DxNotifications=DxNotifications;DxNotifications.$_optionName="notifications";var DxPermissions=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:copy":null,"update:create":null,"update:delete":null,"update:download":null,"update:move":null,"update:rename":null,"update:upload":null},props:{copy:Boolean,create:Boolean,delete:Boolean,download:Boolean,move:Boolean,rename:Boolean,upload:Boolean}}),DxPermissions_1=fileManager.DxPermissions=DxPermissions;DxPermissions.$_optionName="permissions";var DxToolbar=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:fileSelectionItems":null,"update:items":null},props:{fileSelectionItems:Array,items:Array}});fileManager.DxToolbar=DxToolbar;DxToolbar.$_optionName="toolbar";DxToolbar.$_expectedChildren={fileSelectionItem:{isCollectionItem:!0,optionName:"fileSelectionItems"},item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};var DxToolbarItem$1=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,icon:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});fileManager.DxToolbarItem=DxToolbarItem$1;DxToolbarItem$1.$_optionName="items";DxToolbarItem$1.$_isCollectionItem=!0;var DxUpload=index_2$1.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:chunkSize":null,"update:maxFileSize":null},props:{chunkSize:Number,maxFileSize:Number}});fileManager.DxUpload=DxUpload;DxUpload.$_optionName="upload";fileManager.default=DxFileManager;var popup={},require$$0$1=getAugmentedNamespace(popup$1);/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(popup,"__esModule",{value:!0});popup.DxToolbarItem=popup.DxTo=popup.DxShow=popup.DxPosition=popup.DxOffset=popup.DxMy=popup.DxHide=popup.DxFrom=popup.DxCollision=popup.DxBoundaryOffset=popup.DxAt=popup.DxAnimation=DxPopup_1=popup.DxPopup=void 0;var popup_1=__importDefault$1(require$$0$1),index_1$1=core,index_2=core,DxPopup=index_1$1.createComponent({props:{accessKey:String,animation:Object,closeOnOutsideClick:[Boolean,Function],container:{},contentTemplate:{},copyRootClassesToWrapper:Boolean,deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,elementAttr:{},focusStateEnabled:Boolean,fullScreen:Boolean,height:[Function,Number,String],hideOnOutsideClick:[Boolean,Function],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Function,Number,String],maxWidth:[Function,Number,String],minHeight:[Function,Number,String],minWidth:[Function,Number,String],onContentReady:Function,onDisposing:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,Object,String],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Function,Number,String],wrapperAttr:{}},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:animation":null,"update:closeOnOutsideClick":null,"update:container":null,"update:contentTemplate":null,"update:copyRootClassesToWrapper":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnOutsideClick":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=popup_1.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},position:{isCollectionItem:!1,optionName:"position"},toolbarItem:{isCollectionItem:!0,optionName:"toolbarItems"}}}}),DxPopup_1=popup.DxPopup=DxPopup,DxAnimation=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:hide":null,"update:show":null},props:{hide:[Object,Number,String],show:[Object,Number,String]}});popup.DxAnimation=DxAnimation;DxAnimation.$_optionName="animation";DxAnimation.$_expectedChildren={hide:{isCollectionItem:!1,optionName:"hide"},show:{isCollectionItem:!1,optionName:"show"}};var DxAt=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});popup.DxAt=DxAt;DxAt.$_optionName="at";var DxBoundaryOffset=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});popup.DxBoundaryOffset=DxBoundaryOffset;DxBoundaryOffset.$_optionName="boundaryOffset";var DxCollision=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});popup.DxCollision=DxCollision;DxCollision.$_optionName="collision";var DxFrom=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});popup.DxFrom=DxFrom;DxFrom.$_optionName="from";DxFrom.$_expectedChildren={position:{isCollectionItem:!1,optionName:"position"}};var DxHide=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});popup.DxHide=DxHide;DxHide.$_optionName="hide";DxHide.$_expectedChildren={from:{isCollectionItem:!1,optionName:"from"},to:{isCollectionItem:!1,optionName:"to"}};var DxMy=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});popup.DxMy=DxMy;DxMy.$_optionName="my";var DxOffset=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});popup.DxOffset=DxOffset;DxOffset.$_optionName="offset";var DxPosition=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:at":null,"update:boundary":null,"update:boundaryOffset":null,"update:collision":null,"update:my":null,"update:of":null,"update:offset":null},props:{at:[Object,String],boundary:{},boundaryOffset:[Object,String],collision:[Object,String],my:[Object,String],of:{},offset:[Object,String]}});popup.DxPosition=DxPosition;DxPosition.$_optionName="position";var DxShow=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});popup.DxShow=DxShow;DxShow.$_optionName="show";var DxTo=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});popup.DxTo=DxTo;DxTo.$_optionName="to";var DxToolbarItem=index_2.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:html":null,"update:location":null,"update:options":null,"update:template":null,"update:text":null,"update:toolbar":null,"update:visible":null,"update:widget":null},props:{disabled:Boolean,html:String,location:String,options:{},template:{},text:String,toolbar:String,visible:Boolean,widget:String}});popup.DxToolbarItem=DxToolbarItem;DxToolbarItem.$_optionName="toolbarItems";DxToolbarItem.$_isCollectionItem=!0;popup.default=DxPopup;var scrollView={},require$$0=getAugmentedNamespace(scroll_view);/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(scrollView,"__esModule",{value:!0});var DxScrollView_1=scrollView.DxScrollView=void 0,scroll_view_1=__importDefault(require$$0),index_1=core,DxScrollView=index_1.createComponent({props:{bounceEnabled:Boolean,direction:String,disabled:Boolean,elementAttr:Object,height:[Function,Number,String],onDisposing:Function,onInitialized:Function,onOptionChanged:Function,onPullDown:Function,onReachBottom:Function,onScroll:Function,onUpdated:Function,pulledDownText:String,pullingDownText:String,reachBottomText:String,refreshingText:String,rtlEnabled:Boolean,scrollByContent:Boolean,scrollByThumb:Boolean,showScrollbar:String,useNative:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:bounceEnabled":null,"update:direction":null,"update:disabled":null,"update:elementAttr":null,"update:height":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onPullDown":null,"update:onReachBottom":null,"update:onScroll":null,"update:onUpdated":null,"update:pulledDownText":null,"update:pullingDownText":null,"update:reachBottomText":null,"update:refreshingText":null,"update:rtlEnabled":null,"update:scrollByContent":null,"update:scrollByThumb":null,"update:showScrollbar":null,"update:useNative":null,"update:width":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=scroll_view_1.default,this.$_hasAsyncTemplate=!0}});DxScrollView_1=scrollView.DxScrollView=DxScrollView;scrollView.default=DxScrollView;var videoJs=(()=>`@charset "UTF-8";.vjs-modal-dialog .vjs-modal-dialog-content,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format("woff");font-weight:400;font-style:normal}.vjs-icon-play,.video-js .vjs-play-control .vjs-icon-placeholder,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{content:"\\f101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\\f102"}.vjs-icon-pause,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pause:before,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before{content:"\\f103"}.vjs-icon-volume-mute,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-mute:before,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before{content:"\\f104"}.vjs-icon-volume-low,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-low:before,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before{content:"\\f105"}.vjs-icon-volume-mid,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-mid:before,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before{content:"\\f106"}.vjs-icon-volume-high,.video-js .vjs-mute-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-high:before,.video-js .vjs-mute-control .vjs-icon-placeholder:before{content:"\\f107"}.vjs-icon-fullscreen-enter,.video-js .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-fullscreen-enter:before,.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before{content:"\\f108"}.vjs-icon-fullscreen-exit,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-fullscreen-exit:before,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before{content:"\\f109"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\\f10a"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\\f10b"}.vjs-icon-subtitles,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-subtitles:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before{content:"\\f10c"}.vjs-icon-captions,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-captions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-captions:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-captions-button .vjs-icon-placeholder:before{content:"\\f10d"}.vjs-icon-chapters,.video-js .vjs-chapters-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-chapters:before,.video-js .vjs-chapters-button .vjs-icon-placeholder:before{content:"\\f10e"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\\f10f"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\\f110"}.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder,.video-js .vjs-volume-level,.video-js .vjs-play-progress{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before,.video-js .vjs-volume-level:before,.video-js .vjs-play-progress:before{content:"\\f111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\\f112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\f113"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\\f114"}.vjs-icon-cancel,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cancel:before,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before{content:"\\f115"}.vjs-icon-replay,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay:before,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before{content:"\\f116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\\f117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:"\\f118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\\f119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\\f11a"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\\f11b"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\\f11c"}.vjs-icon-audio-description,.video-js .vjs-descriptions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-audio-description:before,.video-js .vjs-descriptions-button .vjs-icon-placeholder:before{content:"\\f11d"}.vjs-icon-audio,.video-js .vjs-audio-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-audio:before,.video-js .vjs-audio-button .vjs-icon-placeholder:before{content:"\\f11e"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\\f11f"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\\f120"}.vjs-icon-picture-in-picture-enter,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-picture-in-picture-enter:before,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:"\\f121"}.vjs-icon-picture-in-picture-exit,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-picture-in-picture-exit:before,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:"\\f122"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:none}.video-js *,.video-js *:before,.video-js *:after{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-fluid,.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-9-16,.video-js.vjs-1-1{width:100%;max-width:100%}.video-js.vjs-fluid:not(.vjs-audio-only-mode),.video-js.vjs-16-9:not(.vjs-audio-only-mode),.video-js.vjs-4-3:not(.vjs-audio-only-mode),.video-js.vjs-9-16:not(.vjs-audio-only-mode),.video-js.vjs-1-1:not(.vjs-audio-only-mode){height:0}.video-js.vjs-16-9:not(.vjs-audio-only-mode){padding-top:56.25%}.video-js.vjs-4-3:not(.vjs-audio-only-mode){padding-top:75%}.video-js.vjs-9-16:not(.vjs-audio-only-mode){padding-top:177.7777777778%}.video-js.vjs-1-1:not(.vjs-audio-only-mode){padding-top:100%}.video-js.vjs-fill:not(.vjs-audio-only-mode){width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}.video-js.vjs-audio-only-mode .vjs-tech{display:none}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen:not(.vjs-ios-native-fs){width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1!important;visibility:visible!important}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:#2b333fb3;border-radius:.3em;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.81666em;margin-left:-1.5em}.video-js:hover .vjs-big-play-button,.video-js .vjs-big-play-button:focus{border-color:#fff;background-color:#73859f;background-color:#73859f80;transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button,.vjs-error .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover,.js-focus-visible .vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:#73859f80}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover,.js-focus-visible .vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.video-js .vjs-menu *:not(.vjs-selected):focus:not(:focus-visible),.js-focus-visible .vjs-menu *:not(.vjs-selected):focus:not(.focus-visible){background:none}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0em;margin-bottom:1.5em;border-top-color:#2b333fb3}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:#2b333fb3;position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu,.vjs-menu-button-popup .vjs-menu.vjs-lock-showing{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline:hover,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline:hover .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline.vjs-slider-active .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:#2b333fb3}.vjs-has-started .vjs-control-bar,.vjs-audio-only-mode .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;pointer-events:none;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar,.vjs-error .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar,.vjs-audio-only-mode.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible;pointer-events:auto}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.video-js .vjs-control.vjs-visible-text{width:auto;padding-left:1em;padding-right:1em}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.vjs-button>.vjs-icon-placeholder{display:block}.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before,.video-js .vjs-control:focus{text-shadow:0em 0em 1em white}.video-js *:not(.vjs-visible-text)>.vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-play-progress,.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.3333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:#fffc;border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:#000c}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:#73859f80}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0em 0em 1em white;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal{width:5em;height:3em;margin-right:0}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active{width:10em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em;z-index:1}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em;z-index:1}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:#2b333fb3}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.video-js .vjs-volume-tooltip{background-color:#fff;background-color:#fffc;border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-volume-control:hover .vjs-volume-tooltip,.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip{display:block;font-size:1em;visibility:visible}.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip,.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip{left:1em;top:-12px}.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip{font-size:1em}.video-js .vjs-volume-control .vjs-mouse-display{display:none;position:absolute;width:100%;height:1px;background-color:#000;z-index:1}.video-js .vjs-volume-horizontal .vjs-mouse-display{width:1px;height:100%}.vjs-no-flex .vjs-volume-control .vjs-mouse-display{z-index:0}.video-js .vjs-volume-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-volume-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-volume-tooltip{color:#fff;background-color:#000;background-color:#000c}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster,.vjs-using-native-controls .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster,.vjs-has-started.vjs-audio-poster-mode .vjs-poster{display:block}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js:not(.vjs-live) .vjs-live-control,.video-js.vjs-liveui .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{align-items:center;cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.vjs-no-flex .vjs-seek-to-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control,.video-js .vjs-current-time,.vjs-no-flex .vjs-current-time,.video-js .vjs-duration,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-controls-disabled .vjs-text-track-display,.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-controls-disabled video::-webkit-media-text-track-display,.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-picture-in-picture-control{display:none}.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-fullscreen-control{display:none}.vjs-playback-rate>.vjs-menu-button,.vjs-playback-rate .vjs-playback-rate-value{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0em}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;-webkit-animation:vjs-spinner-show 0s linear .3s forwards;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:before,.vjs-loading-spinner:after{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:before,.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{transform:rotate(360deg)}}@-webkit-keyframes vjs-spinner-spin{to{-webkit-transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.video-js.vjs-audio-only-mode .vjs-captions-button{display:none}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js.vjs-audio-only-mode .vjs-descriptions-button{display:none}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\f10d";font-size:1.5em;line-height:inherit}.video-js.vjs-audio-only-mode .vjs-subs-caps-button{display:none}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" \\f11d";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-small .vjs-current-time,.video-js.vjs-layout-small .vjs-time-divider,.video-js.vjs-layout-small .vjs-duration,.video-js.vjs-layout-small .vjs-remaining-time,.video-js.vjs-layout-small .vjs-playback-rate,.video-js.vjs-layout-small .vjs-volume-control,.video-js.vjs-layout-x-small .vjs-current-time,.video-js.vjs-layout-x-small .vjs-time-divider,.video-js.vjs-layout-x-small .vjs-duration,.video-js.vjs-layout-x-small .vjs-remaining-time,.video-js.vjs-layout-x-small .vjs-playback-rate,.video-js.vjs-layout-x-small .vjs-volume-control,.video-js.vjs-layout-tiny .vjs-current-time,.video-js.vjs-layout-tiny .vjs-time-divider,.video-js.vjs-layout-tiny .vjs-duration,.video-js.vjs-layout-tiny .vjs-remaining-time,.video-js.vjs-layout-tiny .vjs-playback-rate,.video-js.vjs-layout-tiny .vjs-volume-control{display:none}.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover{width:auto;width:initial}.video-js.vjs-layout-x-small .vjs-progress-control,.video-js.vjs-layout-tiny .vjs-progress-control{display:none}.video-js.vjs-layout-x-small .vjs-custom-control-spacer{flex:auto;display:block}.video-js.vjs-layout-x-small.vjs-no-flex .vjs-custom-control-spacer{width:auto}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:#2b333fbf;color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-font,.vjs-text-track-settings .vjs-track-settings-controls{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display: grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:focus,.vjs-track-settings-controls button:active{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:#2b333fbf}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>*:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js *:focus:not(.focus-visible){outline:none}.video-js *:focus:not(:focus-visible){outline:none}
`)(),script$2=defineComponent({name:"BasicTheme",props:{uuid:{type:String,required:!0},src:{type:String,required:!0},autoplay:{type:Boolean,required:!0},loop:{type:Boolean,required:!0},controls:{type:Boolean,required:!0},hoverable:{type:Boolean,required:!0},mask:{type:Boolean,required:!0},colors:{type:[String,Array],required:!0},time:{type:Object,required:!0},playing:{type:Boolean,default:!1},duration:{type:[String,Number],required:!0}},data(){return{hovered:!1,volume:!1,amount:1}},computed:{colorFrom(){var t;return typeof this.colors=="string"?this.colors?this.colors:"#fbbf24":(t=this.colors)!==null&&t!==void 0&&t[0]?this.colors[0]:"#fbbf24"},colorTo(){var t;return typeof this.colors=="string"?this.colors?this.colors:"#fbbf24":(t=this.colors)!==null&&t!==void 0&&t[1]?this.colors[1]:"#ec4899"}},mounted(){this.$emit("setPlayer",this.$refs[this.uuid])},methods:{setVolume(){this.$refs[this.uuid].volume=this.amount},stopVolume(){return this.amount>0?this.amount=0:this.amount=1}}});const _hoisted_1$2={class:"relative"},_hoisted_2$1={class:"flex items-center justify-start w-full"},_hoisted_3$1={class:"font-sans text-white text-xs w-24"},_hoisted_4$1={class:"mr-3 ml-2"},_hoisted_5$1={class:"relative"},_hoisted_6={class:"px-3 py-2 rounded-lg flex items-center transform translate-x-2",style:{"background-color":"rgba(0, 0, 0, .8)"}},_hoisted_7=createVNode$1("img",{src:"https://en-zo.dev/vue-videoplayer/play.svg",alt:"Icon play video",class:"transform translate-x-0.5 w-12"},null,-1);function render$2(t,e,r,n,i,a){return openBlock(),createBlock("div",{class:"shadow-xl rounded-xl overflow-hidden relative",onMouseenter:e[15]||(e[15]=o=>t.hovered=!0),onMouseleave:e[16]||(e[16]=o=>t.hovered=!1),onKeydown:e[17]||(e[17]=withKeys(o=>t.$emit("play"),["left"]))},[createVNode$1("div",_hoisted_1$2,[createVNode$1("video",{ref:t.uuid,class:"w-full",loop:t.loop,autoplay:t.autoplay,muted:t.autoplay,onTimeupdate:e[1]||(e[1]=o=>t.$emit("timeupdate",o.target)),onPause:e[2]||(e[2]=o=>t.$emit("isPlaying",!1)),onPlay:e[3]||(e[3]=o=>t.$emit("isPlaying",!0)),onClick:e[4]||(e[4]=o=>t.$emit("play"))},[createVNode$1("source",{src:t.src,type:"video/mp4"},null,8,["src"])],40,["loop","autoplay","muted"]),t.controls?(openBlock(),createBlock("div",{key:0,class:[{"opacity-0 translate-y-full":!t.hoverable&&t.hovered,"opacity-0 translate-y-full":t.hoverable&&!t.hovered},"transition duration-300 transform absolute w-full bottom-0 left-0 flex items-center justify-between overlay px-5  pt-3 pb-5"]},[createVNode$1("div",_hoisted_2$1,[createVNode$1("p",_hoisted_3$1,toDisplayString(t.time.display)+"/"+toDisplayString(t.duration),1),createVNode$1("div",_hoisted_4$1,[withDirectives(createVNode$1("img",{src:"https://en-zo.dev/vue-videoplayer/pause.svg",alt:"Icon pause video",class:"w-5 cursor-pointer",onClick:e[5]||(e[5]=o=>t.$emit("play"))},null,512),[[vShow,t.playing]]),withDirectives(createVNode$1("img",{src:"https://en-zo.dev/vue-videoplayer/play.svg",alt:"Icon play video",class:"w-5 cursor-pointer",onClick:e[6]||(e[6]=o=>t.$emit("play"))},null,512),[[vShow,!t.playing]])]),createVNode$1("div",{class:"w-full h-1 bg-white bg-opacity-60 rounded-sm cursor-pointer",onClick:e[7]||(e[7]=o=>t.$emit("position",o))},[createVNode$1("div",{class:"relative h-full pointer-events-none",style:`width: ${t.time.progress}%; transition: width .2s ease-in-out;`},[createVNode$1("div",{class:"w-full rounded-sm h-full gradient-variable bg-gradient-to-r pointer-events-none absolute top-0 left-0",style:`--tw-gradient-from: ${t.colorFrom};--tw-gradient-to: ${t.colorTo};transition: width .2s ease-in-out`},null,4),createVNode$1("div",{class:"w-full rounded-sm filter blur-sm h-full gradient-variable bg-gradient-to-r pointer-events-none absolute top-0 left-0",style:`--tw-gradient-from: ${t.colorFrom};--tw-gradient-to: ${t.colorTo};transition: width .2s ease-in-out`},null,4)],4)])]),createVNode$1("div",{class:"ml-5 flex items-center justify-end",onMouseleave:e[13]||(e[13]=o=>t.volume=!1)},[createVNode$1("div",_hoisted_5$1,[createVNode$1("div",{class:`w-128 origin-left translate-x-2 -rotate-90 w-128 transition duration-200 absolute transform top-0 py-2 ${t.volume?"-translate-y-4":"opacity-0 -translate-y-1 pointer-events-none"}`},[createVNode$1("div",_hoisted_6,[withDirectives(createVNode$1("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>t.amount=o),type:"range",step:"0.05",min:"0",max:"1",class:"rounded-lg overflow-hidden appearance-none bg-white bg-opacity-30 h-1 w-128 vertical-range",onInput:e[9]||(e[9]=(...o)=>t.setVolume&&t.setVolume(...o))},null,544),[[vModelText,t.amount]])])],2),createVNode$1("img",{src:`https://en-zo.dev/vue-videoplayer/volume-${Math.ceil(t.amount*2)}.svg`,alt:"High volume video",class:"w-5 cursor-pointer relative",style:{"z-index":"2"},onClick:e[10]||(e[10]=(...o)=>t.stopVolume&&t.stopVolume(...o)),onMouseenter:e[11]||(e[11]=o=>t.volume=!0)},null,40,["src"])]),createVNode$1("img",{src:"https://en-zo.dev/vue-videoplayer/maximize.svg",alt:"Fullscreen",class:"w-3 ml-4 cursor-pointer",onClick:e[12]||(e[12]=o=>t.$emit("fullScreen"))})],32)],2)):createCommentVNode("",!0),!t.autoplay&&t.mask&&t.time.current===0?(openBlock(),createBlock("div",{key:1,class:`transition transform duration-300 absolute top-0 left-0 w-full h-full bg-black bg-opacity-50 backdrop-filter z-10 flex items-center justify-center ${t.playing?"opacity-0 pointer-events-none":""}`},[createVNode$1("div",{class:"w-20 h-20 rounded-full bg-white bg-opacity-20 transition duration-200 hover:bg-opacity-40 flex items-center justify-center cursor-pointer",onClick:e[14]||(e[14]=o=>t.$emit("play"))},[_hoisted_7])],2)):createCommentVNode("",!0)])],32)}script$2.render=render$2;var script$1=defineComponent({name:"BasicTheme",props:{uuid:{type:String,required:!0},src:{type:String,required:!0},autoplay:{type:Boolean,required:!0},loop:{type:Boolean,required:!0},controls:{type:Boolean,required:!0},hoverable:{type:Boolean,required:!0},mask:{type:Boolean,required:!0},colors:{type:[String,Array],required:!0},time:{type:Object,required:!0},playing:{type:Boolean,default:!1},duration:{type:[String,Number],required:!0}},data(){return{hovered:!1,volume:!1,amount:1}},computed:{color(){var t;return typeof this.colors=="string"?this.colors?this.colors:"#8B5CF6":(t=this.colors)!==null&&t!==void 0&&t[0]?this.colors[0]:"#8B5CF6"}},mounted(){this.$emit("setPlayer",this.$refs[this.uuid])},methods:{setVolume(){this.$refs[this.uuid].volume=this.amount},stopVolume(){return this.amount>0?this.amount=0:this.amount=1}}});const _hoisted_1$1={class:"relative"},_hoisted_2$2={class:"mr-5"},_hoisted_3={class:"relative mr-6"},_hoisted_4={class:"px-3 py-3 rounded-xl flex items-center transform translate-x-9 bg-black bg-opacity-30"},_hoisted_5=createVNode$1("img",{src:"https://en-zo.dev/vue-videoplayer/play.svg",alt:"Icon play video",class:"transform translate-x-0.5 w-12"},null,-1);function render$1(t,e,r,n,i,a){return openBlock(),createBlock("div",{class:"shadow-xl rounded-3xl overflow-hidden relative",onMouseenter:e[14]||(e[14]=o=>t.hovered=!0),onMouseleave:e[15]||(e[15]=o=>t.hovered=!1),onKeydown:e[16]||(e[16]=withKeys(o=>t.$emit("play"),["left"]))},[createVNode$1("div",_hoisted_1$1,[createVNode$1("video",{ref:t.uuid,class:"w-full",loop:t.loop,autoplay:t.autoplay,muted:t.autoplay,onTimeupdate:e[1]||(e[1]=o=>t.$emit("timeupdate",o.target)),onPause:e[2]||(e[2]=o=>t.$emit("isPlaying",!1)),onPlay:e[3]||(e[3]=o=>t.$emit("isPlaying",!0)),onClick:e[4]||(e[4]=o=>t.$emit("play"))},[createVNode$1("source",{src:t.src,type:"video/mp4"},null,8,["src"])],40,["loop","autoplay","muted"]),t.controls?(openBlock(),createBlock("div",{key:0,class:[{"opacity-0 translate-y-full":!t.hoverable&&t.hovered,"opacity-0 translate-y-full":t.hoverable&&!t.hovered},"absolute px-5 pb-5 bottom-0 left-0 w-full transition duration-300 transform"]},[createVNode$1("div",{class:"w-full bg-black bg-opacity-30 px-5 py-4 rounded-xl flex items-center justify-between",onMouseleave:e[12]||(e[12]=o=>t.volume=!1)},[createVNode$1("div",{class:"font-sans py-1 px-2 text-white rounded-md text-xs mr-5 whitespace-nowrap font-medium w-32 text-center",style:`font-size: 11px; background-color: ${t.color}`},toDisplayString(t.time.display)+"\xA0/\xA0"+toDisplayString(t.duration),5),createVNode$1("div",_hoisted_2$2,[withDirectives(createVNode$1("img",{src:"https://en-zo.dev/vue-videoplayer/basic/pause.svg",alt:"Icon pause video",class:"w-4 cursor-pointer filter-white transition duration-300",onClick:e[5]||(e[5]=o=>t.$emit("play"))},null,512),[[vShow,t.playing]]),withDirectives(createVNode$1("img",{src:"https://en-zo.dev/vue-videoplayer/basic/play.svg",alt:"Icon play video",class:"w-4 cursor-pointer filter-white transition duration-300",onClick:e[6]||(e[6]=o=>t.$emit("play"))},null,512),[[vShow,!t.playing]])]),createVNode$1("div",{class:"w-full h-1 bg-white bg-opacity-40 rounded-sm cursor-pointer mr-6",onClick:e[7]||(e[7]=o=>t.$emit("position",o))},[createVNode$1("div",{class:"w-full rounded-sm h-full bg-white pointer-events-none",style:`width: ${t.time.progress}%; transition: width .2s ease-in-out;`},null,4)]),createVNode$1("div",_hoisted_3,[createVNode$1("div",{class:`w-128 origin-left translate-x-2 -rotate-90 w-128 transition duration-200 absolute transform top-0 py-2 ${t.volume?"-translate-y-4":"opacity-0 -translate-y-1 pointer-events-none"}`},[createVNode$1("div",_hoisted_4,[withDirectives(createVNode$1("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>t.amount=o),type:"range",step:"0.05",min:"0",max:"1",class:"rounded-lg overflow-hidden appearance-none bg-white bg-opacity-30 h-1.5 w-128 vertical-range"},null,512),[[vModelText,t.amount]])])],2),createVNode$1("img",{src:`https://en-zo.dev/vue-videoplayer/basic/volume_${Math.ceil(t.amount*2)}.svg`,alt:"High volume video",class:"w-5 cursor-pointer filter-white transition duration-300 relative",style:{"z-index":"2"},onClick:e[9]||(e[9]=(...o)=>t.stopVolume&&t.stopVolume(...o)),onMouseenter:e[10]||(e[10]=o=>t.volume=!0)},null,40,["src"])]),createVNode$1("img",{src:"https://en-zo.dev/vue-videoplayer/basic/fullscreen.svg",alt:"Fullscreen",class:"w-4 cursor-pointer filter-white transition duration-300",onClick:e[11]||(e[11]=o=>t.$emit("fullScreen"))})],32)],2)):createCommentVNode("",!0),!t.autoplay&&t.mask&&t.time.current===0?(openBlock(),createBlock("div",{key:1,class:`transition transform duration-300 absolute top-0 left-0 w-full h-full bg-black bg-opacity-50 backdrop-filter z-10 flex items-center justify-center ${t.playing?"opacity-0 pointer-events-none":""}`},[createVNode$1("div",{class:"w-20 h-20 rounded-full bg-white bg-opacity-20 transition duration-200 hover:bg-opacity-40 flex items-center justify-center cursor-pointer",onClick:e[13]||(e[13]=o=>t.$emit("play"))},[_hoisted_5])],2)):createCommentVNode("",!0)])],32)}script$1.render=render$1;var script=defineComponent({name:"Vue3PlayerVideo",components:{basic:script$1,gradient:script$2},props:{src:{type:String,required:!0},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},mask:{type:Boolean,default:!0},colors:{type:[String,Array],default(){return["#8B5CF6","#ec4899"]}},hoverable:{type:Boolean,default:!1},theme:{type:String,default:"basic"}},data(){return{uuid:Math.random().toString(36).substr(2,18),player:null,duration:0,playing:!1,time:{progress:0,display:0,current:0}}},created(){window.addEventListener("keyup",({keyCode:t})=>{t===32&&this.play()})},watch:{"time.current"(t){this.time.display=this.format(Number(t)),this.time.progress=t*100/this.player.duration}},methods:{isPlaying(t){this.playing=t},play(){return this.playing?this.player.pause():this.player.play()},setPlayer(t){this.player=t,this.player.addEventListener("loadeddata",()=>{this.player.readyState>=3&&(this.duration=this.format(Number(this.player.duration)),this.time.display=this.format(0))})},stop(){this.player.pause(),this.player.currentTime=0},fullScreen(){this.player.webkitEnterFullscreen()},position(t){this.player.pause();const e=t.target.getBoundingClientRect(),n=(t.clientX-e.left)*100/t.target.offsetWidth;this.player.currentTime=n*this.player.duration/100,this.player.play()},format(t){const e=Math.floor(t/3600),r=Math.floor(t%3600/60),n=Math.round(t%60);return[e,r>9?r:e?"0"+r:r||"00",n>9?n:"0"+n].filter(Boolean).join(":")}}});const _hoisted_1$3={class:"vue3-player-video"};function render(t,e,r,n,i,a){return openBlock(),createBlock("div",_hoisted_1$3,[(openBlock(),createBlock(resolveDynamicComponent(t.theme),{uuid:t.uuid,src:t.src,autoplay:t.autoplay,loop:t.loop,controls:t.controls,mask:t.mask,colors:t.colors,time:t.time,playing:t.playing,duration:t.duration,hoverable:t.hoverable,onPlay:t.play,onStop:t.stop,onTimeupdate:e[1]||(e[1]=({currentTime:o})=>t.time.current=o),onPosition:t.position,onFullScreen:t.fullScreen,onSetPlayer:t.setPlayer,onIsPlaying:t.isPlaying},null,8,["uuid","src","autoplay","loop","controls","mask","colors","time","playing","duration","hoverable","onPlay","onStop","onPosition","onFullScreen","onSetPlayer","onIsPlaying"]))])}function styleInject(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(!t||typeof document=="undefined")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var css_248z=`/*! tailwindcss v2.1.2 | MIT License | https://tailwindcss.com*/

/*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */input{font-family:inherit;font-size:100%;line-height:1.15;margin:0}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}p{margin:0}*,:after,:before{box-sizing:border-box;border:0 solid #e5e7eb}img{border-style:solid}input:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder{opacity:1;color:#9ca3af}[role=button]{cursor:pointer}input{padding:0;line-height:inherit;color:inherit}img,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}.vue3-player-video .appearance-none{-webkit-appearance:none;appearance:none}.vue3-player-video .bg-black{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity))}.vue3-player-video .bg-white{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.vue3-player-video .bg-gradient-to-r{background-image:linear-gradient(90deg,var(--tw-gradient-stops))}.vue3-player-video .bg-opacity-20{--tw-bg-opacity:0.2}.vue3-player-video .bg-opacity-30{--tw-bg-opacity:0.3}.vue3-player-video .bg-opacity-40{--tw-bg-opacity:0.4}.vue3-player-video .bg-opacity-50{--tw-bg-opacity:0.5}.vue3-player-video .bg-opacity-60{--tw-bg-opacity:0.6}.vue3-player-video .hover\\:bg-opacity-40:hover{--tw-bg-opacity:0.4}.vue3-player-video .rounded-sm{border-radius:.125rem}.vue3-player-video .rounded-md{border-radius:.375rem}.vue3-player-video .rounded-lg{border-radius:.5rem}.vue3-player-video .rounded-xl{border-radius:.75rem}.vue3-player-video .rounded-3xl{border-radius:1.5rem}.vue3-player-video .rounded-full{border-radius:9999px}.vue3-player-video .cursor-pointer{cursor:pointer}.vue3-player-video .flex{display:flex}.vue3-player-video .items-center{align-items:center}.vue3-player-video .justify-start{justify-content:flex-start}.vue3-player-video .justify-end{justify-content:flex-end}.vue3-player-video .justify-center{justify-content:center}.vue3-player-video .justify-between{justify-content:space-between}.vue3-player-video .font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.vue3-player-video .font-medium{font-weight:500}.vue3-player-video .h-1{height:.25rem}.vue3-player-video .h-20{height:5rem}.vue3-player-video .h-full{height:100%}.vue3-player-video .text-xs{font-size:.75rem;line-height:1rem}.vue3-player-video .ml-2{margin-left:.5rem}.vue3-player-video .mr-3{margin-right:.75rem}.vue3-player-video .ml-4{margin-left:1rem}.vue3-player-video .mr-5{margin-right:1.25rem}.vue3-player-video .ml-5{margin-left:1.25rem}.vue3-player-video .mr-6{margin-right:1.5rem}.vue3-player-video .opacity-0{opacity:0}.vue3-player-video .overflow-hidden{overflow:hidden}.vue3-player-video .py-1{padding-top:.25rem;padding-bottom:.25rem}.vue3-player-video .py-2{padding-top:.5rem;padding-bottom:.5rem}.vue3-player-video .px-2{padding-left:.5rem;padding-right:.5rem}.vue3-player-video .py-3{padding-top:.75rem;padding-bottom:.75rem}.vue3-player-video .px-3{padding-left:.75rem;padding-right:.75rem}.vue3-player-video .py-4{padding-top:1rem;padding-bottom:1rem}.vue3-player-video .px-5{padding-left:1.25rem;padding-right:1.25rem}.vue3-player-video .pt-3{padding-top:.75rem}.vue3-player-video .pb-5{padding-bottom:1.25rem}.vue3-player-video .pointer-events-none{pointer-events:none}.vue3-player-video .absolute{position:absolute}.vue3-player-video .relative{position:relative}.vue3-player-video .top-0{top:0}.vue3-player-video .bottom-0{bottom:0}.vue3-player-video .left-0{left:0}*{--tw-shadow:0 0 transparent}.vue3-player-video .shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,0.1),0 10px 10px -5px rgba(0,0,0,0.04);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow)}*{--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,0.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent}.vue3-player-video .text-center{text-align:center}.vue3-player-video .text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.vue3-player-video .whitespace-nowrap{white-space:nowrap}.vue3-player-video .w-3{width:.75rem}.vue3-player-video .w-4{width:1rem}.vue3-player-video .w-5{width:1.25rem}.vue3-player-video .w-12{width:3rem}.vue3-player-video .w-20{width:5rem}.vue3-player-video .w-24{width:6rem}.vue3-player-video .w-32{width:8rem}.vue3-player-video .w-full{width:100%}.vue3-player-video .z-10{z-index:10}.vue3-player-video .transform{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.vue3-player-video .origin-left{transform-origin:left}.vue3-player-video .-rotate-90{--tw-rotate:-90deg}.vue3-player-video .translate-x-0{--tw-translate-x:0px}.vue3-player-video .translate-x-2{--tw-translate-x:0.5rem}.vue3-player-video .translate-x-9{--tw-translate-x:2.25rem}.vue3-player-video .-translate-y-1{--tw-translate-y:-0.25rem}.vue3-player-video .-translate-y-4{--tw-translate-y:-1rem}.vue3-player-video .translate-y-full{--tw-translate-y:100%}.vue3-player-video .transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.vue3-player-video .ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.vue3-player-video .duration-200{transition-duration:.2s}.vue3-player-video .duration-300{transition-duration:.3s}@keyframes spin{to{transform:rotate(1turn)}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}.vue3-player-video .filter{--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.vue3-player-video .blur-sm{--tw-blur:blur(4px)}.vue3-player-video .blur{--tw-blur:blur(8px)}.vue3-player-video .backdrop-filter{--tw-backdrop-blur:var(--tw-empty,/*!*/ /*!*/);--tw-backdrop-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-backdrop-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-backdrop-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-backdrop-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-backdrop-invert:var(--tw-empty,/*!*/ /*!*/);--tw-backdrop-opacity:var(--tw-empty,/*!*/ /*!*/);--tw-backdrop-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-backdrop-sepia:var(--tw-empty,/*!*/ /*!*/);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.overlay{background:linear-gradient(0deg,rgba(0,0,0,.41961),transparent)}.vertical-range::-webkit-slider-thumb{width:6px;-webkit-appearance:none;appearance:none;height:6px;background-color:#fff;cursor:ns-resize;box-shadow:-405px 0 0 400px hsla(0,0%,100%,.6);border-radius:50%}.backdrop-filter{-webkit-backdrop-filter:blur(15px)!important;backdrop-filter:blur(15px)!important}.filter-white:hover{filter:brightness(2)}.gradient-variable{--tw-gradient-from:#fbbf24;--tw-gradient-to:#ec4899;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to,rgba(251,191,36,0))}`;styleInject(css_248z);script.render=render;var entry_esm=(()=>{const t=script;return t.install=e=>{e.component("Vue3PlayerVideo",t)},t})(),VuePlayerVideo=entry_esm,vue3PdfEmbed={exports:{}};(function(module,exports){(function(t,e){module.exports=e(require$$0$2)})(self,function(__WEBPACK_EXTERNAL_MODULE__103__){return(()=>{var __webpack_modules__={194:(t,e,r)=>{r.r(e),r.d(e,{default:()=>a});var n=r(645),i=r.n(n)()(function(o){return o[1]});i.push([t.id,`.textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}.textLayer span,.textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}.textLayer span.markedContent{top:0;height:0}.textLayer .highlight{margin:-1px;padding:1px;background-color:rgba(180, 0, 170, 1);border-radius:4px}.textLayer .highlight.appended{position:initial}.textLayer .highlight.begin{border-radius:4px 0 0 4px}.textLayer .highlight.end{border-radius:0 4px 4px 0}.textLayer .highlight.middle{border-radius:0}.textLayer .highlight.selected{background-color:rgba(0, 100, 0, 1)}.textLayer ::-moz-selection{background:rgba(0, 0, 255, 1)}.textLayer ::selection{background:rgba(0, 0, 255, 1)}.textLayer br::-moz-selection{background:transparent}.textLayer br::selection{background:transparent}.textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.textLayer .endOfContent.active{top:0}:root{--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>")}.annotationLayer section{position:absolute;text-align:initial}.annotationLayer .linkAnnotation>a,.annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}.annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}.annotationLayer .linkAnnotation>a:hover,.annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgba(255, 255, 0, 1);box-shadow:0 2px 10px rgba(255, 255, 0, 1)}.annotationLayer .textAnnotation img{position:absolute;cursor:pointer}.annotationLayer .textWidgetAnnotation input,.annotationLayer .textWidgetAnnotation textarea,.annotationLayer .choiceWidgetAnnotation select,.annotationLayer .buttonWidgetAnnotation.checkBox input,.annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}.annotationLayer .choiceWidgetAnnotation select option{padding:0}.annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}.annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}.annotationLayer .textWidgetAnnotation input[disabled],.annotationLayer .textWidgetAnnotation textarea[disabled],.annotationLayer .choiceWidgetAnnotation select[disabled],.annotationLayer .buttonWidgetAnnotation.checkBox input[disabled],.annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}.annotationLayer .textWidgetAnnotation input:hover,.annotationLayer .textWidgetAnnotation textarea:hover,.annotationLayer .choiceWidgetAnnotation select:hover,.annotationLayer .buttonWidgetAnnotation.checkBox input:hover,.annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgba(0, 0, 0, 1)}.annotationLayer .textWidgetAnnotation input:focus,.annotationLayer .textWidgetAnnotation textarea:focus,.annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}.annotationLayer .textWidgetAnnotation input :focus,.annotationLayer .textWidgetAnnotation textarea :focus,.annotationLayer .choiceWidgetAnnotation select :focus,.annotationLayer .buttonWidgetAnnotation.checkBox :focus,.annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after,.annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:rgba(0, 0, 0, 1);content:"";display:block;position:absolute}.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}.annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}.annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}.annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}.annotationLayer .buttonWidgetAnnotation.checkBox input,.annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}.annotationLayer .popupWrapper{position:absolute;width:20em}.annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:rgba(255, 255, 153, 1);box-shadow:0 2px 5px rgba(136, 136, 136, 1);border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}.annotationLayer .popup>*{font-size:9px}.annotationLayer .popup h1{display:inline-block}.annotationLayer .popupDate{display:inline-block;margin-left:5px}.annotationLayer .popupContent{border-top:1px solid rgba(51, 51, 51, 1);margin-top:2px;padding-top:2px}.annotationLayer .richText>*{white-space:pre-wrap}.annotationLayer .highlightAnnotation,.annotationLayer .underlineAnnotation,.annotationLayer .squigglyAnnotation,.annotationLayer .strikeoutAnnotation,.annotationLayer .freeTextAnnotation,.annotationLayer .lineAnnotation svg line,.annotationLayer .squareAnnotation svg rect,.annotationLayer .circleAnnotation svg ellipse,.annotationLayer .polylineAnnotation svg polyline,.annotationLayer .polygonAnnotation svg polygon,.annotationLayer .caretAnnotation,.annotationLayer .inkAnnotation svg polyline,.annotationLayer .stampAnnotation,.annotationLayer .fileAttachmentAnnotation{cursor:pointer}.vue-pdf-embed>div{position:relative}.vue-pdf-embed canvas{display:block}`,""]);const a=i},645:t=>{t.exports=function(e){var r=[];return r.toString=function(){return this.map(function(n){var i=e(n);return n[2]?"@media ".concat(n[2]," {").concat(i,"}"):i}).join("")},r.i=function(n,i,a){typeof n=="string"&&(n=[[null,n,""]]);var o={};if(a)for(var s=0;s<this.length;s++){var l=this[s][0];l!=null&&(o[l]=!0)}for(var u=0;u<n.length;u++){var m=[].concat(n[u]);a&&o[m[0]]||(i&&(m[2]?m[2]="".concat(i," and ").concat(m[2]):m[2]=i),r.push(m))}},r}},783:function(module,__unused_webpack_exports,__webpack_require__){var factory;factory=function(){return(()=>{var __webpack_modules__=[,(t,e,r)=>{function n(y){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},n(y)}Object.defineProperty(e,"__esModule",{value:!0}),e.addLinkAttributes=function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=C.url,F=C.target,X=C.rel,G=C.enabled,q=G===void 0||G;(0,o.assert)(E&&typeof E=="string",'addLinkAttributes: A valid "url" parameter must provided.');var ne=(0,o.removeNullCharacters)(E);q?y.href=y.title=ne:(y.href="",y.title="Disabled: ".concat(ne),y.onclick=function(){return!1});var ie="";switch(F){case d.NONE:break;case d.SELF:ie="_self";break;case d.BLANK:ie="_blank";break;case d.PARENT:ie="_parent";break;case d.TOP:ie="_top"}y.target=ie,y.rel=typeof X=="string"?X:w},e.deprecated=function(y){console.log("Deprecated API usage: "+y)},e.getFilenameFromUrl=function(y){var C=y.indexOf("#"),E=y.indexOf("?"),F=Math.min(C>0?C:y.length,E>0?E:y.length);return y.substring(y.lastIndexOf("/",F)+1,F)},e.getPdfFilenameFromUrl=function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof y!="string")return C;if(v(y))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),C;var E=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,F=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,X=E.exec(y),G=F.exec(X[1])||F.exec(X[2])||F.exec(X[3]);if(G&&(G=G[0]).includes("%"))try{G=F.exec(decodeURIComponent(G))[0]}catch{}return G||C},e.isDataScheme=v,e.isFetchSupported=H,e.isPdfFile=function(y){return typeof y=="string"&&/\.pdf$/i.test(y)},e.isValidFetchUrl=N,e.loadScript=function(y){var C=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Promise(function(E,F){var X=document.createElement("script");X.src=y,X.onload=function(G){C&&X.remove(),E(G)},X.onerror=function(){F(new Error("Cannot load script at: ".concat(X.src)))},(document.head||document.documentElement).appendChild(X)})},e.StatTimer=e.RenderingCancelledException=e.PDFDateString=e.PageViewport=e.LinkTarget=e.DOMSVGFactory=e.DOMCMapReaderFactory=e.DOMCanvasFactory=e.DEFAULT_LINK_REL=e.BaseCMapReaderFactory=e.BaseCanvasFactory=void 0;var i,a=(i=r(2))&&i.__esModule?i:{default:i},o=r(4);function s(y,C){var E=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(!E){if(Array.isArray(y)||(E=function(ie,ee){if(ie){if(typeof ie=="string")return l(ie,ee);var te=Object.prototype.toString.call(ie).slice(8,-1);return te==="Object"&&ie.constructor&&(te=ie.constructor.name),te==="Map"||te==="Set"?Array.from(ie):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?l(ie,ee):void 0}}(y))||C&&y&&typeof y.length=="number"){E&&(y=E);var F=0,X=function(){};return{s:X,n:function(){return F>=y.length?{done:!0}:{done:!1,value:y[F++]}},e:function(ie){throw ie},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G,q=!0,ne=!1;return{s:function(){E=E.call(y)},n:function(){var ie=E.next();return q=ie.done,ie},e:function(ie){ne=!0,G=ie},f:function(){try{q||E.return==null||E.return()}finally{if(ne)throw G}}}}function l(y,C){(C==null||C>y.length)&&(C=y.length);for(var E=0,F=new Array(C);E<C;E++)F[E]=y[E];return F}function u(y,C,E,F,X,G,q){try{var ne=y[G](q),ie=ne.value}catch(ee){return void E(ee)}ne.done?C(ie):Promise.resolve(ie).then(F,X)}function m(y){return function(){var C=this,E=arguments;return new Promise(function(F,X){var G=y.apply(C,E);function q(ie){u(G,F,X,q,ne,"next",ie)}function ne(ie){u(G,F,X,q,ne,"throw",ie)}q(void 0)})}}function b(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(C&&C.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),C&&_(y,C)}function _(y,C){return _=Object.setPrototypeOf||function(E,F){return E.__proto__=F,E},_(y,C)}function I(y){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,F=L(y);if(C){var X=L(this).constructor;E=Reflect.construct(F,arguments,X)}else E=F.apply(this,arguments);return j(this,E)}}function j(y,C){return!C||n(C)!=="object"&&typeof C!="function"?function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(y):C}function L(y){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)},L(y)}function z(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a function")}function M(y,C){for(var E=0;E<C.length;E++){var F=C[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(y,F.key,F)}}function R(y,C,E){return C&&M(y.prototype,C),E&&M(y,E),y}var w="noopener noreferrer nofollow";e.DEFAULT_LINK_REL=w;var k="http://www.w3.org/2000/svg",A=function(){function y(){z(this,y),this.constructor===y&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}return R(y,[{key:"create",value:function(C,E){(0,o.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(C,E,F){if(!C.canvas)throw new Error("Canvas is not specified");if(E<=0||F<=0)throw new Error("Invalid canvas size");C.canvas.width=E,C.canvas.height=F}},{key:"destroy",value:function(C){if(!C.canvas)throw new Error("Canvas is not specified");C.canvas.width=0,C.canvas.height=0,C.canvas=null,C.context=null}}]),y}();e.BaseCanvasFactory=A;var D=function(y){b(E,y);var C=I(E);function E(){var F,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=X.ownerDocument,q=G===void 0?globalThis.document:G;return z(this,E),(F=C.call(this))._document=q,F}return R(E,[{key:"create",value:function(F,X){if(F<=0||X<=0)throw new Error("Invalid canvas size");var G=this._document.createElement("canvas"),q=G.getContext("2d");return G.width=F,G.height=X,{canvas:G,context:q}}}]),E}(A);e.DOMCanvasFactory=D;var P=function(){function y(E){var F=E.baseUrl,X=F===void 0?null:F,G=E.isCompressed,q=G!==void 0&&G;z(this,y),this.constructor===y&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=X,this.isCompressed=q}var C;return R(y,[{key:"fetch",value:(C=m(a.default.mark(function E(F){var X,G,q,ne=this;return a.default.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(X=F.name,this.baseUrl){ie.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(X){ie.next=5;break}throw new Error("CMap name must be specified.");case 5:return G=this.baseUrl+X+(this.isCompressed?".bcmap":""),q=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE,ie.abrupt("return",this._fetchData(G,q).catch(function(ee){throw new Error("Unable to load ".concat(ne.isCompressed?"binary ":"","CMap at: ").concat(G))}));case 8:case"end":return ie.stop()}},E,this)})),function(E){return C.apply(this,arguments)})},{key:"_fetchData",value:function(E,F){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),y}();e.BaseCMapReaderFactory=P;var T=function(y){b(E,y);var C=I(E);function E(){return z(this,E),C.apply(this,arguments)}return R(E,[{key:"_fetchData",value:function(F,X){var G=this;return H()&&N(F,document.baseURI)?fetch(F).then(function(){var q=m(a.default.mark(function ne(ie){var ee;return a.default.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(ie.ok){te.next=2;break}throw new Error(ie.statusText);case 2:if(!G.isCompressed){te.next=10;break}return te.t0=Uint8Array,te.next=6,ie.arrayBuffer();case 6:te.t1=te.sent,ee=new te.t0(te.t1),te.next=15;break;case 10:return te.t2=o.stringToBytes,te.next=13,ie.text();case 13:te.t3=te.sent,ee=(0,te.t2)(te.t3);case 15:return te.abrupt("return",{cMapData:ee,compressionType:X});case 16:case"end":return te.stop()}},ne)}));return function(ne){return q.apply(this,arguments)}}()):new Promise(function(q,ne){var ie=new XMLHttpRequest;ie.open("GET",F,!0),G.isCompressed&&(ie.responseType="arraybuffer"),ie.onreadystatechange=function(){if(ie.readyState===XMLHttpRequest.DONE){var ee;if((ie.status===200||ie.status===0)&&(G.isCompressed&&ie.response?ee=new Uint8Array(ie.response):!G.isCompressed&&ie.responseText&&(ee=(0,o.stringToBytes)(ie.responseText)),ee))return void q({cMapData:ee,compressionType:X});ne(new Error(ie.statusText))}},ie.send(null)})}}]),E}(P);e.DOMCMapReaderFactory=T;var x=function(){function y(){z(this,y)}return R(y,[{key:"create",value:function(C,E){(0,o.assert)(C>0&&E>0,"Invalid SVG dimensions");var F=document.createElementNS(k,"svg:svg");return F.setAttribute("version","1.1"),F.setAttribute("width",C+"px"),F.setAttribute("height",E+"px"),F.setAttribute("preserveAspectRatio","none"),F.setAttribute("viewBox","0 0 "+C+" "+E),F}},{key:"createElement",value:function(C){return(0,o.assert)(typeof C=="string","Invalid SVG element type"),document.createElementNS(k,C)}}]),y}();e.DOMSVGFactory=x;var g=function(){function y(C){var E=C.viewBox,F=C.scale,X=C.rotation,G=C.offsetX,q=G===void 0?0:G,ne=C.offsetY,ie=ne===void 0?0:ne,ee=C.dontFlip,te=ee!==void 0&&ee;z(this,y),this.viewBox=E,this.scale=F,this.rotation=X,this.offsetX=q,this.offsetY=ie;var se,le,de,oe,B,J,Y,K,Z=(E[2]+E[0])/2,Q=(E[3]+E[1])/2;switch((X%=360)<0&&(X+=360),X){case 180:se=-1,le=0,de=0,oe=1;break;case 90:se=0,le=1,de=1,oe=0;break;case 270:se=0,le=-1,de=-1,oe=0;break;case 0:se=1,le=0,de=0,oe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}te&&(de=-de,oe=-oe),se===0?(B=Math.abs(Q-E[1])*F+q,J=Math.abs(Z-E[0])*F+ie,Y=Math.abs(E[3]-E[1])*F,K=Math.abs(E[2]-E[0])*F):(B=Math.abs(Z-E[0])*F+q,J=Math.abs(Q-E[1])*F+ie,Y=Math.abs(E[2]-E[0])*F,K=Math.abs(E[3]-E[1])*F),this.transform=[se*F,le*F,de*F,oe*F,B-se*F*Z-de*F*Q,J-le*F*Z-oe*F*Q],this.width=Y,this.height=K}return R(y,[{key:"clone",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=C.scale,F=E===void 0?this.scale:E,X=C.rotation,G=X===void 0?this.rotation:X,q=C.offsetX,ne=q===void 0?this.offsetX:q,ie=C.offsetY,ee=ie===void 0?this.offsetY:ie,te=C.dontFlip,se=te!==void 0&&te;return new y({viewBox:this.viewBox.slice(),scale:F,rotation:G,offsetX:ne,offsetY:ee,dontFlip:se})}},{key:"convertToViewportPoint",value:function(C,E){return o.Util.applyTransform([C,E],this.transform)}},{key:"convertToViewportRectangle",value:function(C){var E=o.Util.applyTransform([C[0],C[1]],this.transform),F=o.Util.applyTransform([C[2],C[3]],this.transform);return[E[0],E[1],F[0],F[1]]}},{key:"convertToPdfPoint",value:function(C,E){return o.Util.applyInverseTransform([C,E],this.transform)}}]),y}();e.PageViewport=g;var f=function(y){b(E,y);var C=I(E);function E(F,X){var G;return z(this,E),(G=C.call(this,F)).type=X,G}return E}(o.BaseException);e.RenderingCancelledException=f;var d={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function v(y){for(var C=y.length,E=0;E<C&&y[E].trim()==="";)E++;return y.substring(E,E+5).toLowerCase()==="data:"}e.LinkTarget=d;var c,O=function(){function y(){z(this,y),this.started=Object.create(null),this.times=[]}return R(y,[{key:"time",value:function(C){C in this.started&&(0,o.warn)("Timer is already running for ".concat(C)),this.started[C]=Date.now()}},{key:"timeEnd",value:function(C){C in this.started||(0,o.warn)("Timer has not been started for ".concat(C)),this.times.push({name:C,start:this.started[C],end:Date.now()}),delete this.started[C]}},{key:"toString",value:function(){var C,E=[],F=0,X=s(this.times);try{for(X.s();!(C=X.n()).done;){var G=C.value.name;G.length>F&&(F=G.length)}}catch(te){X.e(te)}finally{X.f()}var q,ne=s(this.times);try{for(ne.s();!(q=ne.n()).done;){var ie=q.value,ee=ie.end-ie.start;E.push("".concat(ie.name.padEnd(F)," ").concat(ee,`ms
`))}}catch(te){ne.e(te)}finally{ne.f()}return E.join("")}}]),y}();function H(){return typeof fetch!="undefined"&&typeof Response!="undefined"&&"body"in Response.prototype&&typeof ReadableStream!="undefined"}function N(y,C){try{var E=(C?new URL(y,C):new URL(y)).protocol;return E==="http:"||E==="https:"}catch{return!1}}e.StatTimer=O;var U=function(){function y(){z(this,y)}return R(y,null,[{key:"toDateObject",value:function(C){if(!C||!(0,o.isString)(C))return null;c||(c=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var E=c.exec(C);if(!E)return null;var F=parseInt(E[1],10),X=parseInt(E[2],10);X=X>=1&&X<=12?X-1:0;var G=parseInt(E[3],10);G=G>=1&&G<=31?G:1;var q=parseInt(E[4],10);q=q>=0&&q<=23?q:0;var ne=parseInt(E[5],10);ne=ne>=0&&ne<=59?ne:0;var ie=parseInt(E[6],10);ie=ie>=0&&ie<=59?ie:0;var ee=E[7]||"Z",te=parseInt(E[8],10);te=te>=0&&te<=23?te:0;var se=parseInt(E[9],10)||0;return se=se>=0&&se<=59?se:0,ee==="-"?(q+=te,ne+=se):ee==="+"&&(q-=te,ne-=se),new Date(Date.UTC(F,X,G,q,ne,ie))}}]),y}();e.PDFDateString=U},(t,e,r)=>{t.exports=r(3)},(t,e,r)=>{function n(a){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n(a)}var i=function(a){var o,s=Object.prototype,l=s.hasOwnProperty,u=typeof Symbol=="function"?Symbol:{},m=u.iterator||"@@iterator",b=u.asyncIterator||"@@asyncIterator",_=u.toStringTag||"@@toStringTag";function I(C,E,F){return Object.defineProperty(C,E,{value:F,enumerable:!0,configurable:!0,writable:!0}),C[E]}try{I({},"")}catch{I=function(E,F,X){return E[F]=X}}function j(C,E,F,X){var G=E&&E.prototype instanceof A?E:A,q=Object.create(G.prototype),ne=new N(X||[]);return q._invoke=function(ie,ee,te){var se=z;return function(le,de){if(se===R)throw new Error("Generator is already running");if(se===w){if(le==="throw")throw de;return y()}for(te.method=le,te.arg=de;;){var oe=te.delegate;if(oe){var B=c(oe,te);if(B){if(B===k)continue;return B}}if(te.method==="next")te.sent=te._sent=te.arg;else if(te.method==="throw"){if(se===z)throw se=w,te.arg;te.dispatchException(te.arg)}else te.method==="return"&&te.abrupt("return",te.arg);se=R;var J=L(ie,ee,te);if(J.type==="normal"){if(se=te.done?w:M,J.arg===k)continue;return{value:J.arg,done:te.done}}J.type==="throw"&&(se=w,te.method="throw",te.arg=J.arg)}}}(C,F,ne),q}function L(C,E,F){try{return{type:"normal",arg:C.call(E,F)}}catch(X){return{type:"throw",arg:X}}}a.wrap=j;var z="suspendedStart",M="suspendedYield",R="executing",w="completed",k={};function A(){}function D(){}function P(){}var T={};T[m]=function(){return this};var x=Object.getPrototypeOf,g=x&&x(x(U([])));g&&g!==s&&l.call(g,m)&&(T=g);var f=P.prototype=A.prototype=Object.create(T);function d(C){["next","throw","return"].forEach(function(E){I(C,E,function(F){return this._invoke(E,F)})})}function v(C,E){function F(G,q,ne,ie){var ee=L(C[G],C,q);if(ee.type!=="throw"){var te=ee.arg,se=te.value;return se&&n(se)==="object"&&l.call(se,"__await")?E.resolve(se.__await).then(function(le){F("next",le,ne,ie)},function(le){F("throw",le,ne,ie)}):E.resolve(se).then(function(le){te.value=le,ne(te)},function(le){return F("throw",le,ne,ie)})}ie(ee.arg)}var X;this._invoke=function(G,q){function ne(){return new E(function(ie,ee){F(G,q,ie,ee)})}return X=X?X.then(ne,ne):ne()}}function c(C,E){var F=C.iterator[E.method];if(F===o){if(E.delegate=null,E.method==="throw"){if(C.iterator.return&&(E.method="return",E.arg=o,c(C,E),E.method==="throw"))return k;E.method="throw",E.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var X=L(F,C.iterator,E.arg);if(X.type==="throw")return E.method="throw",E.arg=X.arg,E.delegate=null,k;var G=X.arg;return G?G.done?(E[C.resultName]=G.value,E.next=C.nextLoc,E.method!=="return"&&(E.method="next",E.arg=o),E.delegate=null,k):G:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,k)}function O(C){var E={tryLoc:C[0]};1 in C&&(E.catchLoc=C[1]),2 in C&&(E.finallyLoc=C[2],E.afterLoc=C[3]),this.tryEntries.push(E)}function H(C){var E=C.completion||{};E.type="normal",delete E.arg,C.completion=E}function N(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(O,this),this.reset(!0)}function U(C){if(C){var E=C[m];if(E)return E.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var F=-1,X=function G(){for(;++F<C.length;)if(l.call(C,F))return G.value=C[F],G.done=!1,G;return G.value=o,G.done=!0,G};return X.next=X}}return{next:y}}function y(){return{value:o,done:!0}}return D.prototype=f.constructor=P,P.constructor=D,D.displayName=I(P,_,"GeneratorFunction"),a.isGeneratorFunction=function(C){var E=typeof C=="function"&&C.constructor;return!!E&&(E===D||(E.displayName||E.name)==="GeneratorFunction")},a.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,P):(C.__proto__=P,I(C,_,"GeneratorFunction")),C.prototype=Object.create(f),C},a.awrap=function(C){return{__await:C}},d(v.prototype),v.prototype[b]=function(){return this},a.AsyncIterator=v,a.async=function(C,E,F,X,G){G===void 0&&(G=Promise);var q=new v(j(C,E,F,X),G);return a.isGeneratorFunction(E)?q:q.next().then(function(ne){return ne.done?ne.value:q.next()})},d(f),I(f,_,"Generator"),f[m]=function(){return this},f.toString=function(){return"[object Generator]"},a.keys=function(C){var E=[];for(var F in C)E.push(F);return E.reverse(),function X(){for(;E.length;){var G=E.pop();if(G in C)return X.value=G,X.done=!1,X}return X.done=!0,X}},a.values=U,N.prototype={constructor:N,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(H),!C)for(var E in this)E.charAt(0)==="t"&&l.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=o)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var E=this;function F(ee,te){return q.type="throw",q.arg=C,E.next=ee,te&&(E.method="next",E.arg=o),!!te}for(var X=this.tryEntries.length-1;X>=0;--X){var G=this.tryEntries[X],q=G.completion;if(G.tryLoc==="root")return F("end");if(G.tryLoc<=this.prev){var ne=l.call(G,"catchLoc"),ie=l.call(G,"finallyLoc");if(ne&&ie){if(this.prev<G.catchLoc)return F(G.catchLoc,!0);if(this.prev<G.finallyLoc)return F(G.finallyLoc)}else if(ne){if(this.prev<G.catchLoc)return F(G.catchLoc,!0)}else{if(!ie)throw new Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return F(G.finallyLoc)}}}},abrupt:function(C,E){for(var F=this.tryEntries.length-1;F>=0;--F){var X=this.tryEntries[F];if(X.tryLoc<=this.prev&&l.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var G=X;break}}G&&(C==="break"||C==="continue")&&G.tryLoc<=E&&E<=G.finallyLoc&&(G=null);var q=G?G.completion:{};return q.type=C,q.arg=E,G?(this.method="next",this.next=G.finallyLoc,k):this.complete(q)},complete:function(C,E){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&E&&(this.next=E),k},finish:function(C){for(var E=this.tryEntries.length-1;E>=0;--E){var F=this.tryEntries[E];if(F.finallyLoc===C)return this.complete(F.completion,F.afterLoc),H(F),k}},catch:function(C){for(var E=this.tryEntries.length-1;E>=0;--E){var F=this.tryEntries[E];if(F.tryLoc===C){var X=F.completion;if(X.type==="throw"){var G=X.arg;H(F)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(C,E,F){return this.delegate={iterator:U(C),resultName:E,nextLoc:F},this.method==="next"&&(this.arg=o),k}},a}(n(t=r.nmd(t))==="object"?t.exports:{});try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},(t,e,r)=>{function n(C,E){for(var F=0;F<E.length;F++){var X=E[F];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(C,X.key,X)}}function i(C,E){if(C){if(typeof C=="string")return a(C,E);var F=Object.prototype.toString.call(C).slice(8,-1);return F==="Object"&&C.constructor&&(F=C.constructor.name),F==="Map"||F==="Set"?Array.from(C):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?a(C,E):void 0}}function a(C,E){(E==null||E>C.length)&&(E=C.length);for(var F=0,X=new Array(E);F<E;F++)X[F]=C[F];return X}function o(C){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},o(C)}function s(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function l(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),E&&u(C,E)}function u(C,E){return u=Object.setPrototypeOf||function(F,X){return F.__proto__=X,F},u(C,E)}function m(C){var E=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,X=_(C);if(E){var G=_(this).constructor;F=Reflect.construct(X,arguments,G)}else F=X.apply(this,arguments);return b(this,F)}}function b(C,E){return!E||o(E)!=="object"&&typeof E!="function"?function(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(C):E}function _(C){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},_(C)}Object.defineProperty(e,"__esModule",{value:!0}),e.arrayByteLength=v,e.arraysToBytes=function(C){var E=C.length;if(E===1&&C[0]instanceof Uint8Array)return C[0];for(var F=0,X=0;X<E;X++)F+=v(C[X]);for(var G=0,q=new Uint8Array(F),ne=0;ne<E;ne++){var ie=C[ne];ie instanceof Uint8Array||(ie=typeof ie=="string"?d(ie):new Uint8Array(ie));var ee=ie.byteLength;q.set(ie,G),G+=ee}return q},e.assert=M,e.bytesToString=function(C){M(C!==null&&o(C)==="object"&&C.length!==void 0,"Invalid argument for bytesToString");var E=C.length,F=8192;if(E<F)return String.fromCharCode.apply(null,C);for(var X=[],G=0;G<E;G+=F){var q=Math.min(G+F,E),ne=C.subarray(G,q);X.push(String.fromCharCode.apply(null,ne))}return X.join("")},e.createObjectURL=function(C){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",F=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(URL.createObjectURL&&!F)return URL.createObjectURL(new Blob([C],{type:E}));for(var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",G="data:".concat(E,";base64,"),q=0,ne=C.length;q<ne;q+=3){var ie=255&C[q],ee=255&C[q+1],te=255&C[q+2],se=ie>>2,le=(3&ie)<<4|ee>>4,de=q+1<ne?(15&ee)<<2|te>>6:64,oe=q+2<ne?63&te:64;G+=X[se]+X[le]+X[de]+X[oe]}return G},e.createPromiseCapability=function(){var C=Object.create(null),E=!1;return Object.defineProperty(C,"settled",{get:function(){return E}}),C.promise=new Promise(function(F,X){C.resolve=function(G){E=!0,F(G)},C.reject=function(G){E=!0,X(G)}}),C},e.createValidAbsoluteUrl=function(C,E){if(!C)return null;try{var F=E?new URL(C,E):new URL(C);if(function(X){if(!X)return!1;switch(X.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(F))return F}catch{}return null},e.escapeString=function(C){return C.replace(/([()\\\n\r])/g,function(E){return E===`
`?"\\n":E==="\r"?"\\r":"\\".concat(E)})},e.getModificationDate=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date,E=[C.getUTCFullYear().toString(),(C.getUTCMonth()+1).toString().padStart(2,"0"),C.getUTCDate().toString().padStart(2,"0"),C.getUTCHours().toString().padStart(2,"0"),C.getUTCMinutes().toString().padStart(2,"0"),C.getUTCSeconds().toString().padStart(2,"0")];return E.join("")},e.getVerbosityLevel=function(){return j},e.info=function(C){j>=I.INFOS&&console.log("Info: ".concat(C))},e.isArrayBuffer=function(C){return o(C)==="object"&&C!==null&&C.byteLength!==void 0},e.isArrayEqual=function(C,E){if(C.length!==E.length)return!1;for(var F=0,X=C.length;F<X;F++)if(C[F]!==E[F])return!1;return!0},e.isAscii=function(C){return/^[\x00-\x7F]*$/.test(C)},e.isBool=function(C){return typeof C=="boolean"},e.isNum=function(C){return typeof C=="number"},e.isSameOrigin=function(C,E){var F;try{if(!(F=new URL(C)).origin||F.origin==="null")return!1}catch{return!1}var X=new URL(E,F);return F.origin===X.origin},e.isString=function(C){return typeof C=="string"},e.objectFromMap=function(C){var E,F,X,G=Object.create(null),q=function(te,se){var le=typeof Symbol!="undefined"&&te[Symbol.iterator]||te["@@iterator"];if(!le){if(Array.isArray(te)||(le=i(te))||se&&te&&typeof te.length=="number"){le&&(te=le);var de=0,oe=function(){};return{s:oe,n:function(){return de>=te.length?{done:!0}:{done:!1,value:te[de++]}},e:function(K){throw K},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,J=!0,Y=!1;return{s:function(){le=le.call(te)},n:function(){var K=le.next();return J=K.done,K},e:function(K){Y=!0,B=K},f:function(){try{J||le.return==null||le.return()}finally{if(Y)throw B}}}}(C);try{for(q.s();!(E=q.n()).done;){var ne=(F=E.value,X=2,function(te){if(Array.isArray(te))return te}(F)||function(te,se){var le=te&&(typeof Symbol!="undefined"&&te[Symbol.iterator]||te["@@iterator"]);if(le!=null){var de,oe,B=[],J=!0,Y=!1;try{for(le=le.call(te);!(J=(de=le.next()).done)&&(B.push(de.value),!se||B.length!==se);J=!0);}catch(K){Y=!0,oe=K}finally{try{J||le.return==null||le.return()}finally{if(Y)throw oe}}return B}}(F,X)||i(F,X)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),ie=ne[0],ee=ne[1];G[ie]=ee}}catch(te){q.e(te)}finally{q.f()}return G},e.objectSize=function(C){return Object.keys(C).length},e.removeNullCharacters=function(C){return typeof C!="string"?(L("The argument for removeNullCharacters must be a string."),C):C.replace(f,"")},e.setVerbosityLevel=function(C){Number.isInteger(C)&&(j=C)},e.shadow=R,e.string32=function(C){return String.fromCharCode(C>>24&255,C>>16&255,C>>8&255,255&C)},e.stringToBytes=d,e.stringToPDFString=function(C){var E=C.length,F=[];if(C[0]==="\xFE"&&C[1]==="\xFF")for(var X=2;X<E;X+=2)F.push(String.fromCharCode(C.charCodeAt(X)<<8|C.charCodeAt(X+1)));else if(C[0]==="\xFF"&&C[1]==="\xFE")for(var G=2;G<E;G+=2)F.push(String.fromCharCode(C.charCodeAt(G+1)<<8|C.charCodeAt(G)));else for(var q=0;q<E;++q){var ne=y[C.charCodeAt(q)];F.push(ne?String.fromCharCode(ne):C.charAt(q))}return F.join("")},e.stringToUTF16BEString=function(C){for(var E=["\xFE\xFF"],F=0,X=C.length;F<X;F++){var G=C.charCodeAt(F);E.push(String.fromCharCode(G>>8&255),String.fromCharCode(255&G))}return E.join("")},e.stringToUTF8String=function(C){return decodeURIComponent(escape(C))},e.unreachable=z,e.utf8StringToString=function(C){return unescape(encodeURIComponent(C))},e.warn=L,e.VerbosityLevel=e.Util=e.UNSUPPORTED_FEATURES=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.IsLittleEndianCached=e.IsEvalSupportedCached=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,r(5),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var I={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=I,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var j=I.WARNINGS;function L(C){j>=I.WARNINGS&&console.log("Warning: ".concat(C))}function z(C){throw new Error(C)}function M(C,E){C||z(E)}function R(C,E,F){return Object.defineProperty(C,E,{value:F,enumerable:!0,configurable:!0,writable:!1}),F}var w=function(){function C(E){this.constructor===C&&z("Cannot initialize BaseException."),this.message=E,this.name=this.constructor.name}return C.prototype=new Error,C.constructor=C,C}();e.BaseException=w;var k=function(C){l(F,C);var E=m(F);function F(X,G){var q;return s(this,F),(q=E.call(this,X)).code=G,q}return F}(w);e.PasswordException=k;var A=function(C){l(F,C);var E=m(F);function F(X,G){var q;return s(this,F),(q=E.call(this,X)).details=G,q}return F}(w);e.UnknownErrorException=A;var D=function(C){l(F,C);var E=m(F);function F(){return s(this,F),E.apply(this,arguments)}return F}(w);e.InvalidPDFException=D;var P=function(C){l(F,C);var E=m(F);function F(){return s(this,F),E.apply(this,arguments)}return F}(w);e.MissingPDFException=P;var T=function(C){l(F,C);var E=m(F);function F(X,G){var q;return s(this,F),(q=E.call(this,X)).status=G,q}return F}(w);e.UnexpectedResponseException=T;var x=function(C){l(F,C);var E=m(F);function F(){return s(this,F),E.apply(this,arguments)}return F}(w);e.FormatError=x;var g=function(C){l(F,C);var E=m(F);function F(){return s(this,F),E.apply(this,arguments)}return F}(w);e.AbortException=g;var f=/\x00/g;function d(C){M(typeof C=="string","Invalid argument for stringToBytes");for(var E=C.length,F=new Uint8Array(E),X=0;X<E;++X)F[X]=255&C.charCodeAt(X);return F}function v(C){return C.length!==void 0?C.length:(M(C.byteLength!==void 0,"arrayByteLength - invalid argument."),C.byteLength)}var c={get value(){return R(this,"value",((C=new Uint8Array(4))[0]=1,new Uint32Array(C.buffer,0,1)[0]===1));var C}};e.IsLittleEndianCached=c;var O={get value(){return R(this,"value",function(){try{return new Function(""),!0}catch{return!1}}())}};e.IsEvalSupportedCached=O;var H,N=(H=Array(256).keys(),function(C){if(Array.isArray(C))return a(C)}(H)||function(C){if(typeof Symbol!="undefined"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}(H)||i(H)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(C){return C.toString(16).padStart(2,"0")}),U=function(){function C(){s(this,C)}var E,F,X;return E=C,X=[{key:"makeHexColor",value:function(G,q,ne){return"#".concat(N[G]).concat(N[q]).concat(N[ne])}},{key:"transform",value:function(G,q){return[G[0]*q[0]+G[2]*q[1],G[1]*q[0]+G[3]*q[1],G[0]*q[2]+G[2]*q[3],G[1]*q[2]+G[3]*q[3],G[0]*q[4]+G[2]*q[5]+G[4],G[1]*q[4]+G[3]*q[5]+G[5]]}},{key:"applyTransform",value:function(G,q){return[G[0]*q[0]+G[1]*q[2]+q[4],G[0]*q[1]+G[1]*q[3]+q[5]]}},{key:"applyInverseTransform",value:function(G,q){var ne=q[0]*q[3]-q[1]*q[2];return[(G[0]*q[3]-G[1]*q[2]+q[2]*q[5]-q[4]*q[3])/ne,(-G[0]*q[1]+G[1]*q[0]+q[4]*q[1]-q[5]*q[0])/ne]}},{key:"getAxialAlignedBoundingBox",value:function(G,q){var ne=C.applyTransform(G,q),ie=C.applyTransform(G.slice(2,4),q),ee=C.applyTransform([G[0],G[3]],q),te=C.applyTransform([G[2],G[1]],q);return[Math.min(ne[0],ie[0],ee[0],te[0]),Math.min(ne[1],ie[1],ee[1],te[1]),Math.max(ne[0],ie[0],ee[0],te[0]),Math.max(ne[1],ie[1],ee[1],te[1])]}},{key:"inverseTransform",value:function(G){var q=G[0]*G[3]-G[1]*G[2];return[G[3]/q,-G[1]/q,-G[2]/q,G[0]/q,(G[2]*G[5]-G[4]*G[3])/q,(G[4]*G[1]-G[5]*G[0])/q]}},{key:"apply3dTransform",value:function(G,q){return[G[0]*q[0]+G[1]*q[1]+G[2]*q[2],G[3]*q[0]+G[4]*q[1]+G[5]*q[2],G[6]*q[0]+G[7]*q[1]+G[8]*q[2]]}},{key:"singularValueDecompose2dScale",value:function(G){var q=[G[0],G[2],G[1],G[3]],ne=G[0]*q[0]+G[1]*q[2],ie=G[0]*q[1]+G[1]*q[3],ee=G[2]*q[0]+G[3]*q[2],te=G[2]*q[1]+G[3]*q[3],se=(ne+te)/2,le=Math.sqrt(Math.pow(ne+te,2)-4*(ne*te-ee*ie))/2,de=se+le||1,oe=se-le||1;return[Math.sqrt(de),Math.sqrt(oe)]}},{key:"normalizeRect",value:function(G){var q=G.slice(0);return G[0]>G[2]&&(q[0]=G[2],q[2]=G[0]),G[1]>G[3]&&(q[1]=G[3],q[3]=G[1]),q}},{key:"intersect",value:function(G,q){function ne(se,le){return se-le}var ie=[G[0],G[2],q[0],q[2]].sort(ne),ee=[G[1],G[3],q[1],q[3]].sort(ne),te=[];return G=C.normalizeRect(G),q=C.normalizeRect(q),ie[0]===G[0]&&ie[1]===q[0]||ie[0]===q[0]&&ie[1]===G[0]?(te[0]=ie[1],te[2]=ie[2],ee[0]===G[1]&&ee[1]===q[1]||ee[0]===q[1]&&ee[1]===G[1]?(te[1]=ee[1],te[3]=ee[2],te):null):null}}],(F=null)&&n(E.prototype,F),X&&n(E,X),C}();e.Util=U;var y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},(t,e,r)=>{var n=r(6);typeof globalThis!="undefined"&&globalThis._pdfjsCompatibilityChecked||(typeof globalThis!="undefined"&&globalThis.Math===Math||(globalThis=r(7)),globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&n.isNodeJS&&(globalThis.btoa=function(i){return Buffer.from(i,"binary").toString("base64")}),!globalThis.atob&&n.isNodeJS&&(globalThis.atob=function(i){return Buffer.from(i,"base64").toString("binary")}),Object.fromEntries||r(53),globalThis.Promise.allSettled||(globalThis.Promise=r(84)),function(){var i=!1;if(typeof ReadableStream!="undefined")try{new ReadableStream({start:function(a){a.close()}}),i=!0}catch{}i||(globalThis.ReadableStream=r(112).ReadableStream)}())},(t,e)=>{function r(i){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},r(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;var n=!((typeof process=="undefined"?"undefined":r(process))!=="object"||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=n},(t,e,r)=>{r(8),t.exports=r(10)},(t,e,r)=>{r(9)({global:!0},{globalThis:r(10)})},(t,e,r)=>{var n=r(10),i=r(11).f,a=r(26),o=r(29),s=r(30),l=r(40),u=r(52);t.exports=function(m,b){var _,I,j,L,z,M=m.target,R=m.global,w=m.stat;if(_=R?n:w?n[M]||s(M,{}):(n[M]||{}).prototype)for(I in b){if(L=b[I],j=m.noTargetGet?(z=i(_,I))&&z.value:_[I],!u(R?I:M+(w?".":"#")+I,m.forced)&&j!==void 0){if(typeof L==typeof j)continue;l(L,j)}(m.sham||j&&j.sham)&&a(L,"sham",!0),o(_,I,L,m)}}},t=>{var e=function(r){return r&&r.Math==Math&&r};t.exports=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof __webpack_require__.g=="object"&&__webpack_require__.g)||function(){return this}()||Function("return this")()},(t,e,r)=>{var n=r(12),i=r(14),a=r(15),o=r(16),s=r(20),l=r(22),u=r(24),m=Object.getOwnPropertyDescriptor;e.f=n?m:function(b,_){if(b=o(b),_=s(_,!0),u)try{return m(b,_)}catch{}if(l(b,_))return a(!i.f.call(b,_),b[_])}},(t,e,r)=>{var n=r(13);t.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},t=>{t.exports=function(e){try{return!!e()}catch{return!0}}},(t,e)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(a){var o=n(this,a);return!!o&&o.enumerable}:r},t=>{t.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}},(t,e,r)=>{var n=r(17),i=r(19);t.exports=function(a){return n(i(a))}},(t,e,r)=>{var n=r(13),i=r(18),a="".split;t.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(o){return i(o)=="String"?a.call(o,""):Object(o)}:Object},t=>{var e={}.toString;t.exports=function(r){return e.call(r).slice(8,-1)}},t=>{t.exports=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e}},(t,e,r)=>{var n=r(21);t.exports=function(i,a){if(!n(i))return i;var o,s;if(a&&typeof(o=i.toString)=="function"&&!n(s=o.call(i))||typeof(o=i.valueOf)=="function"&&!n(s=o.call(i))||!a&&typeof(o=i.toString)=="function"&&!n(s=o.call(i)))return s;throw TypeError("Can't convert object to primitive value")}},t=>{t.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},(t,e,r)=>{var n=r(23),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(a,o){return i.call(n(a),o)}},(t,e,r)=>{var n=r(19);t.exports=function(i){return Object(n(i))}},(t,e,r)=>{var n=r(12),i=r(13),a=r(25);t.exports=!n&&!i(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},(t,e,r)=>{var n=r(10),i=r(21),a=n.document,o=i(a)&&i(a.createElement);t.exports=function(s){return o?a.createElement(s):{}}},(t,e,r)=>{var n=r(12),i=r(27),a=r(15);t.exports=n?function(o,s,l){return i.f(o,s,a(1,l))}:function(o,s,l){return o[s]=l,o}},(t,e,r)=>{var n=r(12),i=r(24),a=r(28),o=r(20),s=Object.defineProperty;e.f=n?s:function(l,u,m){if(a(l),u=o(u,!0),a(m),i)try{return s(l,u,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(l[u]=m.value),l}},(t,e,r)=>{var n=r(21);t.exports=function(i){if(!n(i))throw TypeError(String(i)+" is not an object");return i}},(t,e,r)=>{var n=r(10),i=r(26),a=r(22),o=r(30),s=r(31),l=r(33),u=l.get,m=l.enforce,b=String(String).split("String");(t.exports=function(_,I,j,L){var z,M=!!L&&!!L.unsafe,R=!!L&&!!L.enumerable,w=!!L&&!!L.noTargetGet;typeof j=="function"&&(typeof I!="string"||a(j,"name")||i(j,"name",I),(z=m(j)).source||(z.source=b.join(typeof I=="string"?I:""))),_!==n?(M?!w&&_[I]&&(R=!0):delete _[I],R?_[I]=j:i(_,I,j)):R?_[I]=j:o(I,j)})(Function.prototype,"toString",function(){return typeof this=="function"&&u(this).source||s(this)})},(t,e,r)=>{var n=r(10),i=r(26);t.exports=function(a,o){try{i(n,a,o)}catch{n[a]=o}return o}},(t,e,r)=>{var n=r(32),i=Function.toString;typeof n.inspectSource!="function"&&(n.inspectSource=function(a){return i.call(a)}),t.exports=n.inspectSource},(t,e,r)=>{var n=r(10),i=r(30),a="__core-js_shared__",o=n[a]||i(a,{});t.exports=o},(t,e,r)=>{var n,i,a,o=r(34),s=r(10),l=r(21),u=r(26),m=r(22),b=r(32),_=r(35),I=r(39),j="Object already initialized",L=s.WeakMap;if(o||b.state){var z=b.state||(b.state=new L),M=z.get,R=z.has,w=z.set;n=function(A,D){if(R.call(z,A))throw new TypeError(j);return D.facade=A,w.call(z,A,D),D},i=function(A){return M.call(z,A)||{}},a=function(A){return R.call(z,A)}}else{var k=_("state");I[k]=!0,n=function(A,D){if(m(A,k))throw new TypeError(j);return D.facade=A,u(A,k,D),D},i=function(A){return m(A,k)?A[k]:{}},a=function(A){return m(A,k)}}t.exports={set:n,get:i,has:a,enforce:function(A){return a(A)?i(A):n(A,{})},getterFor:function(A){return function(D){var P;if(!l(D)||(P=i(D)).type!==A)throw TypeError("Incompatible receiver, "+A+" required");return P}}}},(t,e,r)=>{var n=r(10),i=r(31),a=n.WeakMap;t.exports=typeof a=="function"&&/native code/.test(i(a))},(t,e,r)=>{var n=r(36),i=r(38),a=n("keys");t.exports=function(o){return a[o]||(a[o]=i(o))}},(t,e,r)=>{var n=r(37),i=r(32);(t.exports=function(a,o){return i[a]||(i[a]=o!==void 0?o:{})})("versions",[]).push({version:"3.13.1",mode:n?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},t=>{t.exports=!1},t=>{var e=0,r=Math.random();t.exports=function(n){return"Symbol("+String(n===void 0?"":n)+")_"+(++e+r).toString(36)}},t=>{t.exports={}},(t,e,r)=>{var n=r(22),i=r(41),a=r(11),o=r(27);t.exports=function(s,l){for(var u=i(l),m=o.f,b=a.f,_=0;_<u.length;_++){var I=u[_];n(s,I)||m(s,I,b(l,I))}}},(t,e,r)=>{var n=r(42),i=r(44),a=r(51),o=r(28);t.exports=n("Reflect","ownKeys")||function(s){var l=i.f(o(s)),u=a.f;return u?l.concat(u(s)):l}},(t,e,r)=>{var n=r(43),i=r(10),a=function(o){return typeof o=="function"?o:void 0};t.exports=function(o,s){return arguments.length<2?a(n[o])||a(i[o]):n[o]&&n[o][s]||i[o]&&i[o][s]}},(t,e,r)=>{var n=r(10);t.exports=n},(t,e,r)=>{var n=r(45),i=r(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(a){return n(a,i)}},(t,e,r)=>{var n=r(22),i=r(16),a=r(46).indexOf,o=r(39);t.exports=function(s,l){var u,m=i(s),b=0,_=[];for(u in m)!n(o,u)&&n(m,u)&&_.push(u);for(;l.length>b;)n(m,u=l[b++])&&(~a(_,u)||_.push(u));return _}},(t,e,r)=>{var n=r(16),i=r(47),a=r(49),o=function(s){return function(l,u,m){var b,_=n(l),I=i(_.length),j=a(m,I);if(s&&u!=u){for(;I>j;)if((b=_[j++])!=b)return!0}else for(;I>j;j++)if((s||j in _)&&_[j]===u)return s||j||0;return!s&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},(t,e,r)=>{var n=r(48),i=Math.min;t.exports=function(a){return a>0?i(n(a),9007199254740991):0}},t=>{var e=Math.ceil,r=Math.floor;t.exports=function(n){return isNaN(n=+n)?0:(n>0?r:e)(n)}},(t,e,r)=>{var n=r(48),i=Math.max,a=Math.min;t.exports=function(o,s){var l=n(o);return l<0?i(l+s,0):a(l,s)}},t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,e)=>{e.f=Object.getOwnPropertySymbols},(t,e,r)=>{var n=r(13),i=/#|\.prototype\./,a=function(m,b){var _=s[o(m)];return _==u||_!=l&&(typeof b=="function"?n(b):!!b)},o=a.normalize=function(m){return String(m).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},(t,e,r)=>{r(54),r(74);var n=r(43);t.exports=n.Object.fromEntries},(t,e,r)=>{var n=r(16),i=r(55),a=r(65),o=r(33),s=r(66),l="Array Iterator",u=o.set,m=o.getterFor(l);t.exports=s(Array,"Array",function(b,_){u(this,{type:l,target:n(b),index:0,kind:_})},function(){var b=m(this),_=b.target,I=b.kind,j=b.index++;return!_||j>=_.length?(b.target=void 0,{value:void 0,done:!0}):I=="keys"?{value:j,done:!1}:I=="values"?{value:_[j],done:!1}:{value:[j,_[j]],done:!1}},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},(t,e,r)=>{var n=r(56),i=r(61),a=r(27),o=n("unscopables"),s=Array.prototype;s[o]==null&&a.f(s,o,{configurable:!0,value:i(null)}),t.exports=function(l){s[o][l]=!0}},(t,e,r)=>{var n=r(10),i=r(36),a=r(22),o=r(38),s=r(57),l=r(60),u=i("wks"),m=n.Symbol,b=l?m:m&&m.withoutSetter||o;t.exports=function(_){return a(u,_)&&(s||typeof u[_]=="string")||(s&&a(m,_)?u[_]=m[_]:u[_]=b("Symbol."+_)),u[_]}},(t,e,r)=>{var n=r(58),i=r(13);t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&n&&n<41})},(t,e,r)=>{var n,i,a=r(10),o=r(59),s=a.process,l=s&&s.versions,u=l&&l.v8;u?i=(n=u.split("."))[0]<4?1:n[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},(t,e,r)=>{var n=r(42);t.exports=n("navigator","userAgent")||""},(t,e,r)=>{var n=r(57);t.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(t,e,r)=>{var n,i=r(28),a=r(62),o=r(50),s=r(39),l=r(64),u=r(25),m=r(35),b=m("IE_PROTO"),_=function(){},I=function(L){return"<script>"+L+"<\/script>"},j=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch{}var L,z;j=n?function(R){R.write(I("")),R.close();var w=R.parentWindow.Object;return R=null,w}(n):((z=u("iframe")).style.display="none",l.appendChild(z),z.src=String("javascript:"),(L=z.contentWindow.document).open(),L.write(I("document.F=Object")),L.close(),L.F);for(var M=o.length;M--;)delete j.prototype[o[M]];return j()};s[b]=!0,t.exports=Object.create||function(L,z){var M;return L!==null?(_.prototype=i(L),M=new _,_.prototype=null,M[b]=L):M=j(),z===void 0?M:a(M,z)}},(t,e,r)=>{var n=r(12),i=r(27),a=r(28),o=r(63);t.exports=n?Object.defineProperties:function(s,l){a(s);for(var u,m=o(l),b=m.length,_=0;b>_;)i.f(s,u=m[_++],l[u]);return s}},(t,e,r)=>{var n=r(45),i=r(50);t.exports=Object.keys||function(a){return n(a,i)}},(t,e,r)=>{var n=r(42);t.exports=n("document","documentElement")},t=>{t.exports={}},(t,e,r)=>{var n=r(9),i=r(67),a=r(69),o=r(72),s=r(71),l=r(26),u=r(29),m=r(56),b=r(37),_=r(65),I=r(68),j=I.IteratorPrototype,L=I.BUGGY_SAFARI_ITERATORS,z=m("iterator"),M="keys",R="values",w="entries",k=function(){return this};t.exports=function(A,D,P,T,x,g,f){i(P,D,T);var d,v,c,O=function(F){if(F===x&&C)return C;if(!L&&F in U)return U[F];switch(F){case M:case R:case w:return function(){return new P(this,F)}}return function(){return new P(this)}},H=D+" Iterator",N=!1,U=A.prototype,y=U[z]||U["@@iterator"]||x&&U[x],C=!L&&y||O(x),E=D=="Array"&&U.entries||y;if(E&&(d=a(E.call(new A)),j!==Object.prototype&&d.next&&(b||a(d)===j||(o?o(d,j):typeof d[z]!="function"&&l(d,z,k)),s(d,H,!0,!0),b&&(_[H]=k))),x==R&&y&&y.name!==R&&(N=!0,C=function(){return y.call(this)}),b&&!f||U[z]===C||l(U,z,C),_[D]=C,x)if(v={values:O(R),keys:g?C:O(M),entries:O(w)},f)for(c in v)(L||N||!(c in U))&&u(U,c,v[c]);else n({target:D,proto:!0,forced:L||N},v);return v}},(t,e,r)=>{var n=r(68).IteratorPrototype,i=r(61),a=r(15),o=r(71),s=r(65),l=function(){return this};t.exports=function(u,m,b){var _=m+" Iterator";return u.prototype=i(n,{next:a(1,b)}),o(u,_,!1,!0),s[_]=l,u}},(t,e,r)=>{var n,i,a,o=r(13),s=r(69),l=r(26),u=r(22),m=r(56),b=r(37),_=m("iterator"),I=!1;[].keys&&("next"in(a=[].keys())?(i=s(s(a)))!==Object.prototype&&(n=i):I=!0);var j=n==null||o(function(){var L={};return n[_].call(L)!==L});j&&(n={}),b&&!j||u(n,_)||l(n,_,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:I}},(t,e,r)=>{var n=r(22),i=r(23),a=r(35),o=r(70),s=a("IE_PROTO"),l=Object.prototype;t.exports=o?Object.getPrototypeOf:function(u){return u=i(u),n(u,s)?u[s]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?l:null}},(t,e,r)=>{var n=r(13);t.exports=!n(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},(t,e,r)=>{var n=r(27).f,i=r(22),a=r(56)("toStringTag");t.exports=function(o,s,l){o&&!i(o=l?o:o.prototype,a)&&n(o,a,{configurable:!0,value:s})}},(t,e,r)=>{var n=r(28),i=r(73);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,o=!1,s={};try{(a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(s,[]),o=s instanceof Array}catch{}return function(l,u){return n(l),i(u),o?a.call(l,u):l.__proto__=u,l}}():void 0)},(t,e,r)=>{var n=r(21);t.exports=function(i){if(!n(i)&&i!==null)throw TypeError("Can't set "+String(i)+" as a prototype");return i}},(t,e,r)=>{var n=r(9),i=r(75),a=r(83);n({target:"Object",stat:!0},{fromEntries:function(o){var s={};return i(o,function(l,u){a(s,l,u)},{AS_ENTRIES:!0}),s}})},(t,e,r)=>{var n=r(28),i=r(76),a=r(47),o=r(77),s=r(79),l=r(82),u=function(m,b){this.stopped=m,this.result=b};t.exports=function(m,b,_){var I,j,L,z,M,R,w,k=_&&_.that,A=!(!_||!_.AS_ENTRIES),D=!(!_||!_.IS_ITERATOR),P=!(!_||!_.INTERRUPTED),T=o(b,k,1+A+P),x=function(f){return I&&l(I),new u(!0,f)},g=function(f){return A?(n(f),P?T(f[0],f[1],x):T(f[0],f[1])):P?T(f,x):T(f)};if(D)I=m;else{if(typeof(j=s(m))!="function")throw TypeError("Target is not iterable");if(i(j)){for(L=0,z=a(m.length);z>L;L++)if((M=g(m[L]))&&M instanceof u)return M;return new u(!1)}I=j.call(m)}for(R=I.next;!(w=R.call(I)).done;){try{M=g(w.value)}catch(f){throw l(I),f}if(typeof M=="object"&&M&&M instanceof u)return M}return new u(!1)}},(t,e,r)=>{var n=r(56),i=r(65),a=n("iterator"),o=Array.prototype;t.exports=function(s){return s!==void 0&&(i.Array===s||o[a]===s)}},(t,e,r)=>{var n=r(78);t.exports=function(i,a,o){if(n(i),a===void 0)return i;switch(o){case 0:return function(){return i.call(a)};case 1:return function(s){return i.call(a,s)};case 2:return function(s,l){return i.call(a,s,l)};case 3:return function(s,l,u){return i.call(a,s,l,u)}}return function(){return i.apply(a,arguments)}}},t=>{t.exports=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e}},(t,e,r)=>{var n=r(80),i=r(65),a=r(56)("iterator");t.exports=function(o){if(o!=null)return o[a]||o["@@iterator"]||i[n(o)]}},(t,e,r)=>{var n=r(81),i=r(18),a=r(56)("toStringTag"),o=i(function(){return arguments}())=="Arguments";t.exports=n?i:function(s){var l,u,m;return s===void 0?"Undefined":s===null?"Null":typeof(u=function(b,_){try{return b[_]}catch{}}(l=Object(s),a))=="string"?u:o?i(l):(m=i(l))=="Object"&&typeof l.callee=="function"?"Arguments":m}},(t,e,r)=>{var n={};n[r(56)("toStringTag")]="z",t.exports=String(n)==="[object z]"},(t,e,r)=>{var n=r(28);t.exports=function(i){var a=i.return;if(a!==void 0)return n(a.call(i)).value}},(t,e,r)=>{var n=r(20),i=r(27),a=r(15);t.exports=function(o,s,l){var u=n(s);u in o?i.f(o,u,a(0,l)):o[u]=l}},(t,e,r)=>{r(85),r(86),r(88),r(105),r(106),r(107),r(108),r(110);var n=r(43);t.exports=n.Promise},(t,e,r)=>{var n=r(9),i=r(69),a=r(72),o=r(61),s=r(26),l=r(15),u=r(75),m=function(b,_){var I=this;if(!(I instanceof m))return new m(b,_);a&&(I=a(new Error(void 0),i(I))),_!==void 0&&s(I,"message",String(_));var j=[];return u(b,j.push,{that:j}),s(I,"errors",j),I};m.prototype=o(Error.prototype,{constructor:l(5,m),message:l(5,""),name:l(5,"AggregateError")}),n({global:!0},{AggregateError:m})},(t,e,r)=>{var n=r(81),i=r(29),a=r(87);n||i(Object.prototype,"toString",a,{unsafe:!0})},(t,e,r)=>{var n=r(81),i=r(80);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},(t,e,r)=>{var n,i,a,o,s=r(9),l=r(37),u=r(10),m=r(42),b=r(89),_=r(29),I=r(90),j=r(72),L=r(71),z=r(91),M=r(21),R=r(78),w=r(92),k=r(31),A=r(75),D=r(93),P=r(94),T=r(95).set,x=r(98),g=r(100),f=r(102),d=r(101),v=r(103),c=r(33),O=r(52),H=r(56),N=r(104),U=r(97),y=r(58),C=H("species"),E="Promise",F=c.get,X=c.set,G=c.getterFor(E),q=b&&b.prototype,ne=b,ie=q,ee=u.TypeError,te=u.document,se=u.process,le=d.f,de=le,oe=!!(te&&te.createEvent&&u.dispatchEvent),B=typeof PromiseRejectionEvent=="function",J="unhandledrejection",Y=!1,K=O(E,function(){var pe=k(ne)!==String(ne);if(!pe&&y===66||l&&!ie.finally)return!0;if(y>=51&&/native code/.test(ne))return!1;var _e=new ne(function(Ce){Ce(1)}),Se=function(Ce){Ce(function(){},function(){})};return(_e.constructor={})[C]=Se,!(Y=_e.then(function(){})instanceof Se)||!pe&&N&&!B}),Z=K||!D(function(pe){ne.all(pe).catch(function(){})}),Q=function(pe){var _e;return!(!M(pe)||typeof(_e=pe.then)!="function")&&_e},ue=function(pe,_e){if(!pe.notified){pe.notified=!0;var Se=pe.reactions;x(function(){for(var Ce=pe.value,Ee=pe.state==1,xe=0;Se.length>xe;){var ke,Ie,De,Le=Se[xe++],$e=Ee?Le.ok:Le.fail,Ve=Le.resolve,ze=Le.reject,Me=Le.domain;try{$e?(Ee||(pe.rejection===2&&ve(pe),pe.rejection=1),$e===!0?ke=Ce:(Me&&Me.enter(),ke=$e(Ce),Me&&(Me.exit(),De=!0)),ke===Le.promise?ze(ee("Promise-chain cycle")):(Ie=Q(ke))?Ie.call(ke,Ve,ze):Ve(ke)):ze(Ce)}catch(We){Me&&!De&&Me.exit(),ze(We)}}pe.reactions=[],pe.notified=!1,_e&&!pe.rejection&&ae(pe)})}},ce=function(pe,_e,Se){var Ce,Ee;oe?((Ce=te.createEvent("Event")).promise=_e,Ce.reason=Se,Ce.initEvent(pe,!1,!0),u.dispatchEvent(Ce)):Ce={promise:_e,reason:Se},!B&&(Ee=u["on"+pe])?Ee(Ce):pe===J&&f("Unhandled promise rejection",Se)},ae=function(pe){T.call(u,function(){var _e,Se=pe.facade,Ce=pe.value;if(me(pe)&&(_e=v(function(){U?se.emit("unhandledRejection",Ce,Se):ce(J,Se,Ce)}),pe.rejection=U||me(pe)?2:1,_e.error))throw _e.value})},me=function(pe){return pe.rejection!==1&&!pe.parent},ve=function(pe){T.call(u,function(){var _e=pe.facade;U?se.emit("rejectionHandled",_e):ce("rejectionhandled",_e,pe.value)})},he=function(pe,_e,Se){return function(Ce){pe(_e,Ce,Se)}},ge=function(pe,_e,Se){pe.done||(pe.done=!0,Se&&(pe=Se),pe.value=_e,pe.state=2,ue(pe,!0))},ye=function(pe,_e,Se){if(!pe.done){pe.done=!0,Se&&(pe=Se);try{if(pe.facade===_e)throw ee("Promise can't be resolved itself");var Ce=Q(_e);Ce?x(function(){var Ee={done:!1};try{Ce.call(_e,he(ye,Ee,pe),he(ge,Ee,pe))}catch(xe){ge(Ee,xe,pe)}}):(pe.value=_e,pe.state=1,ue(pe,!1))}catch(Ee){ge({done:!1},Ee,pe)}}};if(K&&(ie=(ne=function(pe){w(this,ne,E),R(pe),n.call(this);var _e=F(this);try{pe(he(ye,_e),he(ge,_e))}catch(Se){ge(_e,Se)}}).prototype,(n=function(pe){X(this,{type:E,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=I(ie,{then:function(pe,_e){var Se=G(this),Ce=le(P(this,ne));return Ce.ok=typeof pe!="function"||pe,Ce.fail=typeof _e=="function"&&_e,Ce.domain=U?se.domain:void 0,Se.parent=!0,Se.reactions.push(Ce),Se.state!=0&&ue(Se,!1),Ce.promise},catch:function(pe){return this.then(void 0,pe)}}),i=function(){var pe=new n,_e=F(pe);this.promise=pe,this.resolve=he(ye,_e),this.reject=he(ge,_e)},d.f=le=function(pe){return pe===ne||pe===a?new i(pe):de(pe)},!l&&typeof b=="function"&&q!==Object.prototype)){o=q.then,Y||(_(q,"then",function(pe,_e){var Se=this;return new ne(function(Ce,Ee){o.call(Se,Ce,Ee)}).then(pe,_e)},{unsafe:!0}),_(q,"catch",ie.catch,{unsafe:!0}));try{delete q.constructor}catch{}j&&j(q,ie)}s({global:!0,wrap:!0,forced:K},{Promise:ne}),L(ne,E,!1,!0),z(E),a=m(E),s({target:E,stat:!0,forced:K},{reject:function(pe){var _e=le(this);return _e.reject.call(void 0,pe),_e.promise}}),s({target:E,stat:!0,forced:l||K},{resolve:function(pe){return g(l&&this===a?ne:this,pe)}}),s({target:E,stat:!0,forced:Z},{all:function(pe){var _e=this,Se=le(_e),Ce=Se.resolve,Ee=Se.reject,xe=v(function(){var ke=R(_e.resolve),Ie=[],De=0,Le=1;A(pe,function($e){var Ve=De++,ze=!1;Ie.push(void 0),Le++,ke.call(_e,$e).then(function(Me){ze||(ze=!0,Ie[Ve]=Me,--Le||Ce(Ie))},Ee)}),--Le||Ce(Ie)});return xe.error&&Ee(xe.value),Se.promise},race:function(pe){var _e=this,Se=le(_e),Ce=Se.reject,Ee=v(function(){var xe=R(_e.resolve);A(pe,function(ke){xe.call(_e,ke).then(Se.resolve,Ce)})});return Ee.error&&Ce(Ee.value),Se.promise}})},(t,e,r)=>{var n=r(10);t.exports=n.Promise},(t,e,r)=>{var n=r(29);t.exports=function(i,a,o){for(var s in a)n(i,s,a[s],o);return i}},(t,e,r)=>{var n=r(42),i=r(27),a=r(56),o=r(12),s=a("species");t.exports=function(l){var u=n(l),m=i.f;o&&u&&!u[s]&&m(u,s,{configurable:!0,get:function(){return this}})}},t=>{t.exports=function(e,r,n){if(!(e instanceof r))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},(t,e,r)=>{var n=r(56)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,function(){throw 2})}catch{}t.exports=function(s,l){if(!l&&!i)return!1;var u=!1;try{var m={};m[n]=function(){return{next:function(){return{done:u=!0}}}},s(m)}catch{}return u}},(t,e,r)=>{var n=r(28),i=r(78),a=r(56)("species");t.exports=function(o,s){var l,u=n(o).constructor;return u===void 0||(l=n(u)[a])==null?s:i(l)}},(t,e,r)=>{var n,i,a,o=r(10),s=r(13),l=r(77),u=r(64),m=r(25),b=r(96),_=r(97),I=o.location,j=o.setImmediate,L=o.clearImmediate,z=o.process,M=o.MessageChannel,R=o.Dispatch,w=0,k={},A="onreadystatechange",D=function(g){if(k.hasOwnProperty(g)){var f=k[g];delete k[g],f()}},P=function(g){return function(){D(g)}},T=function(g){D(g.data)},x=function(g){o.postMessage(g+"",I.protocol+"//"+I.host)};j&&L||(j=function(g){for(var f=[],d=1;arguments.length>d;)f.push(arguments[d++]);return k[++w]=function(){(typeof g=="function"?g:Function(g)).apply(void 0,f)},n(w),w},L=function(g){delete k[g]},_?n=function(g){z.nextTick(P(g))}:R&&R.now?n=function(g){R.now(P(g))}:M&&!b?(a=(i=new M).port2,i.port1.onmessage=T,n=l(a.postMessage,a,1)):o.addEventListener&&typeof postMessage=="function"&&!o.importScripts&&I&&I.protocol!=="file:"&&!s(x)?(n=x,o.addEventListener("message",T,!1)):n=A in m("script")?function(g){u.appendChild(m("script")).onreadystatechange=function(){u.removeChild(this),D(g)}}:function(g){setTimeout(P(g),0)}),t.exports={set:j,clear:L}},(t,e,r)=>{var n=r(59);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},(t,e,r)=>{var n=r(18),i=r(10);t.exports=n(i.process)=="process"},(t,e,r)=>{var n,i,a,o,s,l,u,m,b=r(10),_=r(11).f,I=r(95).set,j=r(96),L=r(99),z=r(97),M=b.MutationObserver||b.WebKitMutationObserver,R=b.document,w=b.process,k=b.Promise,A=_(b,"queueMicrotask"),D=A&&A.value;D||(n=function(){var P,T;for(z&&(P=w.domain)&&P.exit();i;){T=i.fn,i=i.next;try{T()}catch(x){throw i?o():a=void 0,x}}a=void 0,P&&P.enter()},j||z||L||!M||!R?k&&k.resolve?((u=k.resolve(void 0)).constructor=k,m=u.then,o=function(){m.call(u,n)}):o=z?function(){w.nextTick(n)}:function(){I.call(b,n)}:(s=!0,l=R.createTextNode(""),new M(n).observe(l,{characterData:!0}),o=function(){l.data=s=!s})),t.exports=D||function(P){var T={fn:P,next:void 0};a&&(a.next=T),i||(i=T,o()),a=T}},(t,e,r)=>{var n=r(59);t.exports=/web0s(?!.*chrome)/i.test(n)},(t,e,r)=>{var n=r(28),i=r(21),a=r(101);t.exports=function(o,s){if(n(o),i(s)&&s.constructor===o)return s;var l=a.f(o);return(0,l.resolve)(s),l.promise}},(t,e,r)=>{var n=r(78),i=function(a){var o,s;this.promise=new a(function(l,u){if(o!==void 0||s!==void 0)throw TypeError("Bad Promise constructor");o=l,s=u}),this.resolve=n(o),this.reject=n(s)};t.exports.f=function(a){return new i(a)}},(t,e,r)=>{var n=r(10);t.exports=function(i,a){var o=n.console;o&&o.error&&(arguments.length===1?o.error(i):o.error(i,a))}},t=>{t.exports=function(e){try{return{error:!1,value:e()}}catch(r){return{error:!0,value:r}}}},t=>{t.exports=typeof window=="object"},(t,e,r)=>{var n=r(9),i=r(78),a=r(101),o=r(103),s=r(75);n({target:"Promise",stat:!0},{allSettled:function(l){var u=this,m=a.f(u),b=m.resolve,_=m.reject,I=o(function(){var j=i(u.resolve),L=[],z=0,M=1;s(l,function(R){var w=z++,k=!1;L.push(void 0),M++,j.call(u,R).then(function(A){k||(k=!0,L[w]={status:"fulfilled",value:A},--M||b(L))},function(A){k||(k=!0,L[w]={status:"rejected",reason:A},--M||b(L))})}),--M||b(L)});return I.error&&_(I.value),m.promise}})},(t,e,r)=>{var n=r(9),i=r(78),a=r(42),o=r(101),s=r(103),l=r(75),u="No one promise resolved";n({target:"Promise",stat:!0},{any:function(m){var b=this,_=o.f(b),I=_.resolve,j=_.reject,L=s(function(){var z=i(b.resolve),M=[],R=0,w=1,k=!1;l(m,function(A){var D=R++,P=!1;M.push(void 0),w++,z.call(b,A).then(function(T){P||k||(k=!0,I(T))},function(T){P||k||(P=!0,M[D]=T,--w||j(new(a("AggregateError"))(M,u)))})}),--w||j(new(a("AggregateError"))(M,u))});return L.error&&j(L.value),_.promise}})},(t,e,r)=>{var n=r(9),i=r(37),a=r(89),o=r(13),s=r(42),l=r(94),u=r(100),m=r(29);if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o(function(){a.prototype.finally.call({then:function(){}},function(){})})},{finally:function(_){var I=l(this,s("Promise")),j=typeof _=="function";return this.then(j?function(L){return u(I,_()).then(function(){return L})}:_,j?function(L){return u(I,_()).then(function(){throw L})}:_)}}),!i&&typeof a=="function"){var b=s("Promise").prototype.finally;a.prototype.finally!==b&&m(a.prototype,"finally",b,{unsafe:!0})}},(t,e,r)=>{var n=r(109).charAt,i=r(33),a=r(66),o="String Iterator",s=i.set,l=i.getterFor(o);a(String,"String",function(u){s(this,{type:o,string:String(u),index:0})},function(){var u,m=l(this),b=m.string,_=m.index;return _>=b.length?{value:void 0,done:!0}:(u=n(b,_),m.index+=u.length,{value:u,done:!1})})},(t,e,r)=>{var n=r(48),i=r(19),a=function(o){return function(s,l){var u,m,b=String(i(s)),_=n(l),I=b.length;return _<0||_>=I?o?"":void 0:(u=b.charCodeAt(_))<55296||u>56319||_+1===I||(m=b.charCodeAt(_+1))<56320||m>57343?o?b.charAt(_):u:o?b.slice(_,_+2):m-56320+(u-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},(t,e,r)=>{var n=r(10),i=r(111),a=r(54),o=r(26),s=r(56),l=s("iterator"),u=s("toStringTag"),m=a.values;for(var b in i){var _=n[b],I=_&&_.prototype;if(I){if(I[l]!==m)try{o(I,l,m)}catch{I[l]=m}if(I[u]||o(I,u,b),i[b]){for(var j in a)if(I[j]!==a[j])try{o(I,j,a[j])}catch{I[j]=a[j]}}}}},t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e){(function(r){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(S){return"Symbol("+S+")"};function i(){}function a(){return typeof self!="undefined"?self:typeof window!="undefined"?window:__webpack_require__.g!==void 0?__webpack_require__.g:void 0}var o=a();function s(S){return typeof S=="object"&&S!==null||typeof S=="function"}var l=i,u=Promise,m=Promise.prototype.then,b=Promise.resolve.bind(u),_=Promise.reject.bind(u);function I(S){return new u(S)}function j(S){return b(S)}function L(S){return _(S)}function z(S,W,re){return m.call(S,W,re)}function M(S,W,re){z(z(S,W,re),void 0,l)}function R(S,W){M(S,W)}function w(S,W){M(S,void 0,W)}function k(S,W,re){return z(S,W,re)}function A(S){z(S,void 0,l)}var D=function(){var S=o&&o.queueMicrotask;if(typeof S=="function")return S;var W=j(void 0);return function(re){return z(W,re)}}();function P(S,W,re){if(typeof S!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(S,W,re)}function T(S,W,re){try{return j(P(S,W,re))}catch(fe){return L(fe)}}var x=16384,g=function(){function S(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(S.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),S.prototype.push=function(W){var re=this._back,fe=re;re._elements.length===x-1&&(fe={_elements:[],_next:void 0}),re._elements.push(W),fe!==re&&(this._back=fe,re._next=fe),++this._size},S.prototype.shift=function(){var W=this._front,re=W,fe=this._cursor,be=fe+1,we=W._elements,Ae=we[fe];return be===x&&(re=W._next,be=0),--this._size,this._cursor=be,W!==re&&(this._front=re),we[fe]=void 0,Ae},S.prototype.forEach=function(W){for(var re=this._cursor,fe=this._front,be=fe._elements;!(re===be.length&&fe._next===void 0||re===be.length&&(re=0,(be=(fe=fe._next)._elements).length===0));)W(be[re]),++re},S.prototype.peek=function(){var W=this._front,re=this._cursor;return W._elements[re]},S}();function f(S,W){S._ownerReadableStream=W,W._reader=S,W._state==="readable"?O(S):W._state==="closed"?N(S):H(S,W._storedError)}function d(S,W){return et(S._ownerReadableStream,W)}function v(S){S._ownerReadableStream._state==="readable"?U(S,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):y(S,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),S._ownerReadableStream._reader=void 0,S._ownerReadableStream=void 0}function c(S){return new TypeError("Cannot "+S+" a stream using a released reader")}function O(S){S._closedPromise=I(function(W,re){S._closedPromise_resolve=W,S._closedPromise_reject=re})}function H(S,W){O(S),U(S,W)}function N(S){O(S),C(S)}function U(S,W){S._closedPromise_reject!==void 0&&(A(S._closedPromise),S._closedPromise_reject(W),S._closedPromise_resolve=void 0,S._closedPromise_reject=void 0)}function y(S,W){H(S,W)}function C(S){S._closedPromise_resolve!==void 0&&(S._closedPromise_resolve(void 0),S._closedPromise_resolve=void 0,S._closedPromise_reject=void 0)}var E=n("[[AbortSteps]]"),F=n("[[ErrorSteps]]"),X=n("[[CancelSteps]]"),G=n("[[PullSteps]]"),q=Number.isFinite||function(S){return typeof S=="number"&&isFinite(S)},ne=Math.trunc||function(S){return S<0?Math.ceil(S):Math.floor(S)};function ie(S){return typeof S=="object"||typeof S=="function"}function ee(S,W){if(S!==void 0&&!ie(S))throw new TypeError(W+" is not an object.")}function te(S,W){if(typeof S!="function")throw new TypeError(W+" is not a function.")}function se(S){return typeof S=="object"&&S!==null||typeof S=="function"}function le(S,W){if(!se(S))throw new TypeError(W+" is not an object.")}function de(S,W,re){if(S===void 0)throw new TypeError("Parameter "+W+" is required in '"+re+"'.")}function oe(S,W,re){if(S===void 0)throw new TypeError(W+" is required in '"+re+"'.")}function B(S){return Number(S)}function J(S){return S===0?0:S}function Y(S){return J(ne(S))}function K(S,W){var re=0,fe=Number.MAX_SAFE_INTEGER,be=Number(S);if(be=J(be),!q(be))throw new TypeError(W+" is not a finite number");if((be=Y(be))<re||be>fe)throw new TypeError(W+" is outside the accepted range of "+re+" to "+fe+", inclusive");return q(be)&&be!==0?be:0}function Z(S,W){if(!Xe(S))throw new TypeError(W+" is not a ReadableStream.")}function Q(S){return new ge(S)}function ue(S,W){S._reader._readRequests.push(W)}function ce(S,W,re){var fe=S._reader._readRequests.shift();re?fe._closeSteps():fe._chunkSteps(W)}function ae(S){return S._reader._readRequests.length}function me(S){var W=S._reader;return W!==void 0&&!!ye(W)}var ve,he,ge=function(){function S(W){if(de(W,1,"ReadableStreamDefaultReader"),Z(W,"First parameter"),Ke(W))throw new TypeError("This stream has already been locked for exclusive reading by another reader");f(this,W),this._readRequests=new g}return Object.defineProperty(S.prototype,"closed",{get:function(){return ye(this)?this._closedPromise:L(_e("closed"))},enumerable:!1,configurable:!0}),S.prototype.cancel=function(W){return W===void 0&&(W=void 0),ye(this)?this._ownerReadableStream===void 0?L(c("cancel")):d(this,W):L(_e("cancel"))},S.prototype.read=function(){if(!ye(this))return L(_e("read"));if(this._ownerReadableStream===void 0)return L(c("read from"));var W,re,fe=I(function(be,we){W=be,re=we});return pe(this,{_chunkSteps:function(be){return W({value:be,done:!1})},_closeSteps:function(){return W({value:void 0,done:!0})},_errorSteps:function(be){return re(be)}}),fe},S.prototype.releaseLock=function(){if(!ye(this))throw _e("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");v(this)}},S}();function ye(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_readRequests")}function pe(S,W){var re=S._ownerReadableStream;re._disturbed=!0,re._state==="closed"?W._closeSteps():re._state==="errored"?W._errorSteps(re._storedError):re._readableStreamController[G](W)}function _e(S){return new TypeError("ReadableStreamDefaultReader.prototype."+S+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(ge.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(ge.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),typeof n.asyncIterator=="symbol"&&((ve={})[n.asyncIterator]=function(){return this},he=ve,Object.defineProperty(he,n.asyncIterator,{enumerable:!1}));var Se=function(){function S(W,re){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=W,this._preventCancel=re}return S.prototype.next=function(){var W=this,re=function(){return W._nextSteps()};return this._ongoingPromise=this._ongoingPromise?k(this._ongoingPromise,re,re):re(),this._ongoingPromise},S.prototype.return=function(W){var re=this,fe=function(){return re._returnSteps(W)};return this._ongoingPromise?k(this._ongoingPromise,fe,fe):fe()},S.prototype._nextSteps=function(){var W=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var re,fe,be=this._reader;if(be._ownerReadableStream===void 0)return L(c("iterate"));var we=I(function(Ae,Te){re=Ae,fe=Te});return pe(be,{_chunkSteps:function(Ae){W._ongoingPromise=void 0,D(function(){return re({value:Ae,done:!1})})},_closeSteps:function(){W._ongoingPromise=void 0,W._isFinished=!0,v(be),re({value:void 0,done:!0})},_errorSteps:function(Ae){W._ongoingPromise=void 0,W._isFinished=!0,v(be),fe(Ae)}}),we},S.prototype._returnSteps=function(W){if(this._isFinished)return Promise.resolve({value:W,done:!0});this._isFinished=!0;var re=this._reader;if(re._ownerReadableStream===void 0)return L(c("finish iterating"));if(!this._preventCancel){var fe=d(re,W);return v(re),k(fe,function(){return{value:W,done:!0}})}return v(re),j({value:W,done:!0})},S}(),Ce={next:function(){return xe(this)?this._asyncIteratorImpl.next():L(ke("next"))},return:function(S){return xe(this)?this._asyncIteratorImpl.return(S):L(ke("return"))}};function Ee(S,W){var re=Q(S),fe=new Se(re,W),be=Object.create(Ce);return be._asyncIteratorImpl=fe,be}function xe(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_asyncIteratorImpl")}function ke(S){return new TypeError("ReadableStreamAsyncIterator."+S+" can only be used on a ReadableSteamAsyncIterator")}he!==void 0&&Object.setPrototypeOf(Ce,he);var Ie=Number.isNaN||function(S){return S!=S};function De(S){return!!Le(S)&&S!==1/0}function Le(S){return!(typeof S!="number"||Ie(S)||S<0)}function $e(S){var W=S._queue.shift();return S._queueTotalSize-=W.size,S._queueTotalSize<0&&(S._queueTotalSize=0),W.value}function Ve(S,W,re){if(!De(re=Number(re)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");S._queue.push({value:W,size:re}),S._queueTotalSize+=re}function ze(S){return S._queue.peek().value}function Me(S){S._queue=new g,S._queueTotalSize=0}function We(S){return S.slice()}function nt(S,W,re,fe,be){new Uint8Array(S).set(new Uint8Array(re,fe,be),W)}function Li(S){return S}function un(S){return!1}var St=function(){function S(){throw new TypeError("Illegal constructor")}return Object.defineProperty(S.prototype,"view",{get:function(){if(!Zt(this))throw tr("view");return this._view},enumerable:!1,configurable:!0}),S.prototype.respond=function(W){if(!Zt(this))throw tr("respond");if(de(W,1,"respond"),W=K(W,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");un(this._view.buffer),gn(this._associatedReadableByteStreamController,W)},S.prototype.respondWithNewView=function(W){if(!Zt(this))throw tr("respondWithNewView");if(de(W,1,"respondWithNewView"),!ArrayBuffer.isView(W))throw new TypeError("You can only respond with array buffer views");if(W.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(W.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");_n(this._associatedReadableByteStreamController,W)},S}();Object.defineProperties(St.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(St.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var wt=function(){function S(){throw new TypeError("Illegal constructor")}return Object.defineProperty(S.prototype,"byobRequest",{get:function(){if(!it(this))throw dt("byobRequest");if(this._byobRequest===null&&this._pendingPullIntos.length>0){var W=this._pendingPullIntos.peek(),re=new Uint8Array(W.buffer,W.byteOffset+W.bytesFilled,W.byteLength-W.bytesFilled),fe=Object.create(St.prototype);Sn(fe,this,re),this._byobRequest=fe}return this._byobRequest},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"desiredSize",{get:function(){if(!it(this))throw dt("desiredSize");return Er(this)},enumerable:!1,configurable:!0}),S.prototype.close=function(){if(!it(this))throw dt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var W=this._controlledReadableByteStream._state;if(W!=="readable")throw new TypeError("The stream (in "+W+" state) is not in the readable state and cannot be closed");mn(this)},S.prototype.enqueue=function(W){if(!it(this))throw dt("enqueue");if(de(W,1,"enqueue"),!ArrayBuffer.isView(W))throw new TypeError("chunk must be an array buffer view");if(W.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(W.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var re=this._controlledReadableByteStream._state;if(re!=="readable")throw new TypeError("The stream (in "+re+" state) is not in the readable state and cannot be enqueued to");vn(this,W)},S.prototype.error=function(W){if(W===void 0&&(W=void 0),!it(this))throw dt("error");ct(this,W)},S.prototype[X]=function(W){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),Me(this);var re=this._cancelAlgorithm(W);return At(this),re},S.prototype[G]=function(W){var re=this._controlledReadableByteStream;if(this._queueTotalSize>0){var fe=this._queue.shift();this._queueTotalSize-=fe.byteLength,wr(this);var be=new Uint8Array(fe.buffer,fe.byteOffset,fe.byteLength);W._chunkSteps(be)}else{var we=this._autoAllocateChunkSize;if(we!==void 0){var Ae=void 0;try{Ae=new ArrayBuffer(we)}catch(Oe){return void W._errorSteps(Oe)}var Te={buffer:Ae,byteOffset:0,byteLength:we,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Te)}ue(re,W),Ze(this)}},S}();function it(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_controlledReadableByteStream")}function Zt(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_associatedReadableByteStreamController")}function Ze(S){pn(S)&&(S._pulling?S._pullAgain=!0:(S._pulling=!0,M(S._pullAlgorithm(),function(){S._pulling=!1,S._pullAgain&&(S._pullAgain=!1,Ze(S))},function(W){ct(S,W)})))}function cn(S){Qt(S),S._pendingPullIntos=new g}function Jt(S,W){var re=!1;S._state==="closed"&&(re=!0);var fe=yr(W);W.readerType==="default"?ce(S,fe,re):Cn(S,fe,re)}function yr(S){var W=S.bytesFilled,re=S.elementSize;return new S.viewConstructor(S.buffer,S.byteOffset,W/re)}function Ct(S,W,re,fe){S._queue.push({buffer:W,byteOffset:re,byteLength:fe}),S._queueTotalSize+=fe}function br(S,W){var re=W.elementSize,fe=W.bytesFilled-W.bytesFilled%re,be=Math.min(S._queueTotalSize,W.byteLength-W.bytesFilled),we=W.bytesFilled+be,Ae=we-we%re,Te=be,Oe=!1;Ae>fe&&(Te=Ae-W.bytesFilled,Oe=!0);for(var Re=S._queue;Te>0;){var Fe=Re.peek(),je=Math.min(Te,Fe.byteLength),Be=W.byteOffset+W.bytesFilled;nt(W.buffer,Be,Fe.buffer,Fe.byteOffset,je),Fe.byteLength===je?Re.shift():(Fe.byteOffset+=je,Fe.byteLength-=je),S._queueTotalSize-=je,Sr(S,je,W),Te-=je}return Oe}function Sr(S,W,re){Qt(S),re.bytesFilled+=W}function wr(S){S._queueTotalSize===0&&S._closeRequested?(At(S),yt(S._controlledReadableByteStream)):Ze(S)}function Qt(S){S._byobRequest!==null&&(S._byobRequest._associatedReadableByteStreamController=void 0,S._byobRequest._view=null,S._byobRequest=null)}function Cr(S){for(;S._pendingPullIntos.length>0;){if(S._queueTotalSize===0)return;var W=S._pendingPullIntos.peek();br(S,W)&&(er(S),Jt(S._controlledReadableByteStream,W))}}function dn(S,W,re){var fe=S._controlledReadableByteStream,be=1;W.constructor!==DataView&&(be=W.constructor.BYTES_PER_ELEMENT);var we=W.constructor,Ae={buffer:W.buffer,byteOffset:W.byteOffset,byteLength:W.byteLength,bytesFilled:0,elementSize:be,viewConstructor:we,readerType:"byob"};if(S._pendingPullIntos.length>0)return S._pendingPullIntos.push(Ae),void xr(fe,re);if(fe._state!=="closed"){if(S._queueTotalSize>0){if(br(S,Ae)){var Te=yr(Ae);return wr(S),void re._chunkSteps(Te)}if(S._closeRequested){var Oe=new TypeError("Insufficient bytes to fill elements in the given buffer");return ct(S,Oe),void re._errorSteps(Oe)}}S._pendingPullIntos.push(Ae),xr(fe,re),Ze(S)}else{var Re=new we(Ae.buffer,Ae.byteOffset,0);re._closeSteps(Re)}}function hn(S,W){W.buffer=W.buffer;var re=S._controlledReadableByteStream;if(rr(re))for(;Tr(re)>0;)Jt(re,er(S))}function fn(S,W,re){if(re.bytesFilled+W>re.byteLength)throw new RangeError("bytesWritten out of range");if(Sr(S,W,re),!(re.bytesFilled<re.elementSize)){er(S);var fe=re.bytesFilled%re.elementSize;if(fe>0){var be=re.byteOffset+re.bytesFilled,we=re.buffer.slice(be-fe,be);Ct(S,we,0,we.byteLength)}re.buffer=re.buffer,re.bytesFilled-=fe,Jt(S._controlledReadableByteStream,re),Cr(S)}}function Ar(S,W){var re=S._pendingPullIntos.peek();if(S._controlledReadableByteStream._state==="closed"){if(W!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");hn(S,re)}else fn(S,W,re);Ze(S)}function er(S){var W=S._pendingPullIntos.shift();return Qt(S),W}function pn(S){var W=S._controlledReadableByteStream;return W._state==="readable"&&!S._closeRequested&&!!S._started&&(!!(me(W)&&ae(W)>0)||!!(rr(W)&&Tr(W)>0)||Er(S)>0)}function At(S){S._pullAlgorithm=void 0,S._cancelAlgorithm=void 0}function mn(S){var W=S._controlledReadableByteStream;if(!S._closeRequested&&W._state==="readable")if(S._queueTotalSize>0)S._closeRequested=!0;else{if(S._pendingPullIntos.length>0&&S._pendingPullIntos.peek().bytesFilled>0){var re=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ct(S,re),re}At(S),yt(W)}}function vn(S,W){var re=S._controlledReadableByteStream;if(!S._closeRequested&&re._state==="readable"){var fe=W.buffer,be=W.byteOffset,we=W.byteLength,Ae=fe;me(re)?ae(re)===0?Ct(S,Ae,be,we):ce(re,new Uint8Array(Ae,be,we),!1):rr(re)?(Ct(S,Ae,be,we),Cr(S)):Ct(S,Ae,be,we),Ze(S)}}function ct(S,W){var re=S._controlledReadableByteStream;re._state==="readable"&&(cn(S),Me(S),At(S),Yr(re,W))}function Er(S){var W=S._controlledReadableByteStream._state;return W==="errored"?null:W==="closed"?0:S._strategyHWM-S._queueTotalSize}function gn(S,W){if(!De(W=Number(W)))throw new RangeError("bytesWritten must be a finite");Ar(S,W)}function _n(S,W){var re=S._pendingPullIntos.peek();if(re.byteOffset+re.bytesFilled!==W.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(re.byteLength!==W.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");re.buffer=W.buffer,Ar(S,W.byteLength)}function yn(S,W,re,fe,be,we,Ae){W._controlledReadableByteStream=S,W._pullAgain=!1,W._pulling=!1,W._byobRequest=null,W._queue=W._queueTotalSize=void 0,Me(W),W._closeRequested=!1,W._started=!1,W._strategyHWM=we,W._pullAlgorithm=fe,W._cancelAlgorithm=be,W._autoAllocateChunkSize=Ae,W._pendingPullIntos=new g,S._readableStreamController=W,M(j(re()),function(){W._started=!0,Ze(W)},function(Te){ct(W,Te)})}function bn(S,W,re){var fe=Object.create(wt.prototype),be=function(){},we=function(){return j(void 0)},Ae=function(){return j(void 0)};W.start!==void 0&&(be=function(){return W.start(fe)}),W.pull!==void 0&&(we=function(){return W.pull(fe)}),W.cancel!==void 0&&(Ae=function(Oe){return W.cancel(Oe)});var Te=W.autoAllocateChunkSize;if(Te===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");yn(S,fe,be,we,Ae,re,Te)}function Sn(S,W,re){S._associatedReadableByteStreamController=W,S._view=re}function tr(S){return new TypeError("ReadableStreamBYOBRequest.prototype."+S+" can only be used on a ReadableStreamBYOBRequest")}function dt(S){return new TypeError("ReadableByteStreamController.prototype."+S+" can only be used on a ReadableByteStreamController")}function wn(S){return new Et(S)}function xr(S,W){S._reader._readIntoRequests.push(W)}function Cn(S,W,re){var fe=S._reader._readIntoRequests.shift();re?fe._closeSteps(W):fe._chunkSteps(W)}function Tr(S){return S._reader._readIntoRequests.length}function rr(S){var W=S._reader;return W!==void 0&&!!ht(W)}Object.defineProperties(wt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Et=function(){function S(W){if(de(W,1,"ReadableStreamBYOBReader"),Z(W,"First parameter"),Ke(W))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!it(W._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");f(this,W),this._readIntoRequests=new g}return Object.defineProperty(S.prototype,"closed",{get:function(){return ht(this)?this._closedPromise:L(xt("closed"))},enumerable:!1,configurable:!0}),S.prototype.cancel=function(W){return W===void 0&&(W=void 0),ht(this)?this._ownerReadableStream===void 0?L(c("cancel")):d(this,W):L(xt("cancel"))},S.prototype.read=function(W){if(!ht(this))return L(xt("read"));if(!ArrayBuffer.isView(W))return L(new TypeError("view must be an array buffer view"));if(W.byteLength===0)return L(new TypeError("view must have non-zero byteLength"));if(W.buffer.byteLength===0)return L(new TypeError("view's buffer must have non-zero byteLength"));if(this._ownerReadableStream===void 0)return L(c("read from"));var re,fe,be=I(function(we,Ae){re=we,fe=Ae});return An(this,W,{_chunkSteps:function(we){return re({value:we,done:!1})},_closeSteps:function(we){return re({value:we,done:!0})},_errorSteps:function(we){return fe(we)}}),be},S.prototype.releaseLock=function(){if(!ht(this))throw xt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");v(this)}},S}();function ht(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_readIntoRequests")}function An(S,W,re){var fe=S._ownerReadableStream;fe._disturbed=!0,fe._state==="errored"?re._errorSteps(fe._storedError):dn(fe._readableStreamController,W,re)}function xt(S){return new TypeError("ReadableStreamBYOBReader.prototype."+S+" can only be used on a ReadableStreamBYOBReader")}function ft(S,W){var re=S.highWaterMark;if(re===void 0)return W;if(Ie(re)||re<0)throw new RangeError("Invalid highWaterMark");return re}function Tt(S){var W=S.size;return W||function(){return 1}}function It(S,W){ee(S,W);var re=S==null?void 0:S.highWaterMark,fe=S==null?void 0:S.size;return{highWaterMark:re===void 0?void 0:B(re),size:fe===void 0?void 0:En(fe,W+" has member 'size' that")}}function En(S,W){return te(S,W),function(re){return B(S(re))}}function xn(S,W){ee(S,W);var re=S==null?void 0:S.abort,fe=S==null?void 0:S.close,be=S==null?void 0:S.start,we=S==null?void 0:S.type,Ae=S==null?void 0:S.write;return{abort:re===void 0?void 0:Tn(re,S,W+" has member 'abort' that"),close:fe===void 0?void 0:In(fe,S,W+" has member 'close' that"),start:be===void 0?void 0:kn(be,S,W+" has member 'start' that"),write:Ae===void 0?void 0:On(Ae,S,W+" has member 'write' that"),type:we}}function Tn(S,W,re){return te(S,re),function(fe){return T(S,W,[fe])}}function In(S,W,re){return te(S,re),function(){return T(S,W,[])}}function kn(S,W,re){return te(S,re),function(fe){return P(S,W,[fe])}}function On(S,W,re){return te(S,re),function(fe,be){return T(S,W,[fe,be])}}function Ir(S,W){if(!at(S))throw new TypeError(W+" is not a WritableStream.")}Object.defineProperties(Et.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var kt=function(){function S(W,re){W===void 0&&(W={}),re===void 0&&(re={}),W===void 0?W=null:le(W,"First parameter");var fe=It(re,"Second parameter"),be=xn(W,"First parameter");if(Or(this),be.type!==void 0)throw new RangeError("Invalid type is specified");var we=Tt(fe);Wn(this,be,ft(fe,1),we)}return Object.defineProperty(S.prototype,"locked",{get:function(){if(!at(this))throw Mt("locked");return ot(this)},enumerable:!1,configurable:!0}),S.prototype.abort=function(W){return W===void 0&&(W=void 0),at(this)?ot(this)?L(new TypeError("Cannot abort a stream that already has a writer")):Ot(this,W):L(Mt("abort"))},S.prototype.close=function(){return at(this)?ot(this)?L(new TypeError("Cannot close a stream that already has a writer")):Ge(this)?L(new TypeError("Cannot close an already-closing stream")):Pr(this):L(Mt("close"))},S.prototype.getWriter=function(){if(!at(this))throw Mt("getWriter");return kr(this)},S}();function kr(S){return new Dt(S)}function Pn(S,W,re,fe,be,we){be===void 0&&(be=1),we===void 0&&(we=function(){return 1});var Ae=Object.create(kt.prototype);return Or(Ae),Nr(Ae,Object.create(pt.prototype),S,W,re,fe,be,we),Ae}function Or(S){S._state="writable",S._storedError=void 0,S._writer=void 0,S._writableStreamController=void 0,S._writeRequests=new g,S._inFlightWriteRequest=void 0,S._closeRequest=void 0,S._inFlightCloseRequest=void 0,S._pendingAbortRequest=void 0,S._backpressure=!1}function at(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_writableStreamController")}function ot(S){return S._writer!==void 0}function Ot(S,W){var re=S._state;if(re==="closed"||re==="errored")return j(void 0);if(S._pendingAbortRequest!==void 0)return S._pendingAbortRequest._promise;var fe=!1;re==="erroring"&&(fe=!0,W=void 0);var be=I(function(we,Ae){S._pendingAbortRequest={_promise:void 0,_resolve:we,_reject:Ae,_reason:W,_wasAlreadyErroring:fe}});return S._pendingAbortRequest._promise=be,fe||ir(S,W),be}function Pr(S){var W=S._state;if(W==="closed"||W==="errored")return L(new TypeError("The stream (in "+W+" state) is not in the writable state and cannot be closed"));var re=I(function(be,we){var Ae={_resolve:be,_reject:we};S._closeRequest=Ae}),fe=S._writer;return fe!==void 0&&S._backpressure&&W==="writable"&&dr(fe),Gn(S._writableStreamController),re}function Dn(S){return I(function(W,re){var fe={_resolve:W,_reject:re};S._writeRequests.push(fe)})}function nr(S,W){S._state!=="writable"?ar(S):ir(S,W)}function ir(S,W){var re=S._writableStreamController;S._state="erroring",S._storedError=W;var fe=S._writer;fe!==void 0&&Rr(fe,W),!Nn(S)&&re._started&&ar(S)}function ar(S){S._state="errored",S._writableStreamController[F]();var W=S._storedError;if(S._writeRequests.forEach(function(fe){fe._reject(W)}),S._writeRequests=new g,S._pendingAbortRequest!==void 0){var re=S._pendingAbortRequest;if(S._pendingAbortRequest=void 0,re._wasAlreadyErroring)return re._reject(W),void Pt(S);M(S._writableStreamController[E](re._reason),function(){re._resolve(),Pt(S)},function(fe){re._reject(fe),Pt(S)})}else Pt(S)}function Rn(S){S._inFlightWriteRequest._resolve(void 0),S._inFlightWriteRequest=void 0}function Ln(S,W){S._inFlightWriteRequest._reject(W),S._inFlightWriteRequest=void 0,nr(S,W)}function Mn(S){S._inFlightCloseRequest._resolve(void 0),S._inFlightCloseRequest=void 0,S._state==="erroring"&&(S._storedError=void 0,S._pendingAbortRequest!==void 0&&(S._pendingAbortRequest._resolve(),S._pendingAbortRequest=void 0)),S._state="closed";var W=S._writer;W!==void 0&&Ur(W)}function Fn(S,W){S._inFlightCloseRequest._reject(W),S._inFlightCloseRequest=void 0,S._pendingAbortRequest!==void 0&&(S._pendingAbortRequest._reject(W),S._pendingAbortRequest=void 0),nr(S,W)}function Ge(S){return S._closeRequest!==void 0||S._inFlightCloseRequest!==void 0}function Nn(S){return S._inFlightWriteRequest!==void 0||S._inFlightCloseRequest!==void 0}function Bn(S){S._inFlightCloseRequest=S._closeRequest,S._closeRequest=void 0}function $n(S){S._inFlightWriteRequest=S._writeRequests.shift()}function Pt(S){S._closeRequest!==void 0&&(S._closeRequest._reject(S._storedError),S._closeRequest=void 0);var W=S._writer;W!==void 0&&ur(W,S._storedError)}function or(S,W){var re=S._writer;re!==void 0&&W!==S._backpressure&&(W?Qn(re):dr(re)),S._backpressure=W}Object.defineProperties(kt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(kt.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});var Dt=function(){function S(W){if(de(W,1,"WritableStreamDefaultWriter"),Ir(W,"First parameter"),ot(W))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=W,W._writer=this;var re=W._state;if(re==="writable")!Ge(W)&&W._backpressure?Nt(this):Hr(this),Ft(this);else if(re==="erroring")cr(this,W._storedError),Ft(this);else if(re==="closed")Hr(this),Zn(this);else{var fe=W._storedError;cr(this,fe),jr(this,fe)}}return Object.defineProperty(S.prototype,"closed",{get:function(){return Je(this)?this._closedPromise:L(Qe("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"desiredSize",{get:function(){if(!Je(this))throw Qe("desiredSize");if(this._ownerWritableStream===void 0)throw mt("desiredSize");return Vn(this)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"ready",{get:function(){return Je(this)?this._readyPromise:L(Qe("ready"))},enumerable:!1,configurable:!0}),S.prototype.abort=function(W){return W===void 0&&(W=void 0),Je(this)?this._ownerWritableStream===void 0?L(mt("abort")):jn(this,W):L(Qe("abort"))},S.prototype.close=function(){if(!Je(this))return L(Qe("close"));var W=this._ownerWritableStream;return W===void 0?L(mt("close")):Ge(W)?L(new TypeError("Cannot close an already-closing stream")):Dr(this)},S.prototype.releaseLock=function(){if(!Je(this))throw Qe("releaseLock");this._ownerWritableStream!==void 0&&Lr(this)},S.prototype.write=function(W){return W===void 0&&(W=void 0),Je(this)?this._ownerWritableStream===void 0?L(mt("write to")):Mr(this,W):L(Qe("write"))},S}();function Je(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_ownerWritableStream")}function jn(S,W){return Ot(S._ownerWritableStream,W)}function Dr(S){return Pr(S._ownerWritableStream)}function Un(S){var W=S._ownerWritableStream,re=W._state;return Ge(W)||re==="closed"?j(void 0):re==="errored"?L(W._storedError):Dr(S)}function Hn(S,W){S._closedPromiseState==="pending"?ur(S,W):Jn(S,W)}function Rr(S,W){S._readyPromiseState==="pending"?Vr(S,W):ei(S,W)}function Vn(S){var W=S._ownerWritableStream,re=W._state;return re==="errored"||re==="erroring"?null:re==="closed"?0:Br(W._writableStreamController)}function Lr(S){var W=S._ownerWritableStream,re=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Rr(S,re),Hn(S,re),W._writer=void 0,S._ownerWritableStream=void 0}function Mr(S,W){var re=S._ownerWritableStream,fe=re._writableStreamController,be=qn(fe,W);if(re!==S._ownerWritableStream)return L(mt("write to"));var we=re._state;if(we==="errored")return L(re._storedError);if(Ge(re)||we==="closed")return L(new TypeError("The stream is closing or closed and cannot be written to"));if(we==="erroring")return L(re._storedError);var Ae=Dn(re);return Xn(fe,W,be),Ae}Object.defineProperties(Dt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Dt.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Fr={},pt=function(){function S(){throw new TypeError("Illegal constructor")}return S.prototype.error=function(W){if(W===void 0&&(W=void 0),!zn(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&$r(this,W)},S.prototype[E]=function(W){var re=this._abortAlgorithm(W);return Rt(this),re},S.prototype[F]=function(){Me(this)},S}();function zn(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_controlledWritableStream")}function Nr(S,W,re,fe,be,we,Ae,Te){W._controlledWritableStream=S,S._writableStreamController=W,W._queue=void 0,W._queueTotalSize=void 0,Me(W),W._started=!1,W._strategySizeAlgorithm=Te,W._strategyHWM=Ae,W._writeAlgorithm=fe,W._closeAlgorithm=be,W._abortAlgorithm=we;var Oe=lr(W);or(S,Oe),M(j(re()),function(){W._started=!0,Lt(W)},function(Re){W._started=!0,nr(S,Re)})}function Wn(S,W,re,fe){var be=Object.create(pt.prototype),we=function(){},Ae=function(){return j(void 0)},Te=function(){return j(void 0)},Oe=function(){return j(void 0)};W.start!==void 0&&(we=function(){return W.start(be)}),W.write!==void 0&&(Ae=function(Re){return W.write(Re,be)}),W.close!==void 0&&(Te=function(){return W.close()}),W.abort!==void 0&&(Oe=function(Re){return W.abort(Re)}),Nr(S,be,we,Ae,Te,Oe,re,fe)}function Rt(S){S._writeAlgorithm=void 0,S._closeAlgorithm=void 0,S._abortAlgorithm=void 0,S._strategySizeAlgorithm=void 0}function Gn(S){Ve(S,Fr,0),Lt(S)}function qn(S,W){try{return S._strategySizeAlgorithm(W)}catch(re){return sr(S,re),1}}function Br(S){return S._strategyHWM-S._queueTotalSize}function Xn(S,W,re){try{Ve(S,W,re)}catch(be){return void sr(S,be)}var fe=S._controlledWritableStream;Ge(fe)||fe._state!=="writable"||or(fe,lr(S)),Lt(S)}function Lt(S){var W=S._controlledWritableStream;if(S._started&&W._inFlightWriteRequest===void 0)if(W._state!=="erroring"){if(S._queue.length!==0){var re=ze(S);re===Fr?Kn(S):Yn(S,re)}}else ar(W)}function sr(S,W){S._controlledWritableStream._state==="writable"&&$r(S,W)}function Kn(S){var W=S._controlledWritableStream;Bn(W),$e(S);var re=S._closeAlgorithm();Rt(S),M(re,function(){Mn(W)},function(fe){Fn(W,fe)})}function Yn(S,W){var re=S._controlledWritableStream;$n(re),M(S._writeAlgorithm(W),function(){Rn(re);var fe=re._state;if($e(S),!Ge(re)&&fe==="writable"){var be=lr(S);or(re,be)}Lt(S)},function(fe){re._state==="writable"&&Rt(S),Ln(re,fe)})}function lr(S){return Br(S)<=0}function $r(S,W){var re=S._controlledWritableStream;Rt(S),ir(re,W)}function Mt(S){return new TypeError("WritableStream.prototype."+S+" can only be used on a WritableStream")}function Qe(S){return new TypeError("WritableStreamDefaultWriter.prototype."+S+" can only be used on a WritableStreamDefaultWriter")}function mt(S){return new TypeError("Cannot "+S+" a stream using a released writer")}function Ft(S){S._closedPromise=I(function(W,re){S._closedPromise_resolve=W,S._closedPromise_reject=re,S._closedPromiseState="pending"})}function jr(S,W){Ft(S),ur(S,W)}function Zn(S){Ft(S),Ur(S)}function ur(S,W){S._closedPromise_reject!==void 0&&(A(S._closedPromise),S._closedPromise_reject(W),S._closedPromise_resolve=void 0,S._closedPromise_reject=void 0,S._closedPromiseState="rejected")}function Jn(S,W){jr(S,W)}function Ur(S){S._closedPromise_resolve!==void 0&&(S._closedPromise_resolve(void 0),S._closedPromise_resolve=void 0,S._closedPromise_reject=void 0,S._closedPromiseState="resolved")}function Nt(S){S._readyPromise=I(function(W,re){S._readyPromise_resolve=W,S._readyPromise_reject=re}),S._readyPromiseState="pending"}function cr(S,W){Nt(S),Vr(S,W)}function Hr(S){Nt(S),dr(S)}function Vr(S,W){S._readyPromise_reject!==void 0&&(A(S._readyPromise),S._readyPromise_reject(W),S._readyPromise_resolve=void 0,S._readyPromise_reject=void 0,S._readyPromiseState="rejected")}function Qn(S){Nt(S)}function ei(S,W){cr(S,W)}function dr(S){S._readyPromise_resolve!==void 0&&(S._readyPromise_resolve(void 0),S._readyPromise_resolve=void 0,S._readyPromise_reject=void 0,S._readyPromiseState="fulfilled")}function ti(S){if(typeof S!="object"||S===null)return!1;try{return typeof S.aborted=="boolean"}catch{return!1}}Object.defineProperties(pt.prototype,{error:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(pt.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var zr=typeof DOMException!="undefined"?DOMException:void 0;function ri(S){if(typeof S!="function"&&typeof S!="object")return!1;try{return new S,!0}catch{return!1}}function ni(){var S=function(W,re){this.message=W||"",this.name=re||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return S.prototype=Object.create(Error.prototype),Object.defineProperty(S.prototype,"constructor",{value:S,writable:!0,configurable:!0}),S}var ii=ri(zr)?zr:ni();function Wr(S,W,re,fe,be,we){var Ae=Q(S),Te=kr(W);S._disturbed=!0;var Oe=!1,Re=j(void 0);return I(function(Fe,je){var Be;if(we!==void 0){if(Be=function(){var Pe=new ii("Aborted","AbortError"),Ne=[];fe||Ne.push(function(){return W._state==="writable"?Ot(W,Pe):j(void 0)}),be||Ne.push(function(){return S._state==="readable"?et(S,Pe):j(void 0)}),bt(function(){return Promise.all(Ne.map(function(He){return He()}))},!0,Pe)},we.aborted)return void Be();we.addEventListener("abort",Be)}function gr(){return I(function(Pe,Ne){function He(Yt){Yt?Pe():z(_r(),He,Ne)}He(!1)})}function _r(){return Oe?j(!0):z(Te._readyPromise,function(){return I(function(Pe,Ne){pe(Ae,{_chunkSteps:function(He){Re=z(Mr(Te,He),void 0,i),Pe(!1)},_closeSteps:function(){return Pe(!0)},_errorSteps:Ne})})})}if(Ye(S,Ae._closedPromise,function(Pe){fe?Xt(!0,Pe):bt(function(){return Ot(W,Pe)},!0,Pe)}),Ye(W,Te._closedPromise,function(Pe){be?Xt(!0,Pe):bt(function(){return et(S,Pe)},!0,Pe)}),rt(S,Ae._closedPromise,function(){re?Xt():bt(function(){return Un(Te)})}),Ge(W)||W._state==="closed"){var ut=new TypeError("the destination writable stream closed before all data could be piped to it");be?Xt(!0,ut):bt(function(){return et(S,ut)},!0,ut)}function Ue(){var Pe=Re;return z(Re,function(){return Pe!==Re?Ue():void 0})}function Ye(Pe,Ne,He){Pe._state==="errored"?He(Pe._storedError):w(Ne,He)}function rt(Pe,Ne,He){Pe._state==="closed"?He():R(Ne,He)}function bt(Pe,Ne,He){function Yt(){M(Pe(),function(){return Kt(Ne,He)},function(Ri){return Kt(!0,Ri)})}Oe||(Oe=!0,W._state!=="writable"||Ge(W)?Yt():R(Ue(),Yt))}function Xt(Pe,Ne){Oe||(Oe=!0,W._state!=="writable"||Ge(W)?Kt(Pe,Ne):R(Ue(),function(){return Kt(Pe,Ne)}))}function Kt(Pe,Ne){Lr(Te),v(Ae),we!==void 0&&we.removeEventListener("abort",Be),Pe?je(Ne):Fe(void 0)}A(gr())})}var vt=function(){function S(){throw new TypeError("Illegal constructor")}return Object.defineProperty(S.prototype,"desiredSize",{get:function(){if(!Bt(this))throw Ut("desiredSize");return hr(this)},enumerable:!1,configurable:!0}),S.prototype.close=function(){if(!Bt(this))throw Ut("close");if(!st(this))throw new TypeError("The stream is not in a state that permits close");_t(this)},S.prototype.enqueue=function(W){if(W===void 0&&(W=void 0),!Bt(this))throw Ut("enqueue");if(!st(this))throw new TypeError("The stream is not in a state that permits enqueue");return jt(this,W)},S.prototype.error=function(W){if(W===void 0&&(W=void 0),!Bt(this))throw Ut("error");qe(this,W)},S.prototype[X]=function(W){Me(this);var re=this._cancelAlgorithm(W);return $t(this),re},S.prototype[G]=function(W){var re=this._controlledReadableStream;if(this._queue.length>0){var fe=$e(this);this._closeRequested&&this._queue.length===0?($t(this),yt(re)):gt(this),W._chunkSteps(fe)}else ue(re,W),gt(this)},S}();function Bt(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_controlledReadableStream")}function gt(S){Gr(S)&&(S._pulling?S._pullAgain=!0:(S._pulling=!0,M(S._pullAlgorithm(),function(){S._pulling=!1,S._pullAgain&&(S._pullAgain=!1,gt(S))},function(W){qe(S,W)})))}function Gr(S){var W=S._controlledReadableStream;return!!st(S)&&!!S._started&&(!!(Ke(W)&&ae(W)>0)||hr(S)>0)}function $t(S){S._pullAlgorithm=void 0,S._cancelAlgorithm=void 0,S._strategySizeAlgorithm=void 0}function _t(S){if(st(S)){var W=S._controlledReadableStream;S._closeRequested=!0,S._queue.length===0&&($t(S),yt(W))}}function jt(S,W){if(st(S)){var re=S._controlledReadableStream;if(Ke(re)&&ae(re)>0)ce(re,W,!1);else{var fe=void 0;try{fe=S._strategySizeAlgorithm(W)}catch(be){throw qe(S,be),be}try{Ve(S,W,fe)}catch(be){throw qe(S,be),be}}gt(S)}}function qe(S,W){var re=S._controlledReadableStream;re._state==="readable"&&(Me(S),$t(S),Yr(re,W))}function hr(S){var W=S._controlledReadableStream._state;return W==="errored"?null:W==="closed"?0:S._strategyHWM-S._queueTotalSize}function ai(S){return!Gr(S)}function st(S){var W=S._controlledReadableStream._state;return!S._closeRequested&&W==="readable"}function qr(S,W,re,fe,be,we,Ae){W._controlledReadableStream=S,W._queue=void 0,W._queueTotalSize=void 0,Me(W),W._started=!1,W._closeRequested=!1,W._pullAgain=!1,W._pulling=!1,W._strategySizeAlgorithm=Ae,W._strategyHWM=we,W._pullAlgorithm=fe,W._cancelAlgorithm=be,S._readableStreamController=W,M(j(re()),function(){W._started=!0,gt(W)},function(Te){qe(W,Te)})}function oi(S,W,re,fe){var be=Object.create(vt.prototype),we=function(){},Ae=function(){return j(void 0)},Te=function(){return j(void 0)};W.start!==void 0&&(we=function(){return W.start(be)}),W.pull!==void 0&&(Ae=function(){return W.pull(be)}),W.cancel!==void 0&&(Te=function(Oe){return W.cancel(Oe)}),qr(S,be,we,Ae,Te,re,fe)}function Ut(S){return new TypeError("ReadableStreamDefaultController.prototype."+S+" can only be used on a ReadableStreamDefaultController")}function si(S,W){var re,fe,be,we,Ae,Te=Q(S),Oe=!1,Re=!1,Fe=!1,je=I(function(Ue){Ae=Ue});function Be(){return Oe||(Oe=!0,pe(Te,{_chunkSteps:function(Ue){D(function(){Oe=!1;var Ye=Ue,rt=Ue;Re||jt(be._readableStreamController,Ye),Fe||jt(we._readableStreamController,rt)})},_closeSteps:function(){Oe=!1,Re||_t(be._readableStreamController),Fe||_t(we._readableStreamController),Re&&Fe||Ae(void 0)},_errorSteps:function(){Oe=!1}})),j(void 0)}function gr(Ue){if(Re=!0,re=Ue,Fe){var Ye=We([re,fe]),rt=et(S,Ye);Ae(rt)}return je}function _r(Ue){if(Fe=!0,fe=Ue,Re){var Ye=We([re,fe]),rt=et(S,Ye);Ae(rt)}return je}function ut(){}return be=fr(ut,Be,gr),we=fr(ut,Be,_r),w(Te._closedPromise,function(Ue){qe(be._readableStreamController,Ue),qe(we._readableStreamController,Ue),Re&&Fe||Ae(void 0)}),[be,we]}function li(S,W){ee(S,W);var re=S,fe=re==null?void 0:re.autoAllocateChunkSize,be=re==null?void 0:re.cancel,we=re==null?void 0:re.pull,Ae=re==null?void 0:re.start,Te=re==null?void 0:re.type;return{autoAllocateChunkSize:fe===void 0?void 0:K(fe,W+" has member 'autoAllocateChunkSize' that"),cancel:be===void 0?void 0:ui(be,re,W+" has member 'cancel' that"),pull:we===void 0?void 0:ci(we,re,W+" has member 'pull' that"),start:Ae===void 0?void 0:di(Ae,re,W+" has member 'start' that"),type:Te===void 0?void 0:hi(Te,W+" has member 'type' that")}}function ui(S,W,re){return te(S,re),function(fe){return T(S,W,[fe])}}function ci(S,W,re){return te(S,re),function(fe){return T(S,W,[fe])}}function di(S,W,re){return te(S,re),function(fe){return P(S,W,[fe])}}function hi(S,W){if((S=""+S)!="bytes")throw new TypeError(W+" '"+S+"' is not a valid enumeration value for ReadableStreamType");return S}function fi(S,W){ee(S,W);var re=S==null?void 0:S.mode;return{mode:re===void 0?void 0:pi(re,W+" has member 'mode' that")}}function pi(S,W){if((S=""+S)!="byob")throw new TypeError(W+" '"+S+"' is not a valid enumeration value for ReadableStreamReaderMode");return S}function mi(S,W){ee(S,W);var re=S==null?void 0:S.preventCancel;return{preventCancel:Boolean(re)}}function Xr(S,W){ee(S,W);var re=S==null?void 0:S.preventAbort,fe=S==null?void 0:S.preventCancel,be=S==null?void 0:S.preventClose,we=S==null?void 0:S.signal;return we!==void 0&&vi(we,W+" has member 'signal' that"),{preventAbort:Boolean(re),preventCancel:Boolean(fe),preventClose:Boolean(be),signal:we}}function vi(S,W){if(!ti(S))throw new TypeError(W+" is not an AbortSignal.")}function gi(S,W){ee(S,W);var re=S==null?void 0:S.readable;oe(re,"readable","ReadableWritablePair"),Z(re,W+" has member 'readable' that");var fe=S==null?void 0:S.writable;return oe(fe,"writable","ReadableWritablePair"),Ir(fe,W+" has member 'writable' that"),{readable:re,writable:fe}}Object.defineProperties(vt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(vt.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var lt=function(){function S(W,re){W===void 0&&(W={}),re===void 0&&(re={}),W===void 0?W=null:le(W,"First parameter");var fe=It(re,"Second parameter"),be=li(W,"First parameter");if(Kr(this),be.type==="bytes"){if(fe.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");bn(this,be,ft(fe,0))}else{var we=Tt(fe);oi(this,be,ft(fe,1),we)}}return Object.defineProperty(S.prototype,"locked",{get:function(){if(!Xe(this))throw tt("locked");return Ke(this)},enumerable:!1,configurable:!0}),S.prototype.cancel=function(W){return W===void 0&&(W=void 0),Xe(this)?Ke(this)?L(new TypeError("Cannot cancel a stream that already has a reader")):et(this,W):L(tt("cancel"))},S.prototype.getReader=function(W){if(W===void 0&&(W=void 0),!Xe(this))throw tt("getReader");return fi(W,"First parameter").mode===void 0?Q(this):wn(this)},S.prototype.pipeThrough=function(W,re){if(re===void 0&&(re={}),!Xe(this))throw tt("pipeThrough");de(W,1,"pipeThrough");var fe=gi(W,"First parameter"),be=Xr(re,"Second parameter");if(Ke(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ot(fe.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return A(Wr(this,fe.writable,be.preventClose,be.preventAbort,be.preventCancel,be.signal)),fe.readable},S.prototype.pipeTo=function(W,re){if(re===void 0&&(re={}),!Xe(this))return L(tt("pipeTo"));if(W===void 0)return L("Parameter 1 is required in 'pipeTo'.");if(!at(W))return L(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var fe;try{fe=Xr(re,"Second parameter")}catch(be){return L(be)}return Ke(this)?L(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ot(W)?L(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Wr(this,W,fe.preventClose,fe.preventAbort,fe.preventCancel,fe.signal)},S.prototype.tee=function(){if(!Xe(this))throw tt("tee");return We(si(this))},S.prototype.values=function(W){if(W===void 0&&(W=void 0),!Xe(this))throw tt("values");return Ee(this,mi(W,"First parameter").preventCancel)},S}();function fr(S,W,re,fe,be){fe===void 0&&(fe=1),be===void 0&&(be=function(){return 1});var we=Object.create(lt.prototype);return Kr(we),qr(we,Object.create(vt.prototype),S,W,re,fe,be),we}function Kr(S){S._state="readable",S._reader=void 0,S._storedError=void 0,S._disturbed=!1}function Xe(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_readableStreamController")}function Ke(S){return S._reader!==void 0}function et(S,W){return S._disturbed=!0,S._state==="closed"?j(void 0):S._state==="errored"?L(S._storedError):(yt(S),k(S._readableStreamController[X](W),i))}function yt(S){S._state="closed";var W=S._reader;W!==void 0&&(C(W),ye(W)&&(W._readRequests.forEach(function(re){re._closeSteps()}),W._readRequests=new g))}function Yr(S,W){S._state="errored",S._storedError=W;var re=S._reader;re!==void 0&&(U(re,W),ye(re)?(re._readRequests.forEach(function(fe){fe._errorSteps(W)}),re._readRequests=new g):(re._readIntoRequests.forEach(function(fe){fe._errorSteps(W)}),re._readIntoRequests=new g))}function tt(S){return new TypeError("ReadableStream.prototype."+S+" can only be used on a ReadableStream")}function Zr(S,W){ee(S,W);var re=S==null?void 0:S.highWaterMark;return oe(re,"highWaterMark","QueuingStrategyInit"),{highWaterMark:B(re)}}Object.defineProperties(lt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(lt.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),typeof n.asyncIterator=="symbol"&&Object.defineProperty(lt.prototype,n.asyncIterator,{value:lt.prototype.values,writable:!0,configurable:!0});var _i=function(S){return S.byteLength},pr=function(){function S(W){de(W,1,"ByteLengthQueuingStrategy"),W=Zr(W,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=W.highWaterMark}return Object.defineProperty(S.prototype,"highWaterMark",{get:function(){if(!Qr(this))throw Jr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"size",{get:function(){if(!Qr(this))throw Jr("size");return _i},enumerable:!1,configurable:!0}),S}();function Jr(S){return new TypeError("ByteLengthQueuingStrategy.prototype."+S+" can only be used on a ByteLengthQueuingStrategy")}function Qr(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(pr.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var yi=function(){return 1},mr=function(){function S(W){de(W,1,"CountQueuingStrategy"),W=Zr(W,"First parameter"),this._countQueuingStrategyHighWaterMark=W.highWaterMark}return Object.defineProperty(S.prototype,"highWaterMark",{get:function(){if(!tn(this))throw en("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"size",{get:function(){if(!tn(this))throw en("size");return yi},enumerable:!1,configurable:!0}),S}();function en(S){return new TypeError("CountQueuingStrategy.prototype."+S+" can only be used on a CountQueuingStrategy")}function tn(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_countQueuingStrategyHighWaterMark")}function bi(S,W){ee(S,W);var re=S==null?void 0:S.flush,fe=S==null?void 0:S.readableType,be=S==null?void 0:S.start,we=S==null?void 0:S.transform,Ae=S==null?void 0:S.writableType;return{flush:re===void 0?void 0:Si(re,S,W+" has member 'flush' that"),readableType:fe,start:be===void 0?void 0:wi(be,S,W+" has member 'start' that"),transform:we===void 0?void 0:Ci(we,S,W+" has member 'transform' that"),writableType:Ae}}function Si(S,W,re){return te(S,re),function(fe){return T(S,W,[fe])}}function wi(S,W,re){return te(S,re),function(fe){return P(S,W,[fe])}}function Ci(S,W,re){return te(S,re),function(fe,be){return T(S,W,[fe,be])}}Object.defineProperties(mr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(mr.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var vr=function(){function S(W,re,fe){W===void 0&&(W={}),re===void 0&&(re={}),fe===void 0&&(fe={}),W===void 0&&(W=null);var be=It(re,"Second parameter"),we=It(fe,"Third parameter"),Ae=bi(W,"First parameter");if(Ae.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Ae.writableType!==void 0)throw new RangeError("Invalid writableType specified");var Te,Oe=ft(we,0),Re=Tt(we),Fe=ft(be,1),je=Tt(be);Ai(this,I(function(Be){Te=Be}),Fe,je,Oe,Re),xi(this,Ae),Ae.start!==void 0?Te(Ae.start(this._transformStreamController)):Te(void 0)}return Object.defineProperty(S.prototype,"readable",{get:function(){if(!rn(this))throw ln("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"writable",{get:function(){if(!rn(this))throw ln("writable");return this._writable},enumerable:!1,configurable:!0}),S}();function Ai(S,W,re,fe,be,we){function Ae(){return W}function Te(Be){return ki(S,Be)}function Oe(Be){return Oi(S,Be)}function Re(){return Pi(S)}function Fe(){return Di(S)}function je(Be){return Vt(S,Be),j(void 0)}S._writable=Pn(Ae,Te,Re,Oe,re,fe),S._readable=fr(Ae,Fe,je,be,we),S._backpressure=void 0,S._backpressureChangePromise=void 0,S._backpressureChangePromise_resolve=void 0,zt(S,!0),S._transformStreamController=void 0}function rn(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_transformStreamController")}function Ht(S,W){qe(S._readable._readableStreamController,W),Vt(S,W)}function Vt(S,W){nn(S._transformStreamController),sr(S._writable._writableStreamController,W),S._backpressure&&zt(S,!1)}function zt(S,W){S._backpressureChangePromise!==void 0&&S._backpressureChangePromise_resolve(),S._backpressureChangePromise=I(function(re){S._backpressureChangePromise_resolve=re}),S._backpressure=W}Object.defineProperties(vr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(vr.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});var Wt=function(){function S(){throw new TypeError("Illegal constructor")}return Object.defineProperty(S.prototype,"desiredSize",{get:function(){if(!Gt(this))throw qt("desiredSize");return hr(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),S.prototype.enqueue=function(W){if(W===void 0&&(W=void 0),!Gt(this))throw qt("enqueue");an(this,W)},S.prototype.error=function(W){if(W===void 0&&(W=void 0),!Gt(this))throw qt("error");Ti(this,W)},S.prototype.terminate=function(){if(!Gt(this))throw qt("terminate");Ii(this)},S}();function Gt(S){return!!s(S)&&!!Object.prototype.hasOwnProperty.call(S,"_controlledTransformStream")}function Ei(S,W,re,fe){W._controlledTransformStream=S,S._transformStreamController=W,W._transformAlgorithm=re,W._flushAlgorithm=fe}function xi(S,W){var re=Object.create(Wt.prototype),fe=function(we){try{return an(re,we),j(void 0)}catch(Ae){return L(Ae)}},be=function(){return j(void 0)};W.transform!==void 0&&(fe=function(we){return W.transform(we,re)}),W.flush!==void 0&&(be=function(){return W.flush(re)}),Ei(S,re,fe,be)}function nn(S){S._transformAlgorithm=void 0,S._flushAlgorithm=void 0}function an(S,W){var re=S._controlledTransformStream,fe=re._readable._readableStreamController;if(!st(fe))throw new TypeError("Readable side is not in a state that permits enqueue");try{jt(fe,W)}catch(be){throw Vt(re,be),re._readable._storedError}ai(fe)!==re._backpressure&&zt(re,!0)}function Ti(S,W){Ht(S._controlledTransformStream,W)}function sn(S,W){return k(S._transformAlgorithm(W),void 0,function(re){throw Ht(S._controlledTransformStream,re),re})}function Ii(S){var W=S._controlledTransformStream;_t(W._readable._readableStreamController),Vt(W,new TypeError("TransformStream terminated"))}function ki(S,W){var re=S._transformStreamController;return S._backpressure?k(S._backpressureChangePromise,function(){var fe=S._writable;if(fe._state==="erroring")throw fe._storedError;return sn(re,W)}):sn(re,W)}function Oi(S,W){return Ht(S,W),j(void 0)}function Pi(S){var W=S._readable,re=S._transformStreamController,fe=re._flushAlgorithm();return nn(re),k(fe,function(){if(W._state==="errored")throw W._storedError;_t(W._readableStreamController)},function(be){throw Ht(S,be),W._storedError})}function Di(S){return zt(S,!1),S._backpressureChangePromise}function qt(S){return new TypeError("TransformStreamDefaultController.prototype."+S+" can only be used on a TransformStreamDefaultController")}function ln(S){return new TypeError("TransformStream.prototype."+S+" can only be used on a TransformStream")}Object.defineProperties(Wt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Wt.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),r.ByteLengthQueuingStrategy=pr,r.CountQueuingStrategy=mr,r.ReadableByteStreamController=wt,r.ReadableStream=lt,r.ReadableStreamBYOBReader=Et,r.ReadableStreamBYOBRequest=St,r.ReadableStreamDefaultController=vt,r.ReadableStreamDefaultReader=ge,r.TransformStream=vr,r.TransformStreamDefaultController=Wt,r.WritableStream=kt,r.WritableStreamDefaultController=pt,r.WritableStreamDefaultWriter=Dt,Object.defineProperty(r,"__esModule",{value:!0})})(e)},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(114),_node_utils=__w_pdfjs_require__(115),_annotation_storage=__w_pdfjs_require__(116),_api_compatibility=__w_pdfjs_require__(117),_canvas=__w_pdfjs_require__(118),_worker_options=__w_pdfjs_require__(120),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(121),_metadata=__w_pdfjs_require__(122),_optional_content_config=__w_pdfjs_require__(123),_transport_stream=__w_pdfjs_require__(124);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function asyncGeneratorStep(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(u){return void r(u)}s.done?e(l):Promise.resolve(l).then(n,i)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(l){asyncGeneratorStep(a,n,i,o,s,"next",l)}function s(l){asyncGeneratorStep(a,n,i,o,s,"throw",l)}o(void 0)})}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{o||r.return==null||r.return()}finally{if(s)throw a}}}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _iterableToArrayLimit(t,e){var r=t&&(typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(l){s=!0,i=l}finally{try{o||r.return==null||r.return()}finally{if(s)throw i}}return a}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){var e,r=new PDFDocumentLoadingTask;if(typeof t=="string"||t instanceof URL)e={url:t};else if((0,_util.isArrayBuffer)(t))e={data:t};else if(t instanceof PDFDataRangeTransport)e={range:t};else{if(_typeof(t)!=="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");e=t}var n=Object.create(null),i=null,a=null;for(var o in e){var s=e[o];switch(o){case"url":if(typeof window!="undefined")try{n[o]=new URL(s,window.location).href;continue}catch(m){(0,_util.warn)('Cannot create valid URL: "'.concat(m,'".'))}else if(typeof s=="string"||s instanceof URL){n[o]=s.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=s;continue;case"worker":a=s;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&s instanceof Buffer)n[o]=new Uint8Array(s);else{if(s instanceof Uint8Array)break;if(typeof s=="string")n[o]=(0,_util.stringToBytes)(s);else if(_typeof(s)!=="object"||s===null||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[o]=new Uint8Array(s)}else n[o]=new Uint8Array(s)}continue}n[o]=s}if(n.rangeChunkSize=n.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.ignoreErrors=n.stopAtErrors!==!0,n.fontExtraProperties=n.fontExtraProperties===!0,n.pdfBug=n.pdfBug===!0,n.enableXfa=n.enableXfa===!0,(typeof n.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),Number.isInteger(n.maxImageSize)||(n.maxImageSize=-1),typeof n.isEvalSupported!="boolean"&&(n.isEvalSupported=!0),typeof n.disableFontFace!="boolean"&&(n.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),n.ownerDocument===void 0&&(n.ownerDocument=globalThis.document),typeof n.disableRange!="boolean"&&(n.disableRange=!1),typeof n.disableStream!="boolean"&&(n.disableStream=!1),typeof n.disableAutoFetch!="boolean"&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!a){var l={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=l.port?PDFWorker.fromPort(l):new PDFWorker(l),r._worker=a}var u=r.docId;return a.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");var m=_fetchDocument(a,n,i,u),b=new Promise(function(_){var I;i?I=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},i):n.data||(I=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),_(I)});return Promise.all([m,b]).then(function(_){var I=_slicedToArray(_,2),j=I[0],L=I[1];if(r.destroyed)throw new Error("Loading aborted");var z=new _message_handler.MessageHandler(u,j,a.port);z.postMessageTransfers=a.postMessageTransfers;var M=new WorkerTransport(z,r,L,n);r._transport=M,z.send("Ready",null)})}).catch(r._capability.reject),r}function _fetchDocument(t,e,r,n){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(r&&(e.length=r.length,e.initialData=r.initialData,e.progressiveDone=r.progressiveDone,e.contentDispositionFilename=r.contentDispositionFilename),t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.9.359",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa}).then(function(i){if(t.destroyed)throw new Error("Worker was destroyed");return i}))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var PDFDocumentLoadingTask=(nextDocumentId=0,function(){function t(){_classCallCheck(this,t),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(t,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})}}]),t}()),nextDocumentId,PDFDataRangeTransport=function(){function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;_classCallCheck(this,t),this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(t,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,r){var n,i=_createForOfIteratorHelper(this._rangeListeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(e,r)}catch(a){i.e(a)}finally{i.f()}}},{key:"onDataProgress",value:function(e,r){var n=this;this._readyCapability.promise.then(function(){var i,a=_createForOfIteratorHelper(n._progressListeners);try{for(a.s();!(i=a.n()).done;)(0,i.value)(e,r)}catch(o){a.e(o)}finally{a.f()}})}},{key:"onDataProgressiveRead",value:function(e){var r=this;this._readyCapability.promise.then(function(){var n,i=_createForOfIteratorHelper(r._progressiveReadListeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(e)}catch(a){i.e(a)}finally{i.f()}})}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then(function(){var r,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(r=n.n()).done;)(0,r.value)()}catch(i){n.e(i)}finally{n.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),t}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function t(e,r){_classCallCheck(this,t),this._pdfInfo=e,this._transport=r}return _createClass(t,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"isPureXfa",get:function(){return this._pdfInfo.isPureXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return arguments.length>0&&(0,_display_utils.deprecated)("saveDocument no longer accepts any options."),this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),t}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function t(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];_classCallCheck(this,t),this._pageIndex=e,this._pageInfo=r,this._ownerDocument=i,this._transport=n,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(t,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.scale,n=e.rotation,i=n===void 0?this.rotate:n,a=e.offsetX,o=a===void 0?0:a,s=e.offsetY,l=s===void 0?0:s,u=e.dontFlip,m=u!==void 0&&u;return new _display_utils.PageViewport({viewBox:this.view,scale:r,rotation:i,offsetX:o,offsetY:l,dontFlip:m})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.intent,n=r===void 0?null:r;return this._annotationsPromise&&this._annotationsIntent===n||(this._annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this._annotationsIntent=n),this._annotationsPromise}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){return this._xfaPromise||(this._xfaPromise=this._transport.getPageXfa(this._pageIndex))}},{key:"render",value:function(e){var r,n,i=this,a=e.canvasContext,o=e.viewport,s=e.intent,l=s===void 0?"display":s,u=e.renderInteractiveForms,m=u!==void 0&&u,b=e.transform,_=b===void 0?null:b,I=e.imageLayer,j=I===void 0?null:I,L=e.canvasFactory,z=L===void 0?null:L,M=e.background,R=M===void 0?null:M,w=e.includeAnnotationStorage,k=w!==void 0&&w,A=e.optionalContentConfigPromise,D=A===void 0?null:A;((r=arguments[0])===null||r===void 0?void 0:r.annotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts an `annotationStorage` option, please use the `includeAnnotationStorage`-boolean instead."),k||(k=!!arguments[0].annotationStorage)),this._stats&&this._stats.time("Overall");var P=l==="print"?"print":"display";this.pendingCleanup=!1,D||(D=this._transport.getOptionalContentConfig());var T=this._intentStates.get(P);T||(T=Object.create(null),this._intentStates.set(P,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);var x=z||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=k?this._transport.annotationStorage.serializable:null;T.displayReadyCapability||(T.displayReadyCapability=(0,_util.createPromiseCapability)(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:P,renderInteractiveForms:m===!0,annotationStorage:g}));var f=function(c){T.renderTasks.delete(d),(i.cleanupAfterRender||P==="print")&&(i.pendingCleanup=!0),i._tryCleanup(),c?(d.capability.reject(c),i._abortOperatorList({intentState:T,reason:c})):d.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))},d=new InternalRenderTask({callback:f,params:{canvasContext:a,viewport:o,transform:_,imageLayer:j,background:R},objs:this.objs,commonObjs:this.commonObjs,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:x,useRequestAnimationFrame:P!=="print",pdfBug:this._pdfBug});((n=T).renderTasks||(n.renderTasks=new Set)).add(d);var v=d.task;return Promise.all([T.displayReadyCapability.promise,D]).then(function(c){var O=_slicedToArray(c,2),H=O[0],N=O[1];i.pendingCleanup?f():(i._stats&&i._stats.time("Rendering"),d.initializeGraphics({transparency:H,optionalContentConfig:N}),d.operatorListChanged())}).catch(f),v}},{key:"getOperatorList",value:function(){var e,r,n="oplist",i=this._intentStates.get(n);return i||(i=Object.create(null),this._intentStates.set(n,i)),i.opListReadCapability||((e=Object.create(null)).operatorListChanged=function(){i.operatorList.lastChunk&&(i.opListReadCapability.resolve(i.operatorList),i.renderTasks.delete(e))},i.opListReadCapability=(0,_util.createPromiseCapability)(),((r=i).renderTasks||(r.renderTasks=new Set)).add(e),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:n})),i.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.normalizeWhitespace,n=r!==void 0&&r,i=e.disableCombineTextItems,a=i!==void 0&&i,o=e.includeMarkedContent,s=o!==void 0&&o,l=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:n===!0,combineTextItems:a!==!0,includeMarkedContent:s===!0},{highWaterMark:l,size:function(u){return u.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=this.streamTextContent(e);return new Promise(function(n,i){var a=r.getReader(),o={items:[],styles:Object.create(null)};(function s(){a.read().then(function(l){var u,m=l.value;l.done?n(o):(Object.assign(o.styles,m.styles),(u=o.items).push.apply(u,_toConsumableArray(m.items)),s())},i)})()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var e,r=[],n=_createForOfIteratorHelper(this._intentStates);try{for(n.s();!(e=n.n()).done;){var i=_slicedToArray(e.value,2),a=i[0],o=i[1];if(this._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),a!=="oplist"){var s,l=_createForOfIteratorHelper(o.renderTasks);try{for(l.s();!(s=l.n()).done;){var u=s.value;r.push(u.completed),u.cancel()}}catch(m){l.e(m)}finally{l.f()}}}}catch(m){n.e(m)}finally{n.f()}return this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(r)}},{key:"cleanup",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!this.pendingCleanup)return!1;var r,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.renderTasks,o=i.operatorList;if(a.size>0||!o.lastChunk)return!1}}catch(s){n.e(s)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(e,r){var n=this._intentStates.get(r);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,r){for(var n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk;var a,o=_createForOfIteratorHelper(r.renderTasks);try{for(o.s();!(a=o.n()).done;)a.value.operatorListChanged()}catch(s){o.e(s)}finally{o.f()}e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var r=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),i=this._intentStates.get(e.intent);i.streamReader=n,function a(){n.read().then(function(o){var s=o.value;o.done?i.streamReader=null:r._transport.destroyed||(r._renderPageChunk(s,i),a())},function(o){if(i.streamReader=null,!r._transport.destroyed){if(i.operatorList){i.operatorList.lastChunk=!0;var s,l=_createForOfIteratorHelper(i.renderTasks);try{for(l.s();!(s=l.n()).done;)s.value.operatorListChanged()}catch(u){l.e(u)}finally{l.f()}r._tryCleanup()}if(i.displayReadyCapability)i.displayReadyCapability.reject(o);else{if(!i.opListReadCapability)throw o;i.opListReadCapability.reject(o)}}})}()}},{key:"_abortOperatorList",value:function(e){var r=this,n=e.intentState,i=e.reason,a=e.force,o=a!==void 0&&a;if((0,_util.assert)(i instanceof Error||_typeof(i)==="object"&&i!==null,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!o){if(n.renderTasks.size>0)return;if(i instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout(function(){r._abortOperatorList({intentState:n,reason:i,force:!0}),n.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(i==null?void 0:i.message)),n.streamReader=null,!this._transport.destroyed){var s,l=_createForOfIteratorHelper(this._intentStates);try{for(l.s();!(s=l.n()).done;){var u=_slicedToArray(s.value,2),m=u[0];if(u[1]===n){this._intentStates.delete(m);break}}}catch(b){l.e(b)}finally{l.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),t}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function t(){_classCallCheck(this,t),this._listeners=[],this._deferred=Promise.resolve(void 0)}return _createClass(t,[{key:"postMessage",value:function(e,r){var n=this,i=new WeakMap,a={data:function o(s){if(_typeof(s)!=="object"||s===null)return s;if(i.has(s))return i.get(s);var l,u;if((l=s.buffer)&&(0,_util.isArrayBuffer)(l))return u=r!=null&&r.includes(l)?new s.constructor(l,s.byteOffset,s.byteLength):new s.constructor(s),i.set(s,u),u;if(s instanceof Map){u=new Map,i.set(s,u);var m,b=_createForOfIteratorHelper(s);try{for(b.s();!(m=b.n()).done;){var _=_slicedToArray(m.value,2),I=_[0],j=_[1];u.set(I,o(j))}}catch(D){b.e(D)}finally{b.f()}return u}if(s instanceof Set){u=new Set,i.set(s,u);var L,z=_createForOfIteratorHelper(s);try{for(z.s();!(L=z.n()).done;){var M=L.value;u.add(o(M))}}catch(D){z.e(D)}finally{z.f()}return u}if(s instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(s));for(var R in u=Array.isArray(s)?[]:Object.create(null),i.set(s,u),s){for(var w,k=void 0,A=s;!(k=Object.getOwnPropertyDescriptor(A,R));)A=Object.getPrototypeOf(A);if(k.value!==void 0){if(typeof k.value!="function")u[R]=o(k.value);else if((w=s.hasOwnProperty)!==null&&w!==void 0&&w.call(s,R))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(s[R]))}}return u}(e)};this._deferred.then(function(){var o,s=_createForOfIteratorHelper(n._listeners);try{for(s.s();!(o=s.n()).done;)o.value.call(n,a)}catch(l){s.e(l)}finally{s.f()}})}},{key:"addEventListener",value:function(e,r){this._listeners.push(r)}},{key:"removeEventListener",value:function(e,r){var n=this._listeners.indexOf(r);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),t}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if((typeof document=="undefined"?"undefined":_typeof(document))==="object"&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=(_document$currentScri=document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(fallbackWorkerSrc!==void 0)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var t;try{var e;t=(e=globalThis.pdfjsWorker)===null||e===void 0?void 0:e.WorkerMessageHandler}catch{}return t||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref12=_asyncToGenerator(_regenerator.default.mark(function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}},_callee)}));return function(){return _ref12.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(t){var e="importScripts('"+t+"');";return URL.createObjectURL(new Blob([e]))}var PDFWorker=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.name,n=r===void 0?null:r,i=e.port,a=i===void 0?null:i,o=e.verbosity,s=o===void 0?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,t),a&&pdfWorkerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=n,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return pdfWorkerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}return _createClass(t,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if(typeof Worker!="undefined"&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var r=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,r)||(r=createCDNWrapper(new URL(r,window.location).href));var n=new Worker(r),i=new _message_handler.MessageHandler("main","worker",n),a=function(){n.removeEventListener("error",o),i.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},o=function(){e._webWorker||a()};n.addEventListener("error",o),i.on("test",function(l){n.removeEventListener("error",o),e.destroyed?a():l?(e._messageHandler=i,e._port=n,e._webWorker=n,l.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),i.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),i.destroy(),n.terminate())}),i.on("ready",function(l){if(n.removeEventListener("error",o),e.destroyed)a();else try{s()}catch{e._setupFakeWorker()}});var s=function(){var l=new Uint8Array([e.postMessageTransfers?255:0]);try{i.send("test",l,[l.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),l[0]=0,i.send("test",l)}};return void s()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(r){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var i="fake"+nextFakeWorkerId++,a=new _message_handler.MessageHandler(i+"_worker",i,n);r.setup(a,n);var o=new _message_handler.MessageHandler(i,i+"_worker",n);e._messageHandler=o,e._readyCapability.resolve(),o.send("configure",{verbosity:e.verbosity})}}).catch(function(r){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(r.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new t(e)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),t}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function t(r,n,i,a){_classCallCheck(this,t),this.messageHandler=r,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument}),this._params=a,this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var e;return _createClass(t,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"destroy",value:function(){var r=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var n,i=[],a=_createForOfIteratorHelper(this.pageCache);try{for(a.s();!(n=a.n()).done;){var o=n.value;o&&i.push(o._destroy())}}catch(l){a.e(l)}finally{a.f()}this.pageCache.length=0,this.pagePromises.length=0,this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var s=this.messageHandler.sendWithPromise("Terminate",null);return i.push(s),Promise.all(i).then(function(){r.commonObjs.clear(),r.fontLoader.clear(),r._hasJSActionsPromise=null,r._networkStream&&r._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),r.messageHandler&&(r.messageHandler.destroy(),r.messageHandler=null),r.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var r=this,n=this.messageHandler,i=this.loadingTask;n.on("GetReader",function(a,o){(0,_util.assert)(r._networkStream,"GetReader - no `IPDFStream` instance available."),r._fullReader=r._networkStream.getFullReader(),r._fullReader.onProgress=function(s){r._lastProgress={loaded:s.loaded,total:s.total}},o.onPull=function(){r._fullReader.read().then(function(s){var l=s.value;s.done?o.close():((0,_util.assert)((0,_util.isArrayBuffer)(l),"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(l),1,[l]))}).catch(function(s){o.error(s)})},o.onCancel=function(s){r._fullReader.cancel(s),o.ready.catch(function(l){if(!r.destroyed)throw l})}}),n.on("ReaderHeadersReady",function(a){var o=(0,_util.createPromiseCapability)(),s=r._fullReader;return s.headersReady.then(function(){s.isStreamingSupported&&s.isRangeSupported||(r._lastProgress&&i.onProgress&&i.onProgress(r._lastProgress),s.onProgress=function(l){i.onProgress&&i.onProgress({loaded:l.loaded,total:l.total})}),o.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},o.reject),o.promise}),n.on("GetRangeReader",function(a,o){(0,_util.assert)(r._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var s=r._networkStream.getRangeReader(a.begin,a.end);s?(o.onPull=function(){s.read().then(function(l){var u=l.value;l.done?o.close():((0,_util.assert)((0,_util.isArrayBuffer)(u),"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(u),1,[u]))}).catch(function(l){o.error(l)})},o.onCancel=function(l){s.cancel(l),o.ready.catch(function(u){if(!r.destroyed)throw u})}):o.close()}),n.on("GetDoc",function(a){var o=a.pdfInfo;r._numPages=o.numPages,i._capability.resolve(new PDFDocumentProxy(o,r))}),n.on("DocException",function(a){var o;switch(a.name){case"PasswordException":o=new _util.PasswordException(a.message,a.code);break;case"InvalidPDFException":o=new _util.InvalidPDFException(a.message);break;case"MissingPDFException":o=new _util.MissingPDFException(a.message);break;case"UnexpectedResponseException":o=new _util.UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":o=new _util.UnknownErrorException(a.message,a.details)}o instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),i._capability.reject(o)}),n.on("PasswordRequest",function(a){if(r._passwordCapability=(0,_util.createPromiseCapability)(),i.onPassword)try{i.onPassword(function(o){r._passwordCapability.resolve({password:o})},a.code)}catch(o){r._passwordCapability.reject(o)}else r._passwordCapability.reject(new _util.PasswordException(a.message,a.code));return r._passwordCapability.promise}),n.on("DataLoaded",function(a){i.onProgress&&i.onProgress({loaded:a.length,total:a.length}),r.downloadInfoCapability.resolve(a)}),n.on("StartRenderPage",function(a){r.destroyed||r.pageCache[a.pageIndex]._startRenderPage(a.transparency,a.intent)}),n.on("commonobj",function(a){var o;if(!r.destroyed){var s=_slicedToArray(a,3),l=s[0],u=s[1],m=s[2];if(!r.commonObjs.has(l))switch(u){case"Font":var b=r._params;if("error"in m){var _=m.error;(0,_util.warn)("Error during font loading: ".concat(_)),r.commonObjs.resolve(l,_);break}var I=null;b.pdfBug&&(o=globalThis.FontInspector)!==null&&o!==void 0&&o.enabled&&(I={registerFont:function(L,z){globalThis.FontInspector.fontAdded(L,z)}});var j=new _font_loader.FontFaceObject(m,{isEvalSupported:b.isEvalSupported,disableFontFace:b.disableFontFace,ignoreErrors:b.ignoreErrors,onUnsupportedFeature:r._onUnsupportedFeature.bind(r),fontRegistry:I});r.fontLoader.bind(j).catch(function(L){return n.sendWithPromise("FontFallback",{id:l})}).finally(function(){!b.fontExtraProperties&&j.data&&(j.data=null),r.commonObjs.resolve(l,j)});break;case"FontPath":case"Image":r.commonObjs.resolve(l,m);break;default:throw new Error("Got unknown common object type ".concat(u))}}}),n.on("obj",function(a){var o;if(!r.destroyed){var s=_slicedToArray(a,4),l=s[0],u=s[1],m=s[2],b=s[3],_=r.pageCache[u];if(!_.objs.has(l)){if(m!=="Image")throw new Error("Got unknown object type ".concat(m));_.objs.resolve(l,b),(b==null||(o=b.data)===null||o===void 0?void 0:o.length)>8e6&&(_.cleanupAfterRender=!0)}}}),n.on("DocProgress",function(a){r.destroyed||i.onProgress&&i.onProgress({loaded:a.loaded,total:a.total})}),n.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),n.on("FetchBuiltInCMap",function(a,o){if(r.destroyed)o.error(new Error("Worker was destroyed"));else{var s=!1;o.onPull=function(){s?o.close():(s=!0,r.CMapReaderFactory.fetch(a).then(function(l){o.enqueue(l,1,[l.cMapData.buffer])}).catch(function(l){o.error(l)}))}}})}},{key:"_onUnsupportedFeature",value:function(r){var n=r.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(n)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(r){var n=this;if(!Number.isInteger(r)||r<=0||r>this._numPages)return Promise.reject(new Error("Invalid page request"));var i=r-1;if(i in this.pagePromises)return this.pagePromises[i];var a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(function(o){if(n.destroyed)throw new Error("Transport destroyed");var s=new PDFPageProxy(i,o,n,n._params.ownerDocument,n._params.pdfBug);return n.pageCache[i]=s,s});return this.pagePromises[i]=a,a}},{key:"getPageIndex",value:function(r){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:r}).catch(function(n){return Promise.reject(new Error(n))})}},{key:"getAnnotations",value:function(r,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:r,intent:n})}},{key:"saveDocument",value:function(){var r,n,i=this;return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(r=(n=this._fullReader)===null||n===void 0?void 0:n.filename)!==null&&r!==void 0?r:null}).finally(function(){i.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(r){return typeof r!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:r})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(r){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:r})}},{key:"getPageXfa",value:function(r){return this.messageHandler.sendWithPromise("GetPageXfa",{pageIndex:r})}},{key:"getStructTree",value:function(r){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:r})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(r){return new _optional_content_config.OptionalContentConfig(r)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var r=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(n){var i,a,o,s;return{info:n[0],metadata:n[1]?new _metadata.Metadata(n[1]):null,contentDispositionFilename:(i=(a=r._fullReader)===null||a===void 0?void 0:a.filename)!==null&&i!==void 0?i:null,contentLength:(o=(s=r._fullReader)===null||s===void 0?void 0:s.contentLength)!==null&&o!==void 0?o:null}})}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:(e=_asyncToGenerator(_regenerator.default.mark(function r(){var n,i,a,o,s=arguments;return _regenerator.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=s.length>0&&s[0]!==void 0&&s[0],l.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){l.next=5;break}return l.abrupt("return");case 5:i=0,a=this.pageCache.length;case 6:if(!(i<a)){l.next=16;break}if(o=this.pageCache[i]){l.next=10;break}return l.abrupt("continue",13);case 10:if(o.cleanup()){l.next=13;break}throw new Error("startCleanup: Page ".concat(i+1," is currently rendering."));case 13:i++,l.next=6;break;case 16:this.commonObjs.clear(),n||this.fontLoader.clear(),this._hasJSActionsPromise=null;case 19:case"end":return l.stop()}},r,this)})),function(){return e.apply(this,arguments)})},{key:"loadingParams",get:function(){var r=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:r.disableAutoFetch,disableFontFace:r.disableFontFace})}}]),t}(),PDFObjects=function(){function t(){_classCallCheck(this,t),this._objs=Object.create(null)}return _createClass(t,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r)return this._ensureObj(e).capability.promise.then(r),null;var n=this._objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var r=this._objs[e];return(r==null?void 0:r.resolved)||!1}},{key:"resolve",value:function(e,r){var n=this._ensureObj(e);n.resolved=!0,n.data=r,n.capability.resolve(r)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),t}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),t}(),InternalRenderTask=function(){var t=new WeakSet,e=function(){function r(i){var a=i.callback,o=i.params,s=i.objs,l=i.commonObjs,u=i.operatorList,m=i.pageIndex,b=i.canvasFactory,_=i.useRequestAnimationFrame,I=_!==void 0&&_,j=i.pdfBug,L=j!==void 0&&j;_classCallCheck(this,r),this.callback=a,this.params=o,this.objs=s,this.commonObjs=l,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=m,this.canvasFactory=b,this._pdfBug=L,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=I===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}var n;return _createClass(r,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(i){var a,o=i.transparency,s=o!==void 0&&o,l=i.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.add(this._canvas)}this._pdfBug&&(a=globalThis.StepperManager)!==null&&a!==void 0&&a.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var u=this.params,m=u.canvasContext,b=u.viewport,_=u.transform,I=u.imageLayer,j=u.background;this.gfx=new _canvas.CanvasGraphics(m,this.commonObjs,this.objs,this.canvasFactory,I,l),this.gfx.beginDrawing({transform:_,viewport:b,transparency:s,background:j}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback(i||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var i=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){i._nextBound().catch(i._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(n=_asyncToGenerator(_regenerator.default.mark(function i(){return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.cancelled){a.next=2;break}return a.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback()));case 4:case"end":return a.stop()}},i,this)})),function(){return n.apply(this,arguments)})}]),r}();return e}(),version="2.9.359";exports.version=version;var build="e667c8cbc";exports.build=build},(t,e,r)=>{function n(k){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n(k)}Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i,a=(i=r(2))&&i.__esModule?i:{default:i},o=r(4);function s(k,A){return s=Object.setPrototypeOf||function(D,P){return D.__proto__=P,D},s(k,A)}function l(k){var A=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,P=m(k);if(A){var T=m(this).constructor;D=Reflect.construct(P,arguments,T)}else D=P.apply(this,arguments);return u(this,D)}}function u(k,A){return!A||n(A)!=="object"&&typeof A!="function"?function(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(k):A}function m(k){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},m(k)}function b(k,A,D,P,T,x,g){try{var f=k[x](g),d=f.value}catch(v){return void D(v)}f.done?A(d):Promise.resolve(d).then(P,T)}function _(k,A){var D=typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(!D){if(Array.isArray(k)||(D=function(d,v){if(d){if(typeof d=="string")return I(d,v);var c=Object.prototype.toString.call(d).slice(8,-1);return c==="Object"&&d.constructor&&(c=d.constructor.name),c==="Map"||c==="Set"?Array.from(d):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?I(d,v):void 0}}(k))||A&&k&&typeof k.length=="number"){D&&(k=D);var P=0,T=function(){};return{s:T,n:function(){return P>=k.length?{done:!0}:{done:!1,value:k[P++]}},e:function(d){throw d},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,g=!0,f=!1;return{s:function(){D=D.call(k)},n:function(){var d=D.next();return g=d.done,d},e:function(d){f=!0,x=d},f:function(){try{g||D.return==null||D.return()}finally{if(f)throw x}}}}function I(k,A){(A==null||A>k.length)&&(A=k.length);for(var D=0,P=new Array(A);D<A;D++)P[D]=k[D];return P}function j(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function L(k,A){for(var D=0;D<A.length;D++){var P=A[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}function z(k,A,D){return A&&L(k.prototype,A),D&&L(k,D),k}var M,R=function(){function k(P){var T=P.docId,x=P.onUnsupportedFeature,g=P.ownerDocument,f=g===void 0?globalThis.document:g;j(this,k),this.constructor===k&&(0,o.unreachable)("Cannot initialize BaseFontLoader."),this.docId=T,this._onUnsupportedFeature=x,this._document=f,this.nativeFontFaces=[],this.styleElement=null}var A,D;return z(k,[{key:"addNativeFontFace",value:function(P){this.nativeFontFaces.push(P),this._document.fonts.add(P)}},{key:"insertRule",value:function(P){var T=this.styleElement;T||((T=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(T));var x=T.sheet;x.insertRule(P,x.cssRules.length)}},{key:"clear",value:function(){var P,T=_(this.nativeFontFaces);try{for(T.s();!(P=T.n()).done;){var x=P.value;this._document.fonts.delete(x)}}catch(g){T.e(g)}finally{T.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(A=a.default.mark(function P(T){var x,g,f=this;return a.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!T.attached&&!T.missingFile){d.next=2;break}return d.abrupt("return");case 2:if(T.attached=!0,!this.isFontLoadingAPISupported){d.next=19;break}if(!(x=T.createNativeFontFace())){d.next=18;break}return this.addNativeFontFace(x),d.prev=7,d.next=10,x.loaded;case 10:d.next=18;break;case 12:throw d.prev=12,d.t0=d.catch(7),this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)("Failed to load font '".concat(x.family,"': '").concat(d.t0,"'.")),T.disableFontFace=!0,d.t0;case 18:return d.abrupt("return");case 19:if(!(g=T.createFontFaceRule())){d.next=26;break}if(this.insertRule(g),!this.isSyncFontLoadingSupported){d.next=24;break}return d.abrupt("return");case 24:return d.next=26,new Promise(function(v){var c=f._queueLoadingCallback(v);f._prepareFontLoadEvent([g],[T],c)});case 26:case"end":return d.stop()}},P,this,[[7,12]])}),D=function(){var P=this,T=arguments;return new Promise(function(x,g){var f=A.apply(P,T);function d(c){b(f,x,g,d,v,"next",c)}function v(c){b(f,x,g,d,v,"throw",c)}d(void 0)})},function(P){return D.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(P){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var P;return(0,o.shadow)(this,"isFontLoadingAPISupported",!((P=this._document)===null||P===void 0||!P.fonts))}},{key:"isSyncFontLoadingSupported",get:function(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(P,T,x){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),k}();e.FontLoader=M,e.FontLoader=M=function(k){(function(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),T&&s(P,T)})(D,k);var A=l(D);function D(P){var T;return j(this,D),(T=A.call(this,P)).loadingContext={requests:[],nextRequestId:0},T.loadTestFontId=0,T}return z(D,[{key:"isSyncFontLoadingSupported",get:function(){var P=!1;if(typeof navigator=="undefined")P=!0;else{var T=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(T==null?void 0:T[1])>=14&&(P=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",P)}},{key:"_queueLoadingCallback",value:function(P){var T=this.loadingContext,x={id:"pdfjs-font-loading-".concat(T.nextRequestId++),done:!1,complete:function(){for((0,o.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;T.requests.length>0&&T.requests[0].done;){var g=T.requests.shift();setTimeout(g.callback,0)}},callback:P};return T.requests.push(x),x}},{key:"_loadTestFont",get:function(){return(0,o.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(P,T,x){var g,f,d=this;function v(oe,B){return oe.charCodeAt(B)<<24|oe.charCodeAt(B+1)<<16|oe.charCodeAt(B+2)<<8|255&oe.charCodeAt(B+3)}function c(oe,B,J,Y){return oe.substring(0,B)+Y+oe.substring(B+J)}var O=this._document.createElement("canvas");O.width=1,O.height=1;var H=O.getContext("2d"),N=0,U="lt".concat(Date.now()).concat(this.loadTestFontId++),y=this._loadTestFont,C=1482184792,E=v(y=c(y,976,U.length,U),16);for(g=0,f=U.length-3;g<f;g+=4)E=E-C+v(U,g)|0;g<U.length&&(E=E-C+v(U+"XXX",g)|0),y=c(y,16,4,(0,o.string32)(E));var F="url(data:font/opentype;base64,".concat(btoa(y),");"),X='@font-face {font-family:"'.concat(U,'";src:').concat(F,"}");this.insertRule(X);var G,q=[],ne=_(T);try{for(ne.s();!(G=ne.n()).done;){var ie=G.value;q.push(ie.loadedName)}}catch(oe){ne.e(oe)}finally{ne.f()}q.push(U);var ee=this._document.createElement("div");ee.style.visibility="hidden",ee.style.width=ee.style.height="10px",ee.style.position="absolute",ee.style.top=ee.style.left="0px";for(var te=0,se=q;te<se.length;te++){var le=se[te],de=this._document.createElement("span");de.textContent="Hi",de.style.fontFamily=le,ee.appendChild(de)}this._document.body.appendChild(ee),function oe(B,J){if(++N>30)return(0,o.warn)("Load test font never loaded."),void J();H.font="30px "+B,H.fillText(".",0,20),H.getImageData(0,0,1,1).data[3]>0?J():setTimeout(oe.bind(null,B,J))}(U,function(){d._document.body.removeChild(ee),x.complete()})}}]),D}(R);var w=function(){function k(A,D){var P=D.isEvalSupported,T=P===void 0||P,x=D.disableFontFace,g=x!==void 0&&x,f=D.ignoreErrors,d=f!==void 0&&f,v=D.onUnsupportedFeature,c=D.fontRegistry,O=c===void 0?null:c;for(var H in j(this,k),this.compiledGlyphs=Object.create(null),A)this[H]=A[H];this.isEvalSupported=T!==!1,this.disableFontFace=g===!0,this.ignoreErrors=d===!0,this._onUnsupportedFeature=v,this.fontRegistry=O}return z(k,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var A;if(this.cssFontInfo){var D={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(D.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),A=new FontFace(this.cssFontInfo.fontFamily,this.data,D)}else A=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),A}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var A,D=(0,o.bytesToString)(this.data),P="url(data:".concat(this.mimetype,";base64,").concat(btoa(D),");");if(this.cssFontInfo){var T="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(T+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),A='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(T,"src:").concat(P,"}")}else A='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(P,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,P),A}},{key:"getPathGenerator",value:function(A,D){if(this.compiledGlyphs[D]!==void 0)return this.compiledGlyphs[D];var P;try{P=A.get(this.loadedName+"_path_"+D)}catch(v){if(!this.ignoreErrors)throw v;return this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)('getPathGenerator - ignoring character: "'.concat(v,'".')),this.compiledGlyphs[D]=function(c,O){}}if(this.isEvalSupported&&o.IsEvalSupportedCached.value){var T,x=[],g=_(P);try{for(g.s();!(T=g.n()).done;){var f=T.value,d=f.args!==void 0?f.args.join(","):"";x.push("c.",f.cmd,"(",d,`);
`)}}catch(v){g.e(v)}finally{g.f()}return this.compiledGlyphs[D]=new Function("c","size",x.join(""))}return this.compiledGlyphs[D]=function(v,c){var O,H=_(P);try{for(H.s();!(O=H.n()).done;){var N=O.value;N.cmd==="scale"&&(N.args=[c,-c]),v[N.cmd].apply(v,N.args)}}catch(U){H.e(U)}finally{H.f()}}}}]),k}();e.FontFaceObject=w},(t,e,r)=>{function n(M){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n(M)}Object.defineProperty(e,"__esModule",{value:!0}),e.NodeCMapReaderFactory=e.NodeCanvasFactory=void 0;var i=r(1),a=r(6),o=r(4);function s(M,R){for(var w=0;w<R.length;w++){var k=R[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(M,k.key,k)}}function l(M,R,w){return R&&s(M.prototype,R),w&&s(M,w),M}function u(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&m(M,R)}function m(M,R){return m=Object.setPrototypeOf||function(w,k){return w.__proto__=k,w},m(M,R)}function b(M){var R=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,k=I(M);if(R){var A=I(this).constructor;w=Reflect.construct(k,arguments,A)}else w=k.apply(this,arguments);return _(this,w)}}function _(M,R){return!R||n(R)!=="object"&&typeof R!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(M):R}function I(M){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},I(M)}function j(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}var L=function M(){j(this,M),(0,o.unreachable)("Not implemented: NodeCanvasFactory")};e.NodeCanvasFactory=L;var z=function M(){j(this,M),(0,o.unreachable)("Not implemented: NodeCMapReaderFactory")};e.NodeCMapReaderFactory=z,a.isNodeJS&&(e.NodeCanvasFactory=L=function(M){u(w,M);var R=b(w);function w(){return j(this,w),R.apply(this,arguments)}return l(w,[{key:"create",value:function(k,A){if(k<=0||A<=0)throw new Error("Invalid canvas size");var D=__webpack_require__(601).createCanvas(k,A);return{canvas:D,context:D.getContext("2d")}}}]),w}(i.BaseCanvasFactory),e.NodeCMapReaderFactory=z=function(M){u(w,M);var R=b(w);function w(){return j(this,w),R.apply(this,arguments)}return l(w,[{key:"_fetchData",value:function(k,A){return new Promise(function(D,P){__webpack_require__(767).readFile(k,function(T,x){!T&&x?D({cMapData:new Uint8Array(x),compressionType:A}):P(new Error(T))})})}}]),w}(i.BaseCMapReaderFactory))},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationStorage=void 0;var n=r(4);function i(l,u){return function(m){if(Array.isArray(m))return m}(l)||function(m,b){var _=m&&(typeof Symbol!="undefined"&&m[Symbol.iterator]||m["@@iterator"]);if(_!=null){var I,j,L=[],z=!0,M=!1;try{for(_=_.call(m);!(z=(I=_.next()).done)&&(L.push(I.value),!b||L.length!==b);z=!0);}catch(R){M=!0,j=R}finally{try{z||_.return==null||_.return()}finally{if(M)throw j}}return L}}(l,u)||function(m,b){if(m){if(typeof m=="string")return a(m,b);var _=Object.prototype.toString.call(m).slice(8,-1);return _==="Object"&&m.constructor&&(_=m.constructor.name),_==="Map"||_==="Set"?Array.from(m):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?a(m,b):void 0}}(l,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(l,u){(u==null||u>l.length)&&(u=l.length);for(var m=0,b=new Array(u);m<u;m++)b[m]=l[m];return b}function o(l,u){for(var m=0;m<u.length;m++){var b=u[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(l,b.key,b)}}var s=function(){function l(){(function(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")})(this,l),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}var u,m;return u=l,(m=[{key:"getValue",value:function(b,_){var I=this._storage.get(b);return I!==void 0?I:_}},{key:"setValue",value:function(b,_){var I=this._storage.get(b),j=!1;if(I!==void 0)for(var L=0,z=Object.entries(_);L<z.length;L++){var M=i(z[L],2),R=M[0],w=M[1];I[R]!==w&&(j=!0,I[R]=w)}else this._storage.set(b,_),j=!0;j&&this._setModified()}},{key:"getAll",value:function(){return this._storage.size>0?(0,n.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}}])&&o(u.prototype,m),l}();e.AnnotationStorage=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.apiCompatibilityParams=void 0;var n=r(6),i=Object.create(null);n.isNodeJS&&(i.disableFontFace=!0);var a=Object.freeze(i);e.apiCompatibilityParams=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=r(4),i=r(119);function a(w){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},a(w)}function o(w,k){var A=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!A){if(Array.isArray(w)||(A=b(w))||k&&w&&typeof w.length=="number"){A&&(w=A);var D=0,P=function(){};return{s:P,n:function(){return D>=w.length?{done:!0}:{done:!1,value:w[D++]}},e:function(f){throw f},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,x=!0,g=!1;return{s:function(){A=A.call(w)},n:function(){var f=A.next();return x=f.done,f},e:function(f){g=!0,T=f},f:function(){try{x||A.return==null||A.return()}finally{if(g)throw T}}}}function s(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}function l(w,k){for(var A=0;A<k.length;A++){var D=k[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function u(w,k,A){return k&&l(w.prototype,k),A&&l(w,A),w}function m(w,k){return function(A){if(Array.isArray(A))return A}(w)||function(A,D){var P=A&&(typeof Symbol!="undefined"&&A[Symbol.iterator]||A["@@iterator"]);if(P!=null){var T,x,g=[],f=!0,d=!1;try{for(P=P.call(A);!(f=(T=P.next()).done)&&(g.push(T.value),!D||g.length!==D);f=!0);}catch(v){d=!0,x=v}finally{try{f||P.return==null||P.return()}finally{if(d)throw x}}return g}}(w,k)||b(w,k)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(w,k){if(w){if(typeof w=="string")return _(w,k);var A=Object.prototype.toString.call(w).slice(8,-1);return A==="Object"&&w.constructor&&(A=w.constructor.name),A==="Map"||A==="Set"?Array.from(w):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?_(w,k):void 0}}function _(w,k){(k==null||k>w.length)&&(k=w.length);for(var A=0,D=new Array(k);A<k;A++)D[A]=w[A];return D}var I=4096,j=16;function L(w){if(!w.mozCurrentTransform){w._originalSave=w.save,w._originalRestore=w.restore,w._originalRotate=w.rotate,w._originalScale=w.scale,w._originalTranslate=w.translate,w._originalTransform=w.transform,w._originalSetTransform=w.setTransform,w._originalResetTransform=w.resetTransform,w._transformMatrix=w._transformMatrix||[1,0,0,1,0,0],w._transformStack=[];try{var k=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(w),"lineWidth");w._setLineWidth=k.set,w._getLineWidth=k.get,Object.defineProperty(w,"lineWidth",{set:function(A){this._setLineWidth(1.000001*A)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(w,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(w,"mozCurrentTransformInverse",{get:function(){var A=m(this._transformMatrix,6),D=A[0],P=A[1],T=A[2],x=A[3],g=A[4],f=A[5],d=D*x-P*T,v=P*T-D*x;return[x/d,P/v,T/v,D/d,(x*g-T*f)/v,(P*g-D*f)/d]}}),w.save=function(){var A=this._transformMatrix;this._transformStack.push(A),this._transformMatrix=A.slice(0,6),this._originalSave()},w.restore=function(){var A=this._transformStack.pop();A&&(this._transformMatrix=A,this._originalRestore())},w.translate=function(A,D){var P=this._transformMatrix;P[4]=P[0]*A+P[2]*D+P[4],P[5]=P[1]*A+P[3]*D+P[5],this._originalTranslate(A,D)},w.scale=function(A,D){var P=this._transformMatrix;P[0]=P[0]*A,P[1]=P[1]*A,P[2]=P[2]*D,P[3]=P[3]*D,this._originalScale(A,D)},w.transform=function(A,D,P,T,x,g){var f=this._transformMatrix;this._transformMatrix=[f[0]*A+f[2]*D,f[1]*A+f[3]*D,f[0]*P+f[2]*T,f[1]*P+f[3]*T,f[0]*x+f[2]*g+f[4],f[1]*x+f[3]*g+f[5]],w._originalTransform(A,D,P,T,x,g)},w.setTransform=function(A,D,P,T,x,g){this._transformMatrix=[A,D,P,T,x,g],w._originalSetTransform(A,D,P,T,x,g)},w.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],w._originalResetTransform()},w.rotate=function(A){var D=Math.cos(A),P=Math.sin(A),T=this._transformMatrix;this._transformMatrix=[T[0]*D+T[2]*P,T[1]*D+T[3]*P,T[0]*-P+T[2]*D,T[1]*-P+T[3]*D,T[4],T[5]],this._originalRotate(A)}}}var z=function(){function w(k){s(this,w),this.canvasFactory=k,this.cache=Object.create(null)}return u(w,[{key:"getCanvas",value:function(k,A,D,P){var T;return this.cache[k]!==void 0?(T=this.cache[k],this.canvasFactory.reset(T,A,D),T.context.setTransform(1,0,0,1,0,0)):(T=this.canvasFactory.create(A,D),this.cache[k]=T),P&&L(T.context),T}},{key:"clear",value:function(){for(var k in this.cache){var A=this.cache[k];this.canvasFactory.destroy(A),delete this.cache[k]}}}]),w}(),M=function(){function w(){s(this,w),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return u(w,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(k,A){this.x=k,this.y=A}}]),w}(),R=function(){function w(N,U){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData!="undefined"&&U instanceof ImageData)N.putImageData(U,0,0);else{var C,E,F,X,G,q,ne,ie,ee,te=U.height,se=U.width,le=te%j,de=(te-le)/j,oe=le===0?de:de+1,B=N.createImageData(se,j),J=0,Y=U.data,K=B.data;if(y)switch(y.length){case 1:q=y[0],ne=y[0],ie=y[0],ee=y[0];break;case 4:q=y[0],ne=y[1],ie=y[2],ee=y[3]}if(U.kind===n.ImageKind.GRAYSCALE_1BPP){var Z=Y.byteLength,Q=new Uint32Array(K.buffer,0,K.byteLength>>2),ue=Q.length,ce=se+7>>3,ae=4294967295,me=n.IsLittleEndianCached.value?4278190080:255;if(ee&&ee[0]===255&&ee[255]===0){var ve=[me,ae];ae=ve[0],me=ve[1]}for(E=0;E<oe;E++){for(X=E<de?j:le,C=0,F=0;F<X;F++){for(var he=Z-J,ge=0,ye=he>ce?se:8*he-7,pe=-8&ye,_e=0,Se=0;ge<pe;ge+=8)Se=Y[J++],Q[C++]=128&Se?ae:me,Q[C++]=64&Se?ae:me,Q[C++]=32&Se?ae:me,Q[C++]=16&Se?ae:me,Q[C++]=8&Se?ae:me,Q[C++]=4&Se?ae:me,Q[C++]=2&Se?ae:me,Q[C++]=1&Se?ae:me;for(;ge<ye;ge++)_e===0&&(Se=Y[J++],_e=128),Q[C++]=Se&_e?ae:me,_e>>=1}for(;C<ue;)Q[C++]=0;N.putImageData(B,0,E*j)}}else if(U.kind===n.ImageKind.RGBA_32BPP){var Ce=!!(q||ne||ie);for(F=0,G=se*j*4,E=0;E<de;E++){if(K.set(Y.subarray(J,J+G)),J+=G,Ce)for(var Ee=0;Ee<G;Ee+=4)q&&(K[Ee+0]=q[K[Ee+0]]),ne&&(K[Ee+1]=ne[K[Ee+1]]),ie&&(K[Ee+2]=ie[K[Ee+2]]);N.putImageData(B,0,F),F+=j}if(E<oe){if(G=se*le*4,K.set(Y.subarray(J,J+G)),Ce)for(var xe=0;xe<G;xe+=4)q&&(K[xe+0]=q[K[xe+0]]),ne&&(K[xe+1]=ne[K[xe+1]]),ie&&(K[xe+2]=ie[K[xe+2]]);N.putImageData(B,0,F)}}else{if(U.kind!==n.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(U.kind));var ke=!!(q||ne||ie);for(G=se*(X=j),E=0;E<oe;E++){for(E>=de&&(G=se*(X=le)),C=0,F=G;F--;)K[C++]=Y[J++],K[C++]=Y[J++],K[C++]=Y[J++],K[C++]=255;if(ke)for(var Ie=0;Ie<C;Ie+=4)q&&(K[Ie+0]=q[K[Ie+0]]),ne&&(K[Ie+1]=ne[K[Ie+1]]),ie&&(K[Ie+2]=ie[K[Ie+2]]);N.putImageData(B,0,E*j)}}}}function k(N,U){for(var y=U.height,C=U.width,E=y%j,F=(y-E)/j,X=E===0?F:F+1,G=N.createImageData(C,j),q=0,ne=U.data,ie=G.data,ee=0;ee<X;ee++){for(var te=ee<F?j:E,se=3,le=0;le<te;le++)for(var de=void 0,oe=0,B=0;B<C;B++)oe||(de=ne[q++],oe=128),ie[se]=de&oe?0:255,se+=4,oe>>=1;N.putImageData(G,0,ee*j)}}function A(N,U){for(var y=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],C=0,E=y.length;C<E;C++){var F=y[C];N[F]!==void 0&&(U[F]=N[F])}N.setLineDash!==void 0&&(U.setLineDash(N.getLineDash()),U.lineDashOffset=N.lineDashOffset)}function D(N){N.strokeStyle="#000000",N.fillStyle="#000000",N.fillRule="nonzero",N.globalAlpha=1,N.lineWidth=1,N.lineCap="butt",N.lineJoin="miter",N.miterLimit=10,N.globalCompositeOperation="source-over",N.font="10px sans-serif",N.setLineDash!==void 0&&(N.setLineDash([]),N.lineDashOffset=0)}function P(N,U,y,C){for(var E=N.length,F=3;F<E;F+=4){var X=N[F];if(X===0)N[F-3]=U,N[F-2]=y,N[F-1]=C;else if(X<255){var G=255-X;N[F-3]=N[F-3]*X+U*G>>8,N[F-2]=N[F-2]*X+y*G>>8,N[F-1]=N[F-1]*X+C*G>>8}}}function T(N,U,y){for(var C=N.length,E=3;E<C;E+=4){var F=y?y[N[E]]:N[E];U[E]=U[E]*F*.00392156862745098|0}}function x(N,U,y){for(var C=N.length,E=3;E<C;E+=4){var F=77*N[E-3]+152*N[E-2]+28*N[E-1];U[E]=y?U[E]*y[F>>8]>>8:U[E]*F>>16}}function g(N,U,y){var C=U.canvas,E=U.context;N.setTransform(U.scaleX,0,0,U.scaleY,U.offsetX,U.offsetY),function(F,X,G,q,ne,ie,ee){var te,se=!!ie,le=se?ie[0]:0,de=se?ie[1]:0,oe=se?ie[2]:0;te=ne==="Luminosity"?x:T;for(var B=Math.min(q,Math.ceil(1048576/G)),J=0;J<q;J+=B){var Y=Math.min(B,q-J),K=F.getImageData(0,J,G,Y),Z=X.getImageData(0,J,G,Y);se&&P(K.data,le,de,oe),te(K.data,Z.data,ee),F.putImageData(Z,0,J)}}(E,y,C.width,C.height,U.subtype,U.backdrop,U.transferMap),N.drawImage(C,0,0)}var f=["butt","round","square"],d=["miter","round","bevel"],v={},c={},O=function(){function N(U,y,C,E,F,X){s(this,N),this.ctx=U,this.current=new M,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=y,this.objs=C,this.canvasFactory=E,this.imageLayer=F,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=X,this.cachedCanvases=new z(this.canvasFactory),U&&L(U),this._cachedGetSinglePixelWidth=null}return u(N,[{key:"beginDrawing",value:function(U){var y=U.transform,C=U.viewport,E=U.transparency,F=E!==void 0&&E,X=U.background,G=X===void 0?null:X,q=this.ctx.canvas.width,ne=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=G||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,q,ne),this.ctx.restore(),F){var ie=this.cachedCanvases.getCanvas("transparent",q,ne,!0);this.compositeCtx=this.ctx,this.transparentCanvas=ie.canvas,this.ctx=ie.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),D(this.ctx),y&&this.ctx.transform.apply(this.ctx,y),this.ctx.transform.apply(this.ctx,C.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(U,y,C,E){var F=U.argsArray,X=U.fnArray,G=y||0,q=F.length;if(q===G)return G;for(var ne,ie=q-G>10&&typeof C=="function",ee=ie?Date.now()+15:0,te=0,se=this.commonObjs,le=this.objs;;){if(E!==void 0&&G===E.nextBreakPoint)return E.breakIt(G,C),G;if((ne=X[G])!==n.OPS.dependency)this[ne].apply(this,F[G]);else{var de,oe=o(F[G]);try{for(oe.s();!(de=oe.n()).done;){var B=de.value,J=B.startsWith("g_")?se:le;if(!J.has(B))return J.get(B,C),G}}catch(Y){oe.e(Y)}finally{oe.f()}}if(++G===q)return G;if(ie&&++te>10){if(Date.now()>ee)return C(),G;te=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.current.activeSMask!==null;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"setLineWidth",value:function(U){this.current.lineWidth=U,this.ctx.lineWidth=U}},{key:"setLineCap",value:function(U){this.ctx.lineCap=f[U]}},{key:"setLineJoin",value:function(U){this.ctx.lineJoin=d[U]}},{key:"setMiterLimit",value:function(U){this.ctx.miterLimit=U}},{key:"setDash",value:function(U,y){var C=this.ctx;C.setLineDash!==void 0&&(C.setLineDash(U),C.lineDashOffset=y)}},{key:"setRenderingIntent",value:function(U){}},{key:"setFlatness",value:function(U){}},{key:"setGState",value:function(U){for(var y=0,C=U.length;y<C;y++){var E=U[y],F=E[0],X=E[1];switch(F){case"LW":this.setLineWidth(X);break;case"LC":this.setLineCap(X);break;case"LJ":this.setLineJoin(X);break;case"ML":this.setMiterLimit(X);break;case"D":this.setDash(X[0],X[1]);break;case"RI":this.setRenderingIntent(X);break;case"FL":this.setFlatness(X);break;case"Font":this.setFont(X[0],X[1]);break;case"CA":this.current.strokeAlpha=E[1];break;case"ca":this.current.fillAlpha=E[1],this.ctx.globalAlpha=E[1];break;case"BM":this.ctx.globalCompositeOperation=X;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=X?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=X}}}},{key:"beginSMaskGroup",value:function(){var U=this.current.activeSMask,y=U.canvas.width,C=U.canvas.height,E="smaskGroupAt"+this.groupLevel,F=this.cachedCanvases.getCanvas(E,y,C,!0),X=this.ctx,G=X.mozCurrentTransform;this.ctx.save();var q=F.context;q.scale(1/U.scaleX,1/U.scaleY),q.translate(-U.offsetX,-U.offsetY),q.transform.apply(q,G),U.startTransformInverse=q.mozCurrentTransformInverse,A(X,q),this.ctx=q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(X),this.groupLevel++}},{key:"suspendSMaskGroup",value:function(){var U=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),g(this.ctx,this.current.activeSMask,U),this.ctx.restore(),this.ctx.save(),A(U,this.ctx),this.current.resumeSMaskCtx=U;var y=n.Util.transform(this.current.activeSMask.startTransformInverse,U.mozCurrentTransform);this.ctx.transform.apply(this.ctx,y),U.save(),U.setTransform(1,0,0,1,0,0),U.clearRect(0,0,U.canvas.width,U.canvas.height),U.restore()}},{key:"resumeSMaskGroup",value:function(){var U=this.current.resumeSMaskCtx,y=this.ctx;this.ctx=U,this.groupStack.push(y),this.groupLevel++}},{key:"endSMaskGroup",value:function(){var U=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),g(this.ctx,this.current.activeSMask,U),this.ctx.restore(),A(U,this.ctx);var y=n.Util.transform(this.current.activeSMask.startTransformInverse,U.mozCurrentTransform);this.ctx.transform.apply(this.ctx,y)}},{key:"save",value:function(){this.ctx.save();var U=this.current;this.stateStack.push(U),this.current=U.clone(),this.current.resumeSMaskCtx=null}},{key:"restore",value:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),this.current.activeSMask===null||this.stateStack.length!==0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),this.stateStack.length!==0?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null}},{key:"transform",value:function(U,y,C,E,F,X){this.ctx.transform(U,y,C,E,F,X),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(U,y){for(var C=this.ctx,E=this.current,F=E.x,X=E.y,G=0,q=0,ne=U.length;G<ne;G++)switch(0|U[G]){case n.OPS.rectangle:F=y[q++],X=y[q++];var ie=y[q++],ee=y[q++],te=F+ie,se=X+ee;C.moveTo(F,X),ie===0||ee===0?C.lineTo(te,se):(C.lineTo(te,X),C.lineTo(te,se),C.lineTo(F,se)),C.closePath();break;case n.OPS.moveTo:F=y[q++],X=y[q++],C.moveTo(F,X);break;case n.OPS.lineTo:F=y[q++],X=y[q++],C.lineTo(F,X);break;case n.OPS.curveTo:F=y[q+4],X=y[q+5],C.bezierCurveTo(y[q],y[q+1],y[q+2],y[q+3],F,X),q+=6;break;case n.OPS.curveTo2:C.bezierCurveTo(F,X,y[q],y[q+1],y[q+2],y[q+3]),F=y[q+2],X=y[q+3],q+=4;break;case n.OPS.curveTo3:F=y[q+2],X=y[q+3],C.bezierCurveTo(y[q],y[q+1],F,X,F,X),q+=4;break;case n.OPS.closePath:C.closePath()}E.setCurrentPoint(F,X)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(U){U=U===void 0||U;var y=this.ctx,C=this.current.strokeColor;if(y.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(a(C)==="object"&&C!=null&&C.getPattern){var E=this.getSinglePixelWidth();y.save(),y.strokeStyle=C.getPattern(y,this),y.lineWidth=Math.max(E,this.current.lineWidth),y.stroke(),y.restore()}else{var F=this.getSinglePixelWidth();F<0&&-F>=this.current.lineWidth?(y.save(),y.resetTransform(),y.lineWidth=Math.round(this._combinedScaleFactor),y.stroke(),y.restore()):(y.lineWidth=Math.max(F,this.current.lineWidth),y.stroke())}U&&this.consumePath(),y.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(U){U=U===void 0||U;var y=this.ctx,C=this.current.fillColor,E=!1;this.current.patternFill&&(y.save(),y.fillStyle=C.getPattern(y,this),E=!0),this.contentVisible&&(this.pendingEOFill?(y.fill("evenodd"),this.pendingEOFill=!1):y.fill()),E&&y.restore(),U&&this.consumePath()}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=v}},{key:"eoClip",value:function(){this.pendingClip=c}},{key:"beginText",value:function(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var U=this.pendingTextPaths,y=this.ctx;if(U!==void 0){y.save(),y.beginPath();for(var C=0;C<U.length;C++){var E=U[C];y.setTransform.apply(y,E.transform),y.translate(E.x,E.y),E.addToPath(y,E.fontSize)}y.restore(),y.clip(),y.beginPath(),delete this.pendingTextPaths}else y.beginPath()}},{key:"setCharSpacing",value:function(U){this.current.charSpacing=U}},{key:"setWordSpacing",value:function(U){this.current.wordSpacing=U}},{key:"setHScale",value:function(U){this.current.textHScale=U/100}},{key:"setLeading",value:function(U){this.current.leading=-U}},{key:"setFont",value:function(U,y){var C=this.commonObjs.get(U),E=this.current;if(!C)throw new Error("Can't find font for ".concat(U));if(E.fontMatrix=C.fontMatrix||n.FONT_IDENTITY_MATRIX,E.fontMatrix[0]!==0&&E.fontMatrix[3]!==0||(0,n.warn)("Invalid font matrix for font "+U),y<0?(y=-y,E.fontDirection=-1):E.fontDirection=1,this.current.font=C,this.current.fontSize=y,!C.isType3Font){var F=C.loadedName||"sans-serif",X="normal";C.black?X="900":C.bold&&(X="bold");var G=C.italic?"italic":"normal",q='"'.concat(F,'", ').concat(C.fallbackName),ne=y;y<16?ne=16:y>100&&(ne=100),this.current.fontSizeScale=y/ne,this.ctx.font="".concat(G," ").concat(X," ").concat(ne,"px ").concat(q)}}},{key:"setTextRenderingMode",value:function(U){this.current.textRenderingMode=U}},{key:"setTextRise",value:function(U){this.current.textRise=U}},{key:"moveText",value:function(U,y){this.current.x=this.current.lineX+=U,this.current.y=this.current.lineY+=y}},{key:"setLeadingMoveText",value:function(U,y){this.setLeading(-y),this.moveText(U,y)}},{key:"setTextMatrix",value:function(U,y,C,E,F,X){this.current.textMatrix=[U,y,C,E,F,X],this.current.textMatrixScale=Math.hypot(U,y),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(U,y,C,E,F){var X,G=this.ctx,q=this.current,ne=q.font,ie=q.textRenderingMode,ee=q.fontSize/q.fontSizeScale,te=ie&n.TextRenderingMode.FILL_STROKE_MASK,se=!!(ie&n.TextRenderingMode.ADD_TO_PATH_FLAG),le=q.patternFill&&!ne.missingFile;(ne.disableFontFace||se||le)&&(X=ne.getPathGenerator(this.commonObjs,U)),ne.disableFontFace||le?(G.save(),G.translate(y,C),G.beginPath(),X(G,ee),E&&G.setTransform.apply(G,E),te!==n.TextRenderingMode.FILL&&te!==n.TextRenderingMode.FILL_STROKE||G.fill(),te!==n.TextRenderingMode.STROKE&&te!==n.TextRenderingMode.FILL_STROKE||(F&&(G.resetTransform(),G.lineWidth=Math.round(this._combinedScaleFactor)),G.stroke()),G.restore()):(te!==n.TextRenderingMode.FILL&&te!==n.TextRenderingMode.FILL_STROKE||G.fillText(U,y,C),te!==n.TextRenderingMode.STROKE&&te!==n.TextRenderingMode.FILL_STROKE||(F?(G.save(),G.moveTo(y,C),G.resetTransform(),G.lineWidth=Math.round(this._combinedScaleFactor),G.strokeText(U,0,0),G.restore()):G.strokeText(U,y,C))),se&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:G.mozCurrentTransform,x:y,y:C,fontSize:ee,addToPath:X})}},{key:"isFontSubpixelAAEnabled",get:function(){var U=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;U.scale(1.5,1),U.fillText("I",0,10);for(var y=U.getImageData(0,0,10,10).data,C=!1,E=3;E<y.length;E+=4)if(y[E]>0&&y[E]<255){C=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",C)}},{key:"showText",value:function(U){var y=this.current,C=y.font;if(C.isType3Font)return this.showType3Text(U);var E=y.fontSize;if(E!==0){var F,X=this.ctx,G=y.fontSizeScale,q=y.charSpacing,ne=y.wordSpacing,ie=y.fontDirection,ee=y.textHScale*ie,te=U.length,se=C.vertical,le=se?1:-1,de=C.defaultVMetrics,oe=E*y.fontMatrix[0],B=y.textRenderingMode===n.TextRenderingMode.FILL&&!C.disableFontFace&&!y.patternFill;if(X.save(),y.patternFill){X.save();var J=y.fillColor.getPattern(X,this);F=X.mozCurrentTransform,X.restore(),X.fillStyle=J}X.transform.apply(X,y.textMatrix),X.translate(y.x,y.y+y.textRise),ie>0?X.scale(ee,-1):X.scale(ee,1);var Y=y.lineWidth,K=!1,Z=y.textMatrixScale;if(Z===0||Y===0){var Q=y.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;Q!==n.TextRenderingMode.STROKE&&Q!==n.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,K=(Y=this.getSinglePixelWidth())<0)}else Y/=Z;G!==1&&(X.scale(G,G),Y/=G),X.lineWidth=Y;var ue,ce=0;for(ue=0;ue<te;++ue){var ae=U[ue];if((0,n.isNum)(ae))ce+=le*ae*E/1e3;else{var me=!1,ve=(ae.isSpace?ne:0)+q,he=ae.fontChar,ge=ae.accent,ye=void 0,pe=void 0,_e=ae.width;if(se){var Se=ae.vmetric||de,Ce=-(ae.vmetric?Se[1]:.5*_e)*oe,Ee=Se[2]*oe;_e=Se?-Se[0]:_e,ye=Ce/G,pe=(ce+Ee)/G}else ye=ce/G,pe=0;if(C.remeasure&&_e>0){var xe=1e3*X.measureText(he).width/E*G;if(_e<xe&&this.isFontSubpixelAAEnabled){var ke=_e/xe;me=!0,X.save(),X.scale(ke,1),ye/=ke}else _e!==xe&&(ye+=(_e-xe)/2e3*E/G)}if(this.contentVisible&&(ae.isInFont||C.missingFile)){if(B&&!ge)X.fillText(he,ye,pe);else if(this.paintChar(he,ye,pe,F,K),ge){var Ie=ye+E*ge.offset.x/G,De=pe-E*ge.offset.y/G;this.paintChar(ge.fontChar,Ie,De,F,K)}}ce+=se?_e*oe-ve*ie:_e*oe+ve*ie,me&&X.restore()}}se?y.y-=ce:y.x+=ce*ee,X.restore()}}},{key:"showType3Text",value:function(U){var y,C,E,F,X=this.ctx,G=this.current,q=G.font,ne=G.fontSize,ie=G.fontDirection,ee=q.vertical?1:-1,te=G.charSpacing,se=G.wordSpacing,le=G.textHScale*ie,de=G.fontMatrix||n.FONT_IDENTITY_MATRIX,oe=U.length;if(G.textRenderingMode!==n.TextRenderingMode.INVISIBLE&&ne!==0){for(this._cachedGetSinglePixelWidth=null,X.save(),X.transform.apply(X,G.textMatrix),X.translate(G.x,G.y),X.scale(le,ie),y=0;y<oe;++y)if(C=U[y],(0,n.isNum)(C))F=ee*C*ne/1e3,this.ctx.translate(F,0),G.x+=F*le;else{var B=(C.isSpace?se:0)+te,J=q.charProcOperatorList[C.operatorListId];J?(this.contentVisible&&(this.processingType3=C,this.save(),X.scale(ne,ne),X.transform.apply(X,de),this.executeOperatorList(J),this.restore()),E=n.Util.applyTransform([C.width,0],de)[0]*ne+B,X.translate(E,0),G.x+=E*le):(0,n.warn)('Type3 character "'.concat(C.operatorListId,'" is not available.'))}X.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(U,y){}},{key:"setCharWidthAndBounds",value:function(U,y,C,E,F,X){this.ctx.rect(C,E,F-C,X-E),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(U){var y,C=this;if(U[0]==="TilingPattern"){var E=U[1],F=this.baseTransform||this.ctx.mozCurrentTransform.slice(),X={createCanvasGraphics:function(G){return new N(G,C.commonObjs,C.objs,C.canvasFactory)}};y=new i.TilingPattern(U,E,this.ctx,X,F)}else y=(0,i.getShadingPattern)(U);return y}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(U,y,C){var E=n.Util.makeHexColor(U,y,C);this.ctx.strokeStyle=E,this.current.strokeColor=E}},{key:"setFillRGBColor",value:function(U,y,C){var E=n.Util.makeHexColor(U,y,C);this.ctx.fillStyle=E,this.current.fillColor=E,this.current.patternFill=!1}},{key:"shadingFill",value:function(U){if(this.contentVisible){var y=this.ctx;this.save();var C=(0,i.getShadingPattern)(U);y.fillStyle=C.getPattern(y,this,!0);var E=y.mozCurrentTransformInverse;if(E){var F=y.canvas,X=F.width,G=F.height,q=n.Util.applyTransform([0,0],E),ne=n.Util.applyTransform([0,G],E),ie=n.Util.applyTransform([X,0],E),ee=n.Util.applyTransform([X,G],E),te=Math.min(q[0],ne[0],ie[0],ee[0]),se=Math.min(q[1],ne[1],ie[1],ee[1]),le=Math.max(q[0],ne[0],ie[0],ee[0]),de=Math.max(q[1],ne[1],ie[1],ee[1]);this.ctx.fillRect(te,se,le-te,de-se)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}}},{key:"beginInlineImage",value:function(){(0,n.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,n.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(U,y){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(U)&&U.length===6&&this.transform.apply(this,U),this.baseTransform=this.ctx.mozCurrentTransform,y)){var C=y[2]-y[0],E=y[3]-y[1];this.ctx.rect(y[0],y[1],C,E),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(U){if(this.contentVisible){this.save();var y=this.ctx;U.isolated||(0,n.info)("TODO: Support non-isolated groups."),U.knockout&&(0,n.warn)("Knockout groups not supported.");var C=y.mozCurrentTransform;if(U.matrix&&y.transform.apply(y,U.matrix),!U.bbox)throw new Error("Bounding box is required.");var E=n.Util.getAxialAlignedBoundingBox(U.bbox,y.mozCurrentTransform),F=[0,0,y.canvas.width,y.canvas.height];E=n.Util.intersect(E,F)||[0,0,0,0];var X=Math.floor(E[0]),G=Math.floor(E[1]),q=Math.max(Math.ceil(E[2])-X,1),ne=Math.max(Math.ceil(E[3])-G,1),ie=1,ee=1;q>I&&(ie=q/I,q=I),ne>I&&(ee=ne/I,ne=I);var te="groupAt"+this.groupLevel;U.smask&&(te+="_smask_"+this.smaskCounter++%2);var se=this.cachedCanvases.getCanvas(te,q,ne,!0),le=se.context;le.scale(1/ie,1/ee),le.translate(-X,-G),le.transform.apply(le,C),U.smask?this.smaskStack.push({canvas:se.canvas,context:le,offsetX:X,offsetY:G,scaleX:ie,scaleY:ee,subtype:U.smask.subtype,backdrop:U.smask.backdrop,transferMap:U.smask.transferMap||null,startTransformInverse:null}):(y.setTransform(1,0,0,1,0,0),y.translate(X,G),y.scale(ie,ee)),A(y,le),this.ctx=le,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(y),this.groupLevel++,this.current.activeSMask=null}}},{key:"endGroup",value:function(U){if(this.contentVisible){this.groupLevel--;var y=this.ctx;this.ctx=this.groupStack.pop(),this.ctx.imageSmoothingEnabled!==void 0?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,U.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(y.canvas,0,0),this.restore()}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(U,y,C){if(this.save(),D(this.ctx),this.current=new M,Array.isArray(U)&&U.length===4){var E=U[2]-U[0],F=U[3]-U[1];this.ctx.rect(U[0],U[1],E,F),this.clip(),this.endPath()}this.transform.apply(this,y),this.transform.apply(this,C)}},{key:"endAnnotation",value:function(){this.restore()}},{key:"paintImageMaskXObject",value:function(U){if(this.contentVisible){var y=this.ctx,C=U.width,E=U.height,F=this.current.fillColor,X=this.current.patternFill,G=this.processingType3;if(G&&G.compiled===void 0&&(G.compiled=C<=1e3&&E<=1e3?function(ie){var ee,te,se,le,de=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),oe=ie.width,B=ie.height,J=oe+1,Y=new Uint8Array(J*(B+1)),K=oe+7&-8,Z=ie.data,Q=new Uint8Array(K*B),ue=0;for(ee=0,te=Z.length;ee<te;ee++)for(var ce=Z[ee],ae=128;ae>0;)Q[ue++]=ce&ae?0:255,ae>>=1;var me=0;for(Q[ue=0]!==0&&(Y[0]=1,++me),se=1;se<oe;se++)Q[ue]!==Q[ue+1]&&(Y[se]=Q[ue]?2:1,++me),ue++;for(Q[ue]!==0&&(Y[se]=2,++me),ee=1;ee<B;ee++){le=ee*J,Q[(ue=ee*K)-K]!==Q[ue]&&(Y[le]=Q[ue]?1:8,++me);var ve=(Q[ue]?4:0)+(Q[ue-K]?8:0);for(se=1;se<oe;se++)de[ve=(ve>>2)+(Q[ue+1]?4:0)+(Q[ue-K+1]?8:0)]&&(Y[le+se]=de[ve],++me),ue++;if(Q[ue-K]!==Q[ue]&&(Y[le+se]=Q[ue]?2:4,++me),me>1e3)return null}for(le=ee*J,Q[ue=K*(B-1)]!==0&&(Y[le]=8,++me),se=1;se<oe;se++)Q[ue]!==Q[ue+1]&&(Y[le+se]=Q[ue]?4:8,++me),ue++;if(Q[ue]!==0&&(Y[le+se]=4,++me),me>1e3)return null;var he=new Int32Array([0,J,-1,0,-J,0,0,0,1]),ge=[];for(ee=0;me&&ee<=B;ee++){for(var ye=ee*J,pe=ye+oe;ye<pe&&!Y[ye];)ye++;if(ye!==pe){var _e=[ye%J,ee],Se=ye,Ce=Y[ye];do{var Ee=he[Ce];do ye+=Ee;while(!Y[ye]);var xe=Y[ye];xe!==5&&xe!==10?(Ce=xe,Y[ye]=0):(Ce=xe&51*Ce>>4,Y[ye]&=Ce>>2|Ce<<2),_e.push(ye%J,ye/J|0),Y[ye]||--me}while(Se!==ye);ge.push(_e),--ee}}return function(ke){ke.save(),ke.scale(1/oe,-1/B),ke.translate(0,-B),ke.beginPath();for(var Ie=0,De=ge.length;Ie<De;Ie++){var Le=ge[Ie];ke.moveTo(Le[0],Le[1]);for(var $e=2,Ve=Le.length;$e<Ve;$e+=2)ke.lineTo(Le[$e],Le[$e+1])}ke.fill(),ke.beginPath(),ke.restore()}}({data:U.data,width:C,height:E}):null),G!=null&&G.compiled)G.compiled(y);else{var q=this.cachedCanvases.getCanvas("maskCanvas",C,E),ne=q.context;ne.save(),k(ne,U),ne.globalCompositeOperation="source-in",ne.fillStyle=X?F.getPattern(ne,this):F,ne.fillRect(0,0,C,E),ne.restore(),this.paintInlineImageXObject(q.canvas)}}}},{key:"paintImageMaskXObjectRepeat",value:function(U,y){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,F=arguments.length>4?arguments[4]:void 0,X=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var G=U.width,q=U.height,ne=this.current.fillColor,ie=this.current.patternFill,ee=this.cachedCanvases.getCanvas("maskCanvas",G,q),te=ee.context;te.save(),k(te,U),te.globalCompositeOperation="source-in",te.fillStyle=ie?ne.getPattern(te,this):ne,te.fillRect(0,0,G,q),te.restore();for(var se=this.ctx,le=0,de=X.length;le<de;le+=2)se.save(),se.transform(y,C,E,F,X[le],X[le+1]),se.scale(1,-1),se.drawImage(ee.canvas,0,0,G,q,0,-1,1,1),se.restore()}}},{key:"paintImageMaskXObjectGroup",value:function(U){if(this.contentVisible)for(var y=this.ctx,C=this.current.fillColor,E=this.current.patternFill,F=0,X=U.length;F<X;F++){var G=U[F],q=G.width,ne=G.height,ie=this.cachedCanvases.getCanvas("maskCanvas",q,ne),ee=ie.context;ee.save(),k(ee,G),ee.globalCompositeOperation="source-in",ee.fillStyle=E?C.getPattern(ee,this):C,ee.fillRect(0,0,q,ne),ee.restore(),y.save(),y.transform.apply(y,G.transform),y.scale(1,-1),y.drawImage(ie.canvas,0,0,q,ne,0,-1,1,1),y.restore()}}},{key:"paintImageXObject",value:function(U){if(this.contentVisible){var y=U.startsWith("g_")?this.commonObjs.get(U):this.objs.get(U);y?this.paintInlineImageXObject(y):(0,n.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(U,y,C,E){if(this.contentVisible){var F=U.startsWith("g_")?this.commonObjs.get(U):this.objs.get(U);if(F){for(var X=F.width,G=F.height,q=[],ne=0,ie=E.length;ne<ie;ne+=2)q.push({transform:[y,0,0,C,E[ne],E[ne+1]],x:0,y:0,w:X,h:G});this.paintInlineImageXObjectGroup(F,q)}else(0,n.warn)("Dependent image isn't ready yet")}}},{key:"paintInlineImageXObject",value:function(U){if(this.contentVisible){var y=U.width,C=U.height,E=this.ctx;this.save(),E.scale(1/y,-1/C);var F,X,G,q=E.mozCurrentTransformInverse,ne=Math.max(Math.hypot(q[0],q[1]),1),ie=Math.max(Math.hypot(q[2],q[3]),1);typeof HTMLElement=="function"&&U instanceof HTMLElement||!U.data?F=U:(w(G=(X=this.cachedCanvases.getCanvas("inlineImage",y,C)).context,U,this.current.transferMaps),F=X.canvas);for(var ee=y,te=C,se="prescale1";ne>2&&ee>1||ie>2&&te>1;){var le=ee,de=te;ne>2&&ee>1&&(ne/=ee/(le=Math.ceil(ee/2))),ie>2&&te>1&&(ie/=te/(de=Math.ceil(te/2))),(G=(X=this.cachedCanvases.getCanvas(se,le,de)).context).clearRect(0,0,le,de),G.drawImage(F,0,0,ee,te,0,0,le,de),F=X.canvas,ee=le,te=de,se=se==="prescale1"?"prescale2":"prescale1"}if(E.drawImage(F,0,0,ee,te,0,-C,y,C),this.imageLayer){var oe=this.getCanvasPosition(0,-C);this.imageLayer.appendImage({imgData:U,left:oe[0],top:oe[1],width:y/q[0],height:C/q[3]})}this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(U,y){if(this.contentVisible){var C=this.ctx,E=U.width,F=U.height,X=this.cachedCanvases.getCanvas("inlineImage",E,F);w(X.context,U,this.current.transferMaps);for(var G=0,q=y.length;G<q;G++){var ne=y[G];if(C.save(),C.transform.apply(C,ne.transform),C.scale(1,-1),C.drawImage(X.canvas,ne.x,ne.y,ne.w,ne.h,0,-1,1,1),this.imageLayer){var ie=this.getCanvasPosition(ne.x,ne.y);this.imageLayer.appendImage({imgData:U,left:ie[0],top:ie[1],width:E,height:F})}C.restore()}}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)}},{key:"markPoint",value:function(U){}},{key:"markPointProps",value:function(U,y){}},{key:"beginMarkedContent",value:function(U){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(U,y){U==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(y)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(){var U=this.ctx;this.pendingClip&&(this.pendingClip===c?U.clip("evenodd"):U.clip(),this.pendingClip=null),U.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(this._cachedGetSinglePixelWidth===null){var U=this.ctx.mozCurrentTransform,y=Math.abs(U[0]*U[3]-U[2]*U[1]),C=Math.pow(U[0],2)+Math.pow(U[2],2),E=Math.pow(U[1],2)+Math.pow(U[3],2),F=Math.sqrt(Math.max(C,E))/y;C!==E&&this._combinedScaleFactor*F>1?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*F:y>Number.EPSILON?this._cachedGetSinglePixelWidth=F:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(U,y){var C=this.ctx.mozCurrentTransform;return[C[0]*U+C[2]*y+C[4],C[1]*U+C[3]*y+C[5]]}},{key:"isContentVisible",value:function(){for(var U=this.markedContentStack.length-1;U>=0;U--)if(!this.markedContentStack[U].visible)return!1;return!0}}]),N}();for(var H in n.OPS)O.prototype[n.OPS[H]]=O.prototype[H];return O}();e.CanvasGraphics=R},(t,e,r)=>{function n(f){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},n(f)}Object.defineProperty(e,"__esModule",{value:!0}),e.getShadingPattern=function(f){switch(f[0]){case"RadialAxial":return new w(f);case"Mesh":return new D(f);case"Dummy":return new P}throw new Error("Unknown IR type: ".concat(f[0]))},e.TilingPattern=void 0;var i,a=r(4);function o(f,d){var v=typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(!v){if(Array.isArray(f)||(v=function(y,C){if(y){if(typeof y=="string")return s(y,C);var E=Object.prototype.toString.call(y).slice(8,-1);return E==="Object"&&y.constructor&&(E=y.constructor.name),E==="Map"||E==="Set"?Array.from(y):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?s(y,C):void 0}}(f))||d&&f&&typeof f.length=="number"){v&&(f=v);var c=0,O=function(){};return{s:O,n:function(){return c>=f.length?{done:!0}:{done:!1,value:f[c++]}},e:function(y){throw y},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,N=!0,U=!1;return{s:function(){v=v.call(f)},n:function(){var y=v.next();return N=y.done,y},e:function(y){U=!0,H=y},f:function(){try{N||v.return==null||v.return()}finally{if(U)throw H}}}}function s(f,d){(d==null||d>f.length)&&(d=f.length);for(var v=0,c=new Array(d);v<d;v++)c[v]=f[v];return c}function l(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),d&&u(f,d)}function u(f,d){return u=Object.setPrototypeOf||function(v,c){return v.__proto__=c,v},u(f,d)}function m(f){var d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var v,c=_(f);if(d){var O=_(this).constructor;v=Reflect.construct(c,arguments,O)}else v=c.apply(this,arguments);return b(this,v)}}function b(f,d){return!d||n(d)!=="object"&&typeof d!="function"?function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(f):d}function _(f){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},_(f)}function I(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function j(f,d){for(var v=0;v<d.length;v++){var c=d[v];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function L(f,d,v){return d&&j(f.prototype,d),v&&j(f,v),f}function z(f){return typeof DOMMatrix!="undefined"?new DOMMatrix(f):(i||(i=document.createElementNS("http://www.w3.org/2000/svg","svg")),i.createSVGMatrix(f))}function M(f,d){if(d&&typeof Path2D!="undefined"){var v=d[2]-d[0],c=d[3]-d[1],O=new Path2D;O.rect(d[0],d[1],v,c),f.clip(O)}}var R=function(){function f(){I(this,f),this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}return L(f,[{key:"getPattern",value:function(){(0,a.unreachable)("Abstract method `getPattern` called.")}}]),f}(),w=function(f){l(v,f);var d=m(v);function v(c){var O;return I(this,v),(O=d.call(this))._type=c[1],O._bbox=c[2],O._colorStops=c[3],O._p0=c[4],O._p1=c[5],O._r0=c[6],O._r1=c[7],O._matrix=c[8],O}return L(v,[{key:"getPattern",value:function(c,O,H){var N,U=O.cachedCanvases.getCanvas("pattern",c.canvas.width,c.canvas.height,!0),y=U.context;y.clearRect(0,0,y.canvas.width,y.canvas.height),y.beginPath(),y.rect(0,0,y.canvas.width,y.canvas.height),H?y.setTransform.apply(y,c.mozCurrentTransform):(y.setTransform.apply(y,O.baseTransform),this._matrix&&y.transform.apply(y,this._matrix)),M(y,this._bbox),this._type==="axial"?N=y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(N=y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var C,E=o(this._colorStops);try{for(E.s();!(C=E.n()).done;){var F=C.value;N.addColorStop(F[0],F[1])}}catch(G){E.e(G)}finally{E.f()}y.fillStyle=N,y.fill();var X=c.createPattern(U.canvas,"repeat");return X.setTransform(z(c.mozCurrentTransformInverse)),X}}]),v}(R);function k(f,d,v,c,O,H,N,U){var y,C=d.coords,E=d.colors,F=f.data,X=4*f.width;C[v+1]>C[c+1]&&(y=v,v=c,c=y,y=H,H=N,N=y),C[c+1]>C[O+1]&&(y=c,c=O,O=y,y=N,N=U,U=y),C[v+1]>C[c+1]&&(y=v,v=c,c=y,y=H,H=N,N=y);var G=(C[v]+d.offsetX)*d.scaleX,q=(C[v+1]+d.offsetY)*d.scaleY,ne=(C[c]+d.offsetX)*d.scaleX,ie=(C[c+1]+d.offsetY)*d.scaleY,ee=(C[O]+d.offsetX)*d.scaleX,te=(C[O+1]+d.offsetY)*d.scaleY;if(!(q>=te))for(var se,le,de,oe,B,J,Y,K,Z=E[H],Q=E[H+1],ue=E[H+2],ce=E[N],ae=E[N+1],me=E[N+2],ve=E[U],he=E[U+1],ge=E[U+2],ye=Math.round(q),pe=Math.round(te),_e=ye;_e<=pe;_e++){if(_e<ie){var Se=void 0;se=G-(G-ne)*(Se=_e<q?0:q===ie?1:(q-_e)/(q-ie)),le=Z-(Z-ce)*Se,de=Q-(Q-ae)*Se,oe=ue-(ue-me)*Se}else{var Ce=void 0;se=ne-(ne-ee)*(Ce=_e>te?1:ie===te?0:(ie-_e)/(ie-te)),le=ce-(ce-ve)*Ce,de=ae-(ae-he)*Ce,oe=me-(me-ge)*Ce}var Ee=void 0;B=G-(G-ee)*(Ee=_e<q?0:_e>te?1:(q-_e)/(q-te)),J=Z-(Z-ve)*Ee,Y=Q-(Q-he)*Ee,K=ue-(ue-ge)*Ee;for(var xe=Math.round(Math.min(se,B)),ke=Math.round(Math.max(se,B)),Ie=X*_e+4*xe,De=xe;De<=ke;De++)(Ee=(se-De)/(se-B))<0?Ee=0:Ee>1&&(Ee=1),F[Ie++]=le-(le-J)*Ee|0,F[Ie++]=de-(de-Y)*Ee|0,F[Ie++]=oe-(oe-K)*Ee|0,F[Ie++]=255}}function A(f,d,v){var c,O,H=d.coords,N=d.colors;switch(d.type){case"lattice":var U=d.verticesPerRow,y=Math.floor(H.length/U)-1,C=U-1;for(c=0;c<y;c++)for(var E=c*U,F=0;F<C;F++,E++)k(f,v,H[E],H[E+1],H[E+U],N[E],N[E+1],N[E+U]),k(f,v,H[E+U+1],H[E+1],H[E+U],N[E+U+1],N[E+1],N[E+U]);break;case"triangles":for(c=0,O=H.length;c<O;c+=3)k(f,v,H[c],H[c+1],H[c+2],N[c],N[c+1],N[c+2]);break;default:throw new Error("illegal figure")}}var D=function(f){l(v,f);var d=m(v);function v(c){var O;return I(this,v),(O=d.call(this))._coords=c[2],O._colors=c[3],O._figures=c[4],O._bounds=c[5],O._matrix=c[6],O._bbox=c[7],O._background=c[8],O}return L(v,[{key:"_createMeshCanvas",value:function(c,O,H){var N=Math.floor(this._bounds[0]),U=Math.floor(this._bounds[1]),y=Math.ceil(this._bounds[2])-N,C=Math.ceil(this._bounds[3])-U,E=Math.min(Math.ceil(Math.abs(y*c[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(C*c[1]*1.1)),3e3),X=y/E,G=C/F,q={coords:this._coords,colors:this._colors,offsetX:-N,offsetY:-U,scaleX:1/X,scaleY:1/G},ne=E+4,ie=F+4,ee=H.getCanvas("mesh",ne,ie,!1),te=ee.context,se=te.createImageData(E,F);if(O)for(var le=se.data,de=0,oe=le.length;de<oe;de+=4)le[de]=O[0],le[de+1]=O[1],le[de+2]=O[2],le[de+3]=255;var B,J=o(this._figures);try{for(J.s();!(B=J.n()).done;)A(se,B.value,q)}catch(Y){J.e(Y)}finally{J.f()}return te.putImageData(se,2,2),{canvas:ee.canvas,offsetX:N-2*X,offsetY:U-2*G,scaleX:X,scaleY:G}}},{key:"getPattern",value:function(c,O,H){var N;if(M(c,this._bbox),H)N=a.Util.singularValueDecompose2dScale(c.mozCurrentTransform);else if(N=a.Util.singularValueDecompose2dScale(O.baseTransform),this._matrix){var U=a.Util.singularValueDecompose2dScale(this._matrix);N=[N[0]*U[0],N[1]*U[1]]}var y=this._createMeshCanvas(N,H?null:this._background,O.cachedCanvases);return H||(c.setTransform.apply(c,O.baseTransform),this._matrix&&c.transform.apply(c,this._matrix)),c.translate(y.offsetX,y.offsetY),c.scale(y.scaleX,y.scaleY),c.createPattern(y.canvas,"no-repeat")}}]),v}(R),P=function(f){l(v,f);var d=m(v);function v(){return I(this,v),d.apply(this,arguments)}return L(v,[{key:"getPattern",value:function(){return"hotpink"}}]),v}(R),T=1,x=2,g=function(){function f(d,v,c,O,H){I(this,f),this.operatorList=d[2],this.matrix=d[3]||[1,0,0,1,0,0],this.bbox=d[4],this.xstep=d[5],this.ystep=d[6],this.paintType=d[7],this.tilingType=d[8],this.color=v,this.ctx=c,this.canvasGraphicsFactory=O,this.baseTransform=H}return L(f,[{key:"createPatternCanvas",value:function(d){var v=this.operatorList,c=this.bbox,O=this.xstep,H=this.ystep,N=this.paintType,U=this.tilingType,y=this.color,C=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+U);var E=c[0],F=c[1],X=c[2],G=c[3],q=a.Util.singularValueDecompose2dScale(this.matrix),ne=a.Util.singularValueDecompose2dScale(this.baseTransform),ie=[q[0]*ne[0],q[1]*ne[1]],ee=this.getSizeAndScale(O,this.ctx.canvas.width,ie[0]),te=this.getSizeAndScale(H,this.ctx.canvas.height,ie[1]),se=d.cachedCanvases.getCanvas("pattern",ee.size,te.size,!0),le=se.context,de=C.createCanvasGraphics(le);return de.groupLevel=d.groupLevel,this.setFillAndStrokeStyleToContext(de,N,y),de.transform(ee.scale,0,0,te.scale,0,0),this.clipBbox(de,c,E,F,X,G),de.baseTransform=de.ctx.mozCurrentTransform.slice(),de.executeOperatorList(v),de.endDrawing(),{canvas:se.canvas,scaleX:ee.scale,scaleY:te.scale}}},{key:"getSizeAndScale",value:function(d,v,c){d=Math.abs(d);var O=Math.max(f.MAX_PATTERN_SIZE,v),H=Math.ceil(d*c);return H>=O?H=O:c=H/d,{scale:c,size:H}}},{key:"clipBbox",value:function(d,v,c,O,H,N){if(Array.isArray(v)&&v.length===4){var U=H-c,y=N-O;d.ctx.rect(c,O,U,y),d.clip(),d.endPath()}}},{key:"setFillAndStrokeStyleToContext",value:function(d,v,c){var O=d.ctx,H=d.current;switch(v){case T:var N=this.ctx;O.fillStyle=N.fillStyle,O.strokeStyle=N.strokeStyle,H.fillColor=N.fillStyle,H.strokeColor=N.strokeStyle;break;case x:var U=a.Util.makeHexColor(c[0],c[1],c[2]);O.fillStyle=U,O.strokeStyle=U,H.fillColor=U,H.strokeColor=U;break;default:throw new a.FormatError("Unsupported paint type: ".concat(v))}}},{key:"getPattern",value:function(d,v,c){var O=(d=this.ctx).mozCurrentTransformInverse;c||(O=a.Util.transform(O,v.baseTransform),this.matrix&&(O=a.Util.transform(O,this.matrix)));var H=this.createPatternCanvas(v),N=z(O);N=N.scale(1/H.scaleX,1/H.scaleY);var U=d.createPattern(H.canvas,"repeat");return U.setTransform(N),U}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),f}();e.TilingPattern=g},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;var r=Object.create(null);e.GlobalWorkerOptions=r,r.workerPort=r.workerPort===void 0?null:r.workerPort,r.workerSrc=r.workerSrc===void 0?"":r.workerSrc},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n,i=(n=r(2))&&n.__esModule?n:{default:n},a=r(4);function o(A,D,P,T,x,g,f){try{var d=A[g](f),v=d.value}catch(c){return void P(c)}d.done?D(v):Promise.resolve(v).then(T,x)}function s(A,D){for(var P=0;P<D.length;P++){var T=D[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}function l(A){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},l(A)}var u=1,m=2,b=1,_=2,I=3,j=4,L=5,z=6,M=7,R=8;function w(A){if(l(A)!=="object"||A===null)return A;switch(A.name){case"AbortException":return new a.AbortException(A.message);case"MissingPDFException":return new a.MissingPDFException(A.message);case"UnexpectedResponseException":return new a.UnexpectedResponseException(A.message,A.status);case"UnknownErrorException":return new a.UnknownErrorException(A.message,A.details);default:return new a.UnknownErrorException(A.message,A.toString())}}var k=function(){function A(g,f,d){var v=this;(function(c,O){if(!(c instanceof O))throw new TypeError("Cannot call a class as a function")})(this,A),this.sourceName=g,this.targetName=f,this.comObj=d,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(c){var O=c.data;if(O.targetName===v.sourceName)if(O.stream)v._processStreamMessage(O);else if(O.callback){var H=O.callbackId,N=v.callbackCapabilities[H];if(!N)throw new Error("Cannot resolve callback ".concat(H));if(delete v.callbackCapabilities[H],O.callback===u)N.resolve(O.data);else{if(O.callback!==m)throw new Error("Unexpected callback case");N.reject(w(O.reason))}}else{var U=v.actionHandler[O.action];if(!U)throw new Error("Unknown action from worker: ".concat(O.action));if(O.callbackId){var y=v.sourceName,C=O.sourceName;new Promise(function(E){E(U(O.data))}).then(function(E){d.postMessage({sourceName:y,targetName:C,callback:u,callbackId:O.callbackId,data:E})},function(E){d.postMessage({sourceName:y,targetName:C,callback:m,callbackId:O.callbackId,reason:w(E)})})}else O.streamId?v._createStreamSink(O):U(O.data)}},d.addEventListener("message",this._onComObjOnMessage)}var D,P,T,x;return D=A,P=[{key:"on",value:function(g,f){var d=this.actionHandler;if(d[g])throw new Error('There is already an actionName called "'.concat(g,'"'));d[g]=f}},{key:"send",value:function(g,f,d){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:g,data:f},d)}},{key:"sendWithPromise",value:function(g,f,d){var v=this.callbackId++,c=(0,a.createPromiseCapability)();this.callbackCapabilities[v]=c;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:g,callbackId:v,data:f},d)}catch(O){c.reject(O)}return c.promise}},{key:"sendWithStream",value:function(g,f,d,v){var c=this,O=this.streamId++,H=this.sourceName,N=this.targetName,U=this.comObj;return new ReadableStream({start:function(y){var C=(0,a.createPromiseCapability)();return c.streamControllers[O]={controller:y,startCall:C,pullCall:null,cancelCall:null,isClosed:!1},c._postMessage({sourceName:H,targetName:N,action:g,streamId:O,data:f,desiredSize:y.desiredSize},v),C.promise},pull:function(y){var C=(0,a.createPromiseCapability)();return c.streamControllers[O].pullCall=C,U.postMessage({sourceName:H,targetName:N,stream:z,streamId:O,desiredSize:y.desiredSize}),C.promise},cancel:function(y){(0,a.assert)(y instanceof Error,"cancel must have a valid reason");var C=(0,a.createPromiseCapability)();return c.streamControllers[O].cancelCall=C,c.streamControllers[O].isClosed=!0,U.postMessage({sourceName:H,targetName:N,stream:b,streamId:O,reason:w(y)}),C.promise}},d)}},{key:"_createStreamSink",value:function(g){var f=this,d=this.actionHandler[g.action],v=g.streamId,c=this.sourceName,O=g.sourceName,H=this.comObj,N={enqueue:function(U){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,C=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var E=this.desiredSize;this.desiredSize-=y,E>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),f._postMessage({sourceName:c,targetName:O,stream:j,streamId:v,chunk:U},C)}},close:function(){this.isCancelled||(this.isCancelled=!0,H.postMessage({sourceName:c,targetName:O,stream:I,streamId:v}),delete f.streamSinks[v])},error:function(U){(0,a.assert)(U instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,H.postMessage({sourceName:c,targetName:O,stream:L,streamId:v,reason:w(U)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:g.desiredSize,ready:null};N.sinkCapability.resolve(),N.ready=N.sinkCapability.promise,this.streamSinks[v]=N,new Promise(function(U){U(d(g.data,N))}).then(function(){H.postMessage({sourceName:c,targetName:O,stream:R,streamId:v,success:!0})},function(U){H.postMessage({sourceName:c,targetName:O,stream:R,streamId:v,reason:w(U)})})}},{key:"_processStreamMessage",value:function(g){var f=g.streamId,d=this.sourceName,v=g.sourceName,c=this.comObj;switch(g.stream){case R:g.success?this.streamControllers[f].startCall.resolve():this.streamControllers[f].startCall.reject(w(g.reason));break;case M:g.success?this.streamControllers[f].pullCall.resolve():this.streamControllers[f].pullCall.reject(w(g.reason));break;case z:if(!this.streamSinks[f]){c.postMessage({sourceName:d,targetName:v,stream:M,streamId:f,success:!0});break}this.streamSinks[f].desiredSize<=0&&g.desiredSize>0&&this.streamSinks[f].sinkCapability.resolve(),this.streamSinks[f].desiredSize=g.desiredSize;var O=this.streamSinks[g.streamId].onPull;new Promise(function(N){N(O&&O())}).then(function(){c.postMessage({sourceName:d,targetName:v,stream:M,streamId:f,success:!0})},function(N){c.postMessage({sourceName:d,targetName:v,stream:M,streamId:f,reason:w(N)})});break;case j:if((0,a.assert)(this.streamControllers[f],"enqueue should have stream controller"),this.streamControllers[f].isClosed)break;this.streamControllers[f].controller.enqueue(g.chunk);break;case I:if((0,a.assert)(this.streamControllers[f],"close should have stream controller"),this.streamControllers[f].isClosed)break;this.streamControllers[f].isClosed=!0,this.streamControllers[f].controller.close(),this._deleteStreamController(f);break;case L:(0,a.assert)(this.streamControllers[f],"error should have stream controller"),this.streamControllers[f].controller.error(w(g.reason)),this._deleteStreamController(f);break;case _:g.success?this.streamControllers[f].cancelCall.resolve():this.streamControllers[f].cancelCall.reject(w(g.reason)),this._deleteStreamController(f);break;case b:if(!this.streamSinks[f])break;var H=this.streamSinks[g.streamId].onCancel;new Promise(function(N){N(H&&H(w(g.reason)))}).then(function(){c.postMessage({sourceName:d,targetName:v,stream:_,streamId:f,success:!0})},function(N){c.postMessage({sourceName:d,targetName:v,stream:_,streamId:f,reason:w(N)})}),this.streamSinks[f].sinkCapability.reject(w(g.reason)),this.streamSinks[f].isCancelled=!0,delete this.streamSinks[f];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(T=i.default.mark(function g(f){return i.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Promise.allSettled([this.streamControllers[f].startCall,this.streamControllers[f].pullCall,this.streamControllers[f].cancelCall].map(function(v){return v&&v.promise}));case 2:delete this.streamControllers[f];case 3:case"end":return d.stop()}},g,this)}),x=function(){var g=this,f=arguments;return new Promise(function(d,v){var c=T.apply(g,f);function O(N){o(c,d,v,O,H,"next",N)}function H(N){o(c,d,v,O,H,"throw",N)}O(void 0)})},function(g){return x.apply(this,arguments)})},{key:"_postMessage",value:function(g,f){f&&this.postMessageTransfers?this.comObj.postMessage(g,f):this.comObj.postMessage(g)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}],P&&s(D.prototype,P),A}();e.MessageHandler=k},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=r(4);function i(o,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}var a=function(){function o(u){var m=u.parsedData,b=u.rawData;(function(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),this._metadataMap=m,this._data=b}var s,l;return s=o,(l=[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(u){var m;return(m=this._metadataMap.get(u))!==null&&m!==void 0?m:null}},{key:"getAll",value:function(){return(0,n.objectFromMap)(this._metadataMap)}},{key:"has",value:function(u){return this._metadataMap.has(u)}}])&&i(s.prototype,l),o}();e.Metadata=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=r(4);function i(m,b){var _=typeof Symbol!="undefined"&&m[Symbol.iterator]||m["@@iterator"];if(!_){if(Array.isArray(m)||(_=function(R,w){if(R){if(typeof R=="string")return a(R,w);var k=Object.prototype.toString.call(R).slice(8,-1);return k==="Object"&&R.constructor&&(k=R.constructor.name),k==="Map"||k==="Set"?Array.from(R):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?a(R,w):void 0}}(m))||b&&m&&typeof m.length=="number"){_&&(m=_);var I=0,j=function(){};return{s:j,n:function(){return I>=m.length?{done:!0}:{done:!1,value:m[I++]}},e:function(R){throw R},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L,z=!0,M=!1;return{s:function(){_=_.call(m)},n:function(){var R=_.next();return z=R.done,R},e:function(R){M=!0,L=R},f:function(){try{z||_.return==null||_.return()}finally{if(M)throw L}}}}function a(m,b){(b==null||b>m.length)&&(b=m.length);for(var _=0,I=new Array(b);_<b;_++)I[_]=m[_];return I}function o(m,b){for(var _=0;_<b.length;_++){var I=b[_];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(m,I.key,I)}}function s(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}var l=function m(b,_){s(this,m),this.visible=!0,this.name=b,this.intent=_},u=function(){function m(I){if(s(this,m),this.name=null,this.creator=null,this._order=null,this._groups=new Map,I!==null){this.name=I.name,this.creator=I.creator,this._order=I.order;var j,L=i(I.groups);try{for(L.s();!(j=L.n()).done;){var z=j.value;this._groups.set(z.id,new l(z.name,z.intent))}}catch(x){L.e(x)}finally{L.f()}if(I.baseState==="OFF"){var M,R=i(this._groups);try{for(R.s();!(M=R.n()).done;)M.value.visible=!1}catch(x){R.e(x)}finally{R.f()}}var w,k=i(I.on);try{for(k.s();!(w=k.n()).done;){var A=w.value;this._groups.get(A).visible=!0}}catch(x){k.e(x)}finally{k.f()}var D,P=i(I.off);try{for(P.s();!(D=P.n()).done;){var T=D.value;this._groups.get(T).visible=!1}}catch(x){P.e(x)}finally{P.f()}}}var b,_;return b=m,_=[{key:"_evaluateVisibilityExpression",value:function(I){var j=I.length;if(j<2)return!0;for(var L=I[0],z=1;z<j;z++){var M=I[z],R=void 0;if(Array.isArray(M))R=this._evaluateVisibilityExpression(M);else{if(!this._groups.has(M))return(0,n.warn)("Optional content group not found: ".concat(M)),!0;R=this._groups.get(M).visible}switch(L){case"And":if(!R)return!1;break;case"Or":if(R)return!0;break;case"Not":return!R;default:return!0}}return L==="And"}},{key:"isVisible",value:function(I){if(I.type==="OCG")return this._groups.has(I.id)?this._groups.get(I.id).visible:((0,n.warn)("Optional content group not found: ".concat(I.id)),!0);if(I.type==="OCMD"){if(I.expression)return this._evaluateVisibilityExpression(I.expression);if(!I.policy||I.policy==="AnyOn"){var j,L=i(I.ids);try{for(L.s();!(j=L.n()).done;){var z=j.value;if(!this._groups.has(z))return(0,n.warn)("Optional content group not found: ".concat(z)),!0;if(this._groups.get(z).visible)return!0}}catch(g){L.e(g)}finally{L.f()}return!1}if(I.policy==="AllOn"){var M,R=i(I.ids);try{for(R.s();!(M=R.n()).done;){var w=M.value;if(!this._groups.has(w))return(0,n.warn)("Optional content group not found: ".concat(w)),!0;if(!this._groups.get(w).visible)return!1}}catch(g){R.e(g)}finally{R.f()}return!0}if(I.policy==="AnyOff"){var k,A=i(I.ids);try{for(A.s();!(k=A.n()).done;){var D=k.value;if(!this._groups.has(D))return(0,n.warn)("Optional content group not found: ".concat(D)),!0;if(!this._groups.get(D).visible)return!0}}catch(g){A.e(g)}finally{A.f()}return!1}if(I.policy==="AllOff"){var P,T=i(I.ids);try{for(T.s();!(P=T.n()).done;){var x=P.value;if(!this._groups.has(x))return(0,n.warn)("Optional content group not found: ".concat(x)),!0;if(this._groups.get(x).visible)return!1}}catch(g){T.e(g)}finally{T.f()}return!0}return(0,n.warn)("Unknown optional content policy ".concat(I.policy,".")),!0}return(0,n.warn)("Unknown group type ".concat(I.type,".")),!0}},{key:"setVisibility",value:function(I){var j=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._groups.has(I)?this._groups.get(I).visible=!!j:(0,n.warn)("Optional content group not found: ".concat(I))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,n.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(I){return this._groups.get(I)||null}}],_&&o(b.prototype,_),m}();e.OptionalContentConfig=u},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n,i=(n=r(2))&&n.__esModule?n:{default:n},a=r(4),o=r(1);function s(M,R,w,k,A,D,P){try{var T=M[D](P),x=T.value}catch(g){return void w(g)}T.done?R(x):Promise.resolve(x).then(k,A)}function l(M){return function(){var R=this,w=arguments;return new Promise(function(k,A){var D=M.apply(R,w);function P(x){s(D,k,A,P,T,"next",x)}function T(x){s(D,k,A,P,T,"throw",x)}P(void 0)})}}function u(M,R){var w=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!w){if(Array.isArray(M)||(w=function(x,g){if(x){if(typeof x=="string")return m(x,g);var f=Object.prototype.toString.call(x).slice(8,-1);return f==="Object"&&x.constructor&&(f=x.constructor.name),f==="Map"||f==="Set"?Array.from(x):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?m(x,g):void 0}}(M))||R&&M&&typeof M.length=="number"){w&&(M=w);var k=0,A=function(){};return{s:A,n:function(){return k>=M.length?{done:!0}:{done:!1,value:M[k++]}},e:function(x){throw x},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,P=!0,T=!1;return{s:function(){w=w.call(M)},n:function(){var x=w.next();return P=x.done,x},e:function(x){T=!0,D=x},f:function(){try{P||w.return==null||w.return()}finally{if(T)throw D}}}}function m(M,R){(R==null||R>M.length)&&(R=M.length);for(var w=0,k=new Array(R);w<R;w++)k[w]=M[w];return k}function b(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}function _(M,R){for(var w=0;w<R.length;w++){var k=R[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(M,k.key,k)}}function I(M,R,w){return R&&_(M.prototype,R),w&&_(M,w),M}var j=function(){function M(R,w){var k=this;b(this,M),(0,a.assert)(w,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=R.progressiveDone||!1,this._contentDispositionFilename=R.contentDispositionFilename||null;var A=R.initialData;if((A==null?void 0:A.length)>0){var D=new Uint8Array(A).buffer;this._queuedChunks.push(D)}this._pdfDataRangeTransport=w,this._isStreamingSupported=!R.disableStream,this._isRangeSupported=!R.disableRange,this._contentLength=R.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(P,T){k._onReceiveData({begin:P,chunk:T})}),this._pdfDataRangeTransport.addProgressListener(function(P,T){k._onProgress({loaded:P,total:T})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(P){k._onReceiveData({chunk:P})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){k._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return I(M,[{key:"_onReceiveData",value:function(R){var w=new Uint8Array(R.chunk).buffer;if(R.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(w):this._queuedChunks.push(w);else{var k=this._rangeReaders.some(function(A){return A._begin===R.begin&&(A._enqueue(w),!0)});(0,a.assert)(k,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var R,w;return(R=(w=this._fullRequestReader)===null||w===void 0?void 0:w._loaded)!==null&&R!==void 0?R:0}},{key:"_onProgress",value:function(R){if(R.total===void 0){var w=this._rangeReaders[0];w!=null&&w.onProgress&&w.onProgress({loaded:R.loaded})}else{var k=this._fullRequestReader;k!=null&&k.onProgress&&k.onProgress({loaded:R.loaded,total:R.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(R){var w=this._rangeReaders.indexOf(R);w>=0&&this._rangeReaders.splice(w,1)}},{key:"getFullReader",value:function(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var R=this._queuedChunks;return this._queuedChunks=null,new L(this,R,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(R,w){if(w<=this._progressiveDataLength)return null;var k=new z(this,R,w);return this._pdfDataRangeTransport.requestDataRange(R,w),this._rangeReaders.push(k),k}},{key:"cancelAllRequests",value:function(R){this._fullRequestReader&&this._fullRequestReader.cancel(R);var w,k=u(this._rangeReaders.slice(0));try{for(k.s();!(w=k.n()).done;)w.value.cancel(R)}catch(A){k.e(A)}finally{k.f()}this._pdfDataRangeTransport.abort()}}]),M}();e.PDFDataTransportStream=j;var L=function(){function M(w,k){var A=arguments.length>2&&arguments[2]!==void 0&&arguments[2],D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;b(this,M),this._stream=w,this._done=A||!1,this._filename=(0,o.isPdfFile)(D)?D:null,this._queuedChunks=k||[],this._loaded=0;var P,T=u(this._queuedChunks);try{for(T.s();!(P=T.n()).done;){var x=P.value;this._loaded+=x.byteLength}}catch(g){T.e(g)}finally{T.f()}this._requests=[],this._headersReady=Promise.resolve(),w._fullRequestReader=this,this.onProgress=null}var R;return I(M,[{key:"_enqueue",value:function(w){this._done||(this._requests.length>0?this._requests.shift().resolve({value:w,done:!1}):this._queuedChunks.push(w),this._loaded+=w.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(R=l(i.default.mark(function w(){var k,A;return i.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(this._queuedChunks.length>0)){D.next=3;break}return k=this._queuedChunks.shift(),D.abrupt("return",{value:k,done:!1});case 3:if(!this._done){D.next=5;break}return D.abrupt("return",{value:void 0,done:!0});case 5:return A=(0,a.createPromiseCapability)(),this._requests.push(A),D.abrupt("return",A.promise);case 8:case"end":return D.stop()}},w,this)})),function(){return R.apply(this,arguments)})},{key:"cancel",value:function(w){this._done=!0;var k,A=u(this._requests);try{for(A.s();!(k=A.n()).done;)k.value.resolve({value:void 0,done:!0})}catch(D){A.e(D)}finally{A.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),M}(),z=function(){function M(w,k,A){b(this,M),this._stream=w,this._begin=k,this._end=A,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var R;return I(M,[{key:"_enqueue",value:function(w){if(!this._done){if(this._requests.length===0)this._queuedChunk=w;else{this._requests.shift().resolve({value:w,done:!1});var k,A=u(this._requests);try{for(A.s();!(k=A.n()).done;)k.value.resolve({value:void 0,done:!0})}catch(D){A.e(D)}finally{A.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(R=l(i.default.mark(function w(){var k,A;return i.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!this._queuedChunk){D.next=4;break}return k=this._queuedChunk,this._queuedChunk=null,D.abrupt("return",{value:k,done:!1});case 4:if(!this._done){D.next=6;break}return D.abrupt("return",{value:void 0,done:!0});case 6:return A=(0,a.createPromiseCapability)(),this._requests.push(A),D.abrupt("return",A.promise);case 9:case"end":return D.stop()}},w,this)})),function(){return R.apply(this,arguments)})},{key:"cancel",value:function(w){this._done=!0;var k,A=u(this._requests);try{for(A.s();!(k=A.n()).done;)k.value.resolve({value:void 0,done:!0})}catch(D){A.e(D)}finally{A.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),M}()},(t,e,r)=>{function n(oe){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},n(oe)}Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=r(1),a=r(4),o=r(116),s=r(126);function l(oe,B,J){return l=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(Y,K,Z){var Q=function(ce,ae){for(;!Object.prototype.hasOwnProperty.call(ce,ae)&&(ce=L(ce))!==null;);return ce}(Y,K);if(Q){var ue=Object.getOwnPropertyDescriptor(Q,K);return ue.get?ue.get.call(Z):ue.value}},l(oe,B,J||oe)}function u(oe,B){return function(J){if(Array.isArray(J))return J}(oe)||function(J,Y){var K=J&&(typeof Symbol!="undefined"&&J[Symbol.iterator]||J["@@iterator"]);if(K!=null){var Z,Q,ue=[],ce=!0,ae=!1;try{for(K=K.call(J);!(ce=(Z=K.next()).done)&&(ue.push(Z.value),!Y||ue.length!==Y);ce=!0);}catch(me){ae=!0,Q=me}finally{try{ce||K.return==null||K.return()}finally{if(ae)throw Q}}return ue}}(oe,B)||M(oe,B)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(oe,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(B&&B.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),B&&b(oe,B)}function b(oe,B){return b=Object.setPrototypeOf||function(J,Y){return J.__proto__=Y,J},b(oe,B)}function _(oe){var B=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,Y=L(oe);if(B){var K=L(this).constructor;J=Reflect.construct(Y,arguments,K)}else J=Y.apply(this,arguments);return I(this,J)}}function I(oe,B){return!B||n(B)!=="object"&&typeof B!="function"?j(oe):B}function j(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function L(oe){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},L(oe)}function z(oe,B){var J=typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(!J){if(Array.isArray(oe)||(J=M(oe))||B&&oe&&typeof oe.length=="number"){J&&(oe=J);var Y=0,K=function(){};return{s:K,n:function(){return Y>=oe.length?{done:!0}:{done:!1,value:oe[Y++]}},e:function(ce){throw ce},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,Q=!0,ue=!1;return{s:function(){J=J.call(oe)},n:function(){var ce=J.next();return Q=ce.done,ce},e:function(ce){ue=!0,Z=ce},f:function(){try{Q||J.return==null||J.return()}finally{if(ue)throw Z}}}}function M(oe,B){if(oe){if(typeof oe=="string")return R(oe,B);var J=Object.prototype.toString.call(oe).slice(8,-1);return J==="Object"&&oe.constructor&&(J=oe.constructor.name),J==="Map"||J==="Set"?Array.from(oe):J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J)?R(oe,B):void 0}}function R(oe,B){(B==null||B>oe.length)&&(B=oe.length);for(var J=0,Y=new Array(B);J<B;J++)Y[J]=oe[J];return Y}function w(oe,B){if(!(oe instanceof B))throw new TypeError("Cannot call a class as a function")}function k(oe,B){for(var J=0;J<B.length;J++){var Y=B[J];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(oe,Y.key,Y)}}function A(oe,B,J){return B&&k(oe.prototype,B),J&&k(oe,J),oe}var D=function(){function oe(){w(this,oe)}return A(oe,null,[{key:"create",value:function(B){switch(B.data.annotationType){case a.AnnotationType.LINK:return new T(B);case a.AnnotationType.TEXT:return new x(B);case a.AnnotationType.WIDGET:switch(B.data.fieldType){case"Tx":return new f(B);case"Btn":return B.data.radioButton?new v(B):B.data.checkBox?new d(B):new c(B);case"Ch":return new O(B)}return new g(B);case a.AnnotationType.POPUP:return new H(B);case a.AnnotationType.FREETEXT:return new U(B);case a.AnnotationType.LINE:return new y(B);case a.AnnotationType.SQUARE:return new C(B);case a.AnnotationType.CIRCLE:return new E(B);case a.AnnotationType.POLYLINE:return new F(B);case a.AnnotationType.CARET:return new G(B);case a.AnnotationType.INK:return new q(B);case a.AnnotationType.POLYGON:return new X(B);case a.AnnotationType.HIGHLIGHT:return new ne(B);case a.AnnotationType.UNDERLINE:return new ie(B);case a.AnnotationType.SQUIGGLY:return new ee(B);case a.AnnotationType.STRIKEOUT:return new te(B);case a.AnnotationType.STAMP:return new se(B);case a.AnnotationType.FILEATTACHMENT:return new le(B);default:return new P(B)}}}]),oe}(),P=function(){function oe(B){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=J.isRenderable,K=Y!==void 0&&Y,Z=J.ignoreBorder,Q=Z!==void 0&&Z,ue=J.createQuadrilaterals,ce=ue!==void 0&&ue;w(this,oe),this.isRenderable=K,this.data=B.data,this.layer=B.layer,this.page=B.page,this.viewport=B.viewport,this.linkService=B.linkService,this.downloadManager=B.downloadManager,this.imageResourcesPath=B.imageResourcesPath,this.renderInteractiveForms=B.renderInteractiveForms,this.svgFactory=B.svgFactory,this.annotationStorage=B.annotationStorage,this.enableScripting=B.enableScripting,this.hasJSActions=B.hasJSActions,this._mouseState=B.mouseState,K&&(this.container=this._createContainer(Q)),ce&&(this.quadrilaterals=this._createQuadrilaterals(Q))}return A(oe,[{key:"_createContainer",value:function(){var B=arguments.length>0&&arguments[0]!==void 0&&arguments[0],J=this.data,Y=this.page,K=this.viewport,Z=document.createElement("section"),Q=J.rect[2]-J.rect[0],ue=J.rect[3]-J.rect[1];Z.setAttribute("data-annotation-id",J.id);var ce=a.Util.normalizeRect([J.rect[0],Y.view[3]-J.rect[1]+Y.view[1],J.rect[2],Y.view[3]-J.rect[3]+Y.view[1]]);if(Z.style.transform="matrix(".concat(K.transform.join(","),")"),Z.style.transformOrigin="".concat(-ce[0],"px ").concat(-ce[1],"px"),!B&&J.borderStyle.width>0){Z.style.borderWidth="".concat(J.borderStyle.width,"px"),J.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(Q-=2*J.borderStyle.width,ue-=2*J.borderStyle.width);var ae=J.borderStyle.horizontalCornerRadius,me=J.borderStyle.verticalCornerRadius;if(ae>0||me>0){var ve="".concat(ae,"px / ").concat(me,"px");Z.style.borderRadius=ve}switch(J.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:Z.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:Z.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:Z.style.borderBottomStyle="solid"}J.color?Z.style.borderColor=a.Util.makeHexColor(0|J.color[0],0|J.color[1],0|J.color[2]):Z.style.borderWidth=0}return Z.style.left="".concat(ce[0],"px"),Z.style.top="".concat(ce[1],"px"),Z.style.width="".concat(Q,"px"),Z.style.height="".concat(ue,"px"),Z}},{key:"_createQuadrilaterals",value:function(){var B=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!this.data.quadPoints)return null;var J,Y=[],K=this.data.rect,Z=z(this.data.quadPoints);try{for(Z.s();!(J=Z.n()).done;){var Q=J.value;this.data.rect=[Q[2].x,Q[2].y,Q[1].x,Q[1].y],Y.push(this._createContainer(B))}}catch(ue){Z.e(ue)}finally{Z.f()}return this.data.rect=K,Y}},{key:"_createPopup",value:function(B,J){var Y=this.container;this.quadrilaterals&&(B=B||this.quadrilaterals,Y=this.quadrilaterals[0]),B||((B=document.createElement("div")).style.height=Y.style.height,B.style.width=Y.style.width,Y.appendChild(B));var K=new N({container:Y,trigger:B,color:J.color,title:J.title,modificationDate:J.modificationDate,contents:J.contents,hideWrapper:!0}).render();K.style.left=Y.style.width,Y.appendChild(K)}},{key:"_renderQuadrilaterals",value:function(B){var J,Y=z(this.quadrilaterals);try{for(Y.s();!(J=Y.n()).done;)J.value.className=B}catch(K){Y.e(K)}finally{Y.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}}]),oe}(),T=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.url||Y.data.dest||Y.data.action||Y.data.isTooltipOnly||Y.data.actions&&(Y.data.actions.Action||Y.data.actions["Mouse Up"]||Y.data.actions["Mouse Down"]));return B.call(this,Y,{isRenderable:K,createQuadrilaterals:!0})}return A(J,[{key:"render",value:function(){var Y=this.data,K=this.linkService,Z=document.createElement("a");return Y.url?(0,i.addLinkAttributes)(Z,{url:Y.url,target:Y.newWindow?i.LinkTarget.BLANK:K.externalLinkTarget,rel:K.externalLinkRel,enabled:K.externalLinkEnabled}):Y.action?this._bindNamedAction(Z,Y.action):Y.dest?this._bindLink(Z,Y.dest):Y.actions&&(Y.actions.Action||Y.actions["Mouse Up"]||Y.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(Z,Y):this._bindLink(Z,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(Q,ue){var ce=ue===0?Z:Z.cloneNode();return Q.appendChild(ce),Q}):(this.container.className="linkAnnotation",this.container.appendChild(Z),this.container)}},{key:"_bindLink",value:function(Y,K){var Z=this;Y.href=this.linkService.getDestinationHash(K),Y.onclick=function(){return K&&Z.linkService.goToDestination(K),!1},(K||K==="")&&(Y.className="internalLink")}},{key:"_bindNamedAction",value:function(Y,K){var Z=this;Y.href=this.linkService.getAnchorUrl(""),Y.onclick=function(){return Z.linkService.executeNamedAction(K),!1},Y.className="internalLink"}},{key:"_bindJSAction",value:function(Y,K){var Z=this;Y.href=this.linkService.getAnchorUrl("");for(var Q=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),ue=function(){var me=ae[ce],ve=Q.get(me);if(!ve)return"continue";Y[ve]=function(){var he;return(he=Z.linkService.eventBus)===null||he===void 0||he.dispatch("dispatcheventinsandbox",{source:Z,detail:{id:K.id,name:me}}),!1}},ce=0,ae=Object.keys(K.actions);ce<ae.length;ce++)ue();Y.className="internalLink"}}]),J}(P),x=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K})}return A(J,[{key:"render",value:function(){this.container.className="textAnnotation";var Y=document.createElement("img");return Y.style.height=this.container.style.height,Y.style.width=this.container.style.width,Y.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Y.alt="[{{type}} Annotation]",Y.dataset.l10nId="text_annotation_type",Y.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Y,this.data),this.container.appendChild(Y),this.container}}]),J}(P),g=function(oe){m(J,oe);var B=_(J);function J(){return w(this,J),B.apply(this,arguments)}return A(J,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(Y){return navigator.platform.includes("Win")&&Y.ctrlKey||navigator.platform.includes("Mac")&&Y.metaKey}},{key:"_setEventListener",value:function(Y,K,Z,Q){var ue=this;K.includes("mouse")?Y.addEventListener(K,function(ce){var ae;(ae=ue.linkService.eventBus)===null||ae===void 0||ae.dispatch("dispatcheventinsandbox",{source:ue,detail:{id:ue.data.id,name:Z,value:Q(ce),shift:ce.shiftKey,modifier:ue._getKeyModifier(ce)}})}):Y.addEventListener(K,function(ce){var ae;(ae=ue.linkService.eventBus)===null||ae===void 0||ae.dispatch("dispatcheventinsandbox",{source:ue,detail:{id:ue.data.id,name:Z,value:ce.target.checked}})})}},{key:"_setEventListeners",value:function(Y,K,Z){var Q,ue=z(K);try{for(ue.s();!(Q=ue.n()).done;){var ce,ae=u(Q.value,2),me=ae[0],ve=ae[1];(ve==="Action"||(ce=this.data.actions)!==null&&ce!==void 0&&ce[ve])&&this._setEventListener(Y,me,ve,Z)}}catch(he){ue.e(he)}finally{ue.f()}}},{key:"_dispatchEventFromSandbox",value:function(Y,K){for(var Z=this,Q=function(he,ge,ye){var pe=ye.detail[he];ye.target.style[ge]=s.ColorConverters["".concat(pe[0],"_HTML")](pe.slice(1))},ue={display:function(he){var ge=he.detail.display%2==1;he.target.style.visibility=ge?"hidden":"visible",Z.annotationStorage.setValue(Z.data.id,{hidden:ge,print:he.detail.display===0||he.detail.display===3})},print:function(he){Z.annotationStorage.setValue(Z.data.id,{print:he.detail.print})},hidden:function(he){he.target.style.visibility=he.detail.hidden?"hidden":"visible",Z.annotationStorage.setValue(Z.data.id,{hidden:he.detail.hidden})},focus:function(he){setTimeout(function(){return he.target.focus({preventScroll:!1})},0)},userName:function(he){he.target.title=he.detail.userName},readonly:function(he){he.detail.readonly?he.target.setAttribute("readonly",""):he.target.removeAttribute("readonly")},required:function(he){he.detail.required?he.target.setAttribute("required",""):he.target.removeAttribute("required")},bgColor:function(he){Q("bgColor","backgroundColor",he)},fillColor:function(he){Q("fillColor","backgroundColor",he)},fgColor:function(he){Q("fgColor","color",he)},textColor:function(he){Q("textColor","color",he)},borderColor:function(he){Q("borderColor","borderColor",he)},strokeColor:function(he){Q("strokeColor","borderColor",he)}},ce=0,ae=Object.keys(K.detail);ce<ae.length;ce++){var me=ae[ce],ve=Y[me]||ue[me];ve&&ve(K)}}}]),J}(P),f=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=Y.renderInteractiveForms||!Y.data.hasAppearance&&!!Y.data.fieldValue;return B.call(this,Y,{isRenderable:K})}return A(J,[{key:"setPropertyOnSiblings",value:function(Y,K,Z,Q){var ue,ce=this.annotationStorage,ae=z(document.getElementsByName(Y.name));try{for(ae.s();!(ue=ae.n()).done;){var me=ue.value;if(me!==Y){me[K]=Z;var ve=Object.create(null);ve[Q]=Z,ce.setValue(me.getAttribute("id"),ve)}}}catch(he){ae.e(he)}finally{ae.f()}}},{key:"render",value:function(){var Y=this,K=this.annotationStorage,Z=this.data.id;this.container.className="textWidgetAnnotation";var Q=null;if(this.renderInteractiveForms){var ue=K.getValue(Z,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),ce=ue.valueAsString||ue.value||"",ae={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(Q=document.createElement("textarea")).textContent=ce:((Q=document.createElement("input")).type="text",Q.setAttribute("value",ce)),ae.userValue=ce,Q.setAttribute("id",Z),Q.addEventListener("input",function(ye){K.setValue(Z,{value:ye.target.value}),Y.setPropertyOnSiblings(Q,"value",ye.target.value,"value")});var me=function(ye){ae.formattedValue&&(ye.target.value=ae.formattedValue),ye.target.scrollLeft=0,ae.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var ve;Q.addEventListener("focus",function(ye){ae.userValue&&(ye.target.value=ae.userValue)}),Q.addEventListener("updatefromsandbox",function(ye){var pe={value:function(_e){ae.userValue=_e.detail.value||"",K.setValue(Z,{value:ae.userValue.toString()}),ae.formattedValue||(_e.target.value=ae.userValue)},valueAsString:function(_e){ae.formattedValue=_e.detail.valueAsString||"",_e.target!==document.activeElement&&(_e.target.value=ae.formattedValue),K.setValue(Z,{formattedValue:ae.formattedValue})},selRange:function(_e){var Se=u(_e.detail.selRange,2),Ce=Se[0],Ee=Se[1];Ce>=0&&Ee<_e.target.value.length&&_e.target.setSelectionRange(Ce,Ee)}};Y._dispatchEventFromSandbox(pe,ye)}),Q.addEventListener("keydown",function(ye){var pe;ae.beforeInputValue=ye.target.value;var _e=-1;ye.key==="Escape"?_e=0:ye.key==="Enter"?_e=2:ye.key==="Tab"&&(_e=3),_e!==-1&&(ae.userValue=ye.target.value,(pe=Y.linkService.eventBus)===null||pe===void 0||pe.dispatch("dispatcheventinsandbox",{source:Y,detail:{id:Z,name:"Keystroke",value:ye.target.value,willCommit:!0,commitKey:_e,selStart:ye.target.selectionStart,selEnd:ye.target.selectionEnd}}))});var he=me;me=null,Q.addEventListener("blur",function(ye){var pe;Y._mouseState.isDown&&(ae.userValue=ye.target.value,(pe=Y.linkService.eventBus)===null||pe===void 0||pe.dispatch("dispatcheventinsandbox",{source:Y,detail:{id:Z,name:"Keystroke",value:ye.target.value,willCommit:!0,commitKey:1,selStart:ye.target.selectionStart,selEnd:ye.target.selectionEnd}})),he(ye)}),Q.addEventListener("mousedown",function(ye){ae.beforeInputValue=ye.target.value,ae.beforeInputSelectionRange=null}),Q.addEventListener("keyup",function(ye){ye.target.selectionStart===ye.target.selectionEnd&&(ae.beforeInputSelectionRange=null)}),Q.addEventListener("select",function(ye){ae.beforeInputSelectionRange=[ye.target.selectionStart,ye.target.selectionEnd]}),(ve=this.data.actions)!==null&&ve!==void 0&&ve.Keystroke&&Q.addEventListener("input",function(ye){var pe,_e=-1,Se=-1;if(ae.beforeInputSelectionRange){var Ce=u(ae.beforeInputSelectionRange,2);_e=Ce[0],Se=Ce[1]}(pe=Y.linkService.eventBus)===null||pe===void 0||pe.dispatch("dispatcheventinsandbox",{source:Y,detail:{id:Z,name:"Keystroke",value:ae.beforeInputValue,change:ye.data,willCommit:!1,selStart:_e,selEnd:Se}})}),this._setEventListeners(Q,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(ye){return ye.target.value})}if(me&&Q.addEventListener("blur",me),Q.disabled=this.data.readOnly,Q.name=this.data.fieldName,this.data.maxLen!==null&&(Q.maxLength=this.data.maxLen),this.data.comb){var ge=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;Q.classList.add("comb"),Q.style.letterSpacing="calc(".concat(ge,"px - 1ch)")}}else(Q=document.createElement("div")).textContent=this.data.fieldValue,Q.style.verticalAlign="middle",Q.style.display="table-cell";return this._setTextStyle(Q),this.container.appendChild(Q),this.container}},{key:"_setTextStyle",value:function(Y){var K=this.data.defaultAppearanceData,Z=K.fontSize,Q=K.fontColor,ue=Y.style;Z&&(ue.fontSize="".concat(Z,"px")),ue.color=a.Util.makeHexColor(Q[0],Q[1],Q[2]),this.data.textAlignment!==null&&(ue.textAlign=["left","center","right"][this.data.textAlignment])}}]),J}(g),d=function(oe){m(J,oe);var B=_(J);function J(Y){return w(this,J),B.call(this,Y,{isRenderable:Y.renderInteractiveForms})}return A(J,[{key:"render",value:function(){var Y=this,K=this.annotationStorage,Z=this.data,Q=Z.id,ue=K.getValue(Q,{value:Z.fieldValue&&(Z.exportValue&&Z.exportValue===Z.fieldValue||!Z.exportValue&&Z.fieldValue!=="Off")}).value;typeof ue=="string"&&(ue=ue!=="Off",K.setValue(Q,{value:ue})),this.container.className="buttonWidgetAnnotation checkBox";var ce=document.createElement("input");return ce.disabled=Z.readOnly,ce.type="checkbox",ce.name=this.data.fieldName,ue&&ce.setAttribute("checked",!0),ce.setAttribute("id",Q),ce.addEventListener("change",function(ae){var me,ve=ae.target.name,he=z(document.getElementsByName(ve));try{for(he.s();!(me=he.n()).done;){var ge=me.value;ge!==ae.target&&(ge.checked=!1,K.setValue(ge.parentNode.getAttribute("data-annotation-id"),{value:!1}))}}catch(ye){he.e(ye)}finally{he.f()}K.setValue(Q,{value:ae.target.checked})}),this.enableScripting&&this.hasJSActions&&(ce.addEventListener("updatefromsandbox",function(ae){var me={value:function(ve){ve.target.checked=ve.detail.value!=="Off",K.setValue(Q,{value:ve.target.checked})}};Y._dispatchEventFromSandbox(me,ae)}),this._setEventListeners(ce,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(ae){return ae.target.checked})),this.container.appendChild(ce),this.container}}]),J}(g),v=function(oe){m(J,oe);var B=_(J);function J(Y){return w(this,J),B.call(this,Y,{isRenderable:Y.renderInteractiveForms})}return A(J,[{key:"render",value:function(){var Y=this;this.container.className="buttonWidgetAnnotation radioButton";var K=this.annotationStorage,Z=this.data,Q=Z.id,ue=K.getValue(Q,{value:Z.fieldValue===Z.buttonValue}).value;typeof ue=="string"&&(ue=ue!==Z.buttonValue,K.setValue(Q,{value:ue}));var ce=document.createElement("input");if(ce.disabled=Z.readOnly,ce.type="radio",ce.name=Z.fieldName,ue&&ce.setAttribute("checked",!0),ce.setAttribute("id",Q),ce.addEventListener("change",function(me){var ve,he=me.target,ge=z(document.getElementsByName(he.name));try{for(ge.s();!(ve=ge.n()).done;){var ye=ve.value;ye!==he&&K.setValue(ye.getAttribute("id"),{value:!1})}}catch(pe){ge.e(pe)}finally{ge.f()}K.setValue(Q,{value:he.checked})}),this.enableScripting&&this.hasJSActions){var ae=Z.buttonValue;ce.addEventListener("updatefromsandbox",function(me){var ve={value:function(he){var ge,ye=ae===he.detail.value,pe=z(document.getElementsByName(he.target.name));try{for(pe.s();!(ge=pe.n()).done;){var _e=ge.value,Se=_e.getAttribute("id");_e.checked=Se===Q&&ye,K.setValue(Se,{value:_e.checked})}}catch(Ce){pe.e(Ce)}finally{pe.f()}}};Y._dispatchEventFromSandbox(ve,me)}),this._setEventListeners(ce,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(me){return me.target.checked})}return this.container.appendChild(ce),this.container}}]),J}(g),c=function(oe){m(J,oe);var B=_(J);function J(){return w(this,J),B.apply(this,arguments)}return A(J,[{key:"render",value:function(){var Y=l(L(J.prototype),"render",this).call(this);return Y.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Y.title=this.data.alternativeText),Y}}]),J}(T),O=function(oe){m(J,oe);var B=_(J);function J(Y){return w(this,J),B.call(this,Y,{isRenderable:Y.renderInteractiveForms})}return A(J,[{key:"render",value:function(){var Y=this;this.container.className="choiceWidgetAnnotation";var K=this.annotationStorage,Z=this.data.id;K.getValue(Z,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var Q=document.createElement("select");Q.disabled=this.data.readOnly,Q.name=this.data.fieldName,Q.setAttribute("id",Z),this.data.combo||(Q.size=this.data.options.length,this.data.multiSelect&&(Q.multiple=!0));var ue,ce=z(this.data.options);try{for(ce.s();!(ue=ce.n()).done;){var ae=ue.value,me=document.createElement("option");me.textContent=ae.displayValue,me.value=ae.exportValue,this.data.fieldValue.includes(ae.exportValue)&&me.setAttribute("selected",!0),Q.appendChild(me)}}catch(ge){ce.e(ge)}finally{ce.f()}var ve=function(ge,ye){var pe=ye?"value":"textContent",_e=ge.target.options;return ge.target.multiple?Array.prototype.filter.call(_e,function(Se){return Se.selected}).map(function(Se){return Se[pe]}):_e.selectedIndex===-1?null:_e[_e.selectedIndex][pe]},he=function(ge){var ye=ge.target.options;return Array.prototype.map.call(ye,function(pe){return{displayValue:pe.textContent,exportValue:pe.value}})};return this.enableScripting&&this.hasJSActions?(Q.addEventListener("updatefromsandbox",function(ge){var ye={value:function(pe){var _e=Q.options,Se=pe.detail.value,Ce=new Set(Array.isArray(Se)?Se:[Se]);Array.prototype.forEach.call(_e,function(Ee){Ee.selected=Ce.has(Ee.value)}),K.setValue(Z,{value:ve(pe,!0)})},multipleSelection:function(pe){Q.multiple=!0},remove:function(pe){var _e=Q.options,Se=pe.detail.remove;if(_e[Se].selected=!1,Q.remove(Se),_e.length>0){var Ce=Array.prototype.findIndex.call(_e,function(Ee){return Ee.selected});Ce===-1&&(_e[0].selected=!0)}K.setValue(Z,{value:ve(pe,!0),items:he(pe)})},clear:function(pe){for(;Q.length!==0;)Q.remove(0);K.setValue(Z,{value:null,items:[]})},insert:function(pe){var _e=pe.detail.insert,Se=_e.index,Ce=_e.displayValue,Ee=_e.exportValue,xe=document.createElement("option");xe.textContent=Ce,xe.value=Ee,Q.insertBefore(xe,Q.children[Se]),K.setValue(Z,{value:ve(pe,!0),items:he(pe)})},items:function(pe){for(var _e=pe.detail.items;Q.length!==0;)Q.remove(0);var Se,Ce=z(_e);try{for(Ce.s();!(Se=Ce.n()).done;){var Ee=Se.value,xe=Ee.displayValue,ke=Ee.exportValue,Ie=document.createElement("option");Ie.textContent=xe,Ie.value=ke,Q.appendChild(Ie)}}catch(De){Ce.e(De)}finally{Ce.f()}Q.options.length>0&&(Q.options[0].selected=!0),K.setValue(Z,{value:ve(pe,!0),items:he(pe)})},indices:function(pe){var _e=new Set(pe.detail.indices),Se=pe.target.options;Array.prototype.forEach.call(Se,function(Ce,Ee){Ce.selected=_e.has(Ee)}),K.setValue(Z,{value:ve(pe,!0)})},editable:function(pe){pe.target.disabled=!pe.detail.editable}};Y._dispatchEventFromSandbox(ye,ge)}),Q.addEventListener("input",function(ge){var ye,pe=ve(ge,!0),_e=ve(ge,!1);K.setValue(Z,{value:pe}),(ye=Y.linkService.eventBus)===null||ye===void 0||ye.dispatch("dispatcheventinsandbox",{source:Y,detail:{id:Z,name:"Keystroke",value:_e,changeEx:pe,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Q,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(ge){return ge.target.checked})):Q.addEventListener("input",function(ge){K.setValue(Z,{value:ve(ge)})}),this.container.appendChild(Q),this.container}}]),J}(g),H=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!(!Y.data.title&&!Y.data.contents);return B.call(this,Y,{isRenderable:K})}return A(J,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var Y='[data-annotation-id="'.concat(this.data.parentId,'"]'),K=this.layer.querySelectorAll(Y);if(K.length===0)return this.container;var Z=new N({container:this.container,trigger:Array.from(K),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),Q=this.page,ue=a.Util.normalizeRect([this.data.parentRect[0],Q.view[3]-this.data.parentRect[1]+Q.view[1],this.data.parentRect[2],Q.view[3]-this.data.parentRect[3]+Q.view[1]]),ce=ue[0]+this.data.parentRect[2]-this.data.parentRect[0],ae=ue[1];return this.container.style.transformOrigin="".concat(-ce,"px ").concat(-ae,"px"),this.container.style.left="".concat(ce,"px"),this.container.style.top="".concat(ae,"px"),this.container.appendChild(Z.render()),this.container}}]),J}(P),N=function(){function oe(B){w(this,oe),this.container=B.container,this.trigger=B.trigger,this.color=B.color,this.title=B.title,this.modificationDate=B.modificationDate,this.contents=B.contents,this.hideWrapper=B.hideWrapper||!1,this.pinned=!1}return A(oe,[{key:"render",value:function(){var B=document.createElement("div");B.className="popupWrapper",this.hideElement=this.hideWrapper?B:this.container,this.hideElement.hidden=!0;var J=document.createElement("div");J.className="popup";var Y=this.color;if(Y){var K=.7*(255-Y[0])+Y[0],Z=.7*(255-Y[1])+Y[1],Q=.7*(255-Y[2])+Y[2];J.style.backgroundColor=a.Util.makeHexColor(0|K,0|Z,0|Q)}var ue=document.createElement("h1");ue.textContent=this.title,J.appendChild(ue);var ce=i.PDFDateString.toDateObject(this.modificationDate);if(ce){var ae=document.createElement("span");ae.textContent="{{date}}, {{time}}",ae.dataset.l10nId="annotation_date_string",ae.dataset.l10nArgs=JSON.stringify({date:ce.toLocaleDateString(),time:ce.toLocaleTimeString()}),J.appendChild(ae)}var me=this._formatContents(this.contents);J.appendChild(me),Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var ve,he=z(this.trigger);try{for(he.s();!(ve=he.n()).done;){var ge=ve.value;ge.addEventListener("click",this._toggle.bind(this)),ge.addEventListener("mouseover",this._show.bind(this,!1)),ge.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(ye){he.e(ye)}finally{he.f()}return J.addEventListener("click",this._hide.bind(this,!0)),B.appendChild(J),B}},{key:"_formatContents",value:function(B){for(var J=document.createElement("p"),Y=B.split(/(?:\r\n?|\n)/),K=0,Z=Y.length;K<Z;++K){var Q=Y[K];J.appendChild(document.createTextNode(Q)),K<Z-1&&J.appendChild(document.createElement("br"))}return J}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var B=arguments.length>0&&arguments[0]!==void 0&&arguments[0];B&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var B=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];B&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),oe}(),U=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0})}return A(J,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),J}(P),y=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0})}return A(J,[{key:"render",value:function(){this.container.className="lineAnnotation";var Y=this.data,K=Y.rect[2]-Y.rect[0],Z=Y.rect[3]-Y.rect[1],Q=this.svgFactory.create(K,Z),ue=this.svgFactory.createElement("svg:line");return ue.setAttribute("x1",Y.rect[2]-Y.lineCoordinates[0]),ue.setAttribute("y1",Y.rect[3]-Y.lineCoordinates[1]),ue.setAttribute("x2",Y.rect[2]-Y.lineCoordinates[2]),ue.setAttribute("y2",Y.rect[3]-Y.lineCoordinates[3]),ue.setAttribute("stroke-width",Y.borderStyle.width||1),ue.setAttribute("stroke","transparent"),Q.appendChild(ue),this.container.append(Q),this._createPopup(ue,Y),this.container}}]),J}(P),C=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0})}return A(J,[{key:"render",value:function(){this.container.className="squareAnnotation";var Y=this.data,K=Y.rect[2]-Y.rect[0],Z=Y.rect[3]-Y.rect[1],Q=this.svgFactory.create(K,Z),ue=Y.borderStyle.width,ce=this.svgFactory.createElement("svg:rect");return ce.setAttribute("x",ue/2),ce.setAttribute("y",ue/2),ce.setAttribute("width",K-ue),ce.setAttribute("height",Z-ue),ce.setAttribute("stroke-width",ue||1),ce.setAttribute("stroke","transparent"),ce.setAttribute("fill","none"),Q.appendChild(ce),this.container.append(Q),this._createPopup(ce,Y),this.container}}]),J}(P),E=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0})}return A(J,[{key:"render",value:function(){this.container.className="circleAnnotation";var Y=this.data,K=Y.rect[2]-Y.rect[0],Z=Y.rect[3]-Y.rect[1],Q=this.svgFactory.create(K,Z),ue=Y.borderStyle.width,ce=this.svgFactory.createElement("svg:ellipse");return ce.setAttribute("cx",K/2),ce.setAttribute("cy",Z/2),ce.setAttribute("rx",K/2-ue/2),ce.setAttribute("ry",Z/2-ue/2),ce.setAttribute("stroke-width",ue||1),ce.setAttribute("stroke","transparent"),ce.setAttribute("fill","none"),Q.appendChild(ce),this.container.append(Q),this._createPopup(ce,Y),this.container}}]),J}(P),F=function(oe){m(J,oe);var B=_(J);function J(Y){var K;w(this,J);var Z=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return(K=B.call(this,Y,{isRenderable:Z,ignoreBorder:!0})).containerClassName="polylineAnnotation",K.svgElementName="svg:polyline",K}return A(J,[{key:"render",value:function(){this.container.className=this.containerClassName;var Y,K=this.data,Z=K.rect[2]-K.rect[0],Q=K.rect[3]-K.rect[1],ue=this.svgFactory.create(Z,Q),ce=[],ae=z(K.vertices);try{for(ae.s();!(Y=ae.n()).done;){var me=Y.value,ve=me.x-K.rect[0],he=K.rect[3]-me.y;ce.push(ve+","+he)}}catch(ye){ae.e(ye)}finally{ae.f()}ce=ce.join(" ");var ge=this.svgFactory.createElement(this.svgElementName);return ge.setAttribute("points",ce),ge.setAttribute("stroke-width",K.borderStyle.width||1),ge.setAttribute("stroke","transparent"),ge.setAttribute("fill","none"),ue.appendChild(ge),this.container.append(ue),this._createPopup(ge,K),this.container}}]),J}(P),X=function(oe){m(J,oe);var B=_(J);function J(Y){var K;return w(this,J),(K=B.call(this,Y)).containerClassName="polygonAnnotation",K.svgElementName="svg:polygon",K}return J}(F),G=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0})}return A(J,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),J}(P),q=function(oe){m(J,oe);var B=_(J);function J(Y){var K;w(this,J);var Z=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return(K=B.call(this,Y,{isRenderable:Z,ignoreBorder:!0})).containerClassName="inkAnnotation",K.svgElementName="svg:polyline",K}return A(J,[{key:"render",value:function(){this.container.className=this.containerClassName;var Y,K=this.data,Z=K.rect[2]-K.rect[0],Q=K.rect[3]-K.rect[1],ue=this.svgFactory.create(Z,Q),ce=z(K.inkLists);try{for(ce.s();!(Y=ce.n()).done;){var ae,me=Y.value,ve=[],he=z(me);try{for(he.s();!(ae=he.n()).done;){var ge=ae.value,ye=ge.x-K.rect[0],pe=K.rect[3]-ge.y;ve.push("".concat(ye,",").concat(pe))}}catch(Se){he.e(Se)}finally{he.f()}ve=ve.join(" ");var _e=this.svgFactory.createElement(this.svgElementName);_e.setAttribute("points",ve),_e.setAttribute("stroke-width",K.borderStyle.width||1),_e.setAttribute("stroke","transparent"),_e.setAttribute("fill","none"),this._createPopup(_e,K),ue.appendChild(_e)}}catch(Se){ce.e(Se)}finally{ce.f()}return this.container.append(ue),this.container}}]),J}(P),ne=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}return A(J,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),J}(P),ie=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}return A(J,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),J}(P),ee=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}return A(J,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),J}(P),te=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}return A(J,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),J}(P),se=function(oe){m(J,oe);var B=_(J);function J(Y){w(this,J);var K=!!(Y.data.hasPopup||Y.data.title||Y.data.contents);return B.call(this,Y,{isRenderable:K,ignoreBorder:!0})}return A(J,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),J}(P),le=function(oe){m(J,oe);var B=_(J);function J(Y){var K,Z;w(this,J);var Q=(Z=B.call(this,Y,{isRenderable:!0})).data.file,ue=Q.filename,ce=Q.content;return Z.filename=(0,i.getFilenameFromUrl)(ue),Z.content=ce,(K=Z.linkService.eventBus)===null||K===void 0||K.dispatch("fileattachmentannotation",{source:j(Z),id:(0,a.stringToPDFString)(ue),filename:ue,content:ce}),Z}return A(J,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var Y=document.createElement("div");return Y.style.height=this.container.style.height,Y.style.width=this.container.style.width,Y.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(Y,this.data),this.container.appendChild(Y),this.container}},{key:"_download",value:function(){var Y;(Y=this.downloadManager)===null||Y===void 0||Y.openOrDownloadData(this.container,this.content,this.filename)}}]),J}(P),de=function(){function oe(){w(this,oe)}return A(oe,null,[{key:"render",value:function(B){var J,Y=[],K=[],Z=z(B.annotations);try{for(Z.s();!(J=Z.n()).done;){var Q=J.value;Q&&(Q.annotationType!==a.AnnotationType.POPUP?Y.push(Q):K.push(Q))}}catch(pe){Z.e(pe)}finally{Z.f()}K.length&&Y.push.apply(Y,K);for(var ue=0,ce=Y;ue<ce.length;ue++){var ae=ce[ue],me=D.create({data:ae,layer:B.div,page:B.page,viewport:B.viewport,linkService:B.linkService,downloadManager:B.downloadManager,imageResourcesPath:B.imageResourcesPath||"",renderInteractiveForms:B.renderInteractiveForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:B.annotationStorage||new o.AnnotationStorage,enableScripting:B.enableScripting,hasJSActions:B.hasJSActions,mouseState:B.mouseState||{isDown:!1}});if(me.isRenderable){var ve=me.render();if(ae.hidden&&(ve.style.visibility="hidden"),Array.isArray(ve)){var he,ge=z(ve);try{for(ge.s();!(he=ge.n()).done;){var ye=he.value;B.div.appendChild(ye)}}catch(pe){ge.e(pe)}finally{ge.f()}}else me instanceof H?B.div.prepend(ve):B.div.appendChild(ve)}}}},{key:"update",value:function(B){var J,Y="matrix(".concat(B.viewport.transform.join(","),")"),K=z(B.annotations);try{for(K.s();!(J=K.n()).done;){var Z=J.value,Q=B.div.querySelectorAll('[data-annotation-id="'.concat(Z.id,'"]'));if(Q){var ue,ce=z(Q);try{for(ce.s();!(ue=ce.n()).done;)ue.value.style.transform=Y}catch(ae){ce.e(ae)}finally{ce.f()}}}}catch(ae){K.e(ae)}finally{K.f()}B.div.hidden=!1}}]),oe}();e.AnnotationLayer=de},(t,e)=>{function r(s,l){return function(u){if(Array.isArray(u))return u}(s)||function(u,m){var b=u&&(typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"]);if(b!=null){var _,I,j=[],L=!0,z=!1;try{for(b=b.call(u);!(L=(_=b.next()).done)&&(j.push(_.value),!m||j.length!==m);L=!0);}catch(M){z=!0,I=M}finally{try{L||b.return==null||b.return()}finally{if(z)throw I}}return j}}(s,l)||function(u,m){if(u){if(typeof u=="string")return n(u,m);var b=Object.prototype.toString.call(u).slice(8,-1);return b==="Object"&&u.constructor&&(b=u.constructor.name),b==="Map"||b==="Set"?Array.from(u):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?n(u,m):void 0}}(s,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n(s,l){(l==null||l>s.length)&&(l=s.length);for(var u=0,m=new Array(l);u<l;u++)m[u]=s[u];return m}function i(s,l){for(var u=0;u<l.length;u++){var m=l[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}function a(s){return Math.floor(255*Math.max(0,Math.min(1,s))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;var o=function(){function s(){(function(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")})(this,s)}var l,u,m;return l=s,m=[{key:"CMYK_G",value:function(b){var _=r(b,4),I=_[0],j=_[1],L=_[2],z=_[3];return["G",1-Math.min(1,.3*I+.59*L+.11*j+z)]}},{key:"G_CMYK",value:function(b){return["CMYK",0,0,0,1-r(b,1)[0]]}},{key:"G_RGB",value:function(b){var _=r(b,1)[0];return["RGB",_,_,_]}},{key:"G_HTML",value:function(b){var _=a(r(b,1)[0]);return"#".concat(_).concat(_).concat(_)}},{key:"RGB_G",value:function(b){var _=r(b,3);return["G",.3*_[0]+.59*_[1]+.11*_[2]]}},{key:"RGB_HTML",value:function(b){var _=r(b,3),I=_[0],j=_[1],L=_[2],z=a(I),M=a(j),R=a(L);return"#".concat(z).concat(M).concat(R)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(b){var _=r(b,4),I=_[0],j=_[1],L=_[2],z=_[3];return["RGB",1-Math.min(1,I+z),1-Math.min(1,L+z),1-Math.min(1,j+z)]}},{key:"CMYK_HTML",value:function(b){return this.RGB_HTML(this.CMYK_RGB(b))}},{key:"RGB_CMYK",value:function(b){var _=r(b,3),I=1-_[0],j=1-_[1],L=1-_[2];return["CMYK",I,j,L,Math.min(I,j,L)]}}],(u=null)&&i(l.prototype,u),m&&i(l,m),s}();e.ColorConverters=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=function(z){var M=new L({textContent:z.textContent,textContentStream:z.textContentStream,container:z.container,viewport:z.viewport,textDivs:z.textDivs,textContentItemsStr:z.textContentItemsStr,enhanceTextSelection:z.enhanceTextSelection});return M._render(z.timeout),M};var n=r(4);function i(z,M){for(var R=0;R<M.length;R++){var w=M[R];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(z,w.key,w)}}function a(z,M){var R=typeof Symbol!="undefined"&&z[Symbol.iterator]||z["@@iterator"];if(!R){if(Array.isArray(z)||(R=function(T,x){if(T){if(typeof T=="string")return o(T,x);var g=Object.prototype.toString.call(T).slice(8,-1);return g==="Object"&&T.constructor&&(g=T.constructor.name),g==="Map"||g==="Set"?Array.from(T):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?o(T,x):void 0}}(z))||M&&z&&typeof z.length=="number"){R&&(z=R);var w=0,k=function(){};return{s:k,n:function(){return w>=z.length?{done:!0}:{done:!1,value:z[w++]}},e:function(T){throw T},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A,D=!0,P=!1;return{s:function(){R=R.call(z)},n:function(){var T=R.next();return D=T.done,T},e:function(T){P=!0,A=T},f:function(){try{D||R.return==null||R.return()}finally{if(P)throw A}}}}function o(z,M){(M==null||M>z.length)&&(M=z.length);for(var R=0,w=new Array(M);R<M;R++)w[R]=z[R];return w}var s=30,l=new Map,u=/^\s+$/g;function m(z,M,R,w){var k=document.createElement("span"),A={angle:0,canvasWidth:0,hasText:M.str!=="",hasEOL:M.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};z._textDivs.push(k);var D=n.Util.transform(z._viewport.transform,M.transform),P=Math.atan2(D[1],D[0]),T=R[M.fontName];T.vertical&&(P+=Math.PI/2);var x,g,f=Math.hypot(D[2],D[3]),d=f*function(F,X){var G=l.get(F);if(G)return G;X.save(),X.font="".concat(s,"px ").concat(F);var q=X.measureText(""),ne=q.fontBoundingBoxAscent,ie=Math.abs(q.fontBoundingBoxDescent);if(ne){X.restore();var ee=ne/(ne+ie);return l.set(F,ee),ee}X.strokeStyle="red",X.clearRect(0,0,s,s),X.strokeText("g",0,0);var te=X.getImageData(0,0,s,s).data;ie=0;for(var se=te.length-1-3;se>=0;se-=4)if(te[se]>0){ie=Math.ceil(se/4/s);break}X.clearRect(0,0,s,s),X.strokeText("A",0,s),ne=0;for(var le=0,de=(te=X.getImageData(0,0,s,s).data).length;le<de;le+=4)if(te[le]>0){ne=s-Math.floor(le/4/s);break}if(X.restore(),ne){var oe=ne/(ne+ie);return l.set(F,oe),oe}return l.set(F,.8),.8}(T.fontFamily,w);P===0?(x=D[4],g=D[5]-d):(x=D[4]+d*Math.sin(P),g=D[5]-d*Math.cos(P)),k.style.left="".concat(x,"px"),k.style.top="".concat(g,"px"),k.style.fontSize="".concat(f,"px"),k.style.fontFamily=T.fontFamily,k.setAttribute("role","presentation"),k.textContent=M.str,k.dir=M.dir,z._fontInspectorEnabled&&(k.dataset.fontName=M.fontName),P!==0&&(A.angle=P*(180/Math.PI));var v=!1;if(M.str.length>1||z._enhanceTextSelection&&u.test(M.str))v=!0;else if(M.transform[0]!==M.transform[3]){var c=Math.abs(M.transform[0]),O=Math.abs(M.transform[3]);c!==O&&Math.max(c,O)/Math.min(c,O)>1.5&&(v=!0)}if(v&&(T.vertical?A.canvasWidth=M.height*z._viewport.scale:A.canvasWidth=M.width*z._viewport.scale),z._textDivProperties.set(k,A),z._textContentStream&&z._layoutText(k),z._enhanceTextSelection&&A.hasText){var H=1,N=0;P!==0&&(H=Math.cos(P),N=Math.sin(P));var U,y,C=(T.vertical?M.height:M.width)*z._viewport.scale,E=f;P!==0?(U=[H,N,-N,H,x,g],y=n.Util.getAxialAlignedBoundingBox([0,0,C,E],U)):y=[x,g,x+C,g+E],z._bounds.push({left:y[0],top:y[1],right:y[2],bottom:y[3],div:k,size:[C,E],m:U})}}function b(z){if(!z._canceled){var M=z._textDivs,R=z._capability,w=M.length;if(w>1e5)return z._renderingDone=!0,void R.resolve();if(!z._textContentStream)for(var k=0;k<w;k++)z._layoutText(M[k]);z._renderingDone=!0,R.resolve()}}function _(z,M,R){for(var w=0,k=0;k<R;k++){var A=z[M++];A>0&&(w=w?Math.min(A,w):A)}return w}function I(z){for(var M=z._bounds,R=z._viewport,w=function(U,y,C){var E=C.map(function(le,de){return{x1:le.left,y1:le.top,x2:le.right,y2:le.bottom,index:de,x1New:void 0,x2New:void 0}});j(U,E);var F,X=new Array(C.length),G=a(E);try{for(G.s();!(F=G.n()).done;){var q=F.value,ne=q.index;X[ne]={left:q.x1New,top:0,right:q.x2New,bottom:0}}}catch(le){G.e(le)}finally{G.f()}C.map(function(le,de){var oe=X[de],B=E[de];B.x1=le.top,B.y1=U-oe.right,B.x2=le.bottom,B.y2=U-oe.left,B.index=de,B.x1New=void 0,B.x2New=void 0}),j(y,E);var ie,ee=a(E);try{for(ee.s();!(ie=ee.n()).done;){var te=ie.value,se=te.index;X[se].top=te.x1New,X[se].bottom=te.x2New}}catch(le){ee.e(le)}finally{ee.f()}return X}(R.width,R.height,M),k=0;k<w.length;k++){var A=M[k].div,D=z._textDivProperties.get(A);if(D.angle!==0){for(var P=w[k],T=M[k],x=T.m,g=x[0],f=x[1],d=[[0,0],[0,T.size[1]],[T.size[0],0],T.size],v=new Float64Array(64),c=0,O=d.length;c<O;c++){var H=n.Util.applyTransform(d[c],x);v[c+0]=g&&(P.left-H[0])/g,v[c+4]=f&&(P.top-H[1])/f,v[c+8]=g&&(P.right-H[0])/g,v[c+12]=f&&(P.bottom-H[1])/f,v[c+16]=f&&(P.left-H[0])/-f,v[c+20]=g&&(P.top-H[1])/g,v[c+24]=f&&(P.right-H[0])/-f,v[c+28]=g&&(P.bottom-H[1])/g,v[c+32]=g&&(P.left-H[0])/-g,v[c+36]=f&&(P.top-H[1])/-f,v[c+40]=g&&(P.right-H[0])/-g,v[c+44]=f&&(P.bottom-H[1])/-f,v[c+48]=f&&(P.left-H[0])/f,v[c+52]=g&&(P.top-H[1])/-g,v[c+56]=f&&(P.right-H[0])/f,v[c+60]=g&&(P.bottom-H[1])/-g}var N=1+Math.min(Math.abs(g),Math.abs(f));D.paddingLeft=_(v,32,16)/N,D.paddingTop=_(v,48,16)/N,D.paddingRight=_(v,0,16)/N,D.paddingBottom=_(v,16,16)/N,z._textDivProperties.set(A,D)}else D.paddingLeft=M[k].left-w[k].left,D.paddingTop=M[k].top-w[k].top,D.paddingRight=w[k].right-M[k].right,D.paddingBottom=w[k].bottom-M[k].bottom,z._textDivProperties.set(A,D)}}function j(z,M){M.sort(function(E,F){return E.x1-F.x1||E.index-F.index});var R,w=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],k=a(M);try{for(k.s();!(R=k.n()).done;){for(var A=R.value,D=0;D<w.length&&w[D].end<=A.y1;)D++;for(var P=w.length-1;P>=0&&w[P].start>=A.y2;)P--;var T=void 0,x=void 0,g=void 0,f=void 0,d=-1/0;for(g=D;g<=P;g++){x=(T=w[g]).boundary;var v=void 0;(v=x.x2>A.x1?x.index>A.index?x.x1New:A.x1:x.x2New===void 0?(x.x2+A.x1)/2:x.x2New)>d&&(d=v)}for(A.x1New=d,g=D;g<=P;g++)(x=(T=w[g]).boundary).x2New===void 0?x.x2>A.x1?x.index>A.index&&(x.x2New=x.x2):x.x2New=d:x.x2New>d&&(x.x2New=Math.max(d,x.x2));var c=[],O=null;for(g=D;g<=P;g++){var H=(x=(T=w[g]).boundary).x2>A.x2?x:A;O===H?c[c.length-1].end=T.end:(c.push({start:T.start,end:T.end,boundary:H}),O=H)}for(w[D].start<A.y1&&(c[0].start=A.y1,c.unshift({start:w[D].start,end:A.y1,boundary:w[D].boundary})),A.y2<w[P].end&&(c[c.length-1].end=A.y2,c.push({start:A.y2,end:w[P].end,boundary:w[P].boundary})),g=D;g<=P;g++)if((x=(T=w[g]).boundary).x2New===void 0){var N=!1;for(f=D-1;!N&&f>=0&&w[f].start>=x.y1;f--)N=w[f].boundary===x;for(f=P+1;!N&&f<w.length&&w[f].end<=x.y2;f++)N=w[f].boundary===x;for(f=0;!N&&f<c.length;f++)N=c[f].boundary===x;N||(x.x2New=d)}Array.prototype.splice.apply(w,[D,P-D+1].concat(c))}}catch(E){k.e(E)}finally{k.f()}for(var U=0,y=w;U<y.length;U++){var C=y[U].boundary;C.x2New===void 0&&(C.x2New=Math.max(z,C.x2))}}var L=function(){function z(w){var k,A=this,D=w.textContent,P=w.textContentStream,T=w.container,x=w.viewport,g=w.textDivs,f=w.textContentItemsStr,d=w.enhanceTextSelection;(function(v,c){if(!(v instanceof c))throw new TypeError("Cannot call a class as a function")})(this,z),this._textContent=D,this._textContentStream=P,this._container=T,this._document=T.ownerDocument,this._viewport=x,this._textDivs=g||[],this._textContentItemsStr=f||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!((k=globalThis.FontInspector)===null||k===void 0||!k.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){A._layoutTextCtx&&(A._layoutTextCtx.canvas.width=0,A._layoutTextCtx.canvas.height=0,A._layoutTextCtx=null)}).catch(function(){})}var M,R;return M=z,R=[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(w,k){for(var A=0,D=w.length;A<D;A++)if(w[A].str!==void 0)this._textContentItemsStr.push(w[A].str),m(this,w[A],k,this._layoutTextCtx);else if(w[A].type==="beginMarkedContentProps"||w[A].type==="beginMarkedContent"){var P=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),w[A].id!==null&&this._container.setAttribute("id","".concat(w[A].id)),P.appendChild(this._container)}else w[A].type==="endMarkedContent"&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(w){var k=this._textDivProperties.get(w),A="";if(k.canvasWidth!==0&&k.hasText){var D=w.style,P=D.fontSize,T=D.fontFamily;P===this._layoutTextLastFontSize&&T===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(P," ").concat(T),this._layoutTextLastFontSize=P,this._layoutTextLastFontFamily=T);var x=this._layoutTextCtx.measureText(w.textContent).width;x>0&&(k.scale=k.canvasWidth/x,A="scaleX(".concat(k.scale,")"))}if(k.angle!==0&&(A="rotate(".concat(k.angle,"deg) ").concat(A)),A.length>0&&(this._enhanceTextSelection&&(k.originalTransform=A),w.style.transform=A),k.hasText&&this._container.appendChild(w),k.hasEOL){var g=document.createElement("br");g.setAttribute("role","presentation"),this._container.appendChild(g)}}},{key:"_render",value:function(){var w=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=(0,n.createPromiseCapability)(),D=Object.create(null),P=this._document.createElement("canvas");if(P.height=P.width=s,P.mozOpaque=!0,this._layoutTextCtx=P.getContext("2d",{alpha:!1}),this._textContent){var T=this._textContent.items,x=this._textContent.styles;this._processItems(T,x),A.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var g=function f(){w._reader.read().then(function(d){var v=d.value;d.done?A.resolve():(Object.assign(D,v.styles),w._processItems(v.items,D),f())},A.reject)};this._reader=this._textContentStream.getReader(),g()}A.promise.then(function(){D=null,k?w._renderTimer=setTimeout(function(){b(w),w._renderTimer=null},k):b(w)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var w=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){this._bounds!==null&&(I(this),this._bounds=null);for(var k=[],A=[],D=0,P=this._textDivs.length;D<P;D++){var T=this._textDivs[D],x=this._textDivProperties.get(T);x.hasText&&(w?(k.length=0,A.length=0,x.originalTransform&&k.push(x.originalTransform),x.paddingTop>0?(A.push("".concat(x.paddingTop,"px")),k.push("translateY(".concat(-x.paddingTop,"px)"))):A.push(0),x.paddingRight>0?A.push("".concat(x.paddingRight/x.scale,"px")):A.push(0),x.paddingBottom>0?A.push("".concat(x.paddingBottom,"px")):A.push(0),x.paddingLeft>0?(A.push("".concat(x.paddingLeft/x.scale,"px")),k.push("translateX(".concat(-x.paddingLeft/x.scale,"px)"))):A.push(0),T.style.padding=A.join(" "),k.length&&(T.style.transform=k.join(" "))):(T.style.padding=null,T.style.transform=x.originalTransform))}}}}],R&&i(M.prototype,R),z}()},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=r(4),i=r(1),a=r(6);function o(x){return function(g){if(Array.isArray(g))return m(g)}(x)||function(g){if(typeof Symbol!="undefined"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}(x)||u(x)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(x,g){return function(f){if(Array.isArray(f))return f}(x)||function(f,d){var v=f&&(typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"]);if(v!=null){var c,O,H=[],N=!0,U=!1;try{for(v=v.call(f);!(N=(c=v.next()).done)&&(H.push(c.value),!d||H.length!==d);N=!0);}catch(y){U=!0,O=y}finally{try{N||v.return==null||v.return()}finally{if(U)throw O}}return H}}(x,g)||u(x,g)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function l(x,g){var f=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!f){if(Array.isArray(x)||(f=u(x))||g&&x&&typeof x.length=="number"){f&&(x=f);var d=0,v=function(){};return{s:v,n:function(){return d>=x.length?{done:!0}:{done:!1,value:x[d++]}},e:function(N){throw N},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,O=!0,H=!1;return{s:function(){f=f.call(x)},n:function(){var N=f.next();return O=N.done,N},e:function(N){H=!0,c=N},f:function(){try{O||f.return==null||f.return()}finally{if(H)throw c}}}}function u(x,g){if(x){if(typeof x=="string")return m(x,g);var f=Object.prototype.toString.call(x).slice(8,-1);return f==="Object"&&x.constructor&&(f=x.constructor.name),f==="Map"||f==="Set"?Array.from(x):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?m(x,g):void 0}}function m(x,g){(g==null||g>x.length)&&(g=x.length);for(var f=0,d=new Array(g);f<g;f++)d[f]=x[f];return d}function b(x,g){for(var f=0;f<g.length;f++){var d=g[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(x,d.key,d)}}function _(x,g,f){return g&&b(x.prototype,g),f&&b(x,f),x}function I(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}var j=function x(){I(this,x),(0,n.unreachable)("Not implemented: SVGGraphics")};e.SVGGraphics=j;var L=function(x){if(Number.isInteger(x))return x.toString();var g=x.toFixed(10),f=g.length-1;if(g[f]!=="0")return g;do f--;while(g[f]==="0");return g.substring(0,g[f]==="."?f:f+1)},z=function(x){if(x[4]===0&&x[5]===0){if(x[1]===0&&x[2]===0)return x[0]===1&&x[3]===1?"":"scale(".concat(L(x[0])," ").concat(L(x[3]),")");if(x[0]===x[3]&&x[1]===-x[2]){var g=180*Math.acos(x[0])/Math.PI;return"rotate(".concat(L(g),")")}}else if(x[0]===1&&x[1]===0&&x[2]===0&&x[3]===1)return"translate(".concat(L(x[4])," ").concat(L(x[5]),")");return"matrix(".concat(L(x[0])," ").concat(L(x[1])," ").concat(L(x[2])," ").concat(L(x[3])," ").concat(L(x[4])," ")+"".concat(L(x[5]),")")},M={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},R=["butt","round","square"],w=["miter","round","bevel"],k=function(){for(var x=new Uint8Array([137,80,78,71,13,10,26,10]),g=new Int32Array(256),f=0;f<256;f++){for(var d=f,v=0;v<8;v++)d=1&d?3988292384^d>>1&2147483647:d>>1&2147483647;g[f]=d}function c(N,U,y,C){var E=C,F=U.length;y[E]=F>>24&255,y[E+1]=F>>16&255,y[E+2]=F>>8&255,y[E+3]=255&F,y[E+=4]=255&N.charCodeAt(0),y[E+1]=255&N.charCodeAt(1),y[E+2]=255&N.charCodeAt(2),y[E+3]=255&N.charCodeAt(3),E+=4,y.set(U,E);var X=function(G,q,ne){for(var ie=-1,ee=q;ee<ne;ee++){var te=255&(ie^G[ee]);ie=ie>>>8^g[te]}return-1^ie}(y,C+4,E+=U.length);y[E]=X>>24&255,y[E+1]=X>>16&255,y[E+2]=X>>8&255,y[E+3]=255&X}function O(N){var U=N.length,y=65535,C=Math.ceil(U/y),E=new Uint8Array(2+U+5*C+4),F=0;E[F++]=120,E[F++]=156;for(var X=0;U>y;)E[F++]=0,E[F++]=255,E[F++]=255,E[F++]=0,E[F++]=0,E.set(N.subarray(X,X+y),F),F+=y,X+=y,U-=y;E[F++]=1,E[F++]=255&U,E[F++]=U>>8&255,E[F++]=255&~U,E[F++]=(65535&~U)>>8&255,E.set(N.subarray(X),F),F+=N.length-X;var G=function(q,ne,ie){for(var ee=1,te=0,se=ne;se<ie;++se)te=(te+(ee=(ee+(255&q[se]))%65521))%65521;return te<<16|ee}(N,0,N.length);return E[F++]=G>>24&255,E[F++]=G>>16&255,E[F++]=G>>8&255,E[F++]=255&G,E}function H(N,U,y,C){var E,F,X,G=N.width,q=N.height,ne=N.data;switch(U){case n.ImageKind.GRAYSCALE_1BPP:F=0,E=1,X=G+7>>3;break;case n.ImageKind.RGB_24BPP:F=2,E=8,X=3*G;break;case n.ImageKind.RGBA_32BPP:F=6,E=8,X=4*G;break;default:throw new Error("invalid format")}for(var ie=new Uint8Array((1+X)*q),ee=0,te=0,se=0;se<q;++se)ie[ee++]=0,ie.set(ne.subarray(te,te+X),ee),te+=X,ee+=X;if(U===n.ImageKind.GRAYSCALE_1BPP&&C){ee=0;for(var le=0;le<q;le++){ee++;for(var de=0;de<X;de++)ie[ee++]^=255}}var oe=new Uint8Array([G>>24&255,G>>16&255,G>>8&255,255&G,q>>24&255,q>>16&255,q>>8&255,255&q,E,F,0,0,0]),B=function(Z){if(!a.isNodeJS)return O(Z);try{var Q;Q=parseInt(process.versions.node)>=8?Z:Buffer.from(Z);var ue=__webpack_require__(324).deflateSync(Q,{level:9});return ue instanceof Uint8Array?ue:new Uint8Array(ue)}catch(ce){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ce)}return O(Z)}(ie),J=x.length+36+oe.length+B.length,Y=new Uint8Array(J),K=0;return Y.set(x,K),c("IHDR",oe,Y,K+=x.length),c("IDATA",B,Y,K+=12+oe.length),K+=12+B.length,c("IEND",new Uint8Array(0),Y,K),(0,n.createObjectURL)(Y,"image/png",y)}return function(N,U,y){return H(N,N.kind===void 0?n.ImageKind.GRAYSCALE_1BPP:N.kind,U,y)}}(),A=function(){function x(){I(this,x),this.fontSizeScale=1,this.fontWeight=M.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=M.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _(x,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(g,f){this.x=g,this.y=f}}]),x}(),D=0,P=0,T=0;e.SVGGraphics=j=function(){function x(g,f){var d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];for(var v in I(this,x),this.svgFactory=new i.DOMSVGFactory,this.current=new A,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=g,this.objs=f,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!d,this._operatorIdMapping=[],n.OPS)this._operatorIdMapping[n.OPS[v]]=v}return _(x,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var g=this.current;this.extraStack.push(g),this.current=g.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(g){this.save(),this.executeOpTree(g),this.restore()}},{key:"loadDependencies",value:function(g){for(var f=this,d=g.fnArray,v=g.argsArray,c=0,O=d.length;c<O;c++)if(d[c]===n.OPS.dependency){var H,N=l(v[c]);try{var U=function(){var y=H.value,C=y.startsWith("g_")?f.commonObjs:f.objs,E=new Promise(function(F){C.get(y,F)});f.current.dependencies.push(E)};for(N.s();!(H=N.n()).done;)U()}catch(y){N.e(y)}finally{N.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(g,f,d,v,c,O){var H=[g,f,d,v,c,O];this.transformMatrix=n.Util.transform(this.transformMatrix,H),this.tgrp=null}},{key:"getSVG",value:function(g,f){var d=this;this.viewport=f;var v=this._initialize(f);return this.loadDependencies(g).then(function(){return d.transformMatrix=n.IDENTITY_MATRIX,d.executeOpTree(d.convertOpList(g)),v})}},{key:"convertOpList",value:function(g){for(var f=this._operatorIdMapping,d=g.argsArray,v=g.fnArray,c=[],O=0,H=v.length;O<H;O++){var N=v[O];c.push({fnId:N,fn:f[N],args:d[O]})}return function(U){var y,C=[],E=[],F=l(U);try{for(F.s();!(y=F.n()).done;){var X=y.value;X.fn!=="save"?X.fn==="restore"?C=E.pop():C.push(X):(C.push({fnId:92,fn:"group",items:[]}),E.push(C),C=C[C.length-1].items)}}catch(G){F.e(G)}finally{F.f()}return C}(c)}},{key:"executeOpTree",value:function(g){var f,d=l(g);try{for(d.s();!(f=d.n()).done;){var v=f.value,c=v.fn,O=v.fnId,H=v.args;switch(0|O){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(H);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(H[0],H[1]);break;case n.OPS.setFont:this.setFont(H);break;case n.OPS.showText:case n.OPS.showSpacedText:this.showText(H[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(H[0],H[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(H[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(H[0]);break;case n.OPS.setHScale:this.setHScale(H[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(H[0],H[1],H[2],H[3],H[4],H[5]);break;case n.OPS.setTextRise:this.setTextRise(H[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(H[0]);break;case n.OPS.setLineWidth:this.setLineWidth(H[0]);break;case n.OPS.setLineJoin:this.setLineJoin(H[0]);break;case n.OPS.setLineCap:this.setLineCap(H[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(H[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(H[0],H[1],H[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(H[0],H[1],H[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(H);break;case n.OPS.setFillColorN:this.setFillColorN(H);break;case n.OPS.shadingFill:this.shadingFill(H[0]);break;case n.OPS.setDash:this.setDash(H[0],H[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(H[0]);break;case n.OPS.setFlatness:this.setFlatness(H[0]);break;case n.OPS.setGState:this.setGState(H[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(H[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(H[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(H[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(H[0],H[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(H[0],H[1],H[2],H[3],H[4],H[5]);break;case n.OPS.constructPath:this.constructPath(H[0],H[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(v.items);break;default:(0,n.warn)("Unimplemented operator ".concat(c))}}}catch(N){d.e(N)}finally{d.f()}}},{key:"setWordSpacing",value:function(g){this.current.wordSpacing=g}},{key:"setCharSpacing",value:function(g){this.current.charSpacing=g}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(g,f,d,v,c,O){var H=this.current;H.textMatrix=H.lineMatrix=[g,f,d,v,c,O],H.textMatrixScale=Math.hypot(g,f),H.x=H.lineX=0,H.y=H.lineY=0,H.xcoords=[],H.ycoords=[],H.tspan=this.svgFactory.createElement("svg:tspan"),H.tspan.setAttributeNS(null,"font-family",H.fontFamily),H.tspan.setAttributeNS(null,"font-size","".concat(L(H.fontSize),"px")),H.tspan.setAttributeNS(null,"y",L(-H.y)),H.txtElement=this.svgFactory.createElement("svg:text"),H.txtElement.appendChild(H.tspan)}},{key:"beginText",value:function(){var g=this.current;g.x=g.lineX=0,g.y=g.lineY=0,g.textMatrix=n.IDENTITY_MATRIX,g.lineMatrix=n.IDENTITY_MATRIX,g.textMatrixScale=1,g.tspan=this.svgFactory.createElement("svg:tspan"),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtgrp=this.svgFactory.createElement("svg:g"),g.xcoords=[],g.ycoords=[]}},{key:"moveText",value:function(g,f){var d=this.current;d.x=d.lineX+=g,d.y=d.lineY+=f,d.xcoords=[],d.ycoords=[],d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size","".concat(L(d.fontSize),"px")),d.tspan.setAttributeNS(null,"y",L(-d.y))}},{key:"showText",value:function(g){var f=this.current,d=f.font,v=f.fontSize;if(v!==0){var c,O=f.fontSizeScale,H=f.charSpacing,N=f.wordSpacing,U=f.fontDirection,y=f.textHScale*U,C=d.vertical,E=C?1:-1,F=d.defaultVMetrics,X=v*f.fontMatrix[0],G=0,q=l(g);try{for(q.s();!(c=q.n()).done;){var ne=c.value;if(ne!==null)if((0,n.isNum)(ne))G+=E*ne*v/1e3;else{var ie=(ne.isSpace?N:0)+H,ee=ne.fontChar,te=void 0,se=void 0,le=ne.width;if(C){var de=void 0,oe=ne.vmetric||F;de=-(de=ne.vmetric?oe[1]:.5*le)*X;var B=oe[2]*X;le=oe?-oe[0]:le,te=de/O,se=(G+B)/O}else te=G/O,se=0;(ne.isInFont||d.missingFile)&&(f.xcoords.push(f.x+te),C&&f.ycoords.push(-f.y+se),f.tspan.textContent+=ee),G+=C?le*X-ie*U:le*X+ie*U}else G+=U*N}}catch(Z){q.e(Z)}finally{q.f()}f.tspan.setAttributeNS(null,"x",f.xcoords.map(L).join(" ")),C?f.tspan.setAttributeNS(null,"y",f.ycoords.map(L).join(" ")):f.tspan.setAttributeNS(null,"y",L(-f.y)),C?f.y-=G:f.x+=G*y,f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size","".concat(L(f.fontSize),"px")),f.fontStyle!==M.fontStyle&&f.tspan.setAttributeNS(null,"font-style",f.fontStyle),f.fontWeight!==M.fontWeight&&f.tspan.setAttributeNS(null,"font-weight",f.fontWeight);var J=f.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(J===n.TextRenderingMode.FILL||J===n.TextRenderingMode.FILL_STROKE?(f.fillColor!==M.fillColor&&f.tspan.setAttributeNS(null,"fill",f.fillColor),f.fillAlpha<1&&f.tspan.setAttributeNS(null,"fill-opacity",f.fillAlpha)):f.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?f.tspan.setAttributeNS(null,"fill","transparent"):f.tspan.setAttributeNS(null,"fill","none"),J===n.TextRenderingMode.STROKE||J===n.TextRenderingMode.FILL_STROKE){var Y=1/(f.textMatrixScale||1);this._setStrokeAttributes(f.tspan,Y)}var K=f.textMatrix;f.textRise!==0&&((K=K.slice())[5]+=f.textRise),f.txtElement.setAttributeNS(null,"transform","".concat(z(K)," scale(").concat(L(y),", -1)")),f.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.txtElement.appendChild(f.tspan),f.txtgrp.appendChild(f.txtElement),this._ensureTransformGroup().appendChild(f.txtElement)}}},{key:"setLeadingMoveText",value:function(g,f){this.setLeading(-f),this.moveText(g,f)}},{key:"addFontStyle",value:function(g){if(!g.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var f=(0,n.createObjectURL)(g.data,g.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(g.loadedName,'";')+" src: url(".concat(f,`); }
`)}},{key:"setFont",value:function(g){var f=this.current,d=this.commonObjs.get(g[0]),v=g[1];f.font=d,!this.embedFonts||d.missingFile||this.embeddedFonts[d.loadedName]||(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d),f.fontMatrix=d.fontMatrix||n.FONT_IDENTITY_MATRIX;var c="normal";d.black?c="900":d.bold&&(c="bold");var O=d.italic?"italic":"normal";v<0?(v=-v,f.fontDirection=-1):f.fontDirection=1,f.fontSize=v,f.fontFamily=d.loadedName,f.fontWeight=c,f.fontStyle=O,f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"y",L(-f.y)),f.xcoords=[],f.ycoords=[]}},{key:"endText",value:function(){var g,f=this.current;f.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&(g=f.txtElement)!==null&&g!==void 0&&g.hasChildNodes()&&(f.element=f.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(g){g>0&&(this.current.lineWidth=g)}},{key:"setLineCap",value:function(g){this.current.lineCap=R[g]}},{key:"setLineJoin",value:function(g){this.current.lineJoin=w[g]}},{key:"setMiterLimit",value:function(g){this.current.miterLimit=g}},{key:"setStrokeAlpha",value:function(g){this.current.strokeAlpha=g}},{key:"setStrokeRGBColor",value:function(g,f,d){this.current.strokeColor=n.Util.makeHexColor(g,f,d)}},{key:"setFillAlpha",value:function(g){this.current.fillAlpha=g}},{key:"setFillRGBColor",value:function(g,f,d){this.current.fillColor=n.Util.makeHexColor(g,f,d),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(g){this.current.strokeColor=this._makeColorN_Pattern(g)}},{key:"setFillColorN",value:function(g){this.current.fillColor=this._makeColorN_Pattern(g)}},{key:"shadingFill",value:function(g){var f=this.viewport.width,d=this.viewport.height,v=n.Util.inverseTransform(this.transformMatrix),c=n.Util.applyTransform([0,0],v),O=n.Util.applyTransform([0,d],v),H=n.Util.applyTransform([f,0],v),N=n.Util.applyTransform([f,d],v),U=Math.min(c[0],O[0],H[0],N[0]),y=Math.min(c[1],O[1],H[1],N[1]),C=Math.max(c[0],O[0],H[0],N[0]),E=Math.max(c[1],O[1],H[1],N[1]),F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x",U),F.setAttributeNS(null,"y",y),F.setAttributeNS(null,"width",C-U),F.setAttributeNS(null,"height",E-y),F.setAttributeNS(null,"fill",this._makeShadingPattern(g)),this.current.fillAlpha<1&&F.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(F)}},{key:"_makeColorN_Pattern",value:function(g){return g[0]==="TilingPattern"?this._makeTilingPattern(g):this._makeShadingPattern(g)}},{key:"_makeTilingPattern",value:function(g){var f=g[1],d=g[2],v=g[3]||n.IDENTITY_MATRIX,c=s(g[4],4),O=c[0],H=c[1],N=c[2],U=c[3],y=g[5],C=g[6],E=g[7],F="shading".concat(T++),X=s(n.Util.applyTransform([O,H],v),2),G=X[0],q=X[1],ne=s(n.Util.applyTransform([N,U],v),2),ie=ne[0],ee=ne[1],te=s(n.Util.singularValueDecompose2dScale(v),2),se=y*te[0],le=C*te[1],de=this.svgFactory.createElement("svg:pattern");de.setAttributeNS(null,"id",F),de.setAttributeNS(null,"patternUnits","userSpaceOnUse"),de.setAttributeNS(null,"width",se),de.setAttributeNS(null,"height",le),de.setAttributeNS(null,"x","".concat(G)),de.setAttributeNS(null,"y","".concat(q));var oe=this.svg,B=this.transformMatrix,J=this.current.fillColor,Y=this.current.strokeColor,K=this.svgFactory.create(ie-G,ee-q);if(this.svg=K,this.transformMatrix=v,E===2){var Z=n.Util.makeHexColor.apply(n.Util,o(f));this.current.fillColor=Z,this.current.strokeColor=Z}return this.executeOpTree(this.convertOpList(d)),this.svg=oe,this.transformMatrix=B,this.current.fillColor=J,this.current.strokeColor=Y,de.appendChild(K.childNodes[0]),this.defs.appendChild(de),"url(#".concat(F,")")}},{key:"_makeShadingPattern",value:function(g){switch(g[0]){case"RadialAxial":var f,d="shading".concat(T++),v=g[3];switch(g[1]){case"axial":var c=g[4],O=g[5];(f=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",d),f.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),f.setAttributeNS(null,"x1",c[0]),f.setAttributeNS(null,"y1",c[1]),f.setAttributeNS(null,"x2",O[0]),f.setAttributeNS(null,"y2",O[1]);break;case"radial":var H=g[4],N=g[5],U=g[6],y=g[7];(f=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",d),f.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),f.setAttributeNS(null,"cx",N[0]),f.setAttributeNS(null,"cy",N[1]),f.setAttributeNS(null,"r",y),f.setAttributeNS(null,"fx",H[0]),f.setAttributeNS(null,"fy",H[1]),f.setAttributeNS(null,"fr",U);break;default:throw new Error("Unknown RadialAxial type: ".concat(g[1]))}var C,E=l(v);try{for(E.s();!(C=E.n()).done;){var F=C.value,X=this.svgFactory.createElement("svg:stop");X.setAttributeNS(null,"offset",F[0]),X.setAttributeNS(null,"stop-color",F[1]),f.appendChild(X)}}catch(G){E.e(G)}finally{E.f()}return this.defs.appendChild(f),"url(#".concat(d,")");case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(g[0]))}}},{key:"setDash",value:function(g,f){this.current.dashArray=g,this.current.dashPhase=f}},{key:"constructPath",value:function(g,f){var d,v=this.current,c=v.x,O=v.y,H=[],N=0,U=l(g);try{for(U.s();!(d=U.n()).done;)switch(0|d.value){case n.OPS.rectangle:c=f[N++],O=f[N++];var y=f[N++],C=f[N++],E=c+y,F=O+C;H.push("M",L(c),L(O),"L",L(E),L(O),"L",L(E),L(F),"L",L(c),L(F),"Z");break;case n.OPS.moveTo:c=f[N++],O=f[N++],H.push("M",L(c),L(O));break;case n.OPS.lineTo:c=f[N++],O=f[N++],H.push("L",L(c),L(O));break;case n.OPS.curveTo:c=f[N+4],O=f[N+5],H.push("C",L(f[N]),L(f[N+1]),L(f[N+2]),L(f[N+3]),L(c),L(O)),N+=6;break;case n.OPS.curveTo2:H.push("C",L(c),L(O),L(f[N]),L(f[N+1]),L(f[N+2]),L(f[N+3])),c=f[N+2],O=f[N+3],N+=4;break;case n.OPS.curveTo3:c=f[N+2],O=f[N+3],H.push("C",L(f[N]),L(f[N+1]),L(c),L(O),L(c),L(O)),N+=4;break;case n.OPS.closePath:H.push("Z")}}catch(X){U.e(X)}finally{U.f()}H=H.join(" "),v.path&&g.length>0&&g[0]!==n.OPS.rectangle&&g[0]!==n.OPS.moveTo?H=v.path.getAttributeNS(null,"d")+H:(v.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(v.path)),v.path.setAttributeNS(null,"d",H),v.path.setAttributeNS(null,"fill","none"),v.element=v.path,v.setCurrentPoint(c,O)}},{key:"endPath",value:function(){var g=this.current;if(g.path=null,this.pendingClip)if(g.element){var f="clippath".concat(D++),d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,"id",f),d.setAttributeNS(null,"transform",z(this.transformMatrix));var v=g.element.cloneNode(!0);if(this.pendingClip==="evenodd"?v.setAttributeNS(null,"clip-rule","evenodd"):v.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,d.appendChild(v),this.defs.appendChild(d),g.activeClipUrl){g.clipGroup=null;var c,O=l(this.extraStack);try{for(O.s();!(c=O.n()).done;)c.value.clipGroup=null}catch(H){O.e(H)}finally{O.f()}d.setAttributeNS(null,"clip-path",g.activeClipUrl)}g.activeClipUrl="url(#".concat(f,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(g){this.pendingClip=g}},{key:"closePath",value:function(){var g=this.current;if(g.path){var f="".concat(g.path.getAttributeNS(null,"d"),"Z");g.path.setAttributeNS(null,"d",f)}}},{key:"setLeading",value:function(g){this.current.leading=-g}},{key:"setTextRise",value:function(g){this.current.textRise=g}},{key:"setTextRenderingMode",value:function(g){this.current.textRenderingMode=g}},{key:"setHScale",value:function(g){this.current.textHScale=g/100}},{key:"setRenderingIntent",value:function(g){}},{key:"setFlatness",value:function(g){}},{key:"setGState",value:function(g){var f,d=l(g);try{for(d.s();!(f=d.n()).done;){var v=s(f.value,2),c=v[0],O=v[1];switch(c){case"LW":this.setLineWidth(O);break;case"LC":this.setLineCap(O);break;case"LJ":this.setLineJoin(O);break;case"ML":this.setMiterLimit(O);break;case"D":this.setDash(O[0],O[1]);break;case"RI":this.setRenderingIntent(O);break;case"FL":this.setFlatness(O);break;case"Font":this.setFont(O);break;case"CA":this.setStrokeAlpha(O);break;case"ca":this.setFillAlpha(O);break;default:(0,n.warn)("Unimplemented graphic state operator ".concat(c))}}}catch(H){d.e(H)}finally{d.f()}}},{key:"fill",value:function(){var g=this.current;g.element&&(g.element.setAttributeNS(null,"fill",g.fillColor),g.element.setAttributeNS(null,"fill-opacity",g.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var g=this.current;g.element&&(this._setStrokeAttributes(g.element),g.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(g){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,d=this.current,v=d.dashArray;f!==1&&v.length>0&&(v=v.map(function(c){return f*c})),g.setAttributeNS(null,"stroke",d.strokeColor),g.setAttributeNS(null,"stroke-opacity",d.strokeAlpha),g.setAttributeNS(null,"stroke-miterlimit",L(d.miterLimit)),g.setAttributeNS(null,"stroke-linecap",d.lineCap),g.setAttributeNS(null,"stroke-linejoin",d.lineJoin),g.setAttributeNS(null,"stroke-width",L(f*d.lineWidth)+"px"),g.setAttributeNS(null,"stroke-dasharray",v.map(L).join(" ")),g.setAttributeNS(null,"stroke-dashoffset",L(f*d.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width","1px"),g.setAttributeNS(null,"height","1px"),g.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(g)}},{key:"paintImageXObject",value:function(g){var f=g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g);f?this.paintInlineImageXObject(f):(0,n.warn)("Dependent image with object ID ".concat(g," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(g,f){var d=g.width,v=g.height,c=k(g,this.forceDataSchema,!!f),O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",L(d)),O.setAttributeNS(null,"height",L(v)),this.current.element=O,this.clip("nonzero");var H=this.svgFactory.createElement("svg:image");H.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c),H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y",L(-v)),H.setAttributeNS(null,"width",L(d)+"px"),H.setAttributeNS(null,"height",L(v)+"px"),H.setAttributeNS(null,"transform","scale(".concat(L(1/d)," ").concat(L(-1/v),")")),f?f.appendChild(H):this._ensureTransformGroup().appendChild(H)}},{key:"paintImageMaskXObject",value:function(g){var f=this.current,d=g.width,v=g.height,c=f.fillColor;f.maskId="mask".concat(P++);var O=this.svgFactory.createElement("svg:mask");O.setAttributeNS(null,"id",f.maskId);var H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",L(d)),H.setAttributeNS(null,"height",L(v)),H.setAttributeNS(null,"fill",c),H.setAttributeNS(null,"mask","url(#".concat(f.maskId,")")),this.defs.appendChild(O),this._ensureTransformGroup().appendChild(H),this.paintInlineImageXObject(g,O)}},{key:"paintFormXObjectBegin",value:function(g,f){if(Array.isArray(g)&&g.length===6&&this.transform(g[0],g[1],g[2],g[3],g[4],g[5]),f){var d=f[2]-f[0],v=f[3]-f[1],c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x",f[0]),c.setAttributeNS(null,"y",f[1]),c.setAttributeNS(null,"width",L(d)),c.setAttributeNS(null,"height",L(v)),this.current.element=c,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(g){var f=this.svgFactory.create(g.width,g.height),d=this.svgFactory.createElement("svg:defs");f.appendChild(d),this.defs=d;var v=this.svgFactory.createElement("svg:g");return v.setAttributeNS(null,"transform",z(g.transform)),f.appendChild(v),this.svg=v,f}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var g=this.svgFactory.createElement("svg:g");g.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(g),this.current.clipGroup=g}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",z(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),x}()},(t,e)=>{function r(l,u){return function(m){if(Array.isArray(m))return m}(l)||function(m,b){var _=m&&(typeof Symbol!="undefined"&&m[Symbol.iterator]||m["@@iterator"]);if(_!=null){var I,j,L=[],z=!0,M=!1;try{for(_=_.call(m);!(z=(I=_.next()).done)&&(L.push(I.value),!b||L.length!==b);z=!0);}catch(R){M=!0,j=R}finally{try{z||_.return==null||_.return()}finally{if(M)throw j}}return L}}(l,u)||i(l,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n(l,u){var m=typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(!m){if(Array.isArray(l)||(m=i(l))||u&&l&&typeof l.length=="number"){m&&(l=m);var b=0,_=function(){};return{s:_,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(z){throw z},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I,j=!0,L=!1;return{s:function(){m=m.call(l)},n:function(){var z=m.next();return j=z.done,z},e:function(z){L=!0,I=z},f:function(){try{j||m.return==null||m.return()}finally{if(L)throw I}}}}function i(l,u){if(l){if(typeof l=="string")return a(l,u);var m=Object.prototype.toString.call(l).slice(8,-1);return m==="Object"&&l.constructor&&(m=l.constructor.name),m==="Map"||m==="Set"?Array.from(l):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?a(l,u):void 0}}function a(l,u){(u==null||u>l.length)&&(u=l.length);for(var m=0,b=new Array(u);m<u;m++)b[m]=l[m];return b}function o(l,u){for(var m=0;m<u.length;m++){var b=u[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(l,b.key,b)}}Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var s=function(){function l(){(function(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")})(this,l)}var u,m,b;return u=l,b=[{key:"setupStorage",value:function(_,I,j,L){var z=L.getValue(I,{value:null});switch(j.name){case"textarea":_.textContent=z.value!==null?z.value:"",_.addEventListener("input",function(k){L.setValue(I,{value:k.target.value})});break;case"input":z.value!==null&&_.setAttribute("value",z.value),j.attributes.type==="radio"?_.addEventListener("change",function(k){var A,D=k.target,P=n(document.getElementsByName(D.name));try{for(P.s();!(A=P.n()).done;){var T=A.value;if(T!==D){var x=T.id;L.setValue(x.split("-")[0],{value:!1})}}}catch(g){P.e(g)}finally{P.f()}L.setValue(I,{value:D.checked})}):_.addEventListener("input",function(k){L.setValue(I,{value:k.target.value})});break;case"select":if(z.value!==null){var M,R=n(j.children);try{for(R.s();!(M=R.n()).done;){var w=M.value;w.attributes.value===z.value&&(w.attributes.selected=!0)}}catch(k){R.e(k)}finally{R.f()}}_.addEventListener("input",function(k){var A=k.target.options,D=A.selectedIndex===-1?null:A[A.selectedIndex].value;L.setValue(I,{value:D})})}}},{key:"setAttributes",value:function(_,I,j){for(var L=I.attributes,z=0,M=Object.entries(L);z<M.length;z++){var R=r(M[z],2),w=R[0],k=R[1];k!=null&&w!=="fieldId"&&(w!=="style"?w==="textContent"?_.textContent=k:_.setAttribute(w,k):Object.assign(_.style,k))}j&&L.fieldId!==void 0&&this.setupStorage(_,L.fieldId,I,j)}},{key:"render",value:function(_){var I=_.annotationStorage,j=_.xfa,L=document.createElement(j.name);j.attributes&&this.setAttributes(L,j);var z=[[j,-1,L]],M=_.div;M.appendChild(L);var R=_.viewport.transform.join(",");for(M.style.transform="matrix(".concat(R,")"),M.setAttribute("class","xfaLayer xfaFont");z.length>0;){var w=r(z[z.length-1],3),k=w[0],A=w[1],D=w[2];if(A+1!==k.children.length){var P=k.children[++z[z.length-1][1]];if(P!==null){var T=P.name;if(T!=="#text"){var x=document.createElement(T);D.appendChild(x),P.attributes&&this.setAttributes(x,P,I),P.children&&P.children.length>0?z.push([P,-1,x]):P.value&&x.appendChild(document.createTextNode(P.value))}else D.appendChild(document.createTextNode(P.value))}}else z.pop()}}},{key:"update",value:function(_){var I="matrix(".concat(_.viewport.transform.join(","),")");_.div.style.transform=I,_.div.hidden=!1}}],(m=null)&&o(u.prototype,m),b&&o(u,b),l}();e.XfaLayer=s},(t,e,r)=>{function n(N){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},n(N)}Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i,a=(i=r(2))&&i.__esModule?i:{default:i},o=r(4),s=r(131);function l(N,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(U&&U.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),U&&u(N,U)}function u(N,U){return u=Object.setPrototypeOf||function(y,C){return y.__proto__=C,y},u(N,U)}function m(N){var U=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,C=_(N);if(U){var E=_(this).constructor;y=Reflect.construct(C,arguments,E)}else y=C.apply(this,arguments);return b(this,y)}}function b(N,U){return!U||n(U)!=="object"&&typeof U!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(N):U}function _(N){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)},_(N)}function I(N,U,y,C,E,F,X){try{var G=N[F](X),q=G.value}catch(ne){return void y(ne)}G.done?U(q):Promise.resolve(q).then(C,E)}function j(N){return function(){var U=this,y=arguments;return new Promise(function(C,E){var F=N.apply(U,y);function X(q){I(F,C,E,X,G,"next",q)}function G(q){I(F,C,E,X,G,"throw",q)}X(void 0)})}}function L(N,U){var y=typeof Symbol!="undefined"&&N[Symbol.iterator]||N["@@iterator"];if(!y){if(Array.isArray(N)||(y=function(q,ne){if(q){if(typeof q=="string")return z(q,ne);var ie=Object.prototype.toString.call(q).slice(8,-1);return ie==="Object"&&q.constructor&&(ie=q.constructor.name),ie==="Map"||ie==="Set"?Array.from(q):ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie)?z(q,ne):void 0}}(N))||U&&N&&typeof N.length=="number"){y&&(N=y);var C=0,E=function(){};return{s:E,n:function(){return C>=N.length?{done:!0}:{done:!1,value:N[C++]}},e:function(q){throw q},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,X=!0,G=!1;return{s:function(){y=y.call(N)},n:function(){var q=y.next();return X=q.done,q},e:function(q){G=!0,F=q},f:function(){try{X||y.return==null||y.return()}finally{if(G)throw F}}}}function z(N,U){(U==null||U>N.length)&&(U=N.length);for(var y=0,C=new Array(U);y<U;y++)C[y]=N[y];return C}function M(N,U){if(!(N instanceof U))throw new TypeError("Cannot call a class as a function")}function R(N,U){for(var y=0;y<U.length;y++){var C=U[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}function w(N,U,y){return U&&R(N.prototype,U),y&&R(N,y),N}var k=__webpack_require__(767),A=__webpack_require__(251),D=__webpack_require__(677),P=__webpack_require__(543),T=/^file:\/\/\/[a-zA-Z]:\//,x=function(){function N(U){var y,C;M(this,N),this.source=U,this.url=(y=U.url,(C=P.parse(y)).protocol==="file:"||C.host?C:/^[a-z]:[/\\]/i.test(y)?P.parse("file:///".concat(y)):(C.host||(C.protocol="file:"),C)),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&U.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return w(N,[{key:"_progressiveDataLength",get:function(){var U,y;return(U=(y=this._fullRequestReader)===null||y===void 0?void 0:y._loaded)!==null&&U!==void 0?U:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new O(this):new v(this),this._fullRequestReader}},{key:"getRangeReader",value:function(U,y){if(y<=this._progressiveDataLength)return null;var C=this.isFsUrl?new H(this,U,y):new c(this,U,y);return this._rangeRequestReaders.push(C),C}},{key:"cancelAllRequests",value:function(U){this._fullRequestReader&&this._fullRequestReader.cancel(U);var y,C=L(this._rangeRequestReaders.slice(0));try{for(C.s();!(y=C.n()).done;)y.value.cancel(U)}catch(E){C.e(E)}finally{C.f()}}}]),N}();e.PDFNodeStream=x;var g=function(){function N(y){M(this,N),this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null;var C=y.source;this._contentLength=C.length,this._loaded=0,this._filename=null,this._disableRange=C.disableRange||!1,this._rangeChunkSize=C.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}var U;return w(N,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(U=j(a.default.mark(function y(){var C,E;return a.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this._readCapability.promise;case 2:if(!this._done){F.next=4;break}return F.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){F.next=6;break}throw this._storedError;case 6:if((C=this._readableStream.read())!==null){F.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),F.abrupt("return",this.read());case 10:return this._loaded+=C.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),E=new Uint8Array(C).buffer,F.abrupt("return",{value:E,done:!1});case 14:case"end":return F.stop()}},y,this)})),function(){return U.apply(this,arguments)})},{key:"cancel",value:function(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}},{key:"_error",value:function(y){this._storedError=y,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(y){var C=this;this._readableStream=y,y.on("readable",function(){C._readCapability.resolve()}),y.on("end",function(){y.destroy(),C._done=!0,C._readCapability.resolve()}),y.on("error",function(E){C._error(E)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),N}(),f=function(){function N(y){M(this,N),this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)();var C=y.source;this._isStreamingSupported=!C.disableStream}var U;return w(N,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(U=j(a.default.mark(function y(){var C,E;return a.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this._readCapability.promise;case 2:if(!this._done){F.next=4;break}return F.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){F.next=6;break}throw this._storedError;case 6:if((C=this._readableStream.read())!==null){F.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),F.abrupt("return",this.read());case 10:return this._loaded+=C.length,this.onProgress&&this.onProgress({loaded:this._loaded}),E=new Uint8Array(C).buffer,F.abrupt("return",{value:E,done:!1});case 14:case"end":return F.stop()}},y,this)})),function(){return U.apply(this,arguments)})},{key:"cancel",value:function(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}},{key:"_error",value:function(y){this._storedError=y,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(y){var C=this;this._readableStream=y,y.on("readable",function(){C._readCapability.resolve()}),y.on("end",function(){y.destroy(),C._done=!0,C._readCapability.resolve()}),y.on("error",function(E){C._error(E)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),N}();function d(N,U){return{protocol:N.protocol,auth:N.auth,host:N.hostname,port:N.port,path:N.path,method:"GET",headers:U}}var v=function(N){l(y,N);var U=m(y);function y(C){var E;M(this,y);var F=function(X){if(X.statusCode===404){var G=new o.MissingPDFException('Missing PDF "'.concat(E._url,'".'));return E._storedError=G,void E._headersCapability.reject(G)}E._headersCapability.resolve(),E._setReadableStream(X);var q=function(te){return E._readableStream.headers[te.toLowerCase()]},ne=(0,s.validateRangeRequestCapabilities)({getResponseHeader:q,isHttp:C.isHttp,rangeChunkSize:E._rangeChunkSize,disableRange:E._disableRange}),ie=ne.allowRangeRequests,ee=ne.suggestedLength;E._isRangeSupported=ie,E._contentLength=ee||E._contentLength,E._filename=(0,s.extractFilenameFromHeader)(q)};return(E=U.call(this,C))._request=null,E._url.protocol==="http:"?E._request=A.request(d(E._url,C.httpHeaders),F):E._request=D.request(d(E._url,C.httpHeaders),F),E._request.on("error",function(X){E._storedError=X,E._headersCapability.reject(X)}),E._request.end(),E}return y}(g),c=function(N){l(y,N);var U=m(y);function y(C,E,F){var X;for(var G in M(this,y),(X=U.call(this,C))._httpHeaders={},C.httpHeaders){var q=C.httpHeaders[G];q!==void 0&&(X._httpHeaders[G]=q)}X._httpHeaders.Range="bytes=".concat(E,"-").concat(F-1);var ne=function(ie){if(ie.statusCode!==404)X._setReadableStream(ie);else{var ee=new o.MissingPDFException('Missing PDF "'.concat(X._url,'".'));X._storedError=ee}};return X._request=null,X._url.protocol==="http:"?X._request=A.request(d(X._url,X._httpHeaders),ne):X._request=D.request(d(X._url,X._httpHeaders),ne),X._request.on("error",function(ie){X._storedError=ie}),X._request.end(),X}return y}(f),O=function(N){l(y,N);var U=m(y);function y(C){var E;M(this,y),E=U.call(this,C);var F=decodeURIComponent(E._url.path);return T.test(E._url.href)&&(F=F.replace(/^\//,"")),k.lstat(F,function(X,G){if(X)return X.code==="ENOENT"&&(X=new o.MissingPDFException('Missing PDF "'.concat(F,'".'))),E._storedError=X,void E._headersCapability.reject(X);E._contentLength=G.size,E._setReadableStream(k.createReadStream(F)),E._headersCapability.resolve()}),E}return y}(g),H=function(N){l(y,N);var U=m(y);function y(C,E,F){var X;M(this,y),X=U.call(this,C);var G=decodeURIComponent(X._url.path);return T.test(X._url.href)&&(G=G.replace(/^\//,"")),X._setReadableStream(k.createReadStream(G,{start:E,end:F-1})),X}return y}(f)},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(o,s){return o===404||o===0&&s.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+s+'".'):new n.UnexpectedResponseException("Unexpected server response (".concat(o,') while retrieving PDF "').concat(s,'".'),o)},e.extractFilenameFromHeader=function(o){var s=o("Content-Disposition");if(s){var l=(0,i.getFilenameFromContentDispositionHeader)(s);if(l.includes("%"))try{l=decodeURIComponent(l)}catch{}if((0,a.isPdfFile)(l))return l}return null},e.validateRangeRequestCapabilities=function(o){var s=o.getResponseHeader,l=o.isHttp,u=o.rangeChunkSize,m=o.disableRange;(0,n.assert)(u>0,"Range chunk size must be larger than zero");var b={allowRangeRequests:!1,suggestedLength:void 0},_=parseInt(s("Content-Length"),10);return Number.isInteger(_)&&(b.suggestedLength=_,_<=2*u||m||!l||s("Accept-Ranges")!=="bytes"||(s("Content-Encoding")||"identity")!=="identity"||(b.allowRangeRequests=!0)),b},e.validateResponseStatus=function(o){return o===200||o===206};var n=r(4),i=r(132),a=r(1)},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(o){var s=!0,l=b("filename\\*","i").exec(o);if(l){var u=j(l=l[1]);return I(u=z(u=L(u=unescape(u))))}if(l=function(M){for(var R,w=[],k=b("filename\\*((?!0\\d)\\d+)(\\*?)","ig");(R=k.exec(M))!==null;){var A=i(R,4),D=A[1],P=A[2],T=A[3];if((D=parseInt(D,10))in w){if(D===0)break}else w[D]=[P,T]}for(var x=[],g=0;g<w.length&&g in w;++g){var f=i(w[g],2),d=f[0],v=f[1];v=j(v),d&&(v=unescape(v),g===0&&(v=L(v))),x.push(v)}return x.join("")}(o))return I(z(l));if(l=b("filename","i").exec(o)){var m=j(l=l[1]);return I(m=z(m))}function b(M,R){return new RegExp("(?:^|;)\\s*"+M+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',R)}function _(M,R){if(M){if(!/^[\x00-\xFF]+$/.test(R))return R;try{var w=new TextDecoder(M,{fatal:!0}),k=(0,n.stringToBytes)(R);R=w.decode(k),s=!1}catch{if(/^utf-?8$/i.test(M))try{R=decodeURIComponent(escape(R)),s=!1}catch{}}}return R}function I(M){return s&&/[\x80-\xff]/.test(M)&&(M=_("utf-8",M),s&&(M=_("iso-8859-1",M))),M}function j(M){if(M.startsWith('"')){for(var R=M.slice(1).split('\\"'),w=0;w<R.length;++w){var k=R[w].indexOf('"');k!==-1&&(R[w]=R[w].slice(0,k),R.length=w+1),R[w]=R[w].replace(/\\(.)/g,"$1")}M=R.join('"')}return M}function L(M){var R=M.indexOf("'");return R===-1?M:_(M.slice(0,R),M.slice(R+1).replace(/^[^']*'/,""))}function z(M){return!M.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(M)?M:M.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(R,w,k,A){if(k==="q"||k==="Q")return _(w,A=(A=A.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(D,P){return String.fromCharCode(parseInt(P,16))}));try{A=atob(A)}catch{}return _(w,A)})}return""};var n=r(4);function i(o,s){return function(l){if(Array.isArray(l))return l}(o)||function(l,u){var m=l&&(typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"]);if(m!=null){var b,_,I=[],j=!0,L=!1;try{for(m=m.call(l);!(j=(b=m.next()).done)&&(I.push(b.value),!u||I.length!==u);j=!0);}catch(z){L=!0,_=z}finally{try{j||m.return==null||m.return()}finally{if(L)throw _}}return I}}(o,s)||function(l,u){if(l){if(typeof l=="string")return a(l,u);var m=Object.prototype.toString.call(l).slice(8,-1);return m==="Object"&&l.constructor&&(m=l.constructor.name),m==="Map"||m==="Set"?Array.from(l):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?a(l,u):void 0}}(o,s)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(o,s){(s==null||s>o.length)&&(s=o.length);for(var l=0,u=new Array(s);l<s;l++)u[l]=o[l];return u}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n,i=(n=r(2))&&n.__esModule?n:{default:n},a=r(4),o=r(131);function s(R,w,k,A,D,P,T){try{var x=R[P](T),g=x.value}catch(f){return void k(f)}x.done?w(g):Promise.resolve(g).then(A,D)}function l(R){return function(){var w=this,k=arguments;return new Promise(function(A,D){var P=R.apply(w,k);function T(g){s(P,A,D,T,x,"next",g)}function x(g){s(P,A,D,T,x,"throw",g)}T(void 0)})}}function u(R,w){var k=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!k){if(Array.isArray(R)||(k=function(g,f){if(g){if(typeof g=="string")return m(g,f);var d=Object.prototype.toString.call(g).slice(8,-1);return d==="Object"&&g.constructor&&(d=g.constructor.name),d==="Map"||d==="Set"?Array.from(g):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?m(g,f):void 0}}(R))||w&&R&&typeof R.length=="number"){k&&(R=k);var A=0,D=function(){};return{s:D,n:function(){return A>=R.length?{done:!0}:{done:!1,value:R[A++]}},e:function(g){throw g},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,T=!0,x=!1;return{s:function(){k=k.call(R)},n:function(){var g=k.next();return T=g.done,g},e:function(g){x=!0,P=g},f:function(){try{T||k.return==null||k.return()}finally{if(x)throw P}}}}function m(R,w){(w==null||w>R.length)&&(w=R.length);for(var k=0,A=new Array(w);k<w;k++)A[k]=R[k];return A}function b(R,w){if(!(R instanceof w))throw new TypeError("Cannot call a class as a function")}function _(R,w){for(var k=0;k<w.length;k++){var A=w[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,A.key,A)}}function I(R,w,k){return w&&_(R.prototype,w),k&&_(R,k),R}var j=function(){function R(w,k){b(this,R),this.url=w,k=k||{},this.isHttp=/^https?:/i.test(w),this.httpHeaders=this.isHttp&&k.httpHeaders||{},this.withCredentials=k.withCredentials||!1,this.getXhr=k.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return I(R,[{key:"requestRange",value:function(w,k,A){var D={begin:w,end:k};for(var P in A)D[P]=A[P];return this.request(D)}},{key:"requestFull",value:function(w){return this.request(w)}},{key:"request",value:function(w){var k=this.getXhr(),A=this.currXhrId++,D=this.pendingRequests[A]={xhr:k};for(var P in k.open("GET",this.url),k.withCredentials=this.withCredentials,this.httpHeaders){var T=this.httpHeaders[P];T!==void 0&&k.setRequestHeader(P,T)}return this.isHttp&&"begin"in w&&"end"in w?(k.setRequestHeader("Range","bytes=".concat(w.begin,"-").concat(w.end-1)),D.expectedStatus=206):D.expectedStatus=200,k.responseType="arraybuffer",w.onError&&(k.onerror=function(x){w.onError(k.status)}),k.onreadystatechange=this.onStateChange.bind(this,A),k.onprogress=this.onProgress.bind(this,A),D.onHeadersReceived=w.onHeadersReceived,D.onDone=w.onDone,D.onError=w.onError,D.onProgress=w.onProgress,k.send(null),A}},{key:"onProgress",value:function(w,k){var A=this.pendingRequests[w];A&&A.onProgress&&A.onProgress(k)}},{key:"onStateChange",value:function(w,k){var A=this.pendingRequests[w];if(A){var D=A.xhr;if(D.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),D.readyState===4&&w in this.pendingRequests)if(delete this.pendingRequests[w],D.status===0&&this.isHttp)A.onError&&A.onError(D.status);else{var P=D.status||200;if(P===200&&A.expectedStatus===206||P===A.expectedStatus){var T=function(f){var d=f.response;return typeof d!="string"?d:(0,a.stringToBytes)(d).buffer}(D);if(P===206){var x=D.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(x);A.onDone({begin:parseInt(g[1],10),chunk:T})}else T?A.onDone({begin:0,chunk:T}):A.onError&&A.onError(D.status)}else A.onError&&A.onError(D.status)}}}},{key:"getRequestXhr",value:function(w){return this.pendingRequests[w].xhr}},{key:"isPendingRequest",value:function(w){return w in this.pendingRequests}},{key:"abortRequest",value:function(w){var k=this.pendingRequests[w].xhr;delete this.pendingRequests[w],k.abort()}}]),R}(),L=function(){function R(w){b(this,R),this._source=w,this._manager=new j(w.url,{httpHeaders:w.httpHeaders,withCredentials:w.withCredentials}),this._rangeChunkSize=w.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return I(R,[{key:"_onRangeRequestReaderClosed",value:function(w){var k=this._rangeRequestReaders.indexOf(w);k>=0&&this._rangeRequestReaders.splice(k,1)}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new z(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(w,k){var A=new M(this._manager,w,k);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}},{key:"cancelAllRequests",value:function(w){this._fullRequestReader&&this._fullRequestReader.cancel(w);var k,A=u(this._rangeRequestReaders.slice(0));try{for(A.s();!(k=A.n()).done;)k.value.cancel(w)}catch(D){A.e(D)}finally{A.f()}}}]),R}();e.PDFNetworkStream=L;var z=function(){function R(k,A){b(this,R),this._manager=k;var D={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._fullRequestId=k.requestFull(D),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._contentLength=A.length,this._rangeChunkSize=A.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var w;return I(R,[{key:"_onHeadersReceived",value:function(){var k=this._fullRequestId,A=this._manager.getRequestXhr(k),D=function(g){return A.getResponseHeader(g)},P=(0,o.validateRangeRequestCapabilities)({getResponseHeader:D,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),T=P.allowRangeRequests,x=P.suggestedLength;T&&(this._isRangeSupported=!0),this._contentLength=x||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(D),this._isRangeSupported&&this._manager.abortRequest(k),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(k){if(k&&(this._requests.length>0?this._requests.shift().resolve({value:k.chunk,done:!1}):this._cachedChunks.push(k.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var A,D=u(this._requests);try{for(D.s();!(A=D.n()).done;)A.value.resolve({value:void 0,done:!0})}catch(P){D.e(P)}finally{D.f()}this._requests.length=0}}},{key:"_onError",value:function(k){var A=this._url,D=(0,o.createResponseStatusError)(k,A);this._storedError=D,this._headersReceivedCapability.reject(D);var P,T=u(this._requests);try{for(T.s();!(P=T.n()).done;)P.value.reject(D)}catch(x){T.e(x)}finally{T.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(k){this.onProgress&&this.onProgress({loaded:k.loaded,total:k.lengthComputable?k.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(w=l(i.default.mark(function k(){var A,D;return i.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!this._storedError){P.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){P.next=5;break}return A=this._cachedChunks.shift(),P.abrupt("return",{value:A,done:!1});case 5:if(!this._done){P.next=7;break}return P.abrupt("return",{value:void 0,done:!0});case 7:return D=(0,a.createPromiseCapability)(),this._requests.push(D),P.abrupt("return",D.promise);case 10:case"end":return P.stop()}},k,this)})),function(){return w.apply(this,arguments)})},{key:"cancel",value:function(k){this._done=!0,this._headersReceivedCapability.reject(k);var A,D=u(this._requests);try{for(D.s();!(A=D.n()).done;)A.value.resolve({value:void 0,done:!0})}catch(P){D.e(P)}finally{D.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),R}(),M=function(){function R(k,A,D){b(this,R),this._manager=k;var P={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=k.requestRange(A,D,P),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var w;return I(R,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(k){var A=k.chunk;this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunk=A,this._done=!0;var D,P=u(this._requests);try{for(P.s();!(D=P.n()).done;)D.value.resolve({value:void 0,done:!0})}catch(T){P.e(T)}finally{P.f()}this._requests.length=0,this._close()}},{key:"_onProgress",value:function(k){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:k.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(w=l(i.default.mark(function k(){var A,D;return i.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(this._queuedChunk===null){P.next=4;break}return A=this._queuedChunk,this._queuedChunk=null,P.abrupt("return",{value:A,done:!1});case 4:if(!this._done){P.next=6;break}return P.abrupt("return",{value:void 0,done:!0});case 6:return D=(0,a.createPromiseCapability)(),this._requests.push(D),P.abrupt("return",D.promise);case 9:case"end":return P.stop()}},k,this)})),function(){return w.apply(this,arguments)})},{key:"cancel",value:function(k){this._done=!0;var A,D=u(this._requests);try{for(D.s();!(A=D.n()).done;)A.value.resolve({value:void 0,done:!0})}catch(P){D.e(P)}finally{D.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),R}()},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n,i=(n=r(2))&&n.__esModule?n:{default:n},a=r(4),o=r(131);function s(w,k,A,D,P,T,x){try{var g=w[T](x),f=g.value}catch(d){return void A(d)}g.done?k(f):Promise.resolve(f).then(D,P)}function l(w){return function(){var k=this,A=arguments;return new Promise(function(D,P){var T=w.apply(k,A);function x(f){s(T,D,P,x,g,"next",f)}function g(f){s(T,D,P,x,g,"throw",f)}x(void 0)})}}function u(w,k){var A=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!A){if(Array.isArray(w)||(A=function(f,d){if(f){if(typeof f=="string")return m(f,d);var v=Object.prototype.toString.call(f).slice(8,-1);return v==="Object"&&f.constructor&&(v=f.constructor.name),v==="Map"||v==="Set"?Array.from(f):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?m(f,d):void 0}}(w))||k&&w&&typeof w.length=="number"){A&&(w=A);var D=0,P=function(){};return{s:P,n:function(){return D>=w.length?{done:!0}:{done:!1,value:w[D++]}},e:function(f){throw f},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,x=!0,g=!1;return{s:function(){A=A.call(w)},n:function(){var f=A.next();return x=f.done,f},e:function(f){g=!0,T=f},f:function(){try{x||A.return==null||A.return()}finally{if(g)throw T}}}}function m(w,k){(k==null||k>w.length)&&(k=w.length);for(var A=0,D=new Array(k);A<k;A++)D[A]=w[A];return D}function b(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}function _(w,k){for(var A=0;A<k.length;A++){var D=k[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function I(w,k,A){return k&&_(w.prototype,k),A&&_(w,A),w}function j(w,k,A){return{method:"GET",headers:w,signal:A==null?void 0:A.signal,mode:"cors",credentials:k?"include":"same-origin",redirect:"follow"}}function L(w){var k=new Headers;for(var A in w){var D=w[A];D!==void 0&&k.append(A,D)}return k}var z=function(){function w(k){b(this,w),this.source=k,this.isHttp=/^https?:/i.test(k.url),this.httpHeaders=this.isHttp&&k.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return I(w,[{key:"_progressiveDataLength",get:function(){var k,A;return(k=(A=this._fullRequestReader)===null||A===void 0?void 0:A._loaded)!==null&&k!==void 0?k:0}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new M(this),this._fullRequestReader}},{key:"getRangeReader",value:function(k,A){if(A<=this._progressiveDataLength)return null;var D=new R(this,k,A);return this._rangeRequestReaders.push(D),D}},{key:"cancelAllRequests",value:function(k){this._fullRequestReader&&this._fullRequestReader.cancel(k);var A,D=u(this._rangeRequestReaders.slice(0));try{for(D.s();!(A=D.n()).done;)A.value.cancel(k)}catch(P){D.e(P)}finally{D.f()}}}]),w}();e.PDFFetchStream=z;var M=function(){function w(A){var D=this;b(this,w),this._stream=A,this._reader=null,this._loaded=0,this._filename=null;var P=A.source;this._withCredentials=P.withCredentials||!1,this._contentLength=P.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=P.disableRange||!1,this._rangeChunkSize=P.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!P.disableStream,this._isRangeSupported=!P.disableRange,this._headers=L(this._stream.httpHeaders);var T=P.url;fetch(T,j(this._headers,this._withCredentials,this._abortController)).then(function(x){if(!(0,o.validateResponseStatus)(x.status))throw(0,o.createResponseStatusError)(x.status,T);D._reader=x.body.getReader(),D._headersCapability.resolve();var g=function(c){return x.headers.get(c)},f=(0,o.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:D._stream.isHttp,rangeChunkSize:D._rangeChunkSize,disableRange:D._disableRange}),d=f.allowRangeRequests,v=f.suggestedLength;D._isRangeSupported=d,D._contentLength=v||D._contentLength,D._filename=(0,o.extractFilenameFromHeader)(g),!D._isStreamingSupported&&D._isRangeSupported&&D.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}var k;return I(w,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(k=l(i.default.mark(function A(){var D,P,T,x;return i.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._headersCapability.promise;case 2:return g.next=4,this._reader.read();case 4:if(D=g.sent,P=D.value,!(T=D.done)){g.next=9;break}return g.abrupt("return",{value:P,done:T});case 9:return this._loaded+=P.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),x=new Uint8Array(P).buffer,g.abrupt("return",{value:x,done:!1});case 13:case"end":return g.stop()}},A,this)})),function(){return k.apply(this,arguments)})},{key:"cancel",value:function(A){this._reader&&this._reader.cancel(A),this._abortController&&this._abortController.abort()}}]),w}(),R=function(){function w(A,D,P){var T=this;b(this,w),this._stream=A,this._reader=null,this._loaded=0;var x=A.source;this._withCredentials=x.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!x.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=L(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(D,"-").concat(P-1));var g=x.url;fetch(g,j(this._headers,this._withCredentials,this._abortController)).then(function(f){if(!(0,o.validateResponseStatus)(f.status))throw(0,o.createResponseStatusError)(f.status,g);T._readCapability.resolve(),T._reader=f.body.getReader()}).catch(function(f){if((f==null?void 0:f.name)!=="AbortError")throw f}),this.onProgress=null}var k;return I(w,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(k=l(i.default.mark(function A(){var D,P,T,x;return i.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._readCapability.promise;case 2:return g.next=4,this._reader.read();case 4:if(D=g.sent,P=D.value,!(T=D.done)){g.next=9;break}return g.abrupt("return",{value:P,done:T});case 9:return this._loaded+=P.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),x=new Uint8Array(P).buffer,g.abrupt("return",{value:x,done:!1});case 13:case"end":return g.stop()}},A,this)})),function(){return k.apply(this,arguments)})},{key:"cancel",value:function(A){this._reader&&this._reader.cancel(A),this._abortController&&this._abortController.abort()}}]),w}()}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__w_pdfjs_require__),r.loaded=!0,r.exports}__w_pdfjs_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return e.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return e.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return e.getPdfFilenameFromUrl}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return e.isPdfFile}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return e.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return e.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return e.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return e.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return n.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return n.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return i.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return a.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}});var e=__w_pdfjs_require__(1),r=__w_pdfjs_require__(113),n=__w_pdfjs_require__(4),i=__w_pdfjs_require__(125),a=__w_pdfjs_require__(117),o=__w_pdfjs_require__(120),s=__w_pdfjs_require__(127),l=__w_pdfjs_require__(128),u=__w_pdfjs_require__(129);if(__w_pdfjs_require__(6).isNodeJS){var m=__w_pdfjs_require__(130).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)(function(I){return new m(I)})}else{var b,_=__w_pdfjs_require__(133).PDFNetworkStream;(0,e.isFetchSupported)()&&(b=__w_pdfjs_require__(134).PDFFetchStream),(0,r.setPDFNetworkStreamFactory)(function(I){return b&&(0,e.isValidFetchUrl)(I.url)?new b(I):new _(I)})}})(),__webpack_exports__})()},module.exports=factory()},102:function(t,e,r){var n;n=function(){return(()=>{var i=[,(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DefaultAnnotationLayerFactory=u.AnnotationLayerBuilder=void 0;var b=m(2),_=m(3),I=m(6);function j(A,D){return function(P){if(Array.isArray(P))return P}(A)||function(P,T){var x=P&&(typeof Symbol!="undefined"&&P[Symbol.iterator]||P["@@iterator"]);if(x!=null){var g,f,d=[],v=!0,c=!1;try{for(x=x.call(P);!(v=(g=x.next()).done)&&(d.push(g.value),!T||d.length!==T);v=!0);}catch(O){c=!0,f=O}finally{try{v||x.return==null||x.return()}finally{if(c)throw f}}return d}}(A,D)||function(P,T){if(P){if(typeof P=="string")return L(P,T);var x=Object.prototype.toString.call(P).slice(8,-1);return x==="Object"&&P.constructor&&(x=P.constructor.name),x==="Map"||x==="Set"?Array.from(P):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?L(P,T):void 0}}(A,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(A,D){(D==null||D>A.length)&&(D=A.length);for(var P=0,T=new Array(D);P<D;P++)T[P]=A[P];return T}function z(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function M(A,D){for(var P=0;P<D.length;P++){var T=D[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}function R(A,D,P){return D&&M(A.prototype,D),P&&M(A,P),A}var w=function(){function A(D){var P=D.pageDiv,T=D.pdfPage,x=D.linkService,g=D.downloadManager,f=D.annotationStorage,d=f===void 0?null:f,v=D.imageResourcesPath,c=v===void 0?"":v,O=D.renderInteractiveForms,H=O===void 0||O,N=D.l10n,U=N===void 0?_.NullL10n:N,y=D.enableScripting,C=y!==void 0&&y,E=D.hasJSActionsPromise,F=E===void 0?null:E,X=D.mouseState,G=X===void 0?null:X;z(this,A),this.pageDiv=P,this.pdfPage=T,this.linkService=x,this.downloadManager=g,this.imageResourcesPath=c,this.renderInteractiveForms=H,this.l10n=U,this.annotationStorage=d,this.enableScripting=C,this._hasJSActionsPromise=F,this._mouseState=G,this.div=null,this._cancelled=!1}return R(A,[{key:"render",value:function(D){var P=this,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";return Promise.all([this.pdfPage.getAnnotations({intent:T}),this._hasJSActionsPromise]).then(function(x){var g=j(x,2),f=g[0],d=g[1],v=d!==void 0&&d;if(!P._cancelled&&f.length!==0){var c={viewport:D.clone({dontFlip:!0}),div:P.div,annotations:f,page:P.pdfPage,imageResourcesPath:P.imageResourcesPath,renderInteractiveForms:P.renderInteractiveForms,linkService:P.linkService,downloadManager:P.downloadManager,annotationStorage:P.annotationStorage,enableScripting:P.enableScripting,hasJSActions:v,mouseState:P._mouseState};P.div?b.AnnotationLayer.update(c):(P.div=document.createElement("div"),P.div.className="annotationLayer",P.pageDiv.appendChild(P.div),c.div=P.div,b.AnnotationLayer.render(c),P.l10n.translate(P.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),A}();u.AnnotationLayerBuilder=w;var k=function(){function A(){z(this,A)}return R(A,[{key:"createAnnotationLayerBuilder",value:function(D,P){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",g=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:_.NullL10n,d=arguments.length>6&&arguments[6]!==void 0&&arguments[6],v=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null;return new w({pageDiv:D,pdfPage:P,imageResourcesPath:x,renderInteractiveForms:g,linkService:new I.SimpleLinkService,l10n:f,annotationStorage:T,enableScripting:d,hasJSActionsPromise:v,mouseState:c})}}]),A}();u.DefaultAnnotationLayerFactory=k},l=>{var u;u=typeof window!="undefined"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:r(783),l.exports=u},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.getL10nFallback=z,u.NullL10n=void 0;var b,_=(b=m(4))&&b.__esModule?b:{default:b};function I(w,k,A,D,P,T,x){try{var g=w[T](x),f=g.value}catch(d){return void A(d)}g.done?k(f):Promise.resolve(f).then(D,P)}function j(w){return function(){var k=this,A=arguments;return new Promise(function(D,P){var T=w.apply(k,A);function x(f){I(T,D,P,x,g,"next",f)}function g(f){I(T,D,P,x,g,"throw",f)}x(void 0)})}}var L={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function z(w,k){switch(w){case"find_match_count":w="find_match_count[".concat(k.total===1?"one":"other","]");break;case"find_match_count_limit":w="find_match_count_limit[".concat(k.limit===1?"one":"other","]")}return L[w]||""}function M(w,k){return k?w.replace(/\{\{\s*(\w+)\s*\}\}/g,function(A,D){return D in k?k[D]:"{{"+D+"}}"}):w}var R={getLanguage:function(){return j(_.default.mark(function w(){return _.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return","en-us");case 1:case"end":return k.stop()}},w)}))()},getDirection:function(){return j(_.default.mark(function w(){return _.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return","ltr");case 1:case"end":return k.stop()}},w)}))()},get:function(w){var k=arguments;return j(_.default.mark(function A(){var D,P;return _.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return D=k.length>1&&k[1]!==void 0?k[1]:null,P=k.length>2&&k[2]!==void 0?k[2]:z(w,D),T.abrupt("return",M(P,D));case 3:case"end":return T.stop()}},A)}))()},translate:function(w){return j(_.default.mark(function k(){return _.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:case"end":return A.stop()}},k)}))()}};u.NullL10n=R},(l,u,m)=>{l.exports=m(5)},(l,u,m)=>{function b(I){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},b(I)}var _=function(I){var j,L=Object.prototype,z=L.hasOwnProperty,M=typeof Symbol=="function"?Symbol:{},R=M.iterator||"@@iterator",w=M.asyncIterator||"@@asyncIterator",k=M.toStringTag||"@@toStringTag";function A(ee,te,se){return Object.defineProperty(ee,te,{value:se,enumerable:!0,configurable:!0,writable:!0}),ee[te]}try{A({},"")}catch{A=function(te,se,le){return te[se]=le}}function D(ee,te,se,le){var de=te&&te.prototype instanceof v?te:v,oe=Object.create(de.prototype),B=new q(le||[]);return oe._invoke=function(J,Y,K){var Z=T;return function(Q,ue){if(Z===g)throw new Error("Generator is already running");if(Z===f){if(Q==="throw")throw ue;return ie()}for(K.method=Q,K.arg=ue;;){var ce=K.delegate;if(ce){var ae=F(ce,K);if(ae){if(ae===d)continue;return ae}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(Z===T)throw Z=f,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);Z=g;var me=P(J,Y,K);if(me.type==="normal"){if(Z=K.done?f:x,me.arg===d)continue;return{value:me.arg,done:K.done}}me.type==="throw"&&(Z=f,K.method="throw",K.arg=me.arg)}}}(ee,se,B),oe}function P(ee,te,se){try{return{type:"normal",arg:ee.call(te,se)}}catch(le){return{type:"throw",arg:le}}}I.wrap=D;var T="suspendedStart",x="suspendedYield",g="executing",f="completed",d={};function v(){}function c(){}function O(){}var H={};H[R]=function(){return this};var N=Object.getPrototypeOf,U=N&&N(N(ne([])));U&&U!==L&&z.call(U,R)&&(H=U);var y=O.prototype=v.prototype=Object.create(H);function C(ee){["next","throw","return"].forEach(function(te){A(ee,te,function(se){return this._invoke(te,se)})})}function E(ee,te){function se(de,oe,B,J){var Y=P(ee[de],ee,oe);if(Y.type!=="throw"){var K=Y.arg,Z=K.value;return Z&&b(Z)==="object"&&z.call(Z,"__await")?te.resolve(Z.__await).then(function(Q){se("next",Q,B,J)},function(Q){se("throw",Q,B,J)}):te.resolve(Z).then(function(Q){K.value=Q,B(K)},function(Q){return se("throw",Q,B,J)})}J(Y.arg)}var le;this._invoke=function(de,oe){function B(){return new te(function(J,Y){se(de,oe,J,Y)})}return le=le?le.then(B,B):B()}}function F(ee,te){var se=ee.iterator[te.method];if(se===j){if(te.delegate=null,te.method==="throw"){if(ee.iterator.return&&(te.method="return",te.arg=j,F(ee,te),te.method==="throw"))return d;te.method="throw",te.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var le=P(se,ee.iterator,te.arg);if(le.type==="throw")return te.method="throw",te.arg=le.arg,te.delegate=null,d;var de=le.arg;return de?de.done?(te[ee.resultName]=de.value,te.next=ee.nextLoc,te.method!=="return"&&(te.method="next",te.arg=j),te.delegate=null,d):de:(te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,d)}function X(ee){var te={tryLoc:ee[0]};1 in ee&&(te.catchLoc=ee[1]),2 in ee&&(te.finallyLoc=ee[2],te.afterLoc=ee[3]),this.tryEntries.push(te)}function G(ee){var te=ee.completion||{};te.type="normal",delete te.arg,ee.completion=te}function q(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(X,this),this.reset(!0)}function ne(ee){if(ee){var te=ee[R];if(te)return te.call(ee);if(typeof ee.next=="function")return ee;if(!isNaN(ee.length)){var se=-1,le=function de(){for(;++se<ee.length;)if(z.call(ee,se))return de.value=ee[se],de.done=!1,de;return de.value=j,de.done=!0,de};return le.next=le}}return{next:ie}}function ie(){return{value:j,done:!0}}return c.prototype=y.constructor=O,O.constructor=c,c.displayName=A(O,k,"GeneratorFunction"),I.isGeneratorFunction=function(ee){var te=typeof ee=="function"&&ee.constructor;return!!te&&(te===c||(te.displayName||te.name)==="GeneratorFunction")},I.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,O):(ee.__proto__=O,A(ee,k,"GeneratorFunction")),ee.prototype=Object.create(y),ee},I.awrap=function(ee){return{__await:ee}},C(E.prototype),E.prototype[w]=function(){return this},I.AsyncIterator=E,I.async=function(ee,te,se,le,de){de===void 0&&(de=Promise);var oe=new E(D(ee,te,se,le),de);return I.isGeneratorFunction(te)?oe:oe.next().then(function(B){return B.done?B.value:oe.next()})},C(y),A(y,k,"Generator"),y[R]=function(){return this},y.toString=function(){return"[object Generator]"},I.keys=function(ee){var te=[];for(var se in ee)te.push(se);return te.reverse(),function le(){for(;te.length;){var de=te.pop();if(de in ee)return le.value=de,le.done=!1,le}return le.done=!0,le}},I.values=ne,q.prototype={constructor:q,reset:function(ee){if(this.prev=0,this.next=0,this.sent=this._sent=j,this.done=!1,this.delegate=null,this.method="next",this.arg=j,this.tryEntries.forEach(G),!ee)for(var te in this)te.charAt(0)==="t"&&z.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=j)},stop:function(){this.done=!0;var ee=this.tryEntries[0].completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(ee){if(this.done)throw ee;var te=this;function se(Y,K){return oe.type="throw",oe.arg=ee,te.next=Y,K&&(te.method="next",te.arg=j),!!K}for(var le=this.tryEntries.length-1;le>=0;--le){var de=this.tryEntries[le],oe=de.completion;if(de.tryLoc==="root")return se("end");if(de.tryLoc<=this.prev){var B=z.call(de,"catchLoc"),J=z.call(de,"finallyLoc");if(B&&J){if(this.prev<de.catchLoc)return se(de.catchLoc,!0);if(this.prev<de.finallyLoc)return se(de.finallyLoc)}else if(B){if(this.prev<de.catchLoc)return se(de.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return se(de.finallyLoc)}}}},abrupt:function(ee,te){for(var se=this.tryEntries.length-1;se>=0;--se){var le=this.tryEntries[se];if(le.tryLoc<=this.prev&&z.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var de=le;break}}de&&(ee==="break"||ee==="continue")&&de.tryLoc<=te&&te<=de.finallyLoc&&(de=null);var oe=de?de.completion:{};return oe.type=ee,oe.arg=te,de?(this.method="next",this.next=de.finallyLoc,d):this.complete(oe)},complete:function(ee,te){if(ee.type==="throw")throw ee.arg;return ee.type==="break"||ee.type==="continue"?this.next=ee.arg:ee.type==="return"?(this.rval=this.arg=ee.arg,this.method="return",this.next="end"):ee.type==="normal"&&te&&(this.next=te),d},finish:function(ee){for(var te=this.tryEntries.length-1;te>=0;--te){var se=this.tryEntries[te];if(se.finallyLoc===ee)return this.complete(se.completion,se.afterLoc),G(se),d}},catch:function(ee){for(var te=this.tryEntries.length-1;te>=0;--te){var se=this.tryEntries[te];if(se.tryLoc===ee){var le=se.completion;if(le.type==="throw"){var de=le.arg;G(se)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(ee,te,se){return this.delegate={iterator:ne(ee),resultName:te,nextLoc:se},this.method==="next"&&(this.arg=j),d}},I}(b(l=m.nmd(l))==="object"?l.exports:{});try{regeneratorRuntime=_}catch{Function("r","regeneratorRuntime = r")(_)}},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.SimpleLinkService=u.PDFLinkService=void 0;var b,_=(b=m(4))&&b.__esModule?b:{default:b},I=m(7);function j(D){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},j(D)}function L(D,P,T,x,g,f,d){try{var v=D[f](d),c=v.value}catch(O){return void T(O)}v.done?P(c):Promise.resolve(c).then(x,g)}function z(D){return function(){var P=this,T=arguments;return new Promise(function(x,g){var f=D.apply(P,T);function d(c){L(f,x,g,d,v,"next",c)}function v(c){L(f,x,g,d,v,"throw",c)}d(void 0)})}}function M(D,P){if(!(D instanceof P))throw new TypeError("Cannot call a class as a function")}function R(D,P){for(var T=0;T<P.length;T++){var x=P[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(D,x.key,x)}}function w(D,P,T){return P&&R(D.prototype,P),T&&R(D,T),D}var k=function(){function D(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=T.eventBus,g=T.externalLinkTarget,f=g===void 0?null:g,d=T.externalLinkRel,v=d===void 0?null:d,c=T.externalLinkEnabled,O=c===void 0||c,H=T.ignoreDestinationZoom,N=H!==void 0&&H;M(this,D),this.eventBus=x,this.externalLinkTarget=f,this.externalLinkRel=v,this.externalLinkEnabled=O,this._ignoreDestinationZoom=N,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}var P;return w(D,[{key:"setDocument",value:function(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.baseUrl=x,this.pdfDocument=T,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(T){this.pdfViewer=T}},{key:"setHistory",value:function(T){this.pdfHistory=T}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(T){this.pdfViewer.currentPageNumber=T}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(T){this.pdfViewer.pagesRotation=T}},{key:"_goToDestinationHelper",value:function(T){var x,g=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=arguments.length>2?arguments[2]:void 0,v=d[0];if(v instanceof Object){if((x=this._cachedPageNumber(v))===null)return void this.pdfDocument.getPageIndex(v).then(function(c){g.cachePageRef(c+1,v),g._goToDestinationHelper(T,f,d)}).catch(function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(v,'" is not ')+'a valid page reference, for dest="'.concat(T,'".'))})}else{if(!Number.isInteger(v))return void console.error('PDFLinkService._goToDestinationHelper: "'.concat(v,'" is not ')+'a valid destination reference, for dest="'.concat(T,'".'));x=v+1}!x||x<1||x>this.pagesCount?console.error('PDFLinkService._goToDestinationHelper: "'.concat(x,'" is not ')+'a valid page number, for dest="'.concat(T,'".')):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:f,explicitDest:d,pageNumber:x})),this.pdfViewer.scrollPageIntoView({pageNumber:x,destArray:d,ignoreDestinationZoom:this._ignoreDestinationZoom}))}},{key:"goToDestination",value:(P=z(_.default.mark(function T(x){var g,f;return _.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.pdfDocument){d.next=2;break}return d.abrupt("return");case 2:if(typeof x!="string"){d.next=9;break}return g=x,d.next=6,this.pdfDocument.getDestination(x);case 6:f=d.sent,d.next=13;break;case 9:return g=null,d.next=12,x;case 12:f=d.sent;case 13:if(Array.isArray(f)){d.next=16;break}return console.error('PDFLinkService.goToDestination: "'.concat(f,'" is not ')+'a valid destination array, for dest="'.concat(x,'".')),d.abrupt("return");case 16:this._goToDestinationHelper(x,g,f);case 17:case"end":return d.stop()}},T,this)})),function(T){return P.apply(this,arguments)})},{key:"goToPage",value:function(T){if(this.pdfDocument){var x=typeof T=="string"&&this.pdfViewer.pageLabelToPageNumber(T)||0|T;Number.isInteger(x)&&x>0&&x<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(x)),this.pdfViewer.scrollPageIntoView({pageNumber:x})):console.error('PDFLinkService.goToPage: "'.concat(T,'" is not a valid page.'))}}},{key:"getDestinationHash",value:function(T){if(typeof T=="string"){if(T.length>0)return this.getAnchorUrl("#"+escape(T))}else if(Array.isArray(T)){var x=JSON.stringify(T);if(x.length>0)return this.getAnchorUrl("#"+escape(x))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(T){return(this.baseUrl||"")+T}},{key:"setHash",value:function(T){var x,g;if(this.pdfDocument)if(T.includes("=")){var f=(0,I.parseQueryString)(T);if("search"in f&&this.eventBus.dispatch("findfromurlhash",{source:this,query:f.search.replace(/"/g,""),phraseSearch:f.phrase==="true"}),"page"in f&&(x=0|f.page||1),"zoom"in f){var d=f.zoom.split(","),v=d[0],c=parseFloat(v);v.includes("Fit")?v==="Fit"||v==="FitB"?g=[null,{name:v}]:v==="FitH"||v==="FitBH"||v==="FitV"||v==="FitBV"?g=[null,{name:v},d.length>1?0|d[1]:null]:v==="FitR"?d.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):g=[null,{name:v},0|d[1],0|d[2],0|d[3],0|d[4]]:console.error('PDFLinkService.setHash: "'.concat(v,'" is not ')+"a valid zoom value."):g=[null,{name:"XYZ"},d.length>1?0|d[1]:null,d.length>2?0|d[2]:null,c?c/100:v]}g?this.pdfViewer.scrollPageIntoView({pageNumber:x||this.page,destArray:g,allowNegativeOffset:!0}):x&&(this.page=x),"pagemode"in f&&this.eventBus.dispatch("pagemode",{source:this,mode:f.pagemode}),"nameddest"in f&&this.goToDestination(f.nameddest)}else{g=unescape(T);try{g=JSON.parse(g),Array.isArray(g)||(g=g.toString())}catch{}if(typeof g=="string"||function(O){if(!Array.isArray(O))return!1;var H=O.length;if(H<2)return!1;var N=O[0];if(!(j(N)==="object"&&Number.isInteger(N.num)&&Number.isInteger(N.gen)||Number.isInteger(N)&&N>=0))return!1;var U=O[1];if(j(U)!=="object"||typeof U.name!="string")return!1;var y=!0;switch(U.name){case"XYZ":if(H!==5)return!1;break;case"Fit":case"FitB":return H===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(H!==3)return!1;break;case"FitR":if(H!==6)return!1;y=!1;break;default:return!1}for(var C=2;C<H;C++){var E=O[C];if(!(typeof E=="number"||y&&E===null))return!1}return!0}(g))return void this.goToDestination(g);console.error('PDFLinkService.setHash: "'.concat(unescape(T),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(T){switch(T){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:T})}},{key:"cachePageRef",value:function(T,x){if(x){var g=x.gen===0?"".concat(x.num,"R"):"".concat(x.num,"R").concat(x.gen);this._pagesRefCache[g]=T}}},{key:"_cachedPageNumber",value:function(T){var x,g=T.gen===0?"".concat(T.num,"R"):"".concat(T.num,"R").concat(T.gen);return((x=this._pagesRefCache)===null||x===void 0?void 0:x[g])||null}},{key:"isPageVisible",value:function(T){return this.pdfViewer.isPageVisible(T)}},{key:"isPageCached",value:function(T){return this.pdfViewer.isPageCached(T)}}]),D}();u.PDFLinkService=k;var A=function(){function D(){M(this,D),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}var P;return w(D,[{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(T){}},{key:"rotation",get:function(){return 0},set:function(T){}},{key:"goToDestination",value:(P=z(_.default.mark(function T(x){return _.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:case"end":return g.stop()}},T)})),function(T){return P.apply(this,arguments)})},{key:"goToPage",value:function(T){}},{key:"getDestinationHash",value:function(T){return"#"}},{key:"getAnchorUrl",value:function(T){return"#"}},{key:"setHash",value:function(T){}},{key:"executeNamedAction",value:function(T){}},{key:"cachePageRef",value:function(T,x){}},{key:"isPageVisible",value:function(T){return!0}},{key:"isPageCached",value:function(T){return!0}}]),D}();u.SimpleLinkService=A},(l,u)=>{function m(f,d){var v=typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(!v){if(Array.isArray(f)||(v=L(f))||d&&f&&typeof f.length=="number"){v&&(f=v);var c=0,O=function(){};return{s:O,n:function(){return c>=f.length?{done:!0}:{done:!1,value:f[c++]}},e:function(y){throw y},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,N=!0,U=!1;return{s:function(){v=v.call(f)},n:function(){var y=v.next();return N=y.done,y},e:function(y){U=!0,H=y},f:function(){try{N||v.return==null||v.return()}finally{if(U)throw H}}}}function b(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function _(f,d){for(var v=0;v<d.length;v++){var c=d[v];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function I(f,d,v){return d&&_(f.prototype,d),v&&_(f,v),f}function j(f){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},j(f)}function L(f,d){if(f){if(typeof f=="string")return z(f,d);var v=Object.prototype.toString.call(f).slice(8,-1);return v==="Object"&&f.constructor&&(v=f.constructor.name),v==="Map"||v==="Set"?Array.from(f):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?z(f,d):void 0}}function z(f,d){(d==null||d>f.length)&&(d=f.length);for(var v=0,c=new Array(d);v<d;v++)c[v]=f[v];return c}Object.defineProperty(u,"__esModule",{value:!0}),u.apiPageLayoutToSpreadMode=function(f){switch(f){case"SinglePage":case"OneColumn":return w.NONE;case"TwoColumnLeft":case"TwoPageLeft":return w.ODD;case"TwoColumnRight":case"TwoPageRight":return w.EVEN}return w.NONE},u.apiPageModeToSidebarView=function(f){switch(f){case"UseNone":return M.NONE;case"UseThumbs":return M.THUMBS;case"UseOutlines":return M.OUTLINE;case"UseAttachments":return M.ATTACHMENTS;case"UseOC":return M.LAYERS}return M.NONE},u.approximateFraction=function(f){if(Math.floor(f)===f)return[f,1];var d=1/f;if(d>8)return[1,8];if(Math.floor(d)===d)return[1,d];for(var v=f>1?d:f,c=0,O=1,H=1,N=1;;){var U=c+H,y=O+N;if(y>8)break;v<=U/y?(H=U,N=y):(c=U,O=y)}return v-c/O<H/N-v?v===f?[c,O]:[O,c]:v===f?[H,N]:[N,H]},u.backtrackBeforeAllVisibleElements=A,u.binarySearchFirstItem=k,u.getActiveOrFocusedElement=function(){for(var f=document,d=f.activeElement||f.querySelector(":focus");(v=d)!==null&&v!==void 0&&v.shadowRoot;){var v;f=d.shadowRoot,d=f.activeElement||f.querySelector(":focus")}return d},u.getOutputScale=function(f){var d=window.devicePixelRatio||1,v=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.backingStorePixelRatio||1,c=d/v;return{sx:c,sy:c,scaled:c!==1}},u.getPageSizeInches=function(f){var d,v,c=f.view,O=f.userUnit,H=f.rotate,N=(v=4,function(q){if(Array.isArray(q))return q}(d=c)||function(q,ne){var ie=q&&(typeof Symbol!="undefined"&&q[Symbol.iterator]||q["@@iterator"]);if(ie!=null){var ee,te,se=[],le=!0,de=!1;try{for(ie=ie.call(q);!(le=(ee=ie.next()).done)&&(se.push(ee.value),!ne||se.length!==ne);le=!0);}catch(oe){de=!0,te=oe}finally{try{le||ie.return==null||ie.return()}finally{if(de)throw te}}return se}}(d,v)||L(d,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),U=N[0],y=N[1],C=N[2],E=N[3],F=H%180!=0,X=(C-U)/72*O,G=(E-y)/72*O;return{width:F?G:X,height:F?X:G}},u.getVisibleElements=function(f){var d=f.scrollEl,v=f.views,c=f.sortByVisibility,O=c!==void 0&&c,H=f.horizontal,N=H!==void 0&&H,U=f.rtl,y=U!==void 0&&U,C=d.scrollTop,E=C+d.clientHeight,F=d.scrollLeft,X=F+d.clientWidth,G=[],q=v.length,ne=k(v,N?function(me){var ve=me.div,he=ve.offsetLeft+ve.clientLeft,ge=he+ve.clientWidth;return y?he<X:ge>F}:function(me){var ve=me.div;return ve.offsetTop+ve.clientTop+ve.clientHeight>C});ne>0&&ne<q&&!N&&(ne=A(ne,v,C));for(var ie=N?X:-1,ee=ne;ee<q;ee++){var te=v[ee],se=te.div,le=se.offsetLeft+se.clientLeft,de=se.offsetTop+se.clientTop,oe=se.clientWidth,B=se.clientHeight,J=le+oe,Y=de+B;if(ie===-1)Y>=E&&(ie=Y);else if((N?le:de)>ie)break;if(!(Y<=C||de>=E||J<=F||le>=X)){var K=Math.max(0,C-de)+Math.max(0,Y-E),Z=Math.max(0,F-le)+Math.max(0,J-X),Q=(oe-Z)/oe,ue=(B-K)/B*Q*100|0;G.push({id:te.id,x:le,y:de,view:te,percent:ue,widthPercent:100*Q|0})}}var ce=G[0],ae=G[G.length-1];return O&&G.sort(function(me,ve){var he=me.percent-ve.percent;return Math.abs(he)>.001?-he:me.id-ve.id}),{first:ce,last:ae,views:G}},u.isPortraitOrientation=function(f){return f.width<=f.height},u.isValidRotation=function(f){return Number.isInteger(f)&&f%90==0},u.isValidScrollMode=function(f){return Number.isInteger(f)&&Object.values(R).includes(f)&&f!==R.UNKNOWN},u.isValidSpreadMode=function(f){return Number.isInteger(f)&&Object.values(w).includes(f)&&f!==w.UNKNOWN},u.moveToEndOfArray=function(f,d){for(var v=[],c=f.length,O=0,H=0;H<c;++H)d(f[H])?v.push(f[H]):(f[O]=f[H],++O);for(var N=0;O<c;++N,++O)f[O]=v[N]},u.noContextMenuHandler=function(f){f.preventDefault()},u.normalizeWheelEventDelta=function(f){var d=D(f);return f.deltaMode===0?d/=900:f.deltaMode===1&&(d/=30),d},u.normalizeWheelEventDirection=D,u.parseQueryString=function(f){for(var d=f.split("&"),v=Object.create(null),c=0,O=d.length;c<O;++c){var H=d[c].split("="),N=H[0].toLowerCase(),U=H.length>1?H[1]:null;v[decodeURIComponent(N)]=decodeURIComponent(U)}return v},u.roundToDivide=function(f,d){var v=f%d;return v===0?f:Math.round(f-v+d)},u.scrollIntoView=function(f,d){var v=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=f.offsetParent;if(c){for(var O=f.offsetTop+f.clientTop,H=f.offsetLeft+f.clientLeft;c.clientHeight===c.scrollHeight&&c.clientWidth===c.scrollWidth||v&&getComputedStyle(c).overflow==="hidden";)if(c.dataset._scaleY&&(O/=c.dataset._scaleY,H/=c.dataset._scaleX),O+=c.offsetTop,H+=c.offsetLeft,!(c=c.offsetParent))return;d&&(d.top!==void 0&&(O+=d.top),d.left!==void 0&&(H+=d.left,c.scrollLeft=H)),c.scrollTop=O}else console.error("offsetParent is not set -- cannot scroll")},u.waitOnEventOrTimeout=function(f){var d=f.target,v=f.name,c=f.delay,O=c===void 0?0:c;return new Promise(function(H,N){if(j(d)!=="object"||!v||typeof v!="string"||!(Number.isInteger(O)&&O>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function U(F){d instanceof x?d._off(v,y):d.removeEventListener(v,y),E&&clearTimeout(E),H(F)}var y=U.bind(null,P.EVENT);d instanceof x?d._on(v,y):d.addEventListener(v,y);var C=U.bind(null,P.TIMEOUT),E=setTimeout(C,O)})},u.watchScroll=function(f,d){var v=function(H){O||(O=window.requestAnimationFrame(function(){O=null;var N=f.scrollLeft,U=c.lastX;N!==U&&(c.right=N>U),c.lastX=N;var y=f.scrollTop,C=c.lastY;y!==C&&(c.down=y>C),c.lastY=y,d(c)}))},c={right:!0,down:!0,lastX:f.scrollLeft,lastY:f.scrollTop,_eventHandler:v},O=null;return f.addEventListener("scroll",v,!0),c},u.WaitOnType=u.VERTICAL_PADDING=u.UNKNOWN_SCALE=u.TextLayerMode=u.SpreadMode=u.SidebarView=u.ScrollMode=u.SCROLLBAR_PADDING=u.RendererType=u.ProgressBar=u.PresentationModeState=u.MIN_SCALE=u.MAX_SCALE=u.MAX_AUTO_SCALE=u.EventBus=u.DEFAULT_SCALE_VALUE=u.DEFAULT_SCALE=u.CSS_UNITS=u.AutoPrintRegExp=u.animationStarted=void 0,u.CSS_UNITS=1.3333333333333333,u.DEFAULT_SCALE_VALUE="auto",u.DEFAULT_SCALE=1,u.MIN_SCALE=.1,u.MAX_SCALE=10,u.UNKNOWN_SCALE=0,u.MAX_AUTO_SCALE=1.25,u.SCROLLBAR_PADDING=40,u.VERTICAL_PADDING=5,u.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var M={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};u.SidebarView=M,u.RendererType={CANVAS:"canvas",SVG:"svg"},u.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var R={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};u.ScrollMode=R;var w={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function k(f,d){var v=0,c=f.length-1;if(c<0||!d(f[c]))return f.length;if(d(f[v]))return v;for(;v<c;){var O=v+c>>1;d(f[O])?c=O:v=O+1}return v}function A(f,d,v){if(f<2)return f;var c=d[f].div,O=c.offsetTop+c.clientTop;O>=v&&(O=(c=d[f-1].div).offsetTop+c.clientTop);for(var H=f-2;H>=0&&!((c=d[H].div).offsetTop+c.clientTop+c.clientHeight<=O);--H)f=H;return f}function D(f){var d=Math.hypot(f.deltaX,f.deltaY),v=Math.atan2(f.deltaY,f.deltaX);return-.25*Math.PI<v&&v<.75*Math.PI&&(d=-d),d}u.SpreadMode=w,u.AutoPrintRegExp=/\bprint\s*\(/;var P={EVENT:"event",TIMEOUT:"timeout"};u.WaitOnType=P;var T=new Promise(function(f){window.requestAnimationFrame(f)});u.animationStarted=T;var x=function(){function f(d){b(this,f),this._listeners=Object.create(null)}return I(f,[{key:"on",value:function(d,v){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._on(d,v,{external:!0,once:c==null?void 0:c.once})}},{key:"off",value:function(d,v){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._off(d,v,{external:!0,once:c==null?void 0:c.once})}},{key:"dispatch",value:function(d){var v=this._listeners[d];if(v&&v.length!==0){var c,O,H=Array.prototype.slice.call(arguments,1),N=m(v.slice(0));try{for(N.s();!(O=N.n()).done;){var U=O.value,y=U.listener,C=U.external,E=U.once;E&&this._off(d,y),C?(c||(c=[])).push(y):y.apply(null,H)}}catch(q){N.e(q)}finally{N.f()}if(c){var F,X=m(c);try{for(X.s();!(F=X.n()).done;){var G=F.value;G.apply(null,H)}}catch(q){X.e(q)}finally{X.f()}c=null}}}},{key:"_on",value:function(d,v){var c,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,H=(c=this._listeners)[d]||(c[d]=[]);H.push({listener:v,external:(O==null?void 0:O.external)===!0,once:(O==null?void 0:O.once)===!0})}},{key:"_off",value:function(d,v){var c=this._listeners[d];if(c){for(var O=0,H=c.length;O<H;O++)if(c[O].listener===v)return void c.splice(O,1)}}}]),f}();u.EventBus=x;var g=function(){function f(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=v.height,O=v.width,H=v.units;b(this,f),this.visible=!0,this.div=document.querySelector(d+" .progress"),this.bar=this.div.parentNode,this.height=c||100,this.width=O||100,this.units=H||"%",this.div.style.height=this.height+this.units,this.percent=0}return I(f,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var d=this.width*this._percent/100;this.div.style.width=d+this.units}},{key:"percent",get:function(){return this._percent},set:function(d){var v,c,O;this._indeterminate=isNaN(d),this._percent=(v=d,c=0,O=100,Math.min(Math.max(v,c),O)),this._updateBar()}},{key:"setWidth",value:function(d){if(d){var v=d.parentNode.offsetWidth-d.offsetWidth;v>0&&document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(v,"px"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}},{key:"show",value:function(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}]),f}();u.ProgressBar=g},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextLayerBuilder=u.DefaultTextLayerFactory=void 0;var b=m(2);function _(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}function I(M,R){for(var w=0;w<R.length;w++){var k=R[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(M,k.key,k)}}function j(M,R,w){return R&&I(M.prototype,R),w&&I(M,w),M}var L=function(){function M(R){var w=R.textLayerDiv,k=R.eventBus,A=R.pageIndex,D=R.viewport,P=R.findController,T=P===void 0?null:P,x=R.enhanceTextSelection,g=x!==void 0&&x;_(this,M),this.textLayerDiv=w,this.eventBus=k,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=A,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=D,this.textDivs=[],this.findController=T,this.textLayerRenderTask=null,this.enhanceTextSelection=g,this._onUpdateTextLayerMatches=null,this._bindMouse()}return j(M,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var R=document.createElement("div");R.className="endOfContent",this.textLayerDiv.appendChild(R)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var R=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var k=document.createDocumentFragment();this.textLayerRenderTask=(0,b.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:k,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:w,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){R.textLayerDiv.appendChild(k),R._finishRendering(),R._updateMatches()},function(A){}),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(A){A.pageIndex!==R.pageIdx&&A.pageIndex!==-1||R._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(R){this.cancel(),this.textContentStream=R}},{key:"setTextContent",value:function(R){this.cancel(),this.textContent=R}},{key:"_convertMatches",value:function(R,w){if(!R)return[];for(var k=this.textContentItemsStr,A=0,D=0,P=k.length-1,T=[],x=0,g=R.length;x<g;x++){for(var f=R[x];A!==P&&f>=D+k[A].length;)D+=k[A].length,A++;A===k.length&&console.error("Could not find a matching mapping");var d={begin:{divIdx:A,offset:f-D}};for(f+=w[x];A!==P&&f>D+k[A].length;)D+=k[A].length,A++;d.end={divIdx:A,offset:f-D},T.push(d)}return T}},{key:"_renderMatches",value:function(R){if(R.length!==0){var w=this.findController,k=this.pageIdx,A=this.textContentItemsStr,D=this.textDivs,P=k===w.selected.pageIdx,T=w.selected.matchIdx,x=null,g={divIdx:-1,offset:void 0},f=T,d=f+1;if(w.state.highlightAll)f=0,d=R.length;else if(!P)return;for(var v=f;v<d;v++){var c=R[v],O=c.begin,H=c.end,N=P&&v===T,U=N?" selected":"";if(N&&w.scrollMatchIntoView({element:D[O.divIdx],pageIndex:k,matchIndex:T}),x&&O.divIdx===x.divIdx?F(x.divIdx,x.offset,O.offset):(x!==null&&F(x.divIdx,x.offset,g.offset),E(O)),O.divIdx===H.divIdx)F(O.divIdx,O.offset,H.offset,"highlight"+U);else{F(O.divIdx,O.offset,g.offset,"highlight begin"+U);for(var y=O.divIdx+1,C=H.divIdx;y<C;y++)D[y].className="highlight middle"+U;E(H,"highlight end"+U)}x=H}x&&F(x.divIdx,x.offset,g.offset)}function E(X,G){var q=X.divIdx;D[q].textContent="",F(q,0,X.offset,G)}function F(X,G,q,ne){var ie=D[X],ee=A[X].substring(G,q),te=document.createTextNode(ee);if(ne){var se=document.createElement("span");return se.className=ne,se.appendChild(te),void ie.appendChild(se)}ie.appendChild(te)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var R=this.findController,w=this.matches,k=this.pageIdx,A=this.textContentItemsStr,D=this.textDivs,P=-1,T=0,x=w.length;T<x;T++){for(var g=w[T],f=Math.max(P,g.begin.divIdx),d=g.end.divIdx;f<=d;f++){var v=D[f];v.textContent=A[f],v.className=""}P=g.end.divIdx+1}if(R!=null&&R.highlightMatches){var c=R.pageMatches[k]||null,O=R.pageMatchesLength[k]||null;this.matches=this._convertMatches(c,O),this._renderMatches(this.matches)}}}},{key:"_bindMouse",value:function(){var R=this,w=this.textLayerDiv,k=null;w.addEventListener("mousedown",function(A){if(R.enhanceTextSelection&&R.textLayerRenderTask)return R.textLayerRenderTask.expandTextDivs(!0),void(k&&(clearTimeout(k),k=null));var D=w.querySelector(".endOfContent");if(D){var P=A.target!==w;if(P=P&&window.getComputedStyle(D).getPropertyValue("-moz-user-select")!=="none"){var T=w.getBoundingClientRect(),x=Math.max(0,(A.pageY-T.top)/T.height);D.style.top=(100*x).toFixed(2)+"%"}D.classList.add("active")}}),w.addEventListener("mouseup",function(){if(R.enhanceTextSelection&&R.textLayerRenderTask)k=setTimeout(function(){R.textLayerRenderTask&&R.textLayerRenderTask.expandTextDivs(!1),k=null},300);else{var A=w.querySelector(".endOfContent");A&&(A.style.top="",A.classList.remove("active"))}})}}]),M}();u.TextLayerBuilder=L;var z=function(){function M(){_(this,M)}return j(M,[{key:"createTextLayerBuilder",value:function(R,w,k){var A=arguments.length>3&&arguments[3]!==void 0&&arguments[3],D=arguments.length>4?arguments[4]:void 0;return new L({textLayerDiv:R,pageIndex:w,viewport:k,enhanceTextSelection:A,eventBus:D})}}]),M}();u.DefaultTextLayerFactory=z},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DownloadManager=void 0;var b=m(2),_=m(10);function I(z,M){for(var R=0;R<M.length;R++){var w=M[R];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(z,w.key,w)}}function j(z,M){var R=document.createElement("a");if(!R.click)throw new Error('DownloadManager: "a.click()" is not supported.');R.href=z,R.target="_parent","download"in R&&(R.download=M),(document.body||document.documentElement).appendChild(R),R.click(),R.remove()}var L=function(){function z(){(function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")})(this,z),this._openBlobUrls=new WeakMap}var M,R;return M=z,(R=[{key:"downloadUrl",value:function(w,k){(0,b.createValidAbsoluteUrl)(w,"http://example.com")&&j(w+"#pdfjs.action=download",k)}},{key:"downloadData",value:function(w,k,A){j((0,b.createObjectURL)(w,A,_.viewerCompatibilityParams.disableCreateObjectURL),k)}},{key:"openOrDownloadData",value:function(w,k,A){var D=(0,b.isPdfFile)(A),P=D?"application/pdf":"";if(D&&!_.viewerCompatibilityParams.disableCreateObjectURL){var T,x=this._openBlobUrls.get(w);x||(x=URL.createObjectURL(new Blob([k],{type:P})),this._openBlobUrls.set(w,x)),T="?file="+encodeURIComponent(x+"#"+A);try{return window.open(T),!0}catch(g){console.error("openOrDownloadData: ".concat(g)),URL.revokeObjectURL(x),this._openBlobUrls.delete(w)}}return this.downloadData(k,A,P),!1}},{key:"download",value:function(w,k,A){if(_.viewerCompatibilityParams.disableCreateObjectURL)this.downloadUrl(k,A);else{var D=URL.createObjectURL(w);j(D,A)}}}])&&I(M.prototype,R),z}();u.DownloadManager=L},(l,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.viewerCompatibilityParams=void 0;var m=Object.create(null),b=typeof navigator!="undefined"&&navigator.userAgent||"",_=typeof navigator!="undefined"&&navigator.platform||"",I=typeof navigator!="undefined"&&navigator.maxTouchPoints||1,j=/Android/.test(b),L=/\b(iPad|iPhone|iPod)(?=;)/.test(b)||_==="MacIntel"&&I>1;/CriOS/.test(b)&&(m.disableCreateObjectURL=!0),(L||j)&&(m.maxCanvasPixels=5242880);var z=Object.freeze(m);u.viewerCompatibilityParams=z},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GenericL10n=void 0;var b,_=(b=m(4))&&b.__esModule?b:{default:b};m(12);var I=m(3);function j(w,k,A,D,P,T,x){try{var g=w[T](x),f=g.value}catch(d){return void A(d)}g.done?k(f):Promise.resolve(f).then(D,P)}function L(w){return function(){var k=this,A=arguments;return new Promise(function(D,P){var T=w.apply(k,A);function x(f){j(T,D,P,x,g,"next",f)}function g(f){j(T,D,P,x,g,"throw",f)}x(void 0)})}}function z(w,k){for(var A=0;A<k.length;A++){var D=k[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}var M=document.webL10n,R=function(){function w(g){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,w),this._lang=g,this._ready=new Promise(function(f,d){M.setLanguage(g,function(){f(M)})})}var k,A,D,P,T,x;return k=w,A=[{key:"getLanguage",value:(x=L(_.default.mark(function g(){var f;return _.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this._ready;case 2:return f=d.sent,d.abrupt("return",f.getLanguage());case 4:case"end":return d.stop()}},g,this)})),function(){return x.apply(this,arguments)})},{key:"getDirection",value:(T=L(_.default.mark(function g(){var f;return _.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this._ready;case 2:return f=d.sent,d.abrupt("return",f.getDirection());case 4:case"end":return d.stop()}},g,this)})),function(){return T.apply(this,arguments)})},{key:"get",value:(P=L(_.default.mark(function g(f){var d,v,c,O=arguments;return _.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return d=O.length>1&&O[1]!==void 0?O[1]:null,v=O.length>2&&O[2]!==void 0?O[2]:(0,I.getL10nFallback)(f,d),H.next=4,this._ready;case 4:return c=H.sent,H.abrupt("return",c.get(f,d,v));case 6:case"end":return H.stop()}},g,this)})),function(g){return P.apply(this,arguments)})},{key:"translate",value:(D=L(_.default.mark(function g(f){var d;return _.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this._ready;case 2:return d=v.sent,v.abrupt("return",d.translate(f));case 4:case"end":return v.stop()}},g,this)})),function(g){return D.apply(this,arguments)})}],A&&z(k.prototype,A),w}();u.GenericL10n=R},()=>{document.webL10n=function(l,u,m){var b={},_="",I="textContent",j="",L={},z="loading";function M(T,x,g){x=x||function(d){},g=g||function(){};var f=new XMLHttpRequest;f.open("GET",T,!0),f.overrideMimeType&&f.overrideMimeType("text/plain; charset=utf-8"),f.onreadystatechange=function(){f.readyState==4&&(f.status==200||f.status===0?x(f.responseText):g())},f.onerror=g,f.ontimeout=g;try{f.send(null)}catch{g()}}function R(T,x,g,f){var d=T.replace(/[^\/]*$/,"")||"./";function v(c){return c.lastIndexOf("\\")<0?c:c.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}M(T,function(c){_+=c,function(O,H){var N={},U=/^\s*|\s*$/,y=/^\s*#|^\s*$/,C=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,F=/^([^=\s]*)\s*=\s*(.+)$/;function X(q,ne,ie){var ee=q.replace(U,"").split(/[\r\n]+/),te="*",se=x.split("-",1)[0],le=!1,de="";(function oe(){for(;;){if(!ee.length)return void ie();var B=ee.shift();if(!y.test(B)){if(ne){if(de=C.exec(B)){te=de[1].toLowerCase(),le=te!=="*"&&te!==x&&te!==se;continue}if(le)continue;if(de=E.exec(B))return void G(d+de[1],oe)}var J=B.match(F);J&&J.length==3&&(N[J[1]]=v(J[2]))}}})()}function G(q,ne){M(q,function(ie){X(ie,!1,ne)},function(){console.warn(q+" not found."),ne()})}X(O,!0,function(){H(N)})}(c,function(O){for(var H in O){var N,U,y=H.lastIndexOf(".");y>0?(N=H.substring(0,y),U=H.substring(y+1)):(N=H,U=I),b[N]||(b[N]={}),b[N][U]=O[H]}g&&g()})},f)}function w(T,x){T&&(T=T.toLowerCase()),x=x||function(){},b={},_="",j="",j=T;var g=u.querySelectorAll('link[type="application/l10n"]'),f=g.length;if(f!==0){var d,v,c=0;v=function(){++c>=f&&(x(),z="complete")};for(var O=0;O<f;O++)new y(g[O]).load(T,v)}else{var H=(d=u.querySelector('script[type="application/l10n"]'))?JSON.parse(d.innerHTML):null;if(H&&H.locales&&H.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(b=H.locales[T])){var N=H.default_locale.toLowerCase();for(var U in H.locales){if((U=U.toLowerCase())===T){b=H.locales[T];break}U===N&&(b=H.locales[N])}}x()}else console.log("no resource to load, early way out");z="complete"}function y(C){var E=C.href;this.load=function(F,X){R(E,F,X,function(){console.warn(E+" not found."),console.warn('"'+F+'" resource not found'),j="",X()})}}}function k(T,x,g){var f=b[T];if(!f){if(console.warn("#"+T+" is undefined."),!g)return null;f=g}var d={};for(var v in f){var c=f[v];c=D(c=A(c,x,T,v),x,T),d[v]=c}return d}function A(T,x,g,f){var d=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(T);if(!d||!d.length)return T;var v,c=d[1],O=d[2];return x&&O in x?v=x[O]:O in b&&(v=b[O]),c in L&&(T=(0,L[c])(T,v,g,f)),T}function D(T,x,g){return T.replace(/\{\{\s*(.+?)\s*\}\}/g,function(f,d){return x&&d in x?x[d]:d in b?b[d]:(console.log("argument {{"+d+"}} for #"+g+" is undefined."),f)})}function P(T){var x=function(N){if(!N)return{};var U=N.getAttribute("data-l10n-id"),y=N.getAttribute("data-l10n-args"),C={};if(y)try{C=JSON.parse(y)}catch{console.warn("could not parse arguments for #"+U)}return{id:U,args:C}}(T);if(x.id){var g=k(x.id,x.args);if(g){if(g[I]){if(function(N){if(N.children)return N.children.length;if(N.childElementCount!==void 0)return N.childElementCount;for(var U=0,y=0;y<N.childNodes.length;y++)U+=N.nodeType===1?1:0;return U}(T)===0)T[I]=g[I];else{for(var f=T.childNodes,d=!1,v=0,c=f.length;v<c;v++)f[v].nodeType===3&&/\S/.test(f[v].nodeValue)&&(d?f[v].nodeValue="":(f[v].nodeValue=g[I],d=!0));if(!d){var O=u.createTextNode(g[I]);T.insertBefore(O,T.firstChild)}}delete g[I]}for(var H in g)T[H]=g[H]}else console.warn("#"+x.id+" is undefined.")}}return L.plural=function(T,x,g,f){var d=parseFloat(x);if(isNaN(d)||f!=I)return T;L._pluralRules||(L._pluralRules=function(c){function O(y,C){return C.indexOf(y)!==-1}function H(y,C,E){return C<=y&&y<=E}var N={0:function(y){return"other"},1:function(y){return H(y%100,3,10)?"few":y===0?"zero":H(y%100,11,99)?"many":y==2?"two":y==1?"one":"other"},2:function(y){return y!==0&&y%10==0?"many":y==2?"two":y==1?"one":"other"},3:function(y){return y==1?"one":"other"},4:function(y){return H(y,0,1)?"one":"other"},5:function(y){return H(y,0,2)&&y!=2?"one":"other"},6:function(y){return y===0?"zero":y%10==1&&y%100!=11?"one":"other"},7:function(y){return y==2?"two":y==1?"one":"other"},8:function(y){return H(y,3,6)?"few":H(y,7,10)?"many":y==2?"two":y==1?"one":"other"},9:function(y){return y===0||y!=1&&H(y%100,1,19)?"few":y==1?"one":"other"},10:function(y){return H(y%10,2,9)&&!H(y%100,11,19)?"few":y%10!=1||H(y%100,11,19)?"other":"one"},11:function(y){return H(y%10,2,4)&&!H(y%100,12,14)?"few":y%10==0||H(y%10,5,9)||H(y%100,11,14)?"many":y%10==1&&y%100!=11?"one":"other"},12:function(y){return H(y,2,4)?"few":y==1?"one":"other"},13:function(y){return H(y%10,2,4)&&!H(y%100,12,14)?"few":y!=1&&H(y%10,0,1)||H(y%10,5,9)||H(y%100,12,14)?"many":y==1?"one":"other"},14:function(y){return H(y%100,3,4)?"few":y%100==2?"two":y%100==1?"one":"other"},15:function(y){return y===0||H(y%100,2,10)?"few":H(y%100,11,19)?"many":y==1?"one":"other"},16:function(y){return y%10==1&&y!=11?"one":"other"},17:function(y){return y==3?"few":y===0?"zero":y==6?"many":y==2?"two":y==1?"one":"other"},18:function(y){return y===0?"zero":H(y,0,2)&&y!==0&&y!=2?"one":"other"},19:function(y){return H(y,2,10)?"few":H(y,0,1)?"one":"other"},20:function(y){return!H(y%10,3,4)&&y%10!=9||H(y%100,10,19)||H(y%100,70,79)||H(y%100,90,99)?y%1e6==0&&y!==0?"many":y%10!=2||O(y%100,[12,72,92])?y%10!=1||O(y%100,[11,71,91])?"other":"one":"two":"few"},21:function(y){return y===0?"zero":y==1?"one":"other"},22:function(y){return H(y,0,1)||H(y,11,99)?"one":"other"},23:function(y){return H(y%10,1,2)||y%20==0?"one":"other"},24:function(y){return H(y,3,10)||H(y,13,19)?"few":O(y,[2,12])?"two":O(y,[1,11])?"one":"other"}},U={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[c.replace(/-.*$/,"")];return U in N?N[U]:(console.warn("plural form unknown for ["+c+"]"),function(){return"other"})}(j));var v="["+L._pluralRules(d)+"]";return d===0&&g+"[zero]"in b?T=b[g+"[zero]"][f]:d==1&&g+"[one]"in b?T=b[g+"[one]"][f]:d==2&&g+"[two]"in b?T=b[g+"[two]"][f]:g+v in b?T=b[g+v][f]:g+"[other]"in b&&(T=b[g+"[other]"][f]),T},{get:function(T,x,g){var f,d=T.lastIndexOf("."),v=I;d>0&&(v=T.substring(d+1),T=T.substring(0,d)),g&&((f={})[v]=g);var c=k(T,x,f);return c&&v in c?c[v]:"{{"+T+"}}"},getData:function(){return b},getText:function(){return _},getLanguage:function(){return j},setLanguage:function(T,x){w(T,function(){x&&x()})},getDirection:function(){var T=j.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(T)>=0?"rtl":"ltr"},translate:function(T){for(var x=function(d){return d?d.querySelectorAll("*[data-l10n-id]"):[]}(T=T||u.documentElement),g=x.length,f=0;f<g;f++)P(x[f]);P(T)},getReadyState:function(){return z},ready:function(T){T&&(z=="complete"||z=="interactive"?l.setTimeout(function(){T()}):u.addEventListener&&u.addEventListener("localized",function x(){u.removeEventListener("localized",x),T()}))}}}(window,document)},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFFindController=u.FindState=void 0;var b=m(2),_=m(14),I=m(7);function j(x,g){for(var f=0;f<g.length;f++){var d=g[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(x,d.key,d)}}function L(x,g){return function(f){if(Array.isArray(f))return f}(x)||function(f,d){var v=f&&(typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"]);if(v!=null){var c,O,H=[],N=!0,U=!1;try{for(v=v.call(f);!(N=(c=v.next()).done)&&(H.push(c.value),!d||H.length!==d);N=!0);}catch(y){U=!0,O=y}finally{try{N||v.return==null||v.return()}finally{if(U)throw O}}return H}}(x,g)||M(x,g)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z(x,g){var f=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!f){if(Array.isArray(x)||(f=M(x))||g&&x&&typeof x.length=="number"){f&&(x=f);var d=0,v=function(){};return{s:v,n:function(){return d>=x.length?{done:!0}:{done:!1,value:x[d++]}},e:function(N){throw N},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,O=!0,H=!1;return{s:function(){f=f.call(x)},n:function(){var N=f.next();return O=N.done,N},e:function(N){H=!0,c=N},f:function(){try{O||f.return==null||f.return()}finally{if(H)throw c}}}}function M(x,g){if(x){if(typeof x=="string")return R(x,g);var f=Object.prototype.toString.call(x).slice(8,-1);return f==="Object"&&x.constructor&&(f=x.constructor.name),f==="Map"||f==="Set"?Array.from(x):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?R(x,g):void 0}}function R(x,g){(g==null||g>x.length)&&(g=x.length);for(var f=0,d=new Array(g);f<g;f++)d[f]=x[f];return d}var w={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};u.FindState=w;var k={"\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},A=null;function D(x){if(!A){var g=Object.keys(k).join("");A=new RegExp("[".concat(g,"]"),"g")}var f=null;return[x.replace(A,function(d,v){var c=k[d],O=c.length-d.length;return O!==0&&(f||(f=[])).push([v,O]),c}),f]}function P(x){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!g)return x;var f,d=0,v=z(g);try{for(v.s();!(f=v.n()).done;){var c=L(f.value,2),O=c[0],H=c[1],N=O+d;if(N>=x)break;if(N+H>x){d+=x-N;break}d+=H}}catch(U){v.e(U)}finally{v.f()}return x-d}var T=function(){function x(d){var v=d.linkService,c=d.eventBus;(function(O,H){if(!(O instanceof H))throw new TypeError("Cannot call a class as a function")})(this,x),this._linkService=v,this._eventBus=c,this._reset(),c._on("findbarclose",this._onFindBarClose.bind(this))}var g,f;return g=x,f=[{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"setDocument",value:function(d){this._pdfDocument&&this._reset(),d&&(this._pdfDocument=d,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(d,v){var c=this;if(v){var O=this._pdfDocument;(this._state===null||this._shouldDirtyMatch(d,v))&&(this._dirtyMatch=!0),this._state=v,d!=="findhighlightallchange"&&this._updateUIState(w.PENDING),this._firstPageCapability.promise.then(function(){if(c._pdfDocument&&(!O||c._pdfDocument===O)){c._extractText();var H=!c._highlightMatches,N=!!c._findTimeout;c._findTimeout&&(clearTimeout(c._findTimeout),c._findTimeout=null),d==="find"?c._findTimeout=setTimeout(function(){c._nextMatch(),c._findTimeout=null},250):c._dirtyMatch?c._nextMatch():d==="findagain"?(c._nextMatch(),H&&c._state.highlightAll&&c._updateAllPages()):d==="findhighlightallchange"?(N?c._nextMatch():c._highlightMatches=!0,c._updateAllPages()):c._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(d){var v=d.element,c=v===void 0?null:v,O=d.pageIndex,H=O===void 0?-1:O,N=d.matchIndex,U=N===void 0?-1:N;if(this._scrollMatches&&c&&U!==-1&&U===this._selected.matchIdx&&H!==-1&&H===this._selected.pageIdx){this._scrollMatches=!1;var y={top:-50,left:-400};(0,I.scrollIntoView)(c,y,!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,b.createPromiseCapability)()}},{key:"_query",get:function(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var d=L(D(this._state.query),1);this._normalizedQuery=d[0]}return this._normalizedQuery}},{key:"_shouldDirtyMatch",value:function(d,v){if(v.query!==this._state.query)return!0;switch(d){case"findagain":var c=this._selected.pageIdx+1,O=this._linkService;return c>=1&&c<=O.pagesCount&&c!==O.page&&!O.isPageVisible(c);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(d,v,c){function O(U){var y=d[U],C=d[U+1];if(U<d.length-1&&y.match===C.match)return y.skipped=!0,!0;for(var E=U-1;E>=0;E--){var F=d[E];if(!F.skipped){if(F.match+F.matchLength<y.match)break;if(F.match+F.matchLength>=y.match+y.matchLength)return y.skipped=!0,!0}}return!1}d.sort(function(U,y){return U.match===y.match?U.matchLength-y.matchLength:U.match-y.match});for(var H=0,N=d.length;H<N;H++)O(H)||(v.push(d[H].match),c.push(d[H].matchLength))}},{key:"_isEntireWord",value:function(d,v,c){if(v>0){var O=d.charCodeAt(v),H=d.charCodeAt(v-1);if((0,_.getCharacterType)(O)===(0,_.getCharacterType)(H))return!1}var N=v+c-1;if(N<d.length-1){var U=d.charCodeAt(N),y=d.charCodeAt(N+1);if((0,_.getCharacterType)(U)===(0,_.getCharacterType)(y))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(d,v,c,O,H){for(var N=[],U=[],y=d.length,C=-y;(C=c.indexOf(d,C+y))!==-1;)if(!H||this._isEntireWord(c,C,y)){var E=P(C,O),F=P(C+y-1,O)-E+1;N.push(E),U.push(F)}this._pageMatches[v]=N,this._pageMatchesLength[v]=U}},{key:"_calculateWordMatch",value:function(d,v,c,O,H){for(var N=[],U=d.match(/\S+/g),y=0,C=U.length;y<C;y++)for(var E=U[y],F=E.length,X=-F;(X=c.indexOf(E,X+F))!==-1;)if(!H||this._isEntireWord(c,X,F)){var G=P(X,O),q=P(X+F-1,O)-G+1;N.push({match:G,matchLength:q,skipped:!1})}this._pageMatchesLength[v]=[],this._pageMatches[v]=[],this._prepareMatches(N,this._pageMatches[v],this._pageMatchesLength[v])}},{key:"_calculateMatch",value:function(d){var v=this._pageContents[d],c=this._pageDiffs[d],O=this._query,H=this._state,N=H.caseSensitive,U=H.entireWord,y=H.phraseSearch;if(O.length!==0){N||(v=v.toLowerCase(),O=O.toLowerCase()),y?this._calculatePhraseMatch(O,d,v,c,U):this._calculateWordMatch(O,d,v,c,U),this._state.highlightAll&&this._updatePage(d),this._resumePageIdx===d&&(this._resumePageIdx=null,this._nextPageMatch());var C=this._pageMatches[d].length;C>0&&(this._matchesCountTotal+=C,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var d=this;if(!(this._extractTextPromises.length>0))for(var v=Promise.resolve(),c=function(N,U){var y=(0,b.createPromiseCapability)();d._extractTextPromises[N]=y.promise,v=v.then(function(){return d._pdfDocument.getPage(N+1).then(function(C){return C.getTextContent({normalizeWhitespace:!0})}).then(function(C){for(var E=C.items,F=[],X=0,G=E.length;X<G;X++)F.push(E[X].str);var q=L(D(F.join("")),2);d._pageContents[N]=q[0],d._pageDiffs[N]=q[1],y.resolve(N)},function(C){console.error("Unable to get text content for page ".concat(N+1),C),d._pageContents[N]="",d._pageDiffs[N]=null,y.resolve(N)})})},O=0,H=this._linkService.pagesCount;O<H;O++)c(O)}},{key:"_updatePage",value:function(d){this._scrollMatches&&this._selected.pageIdx===d&&(this._linkService.page=d+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:d})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var d=this,v=this._state.findPrevious,c=this._linkService.page-1,O=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=c,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var H=0;H<O;H++)this._pendingFindMatches.has(H)||(this._pendingFindMatches.add(H),this._extractTextPromises[H].then(function(y){d._pendingFindMatches.delete(y),d._calculateMatch(y)}))}if(this._query!==""){if(!this._resumePageIdx){var N=this._offset;if(this._pagesToSearch=O,N.matchIdx!==null){var U=this._pageMatches[N.pageIdx].length;if(!v&&N.matchIdx+1<U||v&&N.matchIdx>0)return N.matchIdx=v?N.matchIdx-1:N.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(v)}this._nextPageMatch()}}else this._updateUIState(w.FOUND)}},{key:"_matchesReady",value:function(d){var v=this._offset,c=d.length,O=this._state.findPrevious;return c?(v.matchIdx=O?c-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(O),!!(v.wrapped&&(v.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");var d=null;do{var v=this._offset.pageIdx;if(!(d=this._pageMatches[v])){this._resumePageIdx=v;break}}while(!this._matchesReady(d))}},{key:"_advanceOffsetPage",value:function(d){var v=this._offset,c=this._linkService.pagesCount;v.pageIdx=d?v.pageIdx-1:v.pageIdx+1,v.matchIdx=null,this._pagesToSearch--,(v.pageIdx>=c||v.pageIdx<0)&&(v.pageIdx=d?c-1:0,v.wrapped=!0)}},{key:"_updateMatch",value:function(){var d=arguments.length>0&&arguments[0]!==void 0&&arguments[0],v=w.NOT_FOUND,c=this._offset.wrapped;if(this._offset.wrapped=!1,d){var O=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,v=c?w.WRAPPED:w.FOUND,O!==-1&&O!==this._selected.pageIdx&&this._updatePage(O)}this._updateUIState(v,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(d){var v=this,c=this._pdfDocument;this._firstPageCapability.promise.then(function(){!v._pdfDocument||c&&v._pdfDocument!==c||(v._findTimeout&&(clearTimeout(v._findTimeout),v._findTimeout=null),v._resumePageIdx&&(v._resumePageIdx=null,v._dirtyMatch=!0),v._updateUIState(w.FOUND),v._highlightMatches=!1,v._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var d=this._selected,v=d.pageIdx,c=d.matchIdx,O=0,H=this._matchesCountTotal;if(c!==-1){for(var N=0;N<v;N++){var U;O+=((U=this._pageMatches[N])===null||U===void 0?void 0:U.length)||0}O+=c+1}return(O<1||O>H)&&(O=H=0),{current:O,total:H}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(d,v){var c,O;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:d,previous:v,matchesCount:this._requestMatchesCount(),rawQuery:(c=(O=this._state)===null||O===void 0?void 0:O.query)!==null&&c!==void 0?c:null})}}],f&&j(g.prototype,f),x}();u.PDFFindController=T},(l,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.getCharacterType=function(b){return function(_){return _<11904}(b)?function(_){return(65408&_)==0}(b)?function(_){return _===32||_===9||_===13||_===10}(b)?m.SPACE:function(_){return _>=97&&_<=122||_>=65&&_<=90}(b)||function(_){return _>=48&&_<=57}(b)||b===95?m.ALPHA_LETTER:m.PUNCT:function(_){return(65408&_)==3584}(b)?m.THAI_LETTER:b===160?m.SPACE:m.ALPHA_LETTER:function(_){return _>=13312&&_<=40959||_>=63744&&_<=64255}(b)?m.HAN_LETTER:function(_){return _>=12448&&_<=12543}(b)?m.KATAKANA_LETTER:function(_){return _>=12352&&_<=12447}(b)?m.HIRAGANA_LETTER:function(_){return _>=65376&&_<=65439}(b)?m.HALFWIDTH_KATAKANA_LETTER:m.ALPHA_LETTER},u.CharacterType=void 0;var m={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};u.CharacterType=m},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.isDestArraysEqual=w,u.isDestHashesEqual=R,u.PDFHistory=void 0;var b=m(7);function _(k){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},_(k)}function I(k,A){return function(D){if(Array.isArray(D))return D}(k)||function(D,P){var T=D&&(typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"]);if(T!=null){var x,g,f=[],d=!0,v=!1;try{for(T=T.call(D);!(d=(x=T.next()).done)&&(f.push(x.value),!P||f.length!==P);d=!0);}catch(c){v=!0,g=c}finally{try{d||T.return==null||T.return()}finally{if(v)throw g}}return f}}(k,A)||function(D,P){if(D){if(typeof D=="string")return j(D,P);var T=Object.prototype.toString.call(D).slice(8,-1);return T==="Object"&&D.constructor&&(T=D.constructor.name),T==="Map"||T==="Set"?Array.from(D):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?j(D,P):void 0}}(k,A)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(k,A){(A==null||A>k.length)&&(A=k.length);for(var D=0,P=new Array(A);D<A;D++)P[D]=k[D];return P}function L(k,A){for(var D=0;D<A.length;D++){var P=A[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}function z(){return document.location.hash}var M=function(){function k(P){var T=this,x=P.linkService,g=P.eventBus;(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,k),this.linkService=x,this.eventBus=g,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(f){T._isViewerInPresentationMode=f.state!==b.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",function(){T._isPagesLoaded=!1,T.eventBus._on("pagesloaded",function(f){T._isPagesLoaded=!!f.pagesCount},{once:!0})})}var A,D;return A=k,D=[{key:"initialize",value:function(P){var T=P.fingerprint,x=P.resetHistory,g=x!==void 0&&x,f=P.updateUrl,d=f!==void 0&&f;if(T&&typeof T=="string"){this._initialized&&this.reset();var v=this._fingerprint!==""&&this._fingerprint!==T;this._fingerprint=T,this._updateUrl=d===!0,this._initialized=!0,this._bindEvents();var c=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=z(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(c,!0)||g){var O=this._parseCurrentHash(!0),H=O.hash,N=O.page,U=O.rotation;return!H||v||g?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:H,page:N,rotation:U},!0)}var y=c.destination;this._updateInternalState(y,c.uid,!0),y.rotation!==void 0&&(this._initialRotation=y.rotation),y.dest?(this._initialBookmark=JSON.stringify(y.dest),this._destination.page=null):y.hash?this._initialBookmark=y.hash:y.page&&(this._initialBookmark="page=".concat(y.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(P){var T=this,x=P.namedDest,g=x===void 0?null:x,f=P.explicitDest,d=P.pageNumber;if(this._initialized)if(g&&typeof g!="string")console.error("PDFHistory.push: "+'"'.concat(g,'" is not a valid namedDest parameter.'));else if(Array.isArray(f))if(this._isValidPage(d)||d===null&&!this._destination){var v=g||JSON.stringify(f);if(v){var c=!1;if(this._destination&&(R(this._destination.hash,v)||w(this._destination.dest,f))){if(this._destination.page)return;c=!0}this._popStateInProgress&&!c||(this._pushOrReplaceState({dest:f,hash:v,page:d,rotation:this.linkService.rotation},c),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){T._popStateInProgress=!1})))}}else console.error("PDFHistory.push: "+'"'.concat(d,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(f,'" is not a valid explicitDest parameter.'))}},{key:"pushPage",value:function(P){var T,x=this;this._initialized&&(this._isValidPage(P)?((T=this._destination)===null||T===void 0?void 0:T.page)!==P&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:"page=".concat(P),page:P,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){x._popStateInProgress=!1})))):console.error('PDFHistory.pushPage: "'.concat(P,'" is not a valid page number.')))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var P=window.history.state;this._isValidState(P)&&P.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var P=window.history.state;this._isValidState(P)&&P.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}},{key:"_pushOrReplaceState",value:function(P){var T,x=arguments.length>1&&arguments[1]!==void 0&&arguments[1],g=x||!this._destination,f={fingerprint:this._fingerprint,uid:g?this._uid:this._uid+1,destination:P};if(this._updateInternalState(P,f.uid),this._updateUrl&&P!=null&&P.hash){var d=document.location.href.split("#")[0];d.startsWith("file://")||(T="".concat(d,"#").concat(P.hash))}g?window.history.replaceState(f,"",T):window.history.pushState(f,"",T)}},{key:"_tryPushCurrentPosition",value:function(){var P=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this._position){var T=this._position;if(P&&((T=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(T,!0);else if(this._destination.hash!==T.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var x=!1;if(this._destination.page>=T.first&&this._destination.page<=T.page){if(this._destination.dest!==void 0||!this._destination.first)return;x=!0}this._pushOrReplaceState(T,x)}}else this._pushOrReplaceState(T)}}},{key:"_isValidPage",value:function(P){return Number.isInteger(P)&&P>0&&P<=this.linkService.pagesCount}},{key:"_isValidState",value:function(P){var T=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!P)return!1;if(P.fingerprint!==this._fingerprint){if(!T||typeof P.fingerprint!="string"||P.fingerprint.length!==this._fingerprint.length)return!1;var x=performance.getEntriesByType("navigation"),g=I(x,1),f=g[0];if((f==null?void 0:f.type)!=="reload")return!1}return!(!Number.isInteger(P.uid)||P.uid<0)&&P.destination!==null&&_(P.destination)==="object"}},{key:"_updateInternalState",value:function(P,T){var x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),x&&P!=null&&P.temporary&&delete P.temporary,this._destination=P,this._uid=T,this._maxUid=Math.max(this._maxUid,T),this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var P=arguments.length>0&&arguments[0]!==void 0&&arguments[0],T=unescape(z()).substring(1),x=(0,b.parseQueryString)(T),g=x.nameddest||"",f=0|x.page;return(!this._isValidPage(f)||P&&g.length>0)&&(f=null),{hash:T,page:f,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(P){var T=this,x=P.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(x.pageNumber):x.pdfOpenParams.substring(1),page:this.linkService.page,first:x.pageNumber,rotation:x.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){T._popStateInProgress||T._tryPushCurrentPosition(!0),T._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(P){var T=this,x=P.state,g=z(),f=this._currentHash!==g;if(this._currentHash=g,x){if(this._isValidState(x)){this._popStateInProgress=!0,f&&(this._blockHashChange++,(0,b.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){T._blockHashChange--}));var d=x.destination;this._updateInternalState(d,x.uid,!0),(0,b.isValidRotation)(d.rotation)&&(this.linkService.rotation=d.rotation),d.dest?this.linkService.goToDestination(d.dest):d.hash?this.linkService.setHash(d.hash):d.page&&(this.linkService.page=d.page),Promise.resolve().then(function(){T._popStateInProgress=!1})}}else{this._uid++;var v=this._parseCurrentHash(),c=v.hash,O=v.page,H=v.rotation;this._pushOrReplaceState({hash:c,page:O,rotation:H},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}],D&&L(A.prototype,D),k}();function R(k,A){return typeof k=="string"&&typeof A=="string"&&(k===A||(0,b.parseQueryString)(k).nameddest===A)}function w(k,A){function D(x,g){if(_(x)!==_(g)||Array.isArray(x)||Array.isArray(g))return!1;if(x!==null&&_(x)==="object"&&g!==null){if(Object.keys(x).length!==Object.keys(g).length)return!1;for(var f in x)if(!D(x[f],g[f]))return!1;return!0}return x===g||Number.isNaN(x)&&Number.isNaN(g)}if(!Array.isArray(k)||!Array.isArray(A)||k.length!==A.length)return!1;for(var P=0,T=k.length;P<T;P++)if(!D(k[P],A[P]))return!1;return!0}u.PDFHistory=M},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFPageView=void 0;var b,_=(b=m(4))&&b.__esModule?b:{default:b},I=m(7),j=m(2),L=m(3),z=m(17),M=m(10);function R(P,T,x,g,f,d,v){try{var c=P[d](v),O=c.value}catch(H){return void x(H)}c.done?T(O):Promise.resolve(O).then(g,f)}function w(P){return function(){var T=this,x=arguments;return new Promise(function(g,f){var d=P.apply(T,x);function v(O){R(d,g,f,v,c,"next",O)}function c(O){R(d,g,f,v,c,"throw",O)}v(void 0)})}}function k(P,T){for(var x=0;x<T.length;x++){var g=T[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(P,g.key,g)}}var A=M.viewerCompatibilityParams.maxCanvasPixels||16777216,D=function(){function P(d){(function(H,N){if(!(H instanceof N))throw new TypeError("Cannot call a class as a function")})(this,P);var v=d.container,c=d.defaultViewport;this.id=d.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=d.scale||I.DEFAULT_SCALE,this.viewport=c,this.pdfPageRotate=c.rotation,this._optionalContentConfigPromise=d.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(d.textLayerMode)?d.textLayerMode:I.TextLayerMode.ENABLE,this.imageResourcesPath=d.imageResourcesPath||"",this.renderInteractiveForms=d.renderInteractiveForms!==!1,this.useOnlyCssZoom=d.useOnlyCssZoom||!1,this.maxCanvasPixels=d.maxCanvasPixels||A,this.eventBus=d.eventBus,this.renderingQueue=d.renderingQueue,this.textLayerFactory=d.textLayerFactory,this.annotationLayerFactory=d.annotationLayerFactory,this.xfaLayerFactory=d.xfaLayerFactory,this.structTreeLayerFactory=d.structTreeLayerFactory,this.renderer=d.renderer||I.RendererType.CANVAS,this.l10n=d.l10n||L.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=z.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;var O=document.createElement("div");O.className="page",O.style.width=Math.floor(this.viewport.width)+"px",O.style.height=Math.floor(this.viewport.height)+"px",O.setAttribute("data-page-number",this.id),O.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(function(H){O.setAttribute("aria-label",H)}),this.div=O,v.appendChild(O)}var T,x,g,f;return T=P,x=[{key:"setPdfPage",value:function(d){this.pdfPage=d,this.pdfPageRotate=d.rotate;var v=(this.rotation+this.pdfPageRotate)%360;this.viewport=d.getViewport({scale:this.scale*I.CSS_UNITS,rotation:v}),this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(f=w(_.default.mark(function d(){var v;return _.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return v=null,c.prev=1,c.next=4,this.annotationLayer.render(this.viewport,"display");case 4:c.next=9;break;case 6:c.prev=6,c.t0=c.catch(1),v=c.t0;case 9:return c.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:v}),c.finish(9);case 12:case"end":return c.stop()}},d,this,[[1,6,9,12]])})),function(){return f.apply(this,arguments)})},{key:"_renderXfaLayer",value:(g=w(_.default.mark(function d(){var v;return _.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return v=null,c.prev=1,c.next=4,this.xfaLayer.render(this.viewport,"display");case 4:c.next=9;break;case 6:c.prev=6,c.t0=c.catch(1),v=c.t0;case 9:return c.prev=9,this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:v}),c.finish(9);case 12:case"end":return c.stop()}},d,this,[[1,6,9,12]])})),function(){return g.apply(this,arguments)})},{key:"_resetZoomLayer",value:function(){var d=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.zoomLayer){var v=this.zoomLayer.firstChild;this.paintedViewportMap.delete(v),v.width=0,v.height=0,d&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var d,v,c=this,O=arguments.length>0&&arguments[0]!==void 0&&arguments[0],H=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.cancelRendering(H),this.renderingState=z.RenderingStates.INITIAL;var N=this.div;N.style.width=Math.floor(this.viewport.width)+"px",N.style.height=Math.floor(this.viewport.height)+"px";for(var U=N.childNodes,y=O&&this.zoomLayer||null,C=H&&((d=this.annotationLayer)===null||d===void 0?void 0:d.div)||null,E=((v=this.xfaLayer)===null||v===void 0?void 0:v.div)||null,F=U.length-1;F>=0;F--){var X=U[F];y!==X&&C!==X&&E!==X&&N.removeChild(X)}N.removeAttribute("data-loaded"),C?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),y||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(function(G){var q;(q=c.loadingIconDiv)===null||q===void 0||q.setAttribute("aria-label",G)}),N.appendChild(this.loadingIconDiv)}},{key:"update",value:function(d,v){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.scale=d||this.scale,v!==void 0&&(this.rotation=v),c instanceof Promise&&(this._optionalContentConfigPromise=c);var O=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*I.CSS_UNITS,rotation:O}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});var H=!1;if(this.canvas&&this.maxCanvasPixels>0){var N=this.outputScale;(Math.floor(this.viewport.width)*N.sx|0)*(Math.floor(this.viewport.height)*N.sy|0)>this.maxCanvasPixels&&(H=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&H)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});this.zoomLayer||this.canvas.hidden||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var d=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!d&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}},{key:"cssTransform",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=this.viewport.width,O=this.viewport.height,H=this.div;d.style.width=d.parentNode.style.width=H.style.width=Math.floor(c)+"px",d.style.height=d.parentNode.style.height=H.style.height=Math.floor(O)+"px";var N=this.viewport.rotation-this.paintedViewportMap.get(d).rotation,U=Math.abs(N),y=1,C=1;if(U!==90&&U!==270||(y=O/c,C=c/O),d.style.transform="rotate(".concat(N,"deg) scale(").concat(y,", ").concat(C,")"),this.textLayer){var E=this.textLayer.viewport,F=this.viewport.rotation-E.rotation,X=Math.abs(F),G=c/E.width;X!==90&&X!==270||(G=c/E.height);var q,ne,ie=this.textLayer.textLayerDiv;switch(X){case 0:q=ne=0;break;case 90:q=0,ne="-"+ie.style.height;break;case 180:q="-"+ie.style.width,ne="-"+ie.style.height;break;case 270:q="-"+ie.style.width,ne=0;break;default:console.error("Bad rotation value.")}ie.style.transform="rotate(".concat(X,"deg) ")+"scale(".concat(G,") ")+"translate(".concat(q,", ").concat(ne,")"),ie.style.transformOrigin="0% 0%"}v&&this.annotationLayer&&this._renderAnnotationLayer(),this.xfaLayer&&this._renderXfaLayer()}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}},{key:"getPagePoint",value:function(d,v){return this.viewport.convertToPdfPoint(d,v)}},{key:"draw",value:function(){var d,v=this;this.renderingState!==z.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var c=this.div,O=this.pdfPage;if(!O)return this.renderingState=z.RenderingStates.FINISHED,this.loadingIconDiv&&(c.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=z.RenderingStates.RUNNING;var H=document.createElement("div");H.style.width=c.style.width,H.style.height=c.style.height,H.classList.add("canvasWrapper"),(d=this.annotationLayer)!==null&&d!==void 0&&d.div?c.insertBefore(H,this.annotationLayer.div):c.appendChild(H);var N=null;if(this.textLayerMode!==I.TextLayerMode.DISABLE&&this.textLayerFactory){var U,y=document.createElement("div");y.className="textLayer",y.style.width=H.style.width,y.style.height=H.style.height,(U=this.annotationLayer)!==null&&U!==void 0&&U.div?c.insertBefore(y,this.annotationLayer.div):c.appendChild(y),N=this.textLayerFactory.createTextLayerBuilder(y,this.id-1,this.viewport,this.textLayerMode===I.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=N;var C=null;this.renderingQueue&&(C=function(G){if(!v.renderingQueue.isHighestPriority(v))return v.renderingState=z.RenderingStates.PAUSED,void(v.resume=function(){v.renderingState=z.RenderingStates.RUNNING,G()});G()});var E=function(){var G=w(_.default.mark(function q(){var ne,ie=arguments;return _.default.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(ne=ie.length>0&&ie[0]!==void 0?ie[0]:null,F===v.paintTask&&(v.paintTask=null),!(ne instanceof j.RenderingCancelledException)){ee.next=5;break}return v._renderError=null,ee.abrupt("return");case 5:if(v._renderError=ne,v.renderingState=z.RenderingStates.FINISHED,v.loadingIconDiv&&(c.removeChild(v.loadingIconDiv),delete v.loadingIconDiv),v._resetZoomLayer(!0),v.eventBus.dispatch("pagerendered",{source:v,pageNumber:v.id,cssTransform:!1,timestamp:performance.now(),error:v._renderError}),!ne){ee.next=12;break}throw ne;case 12:case"end":return ee.stop()}},q)}));return function(){return G.apply(this,arguments)}}(),F=this.renderer===I.RendererType.SVG?this.paintOnSvg(H):this.paintOnCanvas(H);F.onRenderContinue=C,this.paintTask=F;var X=F.promise.then(function(){return E(null).then(function(){if(N){var G=O.streamTextContent({normalizeWhitespace:!0,includeMarkedContent:!0});N.setTextContentStream(G),N.render()}})},function(G){return E(G)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(c,O,null,this.imageResourcesPath,this.renderInteractiveForms,this.l10n,null,null,null)),this._renderAnnotationLayer()),this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(c,O,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=function(G){G.pageNumber===v.id&&(v.eventBus._off("textlayerrendered",v._onTextLayerRendered),v._onTextLayerRendered=null,v.canvas&&v.pdfPage.getStructTree().then(function(q){if(q&&v.canvas){var ne=v.structTreeLayer.render(q);ne.classList.add("structTree"),v.canvas.appendChild(ne)}}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(O)),c.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),X}},{key:"paintOnCanvas",value:function(d){var v=(0,j.createPromiseCapability)(),c={promise:v.promise,onRenderContinue:function(ee){ee()},cancel:function(){ie.cancel()}},O=this.viewport,H=document.createElement("canvas");H.hidden=!0;var N=!0,U=function(){N&&(H.hidden=!1,N=!1)};d.appendChild(H),this.canvas=H,H.mozOpaque=!0;var y=H.getContext("2d",{alpha:!1}),C=(0,I.getOutputScale)(y);if(this.outputScale=C,this.useOnlyCssZoom){var E=O.clone({scale:I.CSS_UNITS});C.sx*=E.width/O.width,C.sy*=E.height/O.height,C.scaled=!0}if(this.maxCanvasPixels>0){var F=O.width*O.height,X=Math.sqrt(this.maxCanvasPixels/F);C.sx>X||C.sy>X?(C.sx=X,C.sy=X,C.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var G=(0,I.approximateFraction)(C.sx),q=(0,I.approximateFraction)(C.sy);H.width=(0,I.roundToDivide)(O.width*C.sx,G[0]),H.height=(0,I.roundToDivide)(O.height*C.sy,q[0]),H.style.width=(0,I.roundToDivide)(O.width,G[1])+"px",H.style.height=(0,I.roundToDivide)(O.height,q[1])+"px",this.paintedViewportMap.set(H,O);var ne={canvasContext:y,transform:C.scaled?[C.sx,0,0,C.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms,optionalContentConfigPromise:this._optionalContentConfigPromise},ie=this.pdfPage.render(ne);return ie.onContinue=function(ee){U(),c.onRenderContinue?c.onRenderContinue(ee):ee()},ie.promise.then(function(){U(),v.resolve(void 0)},function(ee){U(),v.reject(ee)}),c}},{key:"paintOnSvg",value:function(d){var v=this,c=!1,O=function(){if(c)throw new j.RenderingCancelledException("Rendering cancelled, page ".concat(v.id),"svg")},H=this.pdfPage,N=this.viewport.clone({scale:I.CSS_UNITS});return{promise:H.getOperatorList().then(function(U){return O(),new j.SVGGraphics(H.commonObjs,H.objs,M.viewerCompatibilityParams.disableCreateObjectURL).getSVG(U,N).then(function(y){O(),v.svg=y,v.paintedViewportMap.set(y,N),y.style.width=d.style.width,y.style.height=d.style.height,v.renderingState=z.RenderingStates.FINISHED,d.appendChild(y)})}),onRenderContinue:function(U){U()},cancel:function(){c=!0}}}},{key:"setPageLabel",value:function(d){this.pageLabel=typeof d=="string"?d:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}],x&&k(T.prototype,x),P}();u.PDFPageView=D},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RenderingStates=u.PDFRenderingQueue=void 0;var b=m(2);function _(L,z){for(var M=0;M<z.length;M++){var R=z[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(L,R.key,R)}}var I={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};u.RenderingStates=I;var j=function(){function L(){(function(R,w){if(!(R instanceof w))throw new TypeError("Cannot call a class as a function")})(this,L),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}var z,M;return z=L,(M=[{key:"setViewer",value:function(R){this.pdfViewer=R}},{key:"setThumbnailViewer",value:function(R){this.pdfThumbnailViewer=R}},{key:"isHighestPriority",value:function(R){return this.highestPriorityPage===R.renderingId}},{key:"renderHighestPriority",value:function(R){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(R)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(R,w,k){var A=R.views,D=A.length;if(D===0)return null;for(var P=0;P<D;++P){var T=A[P].view;if(!this.isViewFinished(T))return T}if(k){var x=R.last.id;if(w[x]&&!this.isViewFinished(w[x]))return w[x]}else{var g=R.first.id-2;if(w[g]&&!this.isViewFinished(w[g]))return w[g]}return null}},{key:"isViewFinished",value:function(R){return R.renderingState===I.FINISHED}},{key:"renderView",value:function(R){var w=this;switch(R.renderingState){case I.FINISHED:return!1;case I.PAUSED:this.highestPriorityPage=R.renderingId,R.resume();break;case I.RUNNING:this.highestPriorityPage=R.renderingId;break;case I.INITIAL:this.highestPriorityPage=R.renderingId,R.draw().finally(function(){w.renderHighestPriority()}).catch(function(k){k instanceof b.RenderingCancelledException||console.error('renderView: "'.concat(k,'"'))})}return!0}}])&&_(z.prototype,M),L}();u.PDFRenderingQueue=j},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFScriptingManager=void 0;var b,_=(b=m(4))&&b.__esModule?b:{default:b},I=m(2),j=m(7),L=m(17);function z(d){return function(v){if(Array.isArray(v))return P(v)}(d)||function(v){if(typeof Symbol!="undefined"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}(d)||D(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M(d,v){var c=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);v&&(O=O.filter(function(H){return Object.getOwnPropertyDescriptor(d,H).enumerable})),c.push.apply(c,O)}return c}function R(d){for(var v=1;v<arguments.length;v++){var c=arguments[v]!=null?arguments[v]:{};v%2?M(Object(c),!0).forEach(function(O){w(d,O,c[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(c)):M(Object(c)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(c,O))})}return d}function w(d,v,c){return v in d?Object.defineProperty(d,v,{value:c,enumerable:!0,configurable:!0,writable:!0}):d[v]=c,d}function k(d,v){var c=typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(!c){if(Array.isArray(d)||(c=D(d))||v&&d&&typeof d.length=="number"){c&&(d=c);var O=0,H=function(){};return{s:H,n:function(){return O>=d.length?{done:!0}:{done:!1,value:d[O++]}},e:function(C){throw C},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,U=!0,y=!1;return{s:function(){c=c.call(d)},n:function(){var C=c.next();return U=C.done,C},e:function(C){y=!0,N=C},f:function(){try{U||c.return==null||c.return()}finally{if(y)throw N}}}}function A(d,v){return function(c){if(Array.isArray(c))return c}(d)||function(c,O){var H=c&&(typeof Symbol!="undefined"&&c[Symbol.iterator]||c["@@iterator"]);if(H!=null){var N,U,y=[],C=!0,E=!1;try{for(H=H.call(c);!(C=(N=H.next()).done)&&(y.push(N.value),!O||y.length!==O);C=!0);}catch(F){E=!0,U=F}finally{try{C||H.return==null||H.return()}finally{if(E)throw U}}return y}}(d,v)||D(d,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(d,v){if(d){if(typeof d=="string")return P(d,v);var c=Object.prototype.toString.call(d).slice(8,-1);return c==="Object"&&d.constructor&&(c=d.constructor.name),c==="Map"||c==="Set"?Array.from(d):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?P(d,v):void 0}}function P(d,v){(v==null||v>d.length)&&(v=d.length);for(var c=0,O=new Array(v);c<v;c++)O[c]=d[c];return O}function T(d,v,c,O,H,N,U){try{var y=d[N](U),C=y.value}catch(E){return void c(E)}y.done?v(C):Promise.resolve(C).then(O,H)}function x(d){return function(){var v=this,c=arguments;return new Promise(function(O,H){var N=d.apply(v,c);function U(C){T(N,O,H,U,y,"next",C)}function y(C){T(N,O,H,U,y,"throw",C)}U(void 0)})}}function g(d,v){for(var c=0;c<v.length;c++){var O=v[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(d,O.key,O)}}var f=function(){function d(q){var ne=this,ie=q.eventBus,ee=q.sandboxBundleSrc,te=ee===void 0?null:ee,se=q.scriptingFactory,le=se===void 0?null:se,de=q.docPropertiesLookup,oe=de===void 0?null:de;(function(B,J){if(!(B instanceof J))throw new TypeError("Cannot call a class as a function")})(this,d),this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._pageEventsReady=!1,this._ready=!1,this._eventBus=ie,this._sandboxBundleSrc=te,this._scriptingFactory=le,this._docPropertiesLookup=oe,this._scriptingFactory||window.addEventListener("updatefromsandbox",function(B){ne._eventBus.dispatch("updatefromsandbox",{source:window,detail:B.detail})})}var v,c,O,H,N,U,y,C,E,F,X,G;return v=d,c=[{key:"setViewer",value:function(q){this._pdfViewer=q}},{key:"setDocument",value:(G=x(_.default.mark(function q(ne){var ie,ee,te,se,le,de,oe,B,J,Y,K,Z,Q,ue,ce,ae,me,ve=this;return _.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(!this._pdfDocument){he.next=3;break}return he.next=3,this._destroyScripting();case 3:if(this._pdfDocument=ne,ne){he.next=6;break}return he.abrupt("return");case 6:return he.next=8,Promise.all([ne.getFieldObjects(),ne.getCalculationOrderIds(),ne.getJSActions()]);case 8:if(ee=he.sent,te=A(ee,3),se=te[0],le=te[1],de=te[2],se||de){he.next=17;break}return he.next=16,this._destroyScripting();case 16:return he.abrupt("return");case 17:if(ne===this._pdfDocument){he.next=19;break}return he.abrupt("return");case 19:this._scripting=this._createScripting(),this._internalEvents.set("updatefromsandbox",function(ge){(ge==null?void 0:ge.source)===window&&ve._updateFromSandbox(ge.detail)}),this._internalEvents.set("dispatcheventinsandbox",function(ge){var ye;(ye=ve._scripting)===null||ye===void 0||ye.dispatchEventInSandbox(ge.detail)}),this._internalEvents.set("pagechanging",function(ge){var ye=ge.pageNumber,pe=ge.previous;ye!==pe&&(ve._dispatchPageClose(pe),ve._dispatchPageOpen(ye))}),this._internalEvents.set("pagerendered",function(ge){var ye=ge.pageNumber;ve._pageOpenPending.has(ye)&&ye===ve._pdfViewer.currentPageNumber&&ve._dispatchPageOpen(ye)}),this._internalEvents.set("pagesdestroy",function(){var ge=x(_.default.mark(function ye(pe){var _e,Se;return _.default.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.next=2,ve._dispatchPageClose(ve._pdfViewer.currentPageNumber);case 2:return Ce.next=4,(_e=ve._scripting)===null||_e===void 0?void 0:_e.dispatchEventInSandbox({id:"doc",name:"WillClose"});case 4:(Se=ve._closeCapability)===null||Se===void 0||Se.resolve();case 5:case"end":return Ce.stop()}},ye)}));return function(ye){return ge.apply(this,arguments)}}()),this._domEvents.set("mousedown",function(ge){ve._mouseState.isDown=!0}),this._domEvents.set("mouseup",function(ge){ve._mouseState.isDown=!1}),oe=k(this._internalEvents);try{for(oe.s();!(B=oe.n()).done;)J=A(B.value,2),Y=J[0],K=J[1],this._eventBus._on(Y,K)}catch(ge){oe.e(ge)}finally{oe.f()}Z=k(this._domEvents);try{for(Z.s();!(Q=Z.n()).done;)ue=A(Q.value,2),ce=ue[0],ae=ue[1],window.addEventListener(ce,ae)}catch(ge){Z.e(ge)}finally{Z.f()}return he.prev=31,he.next=34,this._getDocProperties();case 34:if(me=he.sent,ne===this._pdfDocument){he.next=37;break}return he.abrupt("return");case 37:return he.next=39,this._scripting.createSandbox({objects:se,calculationOrder:le,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:R(R({},me),{},{actions:de})});case 39:this._eventBus.dispatch("sandboxcreated",{source:this}),he.next=48;break;case 42:return he.prev=42,he.t0=he.catch(31),console.error('PDFScriptingManager.setDocument: "'.concat(he.t0===null||he.t0===void 0?void 0:he.t0.message,'".')),he.next=47,this._destroyScripting();case 47:return he.abrupt("return");case 48:return he.next=50,(ie=this._scripting)===null||ie===void 0?void 0:ie.dispatchEventInSandbox({id:"doc",name:"Open"});case 50:return he.next=52,this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0);case 52:Promise.resolve().then(function(){ne===ve._pdfDocument&&(ve._ready=!0)});case 53:case"end":return he.stop()}},q,this,[[31,42]])})),function(q){return G.apply(this,arguments)})},{key:"dispatchWillSave",value:(X=x(_.default.mark(function q(ne){var ie;return _.default.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",(ie=this._scripting)===null||ie===void 0?void 0:ie.dispatchEventInSandbox({id:"doc",name:"WillSave"}));case 1:case"end":return ee.stop()}},q,this)})),function(q){return X.apply(this,arguments)})},{key:"dispatchDidSave",value:(F=x(_.default.mark(function q(ne){var ie;return _.default.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",(ie=this._scripting)===null||ie===void 0?void 0:ie.dispatchEventInSandbox({id:"doc",name:"DidSave"}));case 1:case"end":return ee.stop()}},q,this)})),function(q){return F.apply(this,arguments)})},{key:"dispatchWillPrint",value:(E=x(_.default.mark(function q(ne){var ie;return _.default.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",(ie=this._scripting)===null||ie===void 0?void 0:ie.dispatchEventInSandbox({id:"doc",name:"WillPrint"}));case 1:case"end":return ee.stop()}},q,this)})),function(q){return E.apply(this,arguments)})},{key:"dispatchDidPrint",value:(C=x(_.default.mark(function q(ne){var ie;return _.default.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",(ie=this._scripting)===null||ie===void 0?void 0:ie.dispatchEventInSandbox({id:"doc",name:"DidPrint"}));case 1:case"end":return ee.stop()}},q,this)})),function(q){return C.apply(this,arguments)})},{key:"mouseState",get:function(){return this._mouseState}},{key:"destroyPromise",get:function(){var q;return((q=this._destroyCapability)===null||q===void 0?void 0:q.promise)||null}},{key:"ready",get:function(){return this._ready}},{key:"_internalEvents",get:function(){return(0,I.shadow)(this,"_internalEvents",new Map)}},{key:"_domEvents",get:function(){return(0,I.shadow)(this,"_domEvents",new Map)}},{key:"_pageOpenPending",get:function(){return(0,I.shadow)(this,"_pageOpenPending",new Set)}},{key:"_visitedPages",get:function(){return(0,I.shadow)(this,"_visitedPages",new Map)}},{key:"_updateFromSandbox",value:(y=x(_.default.mark(function q(ne){var ie,ee,te,se,le,de,oe,B,J,Y,K;return _.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(ie=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,ee=ne.id,te=ne.siblings,se=ne.command,le=ne.value,ee){Z.next=25;break}Z.t0=se,Z.next=Z.t0==="clear"?6:Z.t0==="error"?8:Z.t0==="layout"?10:Z.t0==="page-num"?12:Z.t0==="print"?14:Z.t0==="println"?18:Z.t0==="zoom"?20:24;break;case 6:return console.clear(),Z.abrupt("break",24);case 8:return console.error(le),Z.abrupt("break",24);case 10:return this._pdfViewer.spreadMode=(0,j.apiPageLayoutToSpreadMode)(le),Z.abrupt("break",24);case 12:return this._pdfViewer.currentPageNumber=le+1,Z.abrupt("break",24);case 14:return Z.next=16,this._pdfViewer.pagesPromise;case 16:return this._eventBus.dispatch("print",{source:this}),Z.abrupt("break",24);case 18:return console.log(le),Z.abrupt("break",24);case 20:if(!ie){Z.next=22;break}return Z.abrupt("return");case 22:return this._pdfViewer.currentScaleValue=le,Z.abrupt("break",24);case 24:return Z.abrupt("return");case 25:if(!ie){Z.next=28;break}if(!ne.focus){Z.next=28;break}return Z.abrupt("return");case 28:delete ne.id,delete ne.siblings,de=te?[ee].concat(z(te)):[ee],oe=k(de);try{for(oe.s();!(B=oe.n()).done;)J=B.value,(Y=document.getElementById(J))?Y.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:ne})):(K=this._pdfDocument)===null||K===void 0||K.annotationStorage.setValue(J,ne)}catch(Q){oe.e(Q)}finally{oe.f()}case 33:case"end":return Z.stop()}},q,this)})),function(q){return y.apply(this,arguments)})},{key:"_dispatchPageOpen",value:(U=x(_.default.mark(function q(ne){var ie,ee,te,se,le,de=this,oe=arguments;return _.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(ie=oe.length>1&&oe[1]!==void 0&&oe[1],ee=this._pdfDocument,te=this._visitedPages,ie&&(this._closeCapability=(0,I.createPromiseCapability)(),this._pageEventsReady=!0),this._pageEventsReady){B.next=5;break}return B.abrupt("return");case 5:if(((se=this._pdfViewer.getPageView(ne-1))==null?void 0:se.renderingState)===L.RenderingStates.FINISHED){B.next=9;break}return this._pageOpenPending.add(ne),B.abrupt("return");case 9:this._pageOpenPending.delete(ne),le=x(_.default.mark(function J(){var Y,K,Z;return _.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,te.has(ne)?null:(Y=se.pdfPage)===null||Y===void 0?void 0:Y.getJSActions();case 2:if(Z=Q.sent,ee===de._pdfDocument){Q.next=5;break}return Q.abrupt("return");case 5:return Q.next=7,(K=de._scripting)===null||K===void 0?void 0:K.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:ne,actions:Z});case 7:case"end":return Q.stop()}},J)}))(),te.set(ne,le);case 12:case"end":return B.stop()}},q,this)})),function(q){return U.apply(this,arguments)})},{key:"_dispatchPageClose",value:(N=x(_.default.mark(function q(ne){var ie,ee,te,se;return _.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(ee=this._pdfDocument,te=this._visitedPages,this._pageEventsReady){le.next=3;break}return le.abrupt("return");case 3:if(!this._pageOpenPending.has(ne)){le.next=5;break}return le.abrupt("return");case 5:if(se=te.get(ne)){le.next=8;break}return le.abrupt("return");case 8:return te.set(ne,null),le.next=11,se;case 11:if(ee===this._pdfDocument){le.next=13;break}return le.abrupt("return");case 13:return le.next=15,(ie=this._scripting)===null||ie===void 0?void 0:ie.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:ne});case 15:case"end":return le.stop()}},q,this)})),function(q){return N.apply(this,arguments)})},{key:"_getDocProperties",value:(H=x(_.default.mark(function q(){var ne,ie;return _.default.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!this._docPropertiesLookup){ee.next=2;break}return ee.abrupt("return",this._docPropertiesLookup(this._pdfDocument));case 2:return ne=m(19),ie=ne.docPropertiesLookup,ee.abrupt("return",ie(this._pdfDocument));case 4:case"end":return ee.stop()}},q,this)})),function(){return H.apply(this,arguments)})},{key:"_createScripting",value:function(){if(this._destroyCapability=(0,I.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");return this._scriptingFactory?this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc}):new(m(19)).GenericScripting(this._sandboxBundleSrc)}},{key:"_destroyScripting",value:(O=x(_.default.mark(function q(){var ne,ie,ee,te,se,le,de,oe,B,J,Y,K;return _.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(this._scripting){Z.next=4;break}return this._pdfDocument=null,(ie=this._destroyCapability)===null||ie===void 0||ie.resolve(),Z.abrupt("return");case 4:if(!this._closeCapability){Z.next=8;break}return Z.next=7,Promise.race([this._closeCapability.promise,new Promise(function(Q){setTimeout(Q,1e3)})]).catch(function(Q){});case 7:this._closeCapability=null;case 8:return this._pdfDocument=null,Z.prev=9,Z.next=12,this._scripting.destroySandbox();case 12:Z.next=16;break;case 14:Z.prev=14,Z.t0=Z.catch(9);case 16:ee=k(this._internalEvents);try{for(ee.s();!(te=ee.n()).done;)se=A(te.value,2),le=se[0],de=se[1],this._eventBus._off(le,de)}catch(Q){ee.e(Q)}finally{ee.f()}this._internalEvents.clear(),oe=k(this._domEvents);try{for(oe.s();!(B=oe.n()).done;)J=A(B.value,2),Y=J[0],K=J[1],window.removeEventListener(Y,K)}catch(Q){oe.e(Q)}finally{oe.f()}this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._pageEventsReady=!1,this._ready=!1,(ne=this._destroyCapability)===null||ne===void 0||ne.resolve();case 29:case"end":return Z.stop()}},q,this,[[9,14]])})),function(){return O.apply(this,arguments)})}],c&&g(v.prototype,c),d}();u.PDFScriptingManager=f},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.docPropertiesLookup=function(D){return k.apply(this,arguments)},u.GenericScripting=void 0;var b,_=(b=m(4))&&b.__esModule?b:{default:b},I=m(2);function j(D,P){var T=Object.keys(D);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(D);P&&(x=x.filter(function(g){return Object.getOwnPropertyDescriptor(D,g).enumerable})),T.push.apply(T,x)}return T}function L(D){for(var P=1;P<arguments.length;P++){var T=arguments[P]!=null?arguments[P]:{};P%2?j(Object(T),!0).forEach(function(x){z(D,x,T[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(T)):j(Object(T)).forEach(function(x){Object.defineProperty(D,x,Object.getOwnPropertyDescriptor(T,x))})}return D}function z(D,P,T){return P in D?Object.defineProperty(D,P,{value:T,enumerable:!0,configurable:!0,writable:!0}):D[P]=T,D}function M(D,P){for(var T=0;T<P.length;T++){var x=P[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(D,x.key,x)}}function R(D,P,T,x,g,f,d){try{var v=D[f](d),c=v.value}catch(O){return void T(O)}v.done?P(c):Promise.resolve(c).then(x,g)}function w(D){return function(){var P=this,T=arguments;return new Promise(function(x,g){var f=D.apply(P,T);function d(c){R(f,x,g,d,v,"next",c)}function v(c){R(f,x,g,d,v,"throw",c)}d(void 0)})}}function k(){return(k=w(_.default.mark(function D(P){var T,x,g,f,d,v,c,O,H;return _.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return x=(T="").split("#")[0],N.next=3,P.getMetadata();case 3:if(g=N.sent,f=g.info,d=g.metadata,v=g.contentDispositionFilename,c=g.contentLength){N.next=14;break}return N.next=11,P.getDownloadInfo();case 11:O=N.sent,H=O.length,c=H;case 14:return N.abrupt("return",L(L({},f),{},{baseURL:x,filesize:c,filename:v||(0,I.getPdfFilenameFromUrl)(T),metadata:d==null?void 0:d.getRaw(),authors:d==null?void 0:d.get("dc:creator"),numPages:P.numPages,URL:T}));case 15:case"end":return N.stop()}},D)}))).apply(this,arguments)}var A=function(){function D(d){(function(v,c){if(!(v instanceof c))throw new TypeError("Cannot call a class as a function")})(this,D),this._ready=(0,I.loadScript)(d,!0).then(function(){return window.pdfjsSandbox.QuickJSSandbox()})}var P,T,x,g,f;return P=D,T=[{key:"createSandbox",value:(f=w(_.default.mark(function d(v){return _.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._ready;case 2:c.sent.create(v);case 4:case"end":return c.stop()}},d,this)})),function(d){return f.apply(this,arguments)})},{key:"dispatchEventInSandbox",value:(g=w(_.default.mark(function d(v){return _.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._ready;case 2:c.sent.dispatchEvent(v);case 4:case"end":return c.stop()}},d,this)})),function(d){return g.apply(this,arguments)})},{key:"destroySandbox",value:(x=w(_.default.mark(function d(){return _.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this._ready;case 2:v.sent.nukeSandbox();case 4:case"end":return v.stop()}},d,this)})),function(){return x.apply(this,arguments)})}],T&&M(P.prototype,T),D}();u.GenericScripting=A},(l,u,m)=>{function b(A){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},b(A)}Object.defineProperty(u,"__esModule",{value:!0}),u.PDFSinglePageViewer=void 0;var _=m(21),I=m(2);function j(A,D){for(var P=0;P<D.length;P++){var T=D[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}function L(A,D,P){return L=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(T,x,g){var f=function(v,c){for(;!Object.prototype.hasOwnProperty.call(v,c)&&(v=w(v))!==null;);return v}(T,x);if(f){var d=Object.getOwnPropertyDescriptor(f,x);return d.get?d.get.call(g):d.value}},L(A,D,P||A)}function z(A,D){return z=Object.setPrototypeOf||function(P,T){return P.__proto__=T,P},z(A,D)}function M(A){var D=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var P,T=w(A);if(D){var x=w(this).constructor;P=Reflect.construct(T,arguments,x)}else P=T.apply(this,arguments);return R(this,P)}}function R(A,D){return!D||b(D)!=="object"&&typeof D!="function"?function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(A):D}function w(A){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},w(A)}var k=function(A){(function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),f&&z(g,f)})(x,A);var D,P,T=M(x);function x(g){var f;return function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,x),(f=T.call(this,g)).eventBus._on("pagesinit",function(d){f._ensurePageViewVisible()}),f}return D=x,(P=[{key:"_viewerElement",get:function(){return(0,I.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function(){return 1}},{key:"_resetView",value:function(){L(w(x.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var g=this._pages[this._currentPageNumber-1],f=this._pages[this._previousPageNumber-1],d=this.viewer.childNodes;switch(d.length){case 0:this.viewer.appendChild(g.div);break;case 1:if(d[0]!==f.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(g===f)break;this._shadowViewer.appendChild(f.div),this.viewer.appendChild(g.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),L(w(x.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(g){var f=this,d=g.pageDiv,v=g.pageSpot,c=v===void 0?null:v,O=g.pageNumber,H=O===void 0?null:O;H&&this._setCurrentPageNumber(H);var N=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),L(w(x.prototype),"_scrollIntoView",this).call(this,{pageDiv:d,pageSpot:c,pageNumber:H}),this._updateScrollDown=function(){f.scroll.down=N,f._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(g){}},{key:"_isScrollModeHorizontal",get:function(){return(0,I.shadow)(this,"_isScrollModeHorizontal",!1)}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_getPageAdvance",value:function(){return 1}}])&&j(D.prototype,P),x}(_.BaseViewer);u.PDFSinglePageViewer=k},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BaseViewer=void 0;var b=m(2),_=m(7),I=m(17),j=m(1),L=m(3),z=m(16),M=m(6),R=m(22),w=m(8),k=m(23);function A(f,d){var v=typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(!v){if(Array.isArray(f)||(v=function(y,C){if(y){if(typeof y=="string")return D(y,C);var E=Object.prototype.toString.call(y).slice(8,-1);return E==="Object"&&y.constructor&&(E=y.constructor.name),E==="Map"||E==="Set"?Array.from(y):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?D(y,C):void 0}}(f))||d&&f&&typeof f.length=="number"){v&&(f=v);var c=0,O=function(){};return{s:O,n:function(){return c>=f.length?{done:!0}:{done:!1,value:f[c++]}},e:function(y){throw y},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,N=!0,U=!1;return{s:function(){v=v.call(f)},n:function(){var y=v.next();return N=y.done,y},e:function(y){U=!0,H=y},f:function(){try{N||v.return==null||v.return()}finally{if(U)throw H}}}}function D(f,d){(d==null||d>f.length)&&(d=f.length);for(var v=0,c=new Array(d);v<d;v++)c[v]=f[v];return c}function P(f,d){for(var v=0;v<d.length;v++){var c=d[v];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function T(f){var d=[];this.push=function(v){var c=d.indexOf(v);c>=0&&d.splice(c,1),d.push(v),d.length>f&&d.shift().destroy()},this.resize=function(v,c){if(f=v,c){for(var O=new Set,H=0,N=c.length;H<N;++H)O.add(c[H].id);(0,_.moveToEndOfArray)(d,function(U){return O.has(U.id)})}for(;d.length>f;)d.shift().destroy()},this.has=function(v){return d.includes(v)}}function x(f,d){return d===f||Math.abs(d-f)<1e-15}var g=function(){function f(c){var O,H,N=this;if(function(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f),this.constructor===f)throw new Error("Cannot initialize BaseViewer.");var U="2.9.359";if(b.version!==U)throw new Error('The API version "'.concat(b.version,'" does not match the Viewer version "').concat(U,'".'));if(this._name=this.constructor.name,this.container=c.container,this.viewer=c.viewer||c.container.firstElementChild,((O=this.container)===null||O===void 0?void 0:O.tagName.toUpperCase())!=="DIV"||((H=this.viewer)===null||H===void 0?void 0:H.tagName.toUpperCase())!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=c.eventBus,this.linkService=c.linkService||new M.SimpleLinkService,this.downloadManager=c.downloadManager||null,this.findController=c.findController||null,this._scriptingManager=c.scriptingManager||null,this.removePageBorders=c.removePageBorders||!1,this.textLayerMode=Number.isInteger(c.textLayerMode)?c.textLayerMode:_.TextLayerMode.ENABLE,this.imageResourcesPath=c.imageResourcesPath||"",this.renderInteractiveForms=c.renderInteractiveForms!==!1,this.enablePrintAutoRotate=c.enablePrintAutoRotate||!1,this.renderer=c.renderer||_.RendererType.CANVAS,this.useOnlyCssZoom=c.useOnlyCssZoom||!1,this.maxCanvasPixels=c.maxCanvasPixels,this.l10n=c.l10n||L.NullL10n,this.enableScripting=c.enableScripting===!0&&!!this._scriptingManager,this.defaultRenderingQueue=!c.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new I.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=c.renderingQueue,this.scroll=(0,_.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=_.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){N.eventBus.dispatch("baseviewerinit",{source:N})})}var d,v;return d=f,v=[{key:"pagesCount",get:function(){return this._pages.length}},{key:"getPageView",value:function(c){return this._pages[c]}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(c){return c==null?void 0:c.pdfPage})}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(c){if(!Number.isInteger(c))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(c,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(c,'" is not a valid page.')))}},{key:"_setCurrentPageNumber",value:function(c){var O,H,N=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this._currentPageNumber===c)return N&&this._resetCurrentPageView(),!0;if(!(0<c&&c<=this.pagesCount))return!1;var U=this._currentPageNumber;return this._currentPageNumber=c,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:c,pageLabel:(O=(H=this._pageLabels)===null||H===void 0?void 0:H[c-1])!==null&&O!==void 0?O:null,previous:U}),N&&this._resetCurrentPageView(),!0}},{key:"currentPageLabel",get:function(){var c,O;return(c=(O=this._pageLabels)===null||O===void 0?void 0:O[this._currentPageNumber-1])!==null&&c!==void 0?c:null},set:function(c){if(this.pdfDocument){var O=0|c;if(this._pageLabels){var H=this._pageLabels.indexOf(c);H>=0&&(O=H+1)}this._setCurrentPageNumber(O,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(c,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==_.UNKNOWN_SCALE?this._currentScale:_.DEFAULT_SCALE},set:function(c){if(isNaN(c))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(c,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(c){this.pdfDocument&&this._setScale(c,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(c){if(!(0,_.isValidRotation)(c))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&((c%=360)<0&&(c+=360),this._pagesRotation!==c)){this._pagesRotation=c;for(var O=this._currentPageNumber,H=0,N=this._pages.length;H<N;H++){var U=this._pages[H];U.update(U.scale,c)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:c,pageNumber:O}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&this._getVisiblePages().views.length!==0?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(c){var O=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=c,c){var H=c.isPureXfa,N=c.numPages,U=c.getPage(1),y=c.getOptionalContentConfig();this._pagesCapability.promise.then(function(){O.eventBus.dispatch("pagesloaded",{source:O,pagesCount:N})}),this._onBeforeDraw=function(C){var E=O._pages[C.pageNumber-1];E&&O._buffer.push(E)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(C){C.cssTransform||O._onePageRenderedCapability.settled||(O._onePageRenderedCapability.resolve(),O.eventBus._off("pagerendered",O._onAfterDraw),O._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),U.then(function(C){O._firstPageCapability.resolve(C),O._optionalContentConfigPromise=y;for(var E=O.currentScale,F=C.getViewport({scale:E*_.CSS_UNITS}),X=O.textLayerMode!==_.TextLayerMode.DISABLE?O:null,G=H?O:null,q=1;q<=N;++q){var ne=new z.PDFPageView({container:O._viewerElement,eventBus:O.eventBus,id:q,scale:E,defaultViewport:F.clone(),optionalContentConfigPromise:y,renderingQueue:O.renderingQueue,textLayerFactory:X,textLayerMode:O.textLayerMode,annotationLayerFactory:O,xfaLayerFactory:G,structTreeLayerFactory:O,imageResourcesPath:O.imageResourcesPath,renderInteractiveForms:O.renderInteractiveForms,renderer:O.renderer,useOnlyCssZoom:O.useOnlyCssZoom,maxCanvasPixels:O.maxCanvasPixels,l10n:O.l10n});O._pages.push(ne)}var ie=O._pages[0];ie&&(ie.setPdfPage(C),O.linkService.cachePageRef(1,C.ref)),O._spreadMode!==_.SpreadMode.NONE&&O._updateSpreadMode(),O._onePageRenderedOrForceFetch().then(function(){if(O.findController&&O.findController.setDocument(c),O.enableScripting&&O._scriptingManager.setDocument(c),c.loadingParams.disableAutoFetch||N>7500)O._pagesCapability.resolve();else{var ee=N-1;if(ee<=0)O._pagesCapability.resolve();else for(var te=function(le){c.getPage(le).then(function(de){var oe=O._pages[le-1];oe.pdfPage||oe.setPdfPage(de),O.linkService.cachePageRef(le,de.ref),--ee==0&&O._pagesCapability.resolve()},function(de){console.error("Unable to get page ".concat(le," to initialize viewer"),de),--ee==0&&O._pagesCapability.resolve()})},se=2;se<=N;++se)te(se)}}),O.eventBus.dispatch("pagesinit",{source:O}),O.defaultRenderingQueue&&O.update()}).catch(function(C){console.error("Unable to initialize viewer",C)})}}},{key:"setPageLabels",value:function(c){if(this.pdfDocument){c?Array.isArray(c)&&this.pdfDocument.numPages===c.length?this._pageLabels=c:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var O=0,H=this._pages.length;O<H;O++){var N,U;this._pages[O].setPageLabel((N=(U=this._pageLabels)===null||U===void 0?void 0:U[O])!==null&&N!==void 0?N:null)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=_.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new T(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,b.createPromiseCapability)(),this._onePageRenderedCapability=(0,b.createPromiseCapability)(),this._pagesCapability=(0,b.createPromiseCapability)(),this._scrollMode=_.ScrollMode.VERTICAL,this._spreadMode=_.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){this.pagesCount!==0&&this.update()}},{key:"_scrollIntoView",value:function(c){var O=c.pageDiv,H=c.pageSpot,N=H===void 0?null:H;c.pageNumber,(0,_.scrollIntoView)(O,N)}},{key:"_setScaleUpdatePages",value:function(c,O){var H=arguments.length>2&&arguments[2]!==void 0&&arguments[2],N=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(this._currentScaleValue=O.toString(),x(this._currentScale,c))N&&this.eventBus.dispatch("scalechanging",{source:this,scale:c,presetValue:O});else{for(var U=0,y=this._pages.length;U<y;U++)this._pages[U].update(c);if(this._currentScale=c,!H){var C,E=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(E=this._location.pageNumber,C=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:E,destArray:C,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:c,presetValue:N?O:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_pageWidthScaleFactor",get:function(){return this._spreadMode===_.SpreadMode.NONE||this._scrollMode===_.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_setScale",value:function(c){var O=arguments.length>1&&arguments[1]!==void 0&&arguments[1],H=parseFloat(c);if(H>0)this._setScaleUpdatePages(H,c,O,!1);else{var N=this._pages[this._currentPageNumber-1];if(!N)return;var U=this.isInPresentationMode||this.removePageBorders,y=U?0:_.SCROLLBAR_PADDING,C=U?0:_.VERTICAL_PADDING;if(!U&&this._isScrollModeHorizontal){var E=[C,y];y=E[0],C=E[1]}var F=(this.container.clientWidth-y)/N.width*N.scale/this._pageWidthScaleFactor,X=(this.container.clientHeight-C)/N.height*N.scale;switch(c){case"page-actual":H=1;break;case"page-width":H=F;break;case"page-height":H=X;break;case"page-fit":H=Math.min(F,X);break;case"auto":var G=(0,_.isPortraitOrientation)(N)?F:Math.min(X,F);H=Math.min(_.MAX_AUTO_SCALE,G);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(c,'" is an unknown zoom value.'))}this._setScaleUpdatePages(H,c,O,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var c=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:c.div})}},{key:"pageLabelToPageNumber",value:function(c){if(!this._pageLabels)return null;var O=this._pageLabels.indexOf(c);return O<0?null:O+1}},{key:"scrollPageIntoView",value:function(c){var O=c.pageNumber,H=c.destArray,N=H===void 0?null:H,U=c.allowNegativeOffset,y=U!==void 0&&U,C=c.ignoreDestinationZoom,E=C!==void 0&&C;if(this.pdfDocument){var F=Number.isInteger(O)&&this._pages[O-1];if(F)if(!this.isInPresentationMode&&N){var X,G,q=0,ne=0,ie=0,ee=0,te=F.rotation%180!=0,se=(te?F.height:F.width)/F.scale/_.CSS_UNITS,le=(te?F.width:F.height)/F.scale/_.CSS_UNITS,de=0;switch(N[1].name){case"XYZ":q=N[2],ne=N[3],de=N[4],q=q!==null?q:0,ne=ne!==null?ne:le;break;case"Fit":case"FitB":de="page-fit";break;case"FitH":case"FitBH":de="page-width",(ne=N[2])===null&&this._location?(q=this._location.left,ne=this._location.top):typeof ne!="number"&&(ne=le);break;case"FitV":case"FitBV":q=N[2],ie=se,ee=le,de="page-height";break;case"FitR":q=N[2],ne=N[3],ie=N[4]-q,ee=N[5]-ne;var oe=this.removePageBorders?0:_.SCROLLBAR_PADDING,B=this.removePageBorders?0:_.VERTICAL_PADDING;X=(this.container.clientWidth-oe)/ie/_.CSS_UNITS,G=(this.container.clientHeight-B)/ee/_.CSS_UNITS,de=Math.min(Math.abs(X),Math.abs(G));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(N[1].name,'" is not a valid destination type.'))}if(E||(de&&de!==this._currentScale?this.currentScaleValue=de:this._currentScale===_.UNKNOWN_SCALE&&(this.currentScaleValue=_.DEFAULT_SCALE_VALUE)),de!=="page-fit"||N[4]){var J=[F.viewport.convertToViewportPoint(q,ne),F.viewport.convertToViewportPoint(q+ie,ne+ee)],Y=Math.min(J[0][0],J[1][0]),K=Math.min(J[0][1],J[1][1]);y||(Y=Math.max(Y,0),K=Math.max(K,0)),this._scrollIntoView({pageDiv:F.div,pageSpot:{left:Y,top:K},pageNumber:O})}else this._scrollIntoView({pageDiv:F.div,pageNumber:O})}else this._setCurrentPageNumber(O,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(O,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(c){var O=this._currentScale,H=this._currentScaleValue,N=parseFloat(H)===O?Math.round(1e4*O)/100:H,U=c.id,y="#page="+U;y+="&zoom="+N;var C=this._pages[U-1],E=this.container,F=C.getPagePoint(E.scrollLeft-c.x,E.scrollTop-c.y),X=Math.round(F[0]),G=Math.round(F[1]);y+=","+X+","+G,this._location={pageNumber:U,scale:N,top:G,left:X,rotation:this._pagesRotation,pdfOpenParams:y}}},{key:"_updateHelper",value:function(c){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var c=this._getVisiblePages(),O=c.views,H=O.length;if(H!==0){var N=Math.max(10,2*H+1);this._buffer.resize(N,O),this.renderingQueue.renderHighestPriority(c),this._updateHelper(O),this._updateLocation(c.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(c){return this.container.contains(c)}},{key:"focus",value:function(){this.container.focus()}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===_.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function(){return getComputedStyle(this.container).direction==="rtl"}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===_.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===_.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var c=this._pages[this._currentPageNumber-1],O=c.div,H={id:c.id,x:O.offsetLeft+O.clientLeft,y:O.offsetTop+O.clientTop,view:c};return{first:H,last:H,views:[H]}}},{key:"_getVisiblePages",value:function(){return(0,_.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function(c){return!!this.pdfDocument&&(Number.isInteger(c)&&c>0&&c<=this.pagesCount?this._getVisiblePages().views.some(function(O){return O.id===c}):(console.error("".concat(this._name,'.isPageVisible: "').concat(c,'" is not a valid page.')),!1))}},{key:"isPageCached",value:function(c){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(c)&&c>0&&c<=this.pagesCount))return console.error("".concat(this._name,'.isPageCached: "').concat(c,'" is not a valid page.')),!1;var O=this._pages[c-1];return!!O&&this._buffer.has(O)}},{key:"cleanup",value:function(){for(var c=0,O=this._pages.length;c<O;c++)this._pages[c]&&this._pages[c].renderingState!==I.RenderingStates.FINISHED&&this._pages[c].reset()}},{key:"_cancelRendering",value:function(){for(var c=0,O=this._pages.length;c<O;c++)this._pages[c]&&this._pages[c].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(c){var O=this;if(c.pdfPage)return Promise.resolve(c.pdfPage);if(this._pagesRequests.has(c))return this._pagesRequests.get(c);var H=this.pdfDocument.getPage(c.id).then(function(N){return c.pdfPage||c.setPdfPage(N),O._pagesRequests.delete(c),N}).catch(function(N){console.error("Unable to get page for page view",N),O._pagesRequests.delete(c)});return this._pagesRequests.set(c,H),H}},{key:"forceRendering",value:function(c){var O=this,H=c||this._getVisiblePages(),N=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,U=this.renderingQueue.getHighestPriority(H,this._pages,N);return!!U&&(this._ensurePdfPageLoaded(U).then(function(){O.renderingQueue.renderView(U)}),!0)}},{key:"createTextLayerBuilder",value:function(c,O,H){var N=arguments.length>3&&arguments[3]!==void 0&&arguments[3],U=arguments.length>4?arguments[4]:void 0;return new w.TextLayerBuilder({textLayerDiv:c,eventBus:U,pageIndex:O,viewport:H,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&N})}},{key:"createAnnotationLayerBuilder",value:function(c,O){var H,N,U,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",E=arguments.length>4&&arguments[4]!==void 0&&arguments[4],F=arguments.length>5&&arguments[5]!==void 0?arguments[5]:L.NullL10n,X=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,G=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,q=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null;return new j.AnnotationLayerBuilder({pageDiv:c,pdfPage:O,annotationStorage:y||((H=this.pdfDocument)===null||H===void 0?void 0:H.annotationStorage),imageResourcesPath:C,renderInteractiveForms:E,linkService:this.linkService,downloadManager:this.downloadManager,l10n:F,enableScripting:X!=null?X:this.enableScripting,hasJSActionsPromise:G||((N=this.pdfDocument)===null||N===void 0?void 0:N.hasJSActions()),mouseState:q||((U=this._scriptingManager)===null||U===void 0?void 0:U.mouseState)})}},{key:"createXfaLayerBuilder",value:function(c,O){var H,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new k.XfaLayerBuilder({pageDiv:c,pdfPage:O,annotationStorage:N||((H=this.pdfDocument)===null||H===void 0?void 0:H.annotationStorage)})}},{key:"createStructTreeLayerBuilder",value:function(c){return new R.StructTreeLayerBuilder({pdfPage:c})}},{key:"hasEqualPageSizes",get:function(){for(var c=this._pages[0],O=1,H=this._pages.length;O<H;++O){var N=this._pages[O];if(N.width!==c.width||N.height!==c.height)return!1}return!0}},{key:"getPagesOverview",value:function(){var c=this;return this._pages.map(function(O){var H=O.pdfPage.getViewport({scale:1});return!c.enablePrintAutoRotate||(0,_.isPortraitOrientation)(H)?{width:H.width,height:H.height,rotation:H.rotation}:{width:H.height,height:H.width,rotation:(H.rotation-90)%360}})}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(c){if(!(c instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(c));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=c;var O,H=A(this._pages);try{for(H.s();!(O=H.n()).done;){var N=O.value;N.update(N.scale,N.rotation,c)}}catch(U){H.e(U)}finally{H.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:c})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(c){if(this._scrollMode!==c){if(!(0,_.isValidScrollMode)(c))throw new Error("Invalid scroll mode: ".concat(c));this._scrollMode=c,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:c}),this._updateScrollMode(this._currentPageNumber)}}},{key:"_updateScrollMode",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,O=this._scrollMode,H=this.viewer;H.classList.toggle("scrollHorizontal",O===_.ScrollMode.HORIZONTAL),H.classList.toggle("scrollWrapped",O===_.ScrollMode.WRAPPED),this.pdfDocument&&c&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(c,!0),this.update())}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(c){if(this._spreadMode!==c){if(!(0,_.isValidSpreadMode)(c))throw new Error("Invalid spread mode: ".concat(c));this._spreadMode=c,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:c}),this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.pdfDocument){var O=this.viewer,H=this._pages;if(O.textContent="",this._spreadMode===_.SpreadMode.NONE)for(var N=0,U=H.length;N<U;++N)O.appendChild(H[N].div);else for(var y=this._spreadMode-1,C=null,E=0,F=H.length;E<F;++E)C===null?((C=document.createElement("div")).className="spread",O.appendChild(C)):E%2===y&&(C=C.cloneNode(!1),O.appendChild(C)),C.appendChild(H[E].div);c&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(c,!0),this.update())}}},{key:"_getPageAdvance",value:function(c){var O=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case _.ScrollMode.WRAPPED:var H,N=this._getVisiblePages(),U=N.views,y=new Map,C=A(U);try{for(C.s();!(H=C.n()).done;){var E=H.value,F=E.id,X=E.y,G=E.percent,q=E.widthPercent;if(!(G===0||q<100)){var ne=y.get(X);ne||y.set(X,ne||(ne=[])),ne.push(F)}}}catch(Ee){C.e(Ee)}finally{C.f()}var ie,ee=A(y.values());try{for(ee.s();!(ie=ee.n()).done;){var te=ie.value,se=te.indexOf(c);if(se!==-1){var le=te.length;if(le===1)break;if(O)for(var de=se-1,oe=0;de>=oe;de--){var B=te[de],J=te[de+1]-1;if(B<J)return c-J}else for(var Y=se+1,K=le;Y<K;Y++){var Z=te[Y],Q=te[Y-1]+1;if(Z>Q)return Q-c}if(O){var ue=te[0];if(ue<c)return c-ue+1}else{var ce=te[le-1];if(ce>c)return ce-c+1}break}}}catch(Ee){ee.e(Ee)}finally{ee.f()}break;case _.ScrollMode.HORIZONTAL:break;case _.ScrollMode.VERTICAL:if(this._spreadMode===_.SpreadMode.NONE)break;var ae=this._spreadMode-1;if(O&&c%2!==ae||!O&&c%2===ae)break;var me,ve=this._getVisiblePages(),he=ve.views,ge=O?c-1:c+1,ye=A(he);try{for(ye.s();!(me=ye.n()).done;){var pe=me.value,_e=pe.id,Se=pe.percent,Ce=pe.widthPercent;if(_e===ge){if(Se>0&&Ce===100)return 2;break}}}catch(Ee){ye.e(Ee)}finally{ye.f()}}return 1}},{key:"nextPage",value:function(){var c=this._currentPageNumber,O=this.pagesCount;if(c>=O)return!1;var H=this._getPageAdvance(c,!1)||1;return this.currentPageNumber=Math.min(c+H,O),!0}},{key:"previousPage",value:function(){var c=this._currentPageNumber;if(c<=1)return!1;var O=this._getPageAdvance(c,!0)||1;return this.currentPageNumber=Math.max(c-O,1),!0}}],v&&P(d.prototype,v),f}();u.BaseViewer=g},(l,u)=>{function m(w,k){var A=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!A){if(Array.isArray(w)||(A=function(f,d){if(f){if(typeof f=="string")return b(f,d);var v=Object.prototype.toString.call(f).slice(8,-1);return v==="Object"&&f.constructor&&(v=f.constructor.name),v==="Map"||v==="Set"?Array.from(f):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?b(f,d):void 0}}(w))||k&&w&&typeof w.length=="number"){A&&(w=A);var D=0,P=function(){};return{s:P,n:function(){return D>=w.length?{done:!0}:{done:!1,value:w[D++]}},e:function(f){throw f},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,x=!0,g=!1;return{s:function(){A=A.call(w)},n:function(){var f=A.next();return x=f.done,f},e:function(f){g=!0,T=f},f:function(){try{x||A.return==null||A.return()}finally{if(g)throw T}}}}function b(w,k){(k==null||k>w.length)&&(k=w.length);for(var A=0,D=new Array(k);A<k;A++)D[A]=w[A];return D}function _(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}function I(w,k){for(var A=0;A<k.length;A++){var D=k[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function j(w,k,A){return k&&I(w.prototype,k),A&&I(w,A),w}Object.defineProperty(u,"__esModule",{value:!0}),u.StructTreeLayerBuilder=u.DefaultStructTreeLayerFactory=void 0;var L={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},z=/^H(\d+)$/,M=function(){function w(k){var A=k.pdfPage;_(this,w),this.pdfPage=A}return j(w,[{key:"render",value:function(k){return this._walk(k)}},{key:"_setAttributes",value:function(k,A){k.alt!==void 0&&A.setAttribute("aria-label",k.alt),k.id!==void 0&&A.setAttribute("aria-owns",k.id)}},{key:"_walk",value:function(k){if(!k)return null;var A=document.createElement("span");if("role"in k){var D=k.role,P=D.match(z);P?(A.setAttribute("role","heading"),A.setAttribute("aria-level",P[1])):L[D]&&A.setAttribute("role",L[D])}if(this._setAttributes(k,A),k.children)if(k.children.length===1&&"id"in k.children[0])this._setAttributes(k.children[0],A);else{var T,x=m(k.children);try{for(x.s();!(T=x.n()).done;){var g=T.value;A.appendChild(this._walk(g))}}catch(f){x.e(f)}finally{x.f()}}return A}}]),w}();u.StructTreeLayerBuilder=M;var R=function(){function w(){_(this,w)}return j(w,[{key:"createStructTreeLayerBuilder",value:function(k){return new M({pdfPage:k})}}]),w}();u.DefaultStructTreeLayerFactory=R},(l,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.XfaLayerBuilder=u.DefaultXfaLayerFactory=void 0;var b=m(2);function _(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}function I(M,R){for(var w=0;w<R.length;w++){var k=R[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(M,k.key,k)}}function j(M,R,w){return R&&I(M.prototype,R),w&&I(M,w),M}var L=function(){function M(R){var w=R.pageDiv,k=R.pdfPage,A=R.annotationStorage;_(this,M),this.pageDiv=w,this.pdfPage=k,this.annotationStorage=A,this.div=null,this._cancelled=!1}return j(M,[{key:"render",value:function(R){var w=this;return this.pdfPage.getXfa().then(function(k){if(!w._cancelled){var A={viewport:R.clone({dontFlip:!0}),div:w.div,xfa:k,page:w.pdfPage,annotationStorage:w.annotationStorage};w.div?b.XfaLayer.update(A):(w.div=document.createElement("div"),w.pageDiv.appendChild(w.div),A.div=w.div,b.XfaLayer.render(A))}}).catch(function(k){console.error(k)})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),M}();u.XfaLayerBuilder=L;var z=function(){function M(){_(this,M)}return j(M,[{key:"createXfaLayerBuilder",value:function(R,w){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new L({pageDiv:R,pdfPage:w,annotationStorage:k})}}]),M}();u.DefaultXfaLayerFactory=z},(l,u,m)=>{function b(x){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},b(x)}Object.defineProperty(u,"__esModule",{value:!0}),u.PDFViewer=void 0;var _=m(7),I=m(21),j=m(2);function L(x,g){var f=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!f){if(Array.isArray(x)||(f=function(N,U){if(N){if(typeof N=="string")return z(N,U);var y=Object.prototype.toString.call(N).slice(8,-1);return y==="Object"&&N.constructor&&(y=N.constructor.name),y==="Map"||y==="Set"?Array.from(N):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?z(N,U):void 0}}(x))||g&&x&&typeof x.length=="number"){f&&(x=f);var d=0,v=function(){};return{s:v,n:function(){return d>=x.length?{done:!0}:{done:!1,value:x[d++]}},e:function(N){throw N},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,O=!0,H=!1;return{s:function(){f=f.call(x)},n:function(){var N=f.next();return O=N.done,N},e:function(N){H=!0,c=N},f:function(){try{O||f.return==null||f.return()}finally{if(H)throw c}}}}function z(x,g){(g==null||g>x.length)&&(g=x.length);for(var f=0,d=new Array(g);f<g;f++)d[f]=x[f];return d}function M(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function R(x,g){for(var f=0;f<g.length;f++){var d=g[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(x,d.key,d)}}function w(x,g,f){return w=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(d,v,c){var O=function(N,U){for(;!Object.prototype.hasOwnProperty.call(N,U)&&(N=P(N))!==null;);return N}(d,v);if(O){var H=Object.getOwnPropertyDescriptor(O,v);return H.get?H.get.call(c):H.value}},w(x,g,f||x)}function k(x,g){return k=Object.setPrototypeOf||function(f,d){return f.__proto__=d,f},k(x,g)}function A(x){var g=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var f,d=P(x);if(g){var v=P(this).constructor;f=Reflect.construct(d,arguments,v)}else f=d.apply(this,arguments);return D(this,f)}}function D(x,g){return!g||b(g)!=="object"&&typeof g!="function"?function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(x):g}function P(x){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},P(x)}var T=function(x){(function(c,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(O&&O.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),O&&k(c,O)})(v,x);var g,f,d=A(v);function v(){return M(this,v),d.apply(this,arguments)}return g=v,(f=[{key:"_viewerElement",get:function(){return(0,j.shadow)(this,"_viewerElement",this.viewer)}},{key:"_scrollIntoView",value:function(c){var O=c.pageDiv,H=c.pageSpot,N=H===void 0?null:H,U=c.pageNumber,y=U===void 0?null:U;if(!N&&!this.isInPresentationMode){var C=O.offsetLeft+O.clientLeft,E=C+O.clientWidth,F=this.container,X=F.scrollLeft,G=F.clientWidth;(this._isScrollModeHorizontal||C<X||E>X+G)&&(N={left:0,top:0})}w(P(v.prototype),"_scrollIntoView",this).call(this,{pageDiv:O,pageSpot:N,pageNumber:y})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():w(P(v.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(c){if(!this.isInPresentationMode){var O,H=this._currentPageNumber,N=!1,U=L(c);try{for(U.s();!(O=U.n()).done;){var y=O.value;if(y.percent<100)break;if(y.id===H&&this._scrollMode===_.ScrollMode.VERTICAL&&this._spreadMode===_.SpreadMode.NONE){N=!0;break}}}catch(C){U.e(C)}finally{U.f()}N||(H=c[0].id),this._setCurrentPageNumber(H)}}}])&&R(g.prototype,f),v}(I.BaseViewer);u.PDFViewer=T}],a={};function o(l){var u=a[l];if(u!==void 0)return u.exports;var m=a[l]={id:l,loaded:!1,exports:{}};return i[l](m,m.exports,o),m.loaded=!0,m.exports}o.nmd=l=>(l.paths=[],l.children||(l.children=[]),l);var s={};return(()=>{var l=s;Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return u.AnnotationLayerBuilder}}),Object.defineProperty(l,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return u.DefaultAnnotationLayerFactory}}),Object.defineProperty(l,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return m.DefaultTextLayerFactory}}),Object.defineProperty(l,"TextLayerBuilder",{enumerable:!0,get:function(){return m.TextLayerBuilder}}),Object.defineProperty(l,"EventBus",{enumerable:!0,get:function(){return b.EventBus}}),Object.defineProperty(l,"ProgressBar",{enumerable:!0,get:function(){return b.ProgressBar}}),Object.defineProperty(l,"PDFLinkService",{enumerable:!0,get:function(){return _.PDFLinkService}}),Object.defineProperty(l,"SimpleLinkService",{enumerable:!0,get:function(){return _.SimpleLinkService}}),Object.defineProperty(l,"DownloadManager",{enumerable:!0,get:function(){return I.DownloadManager}}),Object.defineProperty(l,"GenericL10n",{enumerable:!0,get:function(){return j.GenericL10n}}),Object.defineProperty(l,"NullL10n",{enumerable:!0,get:function(){return L.NullL10n}}),Object.defineProperty(l,"PDFFindController",{enumerable:!0,get:function(){return z.PDFFindController}}),Object.defineProperty(l,"PDFHistory",{enumerable:!0,get:function(){return M.PDFHistory}}),Object.defineProperty(l,"PDFPageView",{enumerable:!0,get:function(){return R.PDFPageView}}),Object.defineProperty(l,"PDFScriptingManager",{enumerable:!0,get:function(){return w.PDFScriptingManager}}),Object.defineProperty(l,"PDFSinglePageViewer",{enumerable:!0,get:function(){return k.PDFSinglePageViewer}}),Object.defineProperty(l,"PDFViewer",{enumerable:!0,get:function(){return A.PDFViewer}});var u=o(1),m=o(8),b=o(7),_=o(6),I=o(9),j=o(11),L=o(3),z=o(13),M=o(15),R=o(16),w=o(18),k=o(20),A=o(24)})(),s})()},t.exports=n()},18:(t,e,r)=>{var n=r(194);n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,r(346).Z)("4bef1e68",n,!1,{})},346:(t,e,r)=>{function n(D,P){for(var T=[],x={},g=0;g<P.length;g++){var f=P[g],d=f[0],v={id:D+":"+g,css:f[1],media:f[2],sourceMap:f[3]};x[d]?x[d].parts.push(v):T.push(x[d]={id:d,parts:[v]})}return T}r.d(e,{Z:()=>j});var i=typeof document!="undefined";if(typeof DEBUG!="undefined"&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},o=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,u=!1,m=function(){},b=null,_="data-vue-ssr-id",I=typeof navigator!="undefined"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function j(D,P,T,x){u=T,b=x||{};var g=n(D,P);return L(g),function(f){for(var d=[],v=0;v<g.length;v++){var c=g[v];(O=a[c.id]).refs--,d.push(O)}for(f?L(g=n(D,f)):g=[],v=0;v<d.length;v++){var O;if((O=d[v]).refs===0){for(var H=0;H<O.parts.length;H++)O.parts[H]();delete a[O.id]}}}}function L(D){for(var P=0;P<D.length;P++){var T=D[P],x=a[T.id];if(x){x.refs++;for(var g=0;g<x.parts.length;g++)x.parts[g](T.parts[g]);for(;g<T.parts.length;g++)x.parts.push(M(T.parts[g]));x.parts.length>T.parts.length&&(x.parts.length=T.parts.length)}else{var f=[];for(g=0;g<T.parts.length;g++)f.push(M(T.parts[g]));a[T.id]={id:T.id,refs:1,parts:f}}}}function z(){var D=document.createElement("style");return D.type="text/css",o.appendChild(D),D}function M(D){var P,T,x=document.querySelector("style["+_+'~="'+D.id+'"]');if(x){if(u)return m;x.parentNode.removeChild(x)}if(I){var g=l++;x=s||(s=z()),P=k.bind(null,x,g,!1),T=k.bind(null,x,g,!0)}else x=z(),P=A.bind(null,x),T=function(){x.parentNode.removeChild(x)};return P(D),function(f){if(f){if(f.css===D.css&&f.media===D.media&&f.sourceMap===D.sourceMap)return;P(D=f)}else T()}}var R,w=(R=[],function(D,P){return R[D]=P,R.filter(Boolean).join(`
`)});function k(D,P,T,x){var g=T?"":x.css;if(D.styleSheet)D.styleSheet.cssText=w(P,g);else{var f=document.createTextNode(g),d=D.childNodes;d[P]&&D.removeChild(d[P]),d.length?D.insertBefore(f,d[P]):D.appendChild(f)}}function A(D,P){var T=P.css,x=P.media,g=P.sourceMap;if(x&&D.setAttribute("media",x),b.ssrId&&D.setAttribute(_,P.id),g&&(T+=`
/*# sourceURL=`+g.sources[0]+" */",T+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),D.styleSheet)D.styleSheet.cssText=T;else{for(;D.firstChild;)D.removeChild(D.firstChild);D.appendChild(document.createTextNode(T))}}},477:t=>{t.exports=function(e,r,n,i){var a=self||window;try{try{var o;try{o=new a.Blob([e])}catch{(o=new(a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder)).append(e),o=o.getBlob()}var s=a.URL||a.webkitURL,l=s.createObjectURL(o),u=new a[r](l,n);return s.revokeObjectURL(l),u}catch{return new a[r]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch{if(!i)throw Error("Inline worker is not supported");return new a[r](i,n)}}},103:t=>{t.exports=__WEBPACK_EXTERNAL_MODULE__103__},601:()=>{},767:()=>{},251:()=>{},677:()=>{},543:()=>{},324:()=>{}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>P});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{s:()=>a});var e=__webpack_require__(103),r=(0,e.createVNode)("canvas",null,null,-1),n={key:0,class:"textLayer"},i={key:1,class:"annotationLayer"};function a(T,x,g,f,d,v){return(0,e.openBlock)(),(0,e.createBlock)("div",{id:g.id,class:"vue-pdf-embed"},[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(d.pageNums,function(c){return(0,e.openBlock)(),(0,e.createBlock)("div",{key:c,id:g.id&&"".concat(g.id,"-").concat(c)},[r,g.disableTextLayer?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)("div",n)),g.disableAnnotationLayer?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)("div",i))],8,["id"])}),128))],8,["id"])}var o=__webpack_require__(783),s=__webpack_require__(477),l=__webpack_require__.n(s),u=__webpack_require__(102);function m(T,x,g){var f=T.contentWindow.document.createElement("style");f.textContent=`
    @page { margin: 0; size: `.concat(x,"pt ").concat(g,`pt; }
    body { margin: 0; }
    canvas { page-break-after: always; page-break-before: avoid; page-break-inside: avoid; }
  `),T.contentWindow.document.head.appendChild(f)}function b(T){return new Promise(function(x){var g=document.createElement("iframe");g.width=0,g.height=0,g.style.position="absolute",g.style.top=0,g.style.left=0,g.style.border="none",g.style.overflow="hidden",g.onload=function(){return x(g)},T.appendChild(g)})}function _(T){for(;T.firstChild;)T.removeChild(T.firstChild)}function I(T){T.querySelectorAll("canvas").forEach(function(x){var g;x.width=1,x.height=1,(g=x.getContext("2d"))===null||g===void 0||g.clearRect(0,0,1,1)})}function j(T){return function(x){if(Array.isArray(x))return M(x)}(T)||function(x){if(typeof Symbol!="undefined"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(T)||z(T)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(T,x){return function(g){if(Array.isArray(g))return g}(T)||function(g,f){var d=g&&(typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"]);if(d!=null){var v,c,O=[],H=!0,N=!1;try{for(d=d.call(g);!(H=(v=d.next()).done)&&(O.push(v.value),!f||O.length!==f);H=!0);}catch(U){N=!0,c=U}finally{try{H||d.return==null||d.return()}finally{if(N)throw c}}return O}}(T,x)||z(T,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z(T,x){if(T){if(typeof T=="string")return M(T,x);var g=Object.prototype.toString.call(T).slice(8,-1);return g==="Object"&&T.constructor&&(g=T.constructor.name),g==="Map"||g==="Set"?Array.from(T):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?M(T,x):void 0}}function M(T,x){(x==null||x>T.length)&&(x=T.length);for(var g=0,f=new Array(x);g<x;g++)f[g]=T[g];return f}function R(T,x,g,f,d,v,c){try{var O=T[v](c),H=O.value}catch(N){return void g(N)}O.done?x(H):Promise.resolve(H).then(f,d)}function w(T){return function(){var x=this,g=arguments;return new Promise(function(f,d){var v=T.apply(x,g);function c(H){R(v,f,d,c,O,"next",H)}function O(H){R(v,f,d,c,O,"throw",H)}c(void 0)})}}o.GlobalWorkerOptions.workerPort=new function(){return l()(`(()=>{var e={636:function(e,t,r){var n;n=function(){return(()=>{var e=[,(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerTask=t.WorkerMessageHandler=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(113),s=r(115),c=r(172),u=r(6),l=r(197),f=r(198),h=r(117);function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function p(e){return b(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||m()}function g(e,t){return b(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||v(e,t)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){if(Array.isArray(e))return e}function w(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function k(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){w(i,n,a,o,s,"next",e)}function s(e){w(i,n,a,o,s,"throw",e)}o(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),e}var O=function(){function e(t){S(this,e),this.name=t,this.terminated=!1,this._capability=(0,i.createPromiseCapability)()}return A(e,[{key:"finished",get:function(){return this._capability.promise}},{key:"finish",value:function(){this._capability.resolve()}},{key:"terminate",value:function(){this.terminated=!0}},{key:"ensureNotTerminated",value:function(){if(this.terminated)throw new Error("Worker task was terminated")}}]),e}();t.WorkerTask=O;var C,T=function(){function e(){S(this,e)}return A(e,null,[{key:"setup",value:function(t,r){var n=!1;t.on("test",(function(e){if(!n)if(n=!0,e instanceof Uint8Array){var r=255===e[0];t.postMessageTransfers=r,t.send("test",{supportTransfers:r})}else t.send("test",null)})),t.on("configure",(function(e){(0,i.setVerbosityLevel)(e.verbosity)})),t.on("GetDocRequest",(function(t){return e.createDocumentHandler(t,r)}))}},{key:"createDocumentHandler",value:function(e,t){var r,n=!1,u=null,m=[],v=(0,i.getVerbosityLevel)(),y=e.apiVersion,b="2.9.359";if(y!==b)throw new Error('The API version "'.concat(y,'" does not match ')+'the Worker version "'.concat(b,'".'));var w=[];for(var S in[])w.push(S);if(w.length)throw new Error("The \`Array.prototype\` contains unexpected enumerable properties: "+w.join(", ")+"; thus breaking e.g. \`for...in\` iteration of \`Array\`s.");var x=e.docId,A=e.docBaseUrl,C=e.docId+"_worker",T=new l.MessageHandler(C,x,t);function F(){if(n)throw new Error("Worker was terminated")}function P(e){m.push(e)}function _(e){e.finish();var t=m.indexOf(e);m.splice(t,1)}function I(e){return E.apply(this,arguments)}function E(){return(E=k(a.default.mark((function e(t){var n,i,o,s,c,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ensureDoc("checkHeader");case 2:return e.next=4,r.ensureDoc("parseStartXRef");case 4:return e.next=6,r.ensureDoc("parse",[t]);case 6:if(t){e.next=9;break}return e.next=9,r.ensureDoc("checkFirstPage");case 9:return e.next=11,Promise.all([r.ensureDoc("numPages"),r.ensureDoc("fingerprint"),r.ensureDoc("isPureXfa")]);case 11:if(n=e.sent,i=g(n,3),o=i[0],s=i[1],!(c=i[2])){e.next=21;break}return P(u=new O("loadXfaFonts")),e.next=21,r.loadXfaFonts(T,u).catch((function(e){})).then((function(){return _(u)}));case 21:return e.abrupt("return",{numPages:o,fingerprint:s,isPureXfa:c});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,r){var n,a=(0,i.createPromiseCapability)(),o=e.source;if(o.data){try{n=new s.LocalPdfManager(x,o.data,o.password,t,r,A),a.resolve(n)}catch(e){a.reject(e)}return a.promise}var c,l=[];try{c=new f.PDFWorkerStream(T)}catch(e){return a.reject(e),a.promise}var h=c.getFullReader();h.headersReady.then((function(){if(h.isRangeSupported){var e=o.disableAutoFetch||h.isStreamingSupported;n=new s.NetworkPdfManager(x,c,{msgHandler:T,password:o.password,length:h.contentLength,disableAutoFetch:e,rangeChunkSize:o.rangeChunkSize},t,r,A);for(var i=0;i<l.length;i++)n.sendProgressiveData(l[i]);l=[],a.resolve(n),u=null}})).catch((function(e){a.reject(e),u=null}));var d=0;return new Promise((function(e,c){h.read().then((function e(f){var p=f.value,g=f.done;try{if(F(),g)return n||function(){var e=(0,i.arraysToBytes)(l);o.length&&e.length!==o.length&&(0,i.warn)("reported HTTP length is different from actual");try{n=new s.LocalPdfManager(x,e,o.password,t,r,A),a.resolve(n)}catch(e){a.reject(e)}l=[]}(),void(u=null);d+=(0,i.arrayByteLength)(p),h.isStreamingSupported||T.send("DocProgress",{loaded:d,total:Math.max(d,h.contentLength||0)}),n?n.sendProgressiveData(p):l.push(p),h.read().then(e,c)}catch(e){c(e)}}),c)})).catch((function(e){a.reject(e),u=null})),u=function(e){c.cancelAllRequests(e)},a.promise}return T.postMessageTransfers=e.postMessageTransfers,T.on("GetPage",(function(e){return r.getPage(e.pageIndex).then((function(e){return Promise.all([r.ensure(e,"rotate"),r.ensure(e,"ref"),r.ensure(e,"userUnit"),r.ensure(e,"view")]).then((function(e){var t=g(e,4);return{rotate:t[0],ref:t[1],userUnit:t[2],view:t[3]}}))}))})),T.on("GetPageIndex",(function(e){var t=e.ref,n=o.Ref.get(t.num,t.gen);return r.ensureCatalog("getPageIndex",[n])})),T.on("GetDestinations",(function(e){return r.ensureCatalog("destinations")})),T.on("GetDestination",(function(e){return r.ensureCatalog("getDestination",[e.id])})),T.on("GetPageLabels",(function(e){return r.ensureCatalog("pageLabels")})),T.on("GetPageLayout",(function(e){return r.ensureCatalog("pageLayout")})),T.on("GetPageMode",(function(e){return r.ensureCatalog("pageMode")})),T.on("GetViewerPreferences",(function(e){return r.ensureCatalog("viewerPreferences")})),T.on("GetOpenAction",(function(e){return r.ensureCatalog("openAction")})),T.on("GetAttachments",(function(e){return r.ensureCatalog("attachments")})),T.on("GetJavaScript",(function(e){return r.ensureCatalog("javaScript")})),T.on("GetDocJSActions",(function(e){return r.ensureCatalog("jsActions")})),T.on("GetPageJSActions",(function(e){var t=e.pageIndex;return r.getPage(t).then((function(e){return r.ensure(e,"jsActions")}))})),T.on("GetPageXfa",(function(e){var t=e.pageIndex;return r.getPage(t).then((function(e){return r.ensure(e,"xfaData")}))})),T.on("GetOutline",(function(e){return r.ensureCatalog("documentOutline")})),T.on("GetOptionalContentConfig",(function(e){return r.ensureCatalog("optionalContentConfig")})),T.on("GetPermissions",(function(e){return r.ensureCatalog("permissions")})),T.on("GetMetadata",(function(e){return Promise.all([r.ensureDoc("documentInfo"),r.ensureCatalog("metadata")])})),T.on("GetMarkInfo",(function(e){return r.ensureCatalog("markInfo")})),T.on("GetData",(function(e){return r.requestLoadedStream(),r.onLoadedStream().then((function(e){return e.bytes}))})),T.on("GetStats",(function(e){return r.ensureXRef("stats")})),T.on("GetAnnotations",(function(e){var t=e.pageIndex,n=e.intent;return r.getPage(t).then((function(e){return e.getAnnotationsData(n)}))})),T.on("GetFieldObjects",(function(e){return r.ensureDoc("fieldObjects")})),T.on("HasJSActions",(function(e){return r.ensureDoc("hasJSActions")})),T.on("GetCalculationOrderIds",(function(e){return r.ensureDoc("calculationOrderIds")})),T.on("SaveDocument",(function(e){var t=e.numPages,n=e.annotationStorage,a=e.filename;r.requestLoadedStream();for(var s=[r.onLoadedStream(),r.ensureCatalog("acroForm"),r.ensureDoc("xref"),r.ensureDoc("startXRef")],u=function(e){s.push(r.getPage(e).then((function(t){var r=new O("Save: page ".concat(e));return P(r),t.save(T,r,n).finally((function(){_(r)}))})))},l=0;l<t;l++)u(l);return Promise.all(s).then((function(e){var t,r=p(e),n=r[0],s=r[1],u=r[2],l=r[3],f=[],h=d(r.slice(4));try{for(h.s();!(t=h.n()).done;)f=t.value.filter((function(e){return null!==e})).reduce((function(e,t){return e.concat(t)}),f)}catch(e){h.e(e)}finally{h.f()}if(0===f.length)return n.bytes;var g=s instanceof o.Dict&&s.get("XFA")||[],m=null;if(Array.isArray(g))for(var v=0,y=g.length;v<y;v+=2)"datasets"===g[v]&&(m=g[v+1]);else(0,i.warn)("Unsupported XFA type.");var b=Object.create(null);if(u.trailer){var w=Object.create(null),k=u.trailer.get("Info")||null;k instanceof o.Dict&&k.forEach((function(e,t){(0,i.isString)(e)&&(0,i.isString)(t)&&(w[e]=(0,i.stringToPDFString)(t))})),b={rootRef:u.trailer.getRaw("Root")||null,encryptRef:u.trailer.getRaw("Encrypt")||null,newRef:u.getNewRef(),infoRef:u.trailer.getRaw("Info")||null,info:w,fileIds:u.trailer.get("ID")||null,startXRef:l,filename:a}}return u.resetNewRef(),(0,c.incrementalUpdate)({originalData:n.bytes,xrefInfo:b,newRefs:f,xref:u,datasetsRef:m})}))})),T.on("GetOperatorList",(function(e,t){var n=e.pageIndex;r.getPage(n).then((function(r){var a=new O("GetOperatorList: page ".concat(n));P(a);var o=v>=i.VerbosityLevel.INFOS?Date.now():0;r.getOperatorList({handler:T,sink:t,task:a,intent:e.intent,renderInteractiveForms:e.renderInteractiveForms,annotationStorage:e.annotationStorage}).then((function(e){_(a),o&&(0,i.info)("page=".concat(n+1," - getOperatorList: time=")+"".concat(Date.now()-o,"ms, len=").concat(e.length)),t.close()}),(function(e){_(a),a.terminated||(T.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorOperatorList}),t.error(e))}))}))})),T.on("GetTextContent",(function(e,t){var n=e.pageIndex;t.onPull=function(e){},t.onCancel=function(e){},r.getPage(n).then((function(r){var a=new O("GetTextContent: page "+n);P(a);var o=v>=i.VerbosityLevel.INFOS?Date.now():0;r.extractTextContent({handler:T,task:a,sink:t,normalizeWhitespace:e.normalizeWhitespace,includeMarkedContent:e.includeMarkedContent,combineTextItems:e.combineTextItems}).then((function(){_(a),o&&(0,i.info)("page=".concat(n+1," - getTextContent: time=")+"".concat(Date.now()-o,"ms")),t.close()}),(function(e){_(a),a.terminated||t.error(e)}))}))})),T.on("GetStructTree",(function(e){return r.getPage(e.pageIndex).then((function(e){return r.ensure(e,"getStructTree")}))})),T.on("FontFallback",(function(e){return r.fontFallback(e.id,T)})),T.on("Cleanup",(function(e){return r.cleanup(!0)})),T.on("Terminate",(function(e){n=!0;var t=[];if(r){r.terminate(new i.AbortException("Worker was terminated."));var a=r.cleanup();t.push(a),r=null}else(0,o.clearPrimitiveCaches)();u&&u(new i.AbortException("Worker was terminated."));var s,c=d(m);try{for(c.s();!(s=c.n()).done;){var l=s.value;t.push(l.finished),l.terminate()}}catch(e){c.e(e)}finally{c.f()}return Promise.all(t).then((function(){T.destroy(),T=null}))})),T.on("Ready",(function(t){!function(e){function t(e){F(),T.send("GetDoc",{pdfInfo:e})}function a(e){if(F(),e instanceof i.PasswordException){var t=new O("PasswordException: response ".concat(e.code));P(t),T.sendWithPromise("PasswordRequest",e).then((function(e){var n=e.password;_(t),r.updatePassword(n),o()})).catch((function(){_(t),T.send("DocException",e)}))}else e instanceof i.InvalidPDFException||e instanceof i.MissingPDFException||e instanceof i.UnexpectedResponseException||e instanceof i.UnknownErrorException?T.send("DocException",e):T.send("DocException",new i.UnknownErrorException(e.message,e.toString()))}function o(){F(),I(!1).then(t,(function(e){F(),e instanceof h.XRefParseException?(r.requestLoadedStream(),r.onLoadedStream().then((function(){F(),I(!0).then(t,a)}))):a(e)}))}F(),j(e,{maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties},e.enableXfa).then((function(e){if(n)throw e.terminate(new i.AbortException("Worker was terminated.")),new Error("Worker was terminated");(r=e).onLoadedStream().then((function(e){T.send("DataLoaded",{length:e.bytes.byteLength})}))})).then(o,a)}(e),e=null})),C}},{key:"initializeFromPort",value:function(t){var r=new l.MessageHandler("worker","main",t);e.setup(r,t),r.send("ready",null)}}]),e}();t.WorkerMessageHandler=T,"undefined"==typeof window&&!u.isNodeJS&&"undefined"!=typeof self&&"function"==typeof(C=self).postMessage&&"onmessage"in C&&T.initializeFromPort(self)},(e,t,r)=>{"use strict";e.exports=r(3)},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a=function(e){var t,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),o=new P(n||[]);return i._invoke=function(e,t,r){var n=h;return function(a,i){if(n===p)throw new Error("Generator is already running");if(n===g){if("throw"===a)throw i;return I()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=C(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=f(e,t,r);if("normal"===c.type){if(n=r.done?g:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=g,r.method="throw",r.arg=c.arg)}}}(e,r,o),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};w[o]=function(){return this};var k=Object.getPrototypeOf,S=k&&k(k(_([])));S&&S!==r&&a.call(S,o)&&(w=S);var x=b.prototype=v.prototype=Object.create(w);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(i,o,s,c){var u=f(e[i],e,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===n(h)&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}}function C(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=f(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(a.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=x.constructor=b,b.constructor=y,y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},A(O.prototype),O.prototype[s]=function(){return this},e.AsyncIterator=O,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new O(l(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(x),u(x,c,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=_,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),F(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;F(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}("object"===n(e=r.nmd(e))?e.exports:{});try{regeneratorRuntime=a}catch(e){Function("r","regeneratorRuntime = r")(a)}},(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=P,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var r=0,n=0;n<t;n++)r+=P(e[n]);for(var a=0,i=new Uint8Array(r),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"==typeof s?F(s):new Uint8Array(s));var c=s.byteLength;i.set(s,a),a+=c}return i},t.assert=v,t.bytesToString=function(e){v(null!==e&&"object"===o(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length,r=8192;if(t<r)return String.fromCharCode.apply(null,e);for(var n=[],a=0;a<t;a+=r){var i=Math.min(a+r,t),s=e.subarray(a,i);n.push(String.fromCharCode.apply(null,s))}return n.join("")},t.createObjectURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!r)return URL.createObjectURL(new Blob([e],{type:t}));for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="data:".concat(t,";base64,"),i=0,o=e.length;i<o;i+=3){var s=255&e[i],c=255&e[i+1],u=255&e[i+2],l=s>>2,f=(3&s)<<4|c>>4,h=i+1<o?(15&c)<<2|u>>6:64,d=i+2<o?63&u:64;a+=n[l]+n[f]+n[h]+n[d]}return a},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(r,n){e.resolve=function(e){t=!0,r(e)},e.reject=function(e){t=!0,n(e)}})),e},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var r=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(e){}return null},t.escapeString=function(e){return e.replace(/([()\\\\\\n\\r])/g,(function(e){return"\\n"===e?"\\\\n":"\\r"===e?"\\\\r":"\\\\".concat(e)}))},t.getModificationDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")},t.getVerbosityLevel=function(){return p},t.info=function(e){p>=d.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===o(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},t.isAscii=function(e){return/^[\\x00-\\x7F]*$/.test(e)},t.isBool=function(e){return"boolean"==typeof e},t.isNum=function(e){return"number"==typeof e},t.isSameOrigin=function(e,t){var r;try{if(!(r=new URL(e)).origin||"null"===r.origin)return!1}catch(e){return!1}var n=new URL(t,r);return r.origin===n.origin},t.isString=function(e){return"string"==typeof e},t.objectFromMap=function(e){var t,r,n,i=Object.create(null),o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}(e);try{for(o.s();!(t=o.n()).done;){var s=(r=t.value,n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(r,n)||a(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1];i[c]=u}}catch(e){o.e(e)}finally{o.f()}return i},t.objectSize=function(e){return Object.keys(e).length},t.removeNullCharacters=function(e){return"string"!=typeof e?(g("The argument for removeNullCharacters must be a string."),e):e.replace(T,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(p=e)},t.shadow=y,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=F,t.stringToPDFString=function(e){var t=e.length,r=[];if("\xFE"===e[0]&&"\xFF"===e[1])for(var n=2;n<t;n+=2)r.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)));else if("\xFF"===e[0]&&"\xFE"===e[1])for(var a=2;a<t;a+=2)r.push(String.fromCharCode(e.charCodeAt(a+1)<<8|e.charCodeAt(a)));else for(var i=0;i<t;++i){var o=M[e.charCodeAt(i)];r.push(o?String.fromCharCode(o):e.charAt(i))}return r.join("")},t.stringToUTF16BEString=function(e){for(var t=["\xFE\xFF"],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);t.push(String.fromCharCode(a>>8&255),String.fromCharCode(255&a))}return t.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.unreachable=m,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=g,t.VerbosityLevel=t.Util=t.UNSUPPORTED_FEATURES=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,r(5),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var d={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=d,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var p=d.WARNINGS;function g(e){p>=d.WARNINGS&&console.log("Warning: ".concat(e))}function m(e){throw new Error(e)}function v(e,t){e||m(t)}function y(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}var b=function(){function e(t){this.constructor===e&&m("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=b;var w=function(e){c(r,e);var t=l(r);function r(e,n){var a;return s(this,r),(a=t.call(this,e)).code=n,a}return r}(b);t.PasswordException=w;var k=function(e){c(r,e);var t=l(r);function r(e,n){var a;return s(this,r),(a=t.call(this,e)).details=n,a}return r}(b);t.UnknownErrorException=k;var S=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(b);t.InvalidPDFException=S;var x=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(b);t.MissingPDFException=x;var A=function(e){c(r,e);var t=l(r);function r(e,n){var a;return s(this,r),(a=t.call(this,e)).status=n,a}return r}(b);t.UnexpectedResponseException=A;var O=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(b);t.FormatError=O;var C=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(b);t.AbortException=C;var T=/\\x00/g;function F(e){v("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}function P(e){return void 0!==e.length?e.length:(v(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}var _={get value(){return y(this,"value",((e=new Uint8Array(4))[0]=1,1===new Uint32Array(e.buffer,0,1)[0]));var e}};t.IsLittleEndianCached=_;var I={get value(){return y(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=I;var E,j=(E=Array(256).keys(),function(e){if(Array.isArray(e))return i(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||a(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e.toString(16).padStart(2,"0")})),R=function(){function e(){s(this,e)}var t,r,a;return t=e,a=[{key:"makeHexColor",value:function(e,t,r){return"#".concat(j[e]).concat(j[t]).concat(j[r])}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}},{key:"getAxialAlignedBoundingBox",value:function(t,r){var n=e.applyTransform(t,r),a=e.applyTransform(t.slice(2,4),r),i=e.applyTransform([t[0],t[3]],r),o=e.applyTransform([t[2],t[1]],r);return[Math.min(n[0],a[0],i[0],o[0]),Math.min(n[1],a[1],i[1],o[1]),Math.max(n[0],a[0],i[0],o[0]),Math.max(n[1],a[1],i[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],o=(r+i)/2,s=Math.sqrt(Math.pow(r+i,2)-4*(r*i-a*n))/2,c=o+s||1,u=o-s||1;return[Math.sqrt(c),Math.sqrt(u)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,r){function n(e,t){return e-t}var a=[t[0],t[2],r[0],r[2]].sort(n),i=[t[1],t[3],r[1],r[3]].sort(n),o=[];return t=e.normalizeRect(t),r=e.normalizeRect(r),a[0]===t[0]&&a[1]===r[0]||a[0]===r[0]&&a[1]===t[0]?(o[0]=a[1],o[2]=a[2],i[0]===t[1]&&i[1]===r[1]||i[0]===r[1]&&i[1]===t[1]?(o[1]=i[1],o[3]=i[2],o):null):null}}],(r=null)&&n(t.prototype,r),a&&n(t,a),e}();t.Util=R;var M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},(e,t,r)=>{"use strict";var n=r(6);"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||("undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=r(7)),globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&n.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}),!globalThis.atob&&n.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),Object.fromEntries||r(53),globalThis.Promise.allSettled||(globalThis.Promise=r(84)),function(){var e=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),e=!0}catch(e){}e||(globalThis.ReadableStream=r(112).ReadableStream)}())},(e,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var n=!("object"!==("undefined"==typeof process?"undefined":r(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},(e,t,r)=>{r(8),e.exports=r(10)},(e,t,r)=>{r(9)({global:!0},{globalThis:r(10)})},(e,t,r)=>{var n=r(10),a=r(11).f,i=r(26),o=r(29),s=r(30),c=r(40),u=r(52);e.exports=function(e,t){var r,l,f,h,d,p=e.target,g=e.global,m=e.stat;if(r=g?n:m?n[p]||s(p,{}):(n[p]||{}).prototype)for(l in t){if(h=t[l],f=e.noTargetGet?(d=a(r,l))&&d.value:r[l],!u(g?l:p+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof h==typeof f)continue;c(h,f)}(e.sham||f&&f.sham)&&i(h,"sham",!0),o(r,l,h,e)}}},e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},(e,t,r)=>{var n=r(12),a=r(14),i=r(15),o=r(16),s=r(20),c=r(22),u=r(24),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=o(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(c(e,t))return i(!a.f.call(e,t),e[t])}},(e,t,r)=>{var n=r(13);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,r)=>{var n=r(17),a=r(19);e.exports=function(e){return n(a(e))}},(e,t,r)=>{var n=r(13),a=r(18),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},(e,t,r)=>{var n=r(21);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},(e,t,r)=>{var n=r(23),a={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return a.call(n(e),t)}},(e,t,r)=>{var n=r(19);e.exports=function(e){return Object(n(e))}},(e,t,r)=>{var n=r(12),a=r(13),i=r(25);e.exports=!n&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},(e,t,r)=>{var n=r(10),a=r(21),i=n.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},(e,t,r)=>{var n=r(12),a=r(27),i=r(15);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},(e,t,r)=>{var n=r(12),a=r(24),i=r(28),o=r(20),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=o(t,!0),i(r),a)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},(e,t,r)=>{var n=r(21);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},(e,t,r)=>{var n=r(10),a=r(26),i=r(22),o=r(30),s=r(31),c=r(33),u=c.get,l=c.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var c,u=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||a(r,"name",t),(c=l(r)).source||(c.source=f.join("string"==typeof t?t:""))),e!==n?(u?!d&&e[t]&&(h=!0):delete e[t],h?e[t]=r:a(e,t,r)):h?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},(e,t,r)=>{var n=r(10),a=r(26);e.exports=function(e,t){try{a(n,e,t)}catch(r){n[e]=t}return t}},(e,t,r)=>{var n=r(32),a=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return a.call(e)}),e.exports=n.inspectSource},(e,t,r)=>{var n=r(10),a=r(30),i="__core-js_shared__",o=n[i]||a(i,{});e.exports=o},(e,t,r)=>{var n,a,i,o=r(34),s=r(10),c=r(21),u=r(26),l=r(22),f=r(32),h=r(35),d=r(39),p="Object already initialized",g=s.WeakMap;if(o||f.state){var m=f.state||(f.state=new g),v=m.get,y=m.has,b=m.set;n=function(e,t){if(y.call(m,e))throw new TypeError(p);return t.facade=e,b.call(m,e,t),t},a=function(e){return v.call(m,e)||{}},i=function(e){return y.call(m,e)}}else{var w=h("state");d[w]=!0,n=function(e,t){if(l(e,w))throw new TypeError(p);return t.facade=e,u(e,w,t),t},a=function(e){return l(e,w)?e[w]:{}},i=function(e){return l(e,w)}}e.exports={set:n,get:a,has:i,enforce:function(e){return i(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},(e,t,r)=>{var n=r(10),a=r(31),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(a(i))},(e,t,r)=>{var n=r(36),a=r(38),i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},(e,t,r)=>{var n=r(37),a=r(32);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.13.1",mode:n?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},e=>{e.exports=!1},e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},e=>{e.exports={}},(e,t,r)=>{var n=r(22),a=r(41),i=r(11),o=r(27);e.exports=function(e,t){for(var r=a(t),s=o.f,c=i.f,u=0;u<r.length;u++){var l=r[u];n(e,l)||s(e,l,c(t,l))}}},(e,t,r)=>{var n=r(42),a=r(44),i=r(51),o=r(28);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},(e,t,r)=>{var n=r(43),a=r(10),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},(e,t,r)=>{var n=r(10);e.exports=n},(e,t,r)=>{var n=r(45),a=r(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},(e,t,r)=>{var n=r(22),a=r(16),i=r(46).indexOf,o=r(39);e.exports=function(e,t){var r,s=a(e),c=0,u=[];for(r in s)!n(o,r)&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~i(u,r)||u.push(r));return u}},(e,t,r)=>{var n=r(16),a=r(47),i=r(49),o=function(e){return function(t,r,o){var s,c=n(t),u=a(c.length),l=i(o,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},(e,t,r)=>{var n=r(48),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},(e,t,r)=>{var n=r(48),a=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,r)=>{var n=r(13),a=/#|\\.prototype\\./,i=function(e,t){var r=s[o(e)];return r==u||r!=c&&("function"==typeof t?n(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},(e,t,r)=>{r(54),r(74);var n=r(43);e.exports=n.Object.fromEntries},(e,t,r)=>{"use strict";var n=r(16),a=r(55),i=r(65),o=r(33),s=r(66),c="Array Iterator",u=o.set,l=o.getterFor(c);e.exports=s(Array,"Array",(function(e,t){u(this,{type:c,target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},(e,t,r)=>{var n=r(56),a=r(61),i=r(27),o=n("unscopables"),s=Array.prototype;null==s[o]&&i.f(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},(e,t,r)=>{var n=r(10),a=r(36),i=r(22),o=r(38),s=r(57),c=r(60),u=a("wks"),l=n.Symbol,f=c?l:l&&l.withoutSetter||o;e.exports=function(e){return i(u,e)&&(s||"string"==typeof u[e])||(s&&i(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},(e,t,r)=>{var n=r(58),a=r(13);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},(e,t,r)=>{var n,a,i=r(10),o=r(59),s=i.process,c=s&&s.versions,u=c&&c.v8;u?a=(n=u.split("."))[0]<4?1:n[0]+n[1]:o&&(!(n=o.match(/Edge\\/(\\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\\/(\\d+)/))&&(a=n[1]),e.exports=a&&+a},(e,t,r)=>{var n=r(42);e.exports=n("navigator","userAgent")||""},(e,t,r)=>{var n=r(57);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,r)=>{var n,a=r(28),i=r(62),o=r(50),s=r(39),c=r(64),u=r(25),l=r(35),f=l("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=n?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var r=o.length;r--;)delete p.prototype[o[r]];return p()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h.prototype=a(e),r=new h,h.prototype=null,r[f]=e):r=p(),void 0===t?r:i(r,t)}},(e,t,r)=>{var n=r(12),a=r(27),i=r(28),o=r(63);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=o(t),s=n.length,c=0;s>c;)a.f(e,r=n[c++],t[r]);return e}},(e,t,r)=>{var n=r(45),a=r(50);e.exports=Object.keys||function(e){return n(e,a)}},(e,t,r)=>{var n=r(42);e.exports=n("document","documentElement")},e=>{e.exports={}},(e,t,r)=>{"use strict";var n=r(9),a=r(67),i=r(69),o=r(72),s=r(71),c=r(26),u=r(29),l=r(56),f=r(37),h=r(65),d=r(68),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),v="keys",y="values",b="entries",w=function(){return this};e.exports=function(e,t,r,l,d,k,S){a(r,t,l);var x,A,O,C=function(e){if(e===d&&I)return I;if(!g&&e in P)return P[e];switch(e){case v:case y:case b:return function(){return new r(this,e)}}return function(){return new r(this)}},T=t+" Iterator",F=!1,P=e.prototype,_=P[m]||P["@@iterator"]||d&&P[d],I=!g&&_||C(d),E="Array"==t&&P.entries||_;if(E&&(x=i(E.call(new e)),p!==Object.prototype&&x.next&&(f||i(x)===p||(o?o(x,p):"function"!=typeof x[m]&&c(x,m,w)),s(x,T,!0,!0),f&&(h[T]=w))),d==y&&_&&_.name!==y&&(F=!0,I=function(){return _.call(this)}),f&&!S||P[m]===I||c(P,m,I),h[t]=I,d)if(A={values:C(y),keys:k?I:C(v),entries:C(b)},S)for(O in A)(g||F||!(O in P))&&u(P,O,A[O]);else n({target:t,proto:!0,forced:g||F},A);return A}},(e,t,r)=>{"use strict";var n=r(68).IteratorPrototype,a=r(61),i=r(15),o=r(71),s=r(65),c=function(){return this};e.exports=function(e,t,r){var u=t+" Iterator";return e.prototype=a(n,{next:i(1,r)}),o(e,u,!1,!0),s[u]=c,e}},(e,t,r)=>{"use strict";var n,a,i,o=r(13),s=r(69),c=r(26),u=r(22),l=r(56),f=r(37),h=l("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(a=s(s(i)))!==Object.prototype&&(n=a):d=!0);var p=null==n||o((function(){var e={};return n[h].call(e)!==e}));p&&(n={}),f&&!p||u(n,h)||c(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},(e,t,r)=>{var n=r(22),a=r(23),i=r(35),o=r(70),s=i("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},(e,t,r)=>{var n=r(13);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},(e,t,r)=>{var n=r(27).f,a=r(22),i=r(56)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},(e,t,r)=>{var n=r(28),a=r(73);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),a(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},(e,t,r)=>{var n=r(21);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},(e,t,r)=>{var n=r(9),a=r(75),i=r(83);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,(function(e,r){i(t,e,r)}),{AS_ENTRIES:!0}),t}})},(e,t,r)=>{var n=r(28),a=r(76),i=r(47),o=r(77),s=r(79),c=r(82),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var l,f,h,d,p,g,m,v=r&&r.that,y=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),w=!(!r||!r.INTERRUPTED),k=o(t,v,1+y+w),S=function(e){return l&&c(l),new u(!0,e)},x=function(e){return y?(n(e),w?k(e[0],e[1],S):k(e[0],e[1])):w?k(e,S):k(e)};if(b)l=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(a(f)){for(h=0,d=i(e.length);d>h;h++)if((p=x(e[h]))&&p instanceof u)return p;return new u(!1)}l=f.call(e)}for(g=l.next;!(m=g.call(l)).done;){try{p=x(m.value)}catch(e){throw c(l),e}if("object"==typeof p&&p&&p instanceof u)return p}return new u(!1)}},(e,t,r)=>{var n=r(56),a=r(65),i=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},(e,t,r)=>{var n=r(78);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},(e,t,r)=>{var n=r(80),a=r(65),i=r(56)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},(e,t,r)=>{var n=r(81),a=r(18),i=r(56)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?a(t):"Object"==(n=a(t))&&"function"==typeof t.callee?"Arguments":n}},(e,t,r)=>{var n={};n[r(56)("toStringTag")]="z",e.exports="[object z]"===String(n)},(e,t,r)=>{var n=r(28);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},(e,t,r)=>{"use strict";var n=r(20),a=r(27),i=r(15);e.exports=function(e,t,r){var o=n(t);o in e?a.f(e,o,i(0,r)):e[o]=r}},(e,t,r)=>{r(85),r(86),r(88),r(105),r(106),r(107),r(108),r(110);var n=r(43);e.exports=n.Promise},(e,t,r)=>{"use strict";var n=r(9),a=r(69),i=r(72),o=r(61),s=r(26),c=r(15),u=r(75),l=function(e,t){var r=this;if(!(r instanceof l))return new l(e,t);i&&(r=i(new Error(void 0),a(r))),void 0!==t&&s(r,"message",String(t));var n=[];return u(e,n.push,{that:n}),s(r,"errors",n),r};l.prototype=o(Error.prototype,{constructor:c(5,l),message:c(5,""),name:c(5,"AggregateError")}),n({global:!0},{AggregateError:l})},(e,t,r)=>{var n=r(81),a=r(29),i=r(87);n||a(Object.prototype,"toString",i,{unsafe:!0})},(e,t,r)=>{"use strict";var n=r(81),a=r(80);e.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},(e,t,r)=>{"use strict";var n,a,i,o,s=r(9),c=r(37),u=r(10),l=r(42),f=r(89),h=r(29),d=r(90),p=r(72),g=r(71),m=r(91),v=r(21),y=r(78),b=r(92),w=r(31),k=r(75),S=r(93),x=r(94),A=r(95).set,O=r(98),C=r(100),T=r(102),F=r(101),P=r(103),_=r(33),I=r(52),E=r(56),j=r(104),R=r(97),M=r(58),N=E("species"),B="Promise",D=_.get,L=_.set,U=_.getterFor(B),q=f&&f.prototype,X=f,H=q,$=u.TypeError,z=u.document,G=u.process,W=F.f,V=W,K=!!(z&&z.createEvent&&u.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,J="unhandledrejection",Z=!1,Q=I(B,(function(){var e=w(X)!==String(X);if(!e&&66===M)return!0;if(c&&!H.finally)return!0;if(M>=51&&/native code/.test(X))return!1;var t=new X((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(t.constructor={})[N]=r,!(Z=t.then((function(){}))instanceof r)||!e&&j&&!Y})),ee=Q||!S((function(e){X.all(e).catch((function(){}))})),te=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},re=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;O((function(){for(var n=e.value,a=1==e.state,i=0;r.length>i;){var o,s,c,u=r[i++],l=a?u.ok:u.fail,f=u.resolve,h=u.reject,d=u.domain;try{l?(a||(2===e.rejection&&oe(e),e.rejection=1),!0===l?o=n:(d&&d.enter(),o=l(n),d&&(d.exit(),c=!0)),o===u.promise?h($("Promise-chain cycle")):(s=te(o))?s.call(o,f,h):f(o)):h(n)}catch(e){d&&!c&&d.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ae(e)}))}},ne=function(e,t,r){var n,a;K?((n=z.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},!Y&&(a=u["on"+e])?a(n):e===J&&T("Unhandled promise rejection",r)},ae=function(e){A.call(u,(function(){var t,r=e.facade,n=e.value;if(ie(e)&&(t=P((function(){R?G.emit("unhandledRejection",n,r):ne(J,r,n)})),e.rejection=R||ie(e)?2:1,t.error))throw t.value}))},ie=function(e){return 1!==e.rejection&&!e.parent},oe=function(e){A.call(u,(function(){var t=e.facade;R?G.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},se=function(e,t,r){return function(n){e(t,n,r)}},ce=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,re(e,!0))},ue=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw $("Promise can't be resolved itself");var n=te(t);n?O((function(){var r={done:!1};try{n.call(t,se(ue,r,e),se(ce,r,e))}catch(t){ce(r,t,e)}})):(e.value=t,e.state=1,re(e,!1))}catch(t){ce({done:!1},t,e)}}};if(Q&&(H=(X=function(e){b(this,X,B),y(e),n.call(this);var t=D(this);try{e(se(ue,t),se(ce,t))}catch(e){ce(t,e)}}).prototype,(n=function(e){L(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(H,{then:function(e,t){var r=U(this),n=W(x(this,X));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=R?G.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&re(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n,t=D(e);this.promise=e,this.resolve=se(ue,t),this.reject=se(ce,t)},F.f=W=function(e){return e===X||e===i?new a(e):V(e)},!c&&"function"==typeof f&&q!==Object.prototype)){o=q.then,Z||(h(q,"then",(function(e,t){var r=this;return new X((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),h(q,"catch",H.catch,{unsafe:!0}));try{delete q.constructor}catch(e){}p&&p(q,H)}s({global:!0,wrap:!0,forced:Q},{Promise:X}),g(X,B,!1,!0),m(B),i=l(B),s({target:B,stat:!0,forced:Q},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),s({target:B,stat:!0,forced:c||Q},{resolve:function(e){return C(c&&this===i?X:this,e)}}),s({target:B,stat:!0,forced:ee},{all:function(e){var t=this,r=W(t),n=r.resolve,a=r.reject,i=P((function(){var r=y(t.resolve),i=[],o=0,s=1;k(e,(function(e){var c=o++,u=!1;i.push(void 0),s++,r.call(t,e).then((function(e){u||(u=!0,i[c]=e,--s||n(i))}),a)})),--s||n(i)}));return i.error&&a(i.value),r.promise},race:function(e){var t=this,r=W(t),n=r.reject,a=P((function(){var a=y(t.resolve);k(e,(function(e){a.call(t,e).then(r.resolve,n)}))}));return a.error&&n(a.value),r.promise}})},(e,t,r)=>{var n=r(10);e.exports=n.Promise},(e,t,r)=>{var n=r(29);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},(e,t,r)=>{"use strict";var n=r(42),a=r(27),i=r(56),o=r(12),s=i("species");e.exports=function(e){var t=n(e),r=a.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},e=>{e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},(e,t,r)=>{var n=r(56)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},(e,t,r)=>{var n=r(28),a=r(78),i=r(56)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[i])?t:a(r)}},(e,t,r)=>{var n,a,i,o=r(10),s=r(13),c=r(77),u=r(64),l=r(25),f=r(96),h=r(97),d=o.location,p=o.setImmediate,g=o.clearImmediate,m=o.process,v=o.MessageChannel,y=o.Dispatch,b=0,w={},k="onreadystatechange",S=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},x=function(e){return function(){S(e)}},A=function(e){S(e.data)},O=function(e){o.postMessage(e+"",d.protocol+"//"+d.host)};p&&g||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(b),b},g=function(e){delete w[e]},h?n=function(e){m.nextTick(x(e))}:y&&y.now?n=function(e){y.now(x(e))}:v&&!f?(i=(a=new v).port2,a.port1.onmessage=A,n=c(i.postMessage,i,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&d&&"file:"!==d.protocol&&!s(O)?(n=O,o.addEventListener("message",A,!1)):n=k in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),S(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:p,clear:g}},(e,t,r)=>{var n=r(59);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},(e,t,r)=>{var n=r(18),a=r(10);e.exports="process"==n(a.process)},(e,t,r)=>{var n,a,i,o,s,c,u,l,f=r(10),h=r(11).f,d=r(95).set,p=r(96),g=r(99),m=r(97),v=f.MutationObserver||f.WebKitMutationObserver,y=f.document,b=f.process,w=f.Promise,k=h(f,"queueMicrotask"),S=k&&k.value;S||(n=function(){var e,t;for(m&&(e=b.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():i=void 0,e}}i=void 0,e&&e.enter()},p||m||g||!v||!y?w&&w.resolve?((u=w.resolve(void 0)).constructor=w,l=u.then,o=function(){l.call(u,n)}):o=m?function(){b.nextTick(n)}:function(){d.call(f,n)}:(s=!0,c=y.createTextNode(""),new v(n).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),a||(a=t,o()),i=t}},(e,t,r)=>{var n=r(59);e.exports=/web0s(?!.*chrome)/i.test(n)},(e,t,r)=>{var n=r(28),a=r(21),i=r(101);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},(e,t,r)=>{"use strict";var n=r(78),a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},(e,t,r)=>{var n=r(10);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},e=>{e.exports="object"==typeof window},(e,t,r)=>{"use strict";var n=r(9),a=r(78),i=r(101),o=r(103),s=r(75);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=i.f(t),n=r.resolve,c=r.reject,u=o((function(){var r=a(t.resolve),i=[],o=0,c=1;s(e,(function(e){var a=o++,s=!1;i.push(void 0),c++,r.call(t,e).then((function(e){s||(s=!0,i[a]={status:"fulfilled",value:e},--c||n(i))}),(function(e){s||(s=!0,i[a]={status:"rejected",reason:e},--c||n(i))}))})),--c||n(i)}));return u.error&&c(u.value),r.promise}})},(e,t,r)=>{"use strict";var n=r(9),a=r(78),i=r(42),o=r(101),s=r(103),c=r(75),u="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=o.f(t),n=r.resolve,l=r.reject,f=s((function(){var r=a(t.resolve),o=[],s=0,f=1,h=!1;c(e,(function(e){var a=s++,c=!1;o.push(void 0),f++,r.call(t,e).then((function(e){c||h||(h=!0,n(e))}),(function(e){c||h||(c=!0,o[a]=e,--f||l(new(i("AggregateError"))(o,u)))}))})),--f||l(new(i("AggregateError"))(o,u))}));return f.error&&l(f.value),r.promise}})},(e,t,r)=>{"use strict";var n=r(9),a=r(37),i=r(89),o=r(13),s=r(42),c=r(94),u=r(100),l=r(29);if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!a&&"function"==typeof i){var f=s("Promise").prototype.finally;i.prototype.finally!==f&&l(i.prototype,"finally",f,{unsafe:!0})}},(e,t,r)=>{"use strict";var n=r(109).charAt,a=r(33),i=r(66),o="String Iterator",s=a.set,c=a.getterFor(o);i(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=c(this),r=t.string,a=t.index;return a>=r.length?{value:void 0,done:!0}:(e=n(r,a),t.index+=e.length,{value:e,done:!1})}))},(e,t,r)=>{var n=r(48),a=r(19),i=function(e){return function(t,r){var i,o,s=String(a(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},(e,t,r)=>{var n=r(10),a=r(111),i=r(54),o=r(26),s=r(56),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in a){var h=n[f],d=h&&h.prototype;if(d){if(d[c]!==l)try{o(d,c,l)}catch(e){d[c]=l}if(d[u]||o(d,u,f),a[f])for(var p in i)if(d[p]!==i[p])try{o(d,p,i[p])}catch(e){d[p]=i[p]}}}},e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t){!function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol("+e+")"};function n(){}function a(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:void 0}var i=a();function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}var s=n,c=Promise,u=Promise.prototype.then,l=Promise.resolve.bind(c),f=Promise.reject.bind(c);function h(e){return new c(e)}function d(e){return l(e)}function p(e){return f(e)}function g(e,t,r){return u.call(e,t,r)}function m(e,t,r){g(g(e,t,r),void 0,s)}function v(e,t){m(e,t)}function y(e,t){m(e,void 0,t)}function b(e,t,r){return g(e,t,r)}function w(e){g(e,void 0,s)}var k=function(){var e=i&&i.queueMicrotask;if("function"==typeof e)return e;var t=d(void 0);return function(e){return g(t,e)}}();function S(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function x(e,t,r){try{return d(S(e,t,r))}catch(e){return p(e)}}var A=16384,O=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this._back,r=t;t._elements.length===A-1&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size},e.prototype.shift=function(){var e=this._front,t=e,r=this._cursor,n=r+1,a=e._elements,i=a[r];return n===A&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),a[r]=void 0,i},e.prototype.forEach=function(e){for(var t=this._cursor,r=this._front,n=r._elements;!(t===n.length&&void 0===r._next||t===n.length&&(t=0,0===(n=(r=r._next)._elements).length));)e(n[t]),++t},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}();function C(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?_(e):"closed"===t._state?E(e):I(e,t._storedError)}function T(e,t){return yn(e._ownerReadableStream,t)}function F(e){"readable"===e._ownerReadableStream._state?j(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):R(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function P(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function _(e){e._closedPromise=h((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function I(e,t){_(e),j(e,t)}function E(e){_(e),M(e)}function j(e,t){void 0!==e._closedPromise_reject&&(w(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function R(e,t){I(e,t)}function M(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var N=t("[[AbortSteps]]"),B=t("[[ErrorSteps]]"),D=t("[[CancelSteps]]"),L=t("[[PullSteps]]"),U=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},q=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function X(e){return"object"==typeof e||"function"==typeof e}function H(e,t){if(void 0!==e&&!X(e))throw new TypeError(t+" is not an object.")}function $(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function.")}function z(e){return"object"==typeof e&&null!==e||"function"==typeof e}function G(e,t){if(!z(e))throw new TypeError(t+" is not an object.")}function W(e,t,r){if(void 0===e)throw new TypeError("Parameter "+t+" is required in '"+r+"'.")}function V(e,t,r){if(void 0===e)throw new TypeError(t+" is required in '"+r+"'.")}function K(e){return Number(e)}function Y(e){return 0===e?0:e}function J(e){return Y(q(e))}function Z(e,t){var r=0,n=Number.MAX_SAFE_INTEGER,a=Number(e);if(a=Y(a),!U(a))throw new TypeError(t+" is not a finite number");if((a=J(a))<r||a>n)throw new TypeError(t+" is outside the accepted range of "+r+" to "+n+", inclusive");return U(a)&&0!==a?a:0}function Q(e,t){if(!mn(e))throw new TypeError(t+" is not a ReadableStream.")}function ee(e){return new se(e)}function te(e,t){e._reader._readRequests.push(t)}function re(e,t,r){var n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function ne(e){return e._reader._readRequests.length}function ae(e){var t=e._reader;return void 0!==t&&!!ce(t)}var ie,oe,se=function(){function e(e){if(W(e,1,"ReadableStreamDefaultReader"),Q(e,"First parameter"),vn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,e),this._readRequests=new O}return Object.defineProperty(e.prototype,"closed",{get:function(){return ce(this)?this._closedPromise:p(le("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),ce(this)?void 0===this._ownerReadableStream?p(P("cancel")):T(this,e):p(le("cancel"))},e.prototype.read=function(){if(!ce(this))return p(le("read"));if(void 0===this._ownerReadableStream)return p(P("read from"));var e,t,r=h((function(r,n){e=r,t=n}));return ue(this,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(){return e({value:void 0,done:!0})},_errorSteps:function(e){return t(e)}}),r},e.prototype.releaseLock=function(){if(!ce(this))throw le("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},e}();function ce(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function ue(e,t){var r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[L](t)}function le(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(se.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(se.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof t.asyncIterator&&((ie={})[t.asyncIterator]=function(){return this},oe=ie,Object.defineProperty(oe,t.asyncIterator,{enumerable:!1}));var fe=function(){function e(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return e.prototype.next=function(){var e=this,t=function(){return e._nextSteps()};return this._ongoingPromise=this._ongoingPromise?b(this._ongoingPromise,t,t):t(),this._ongoingPromise},e.prototype.return=function(e){var t=this,r=function(){return t._returnSteps(e)};return this._ongoingPromise?b(this._ongoingPromise,r,r):r()},e.prototype._nextSteps=function(){var e=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var t,r,n=this._reader;if(void 0===n._ownerReadableStream)return p(P("iterate"));var a=h((function(e,n){t=e,r=n}));return ue(n,{_chunkSteps:function(r){e._ongoingPromise=void 0,k((function(){return t({value:r,done:!1})}))},_closeSteps:function(){e._ongoingPromise=void 0,e._isFinished=!0,F(n),t({value:void 0,done:!0})},_errorSteps:function(t){e._ongoingPromise=void 0,e._isFinished=!0,F(n),r(t)}}),a},e.prototype._returnSteps=function(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;var t=this._reader;if(void 0===t._ownerReadableStream)return p(P("finish iterating"));if(!this._preventCancel){var r=T(t,e);return F(t),b(r,(function(){return{value:e,done:!0}}))}return F(t),d({value:e,done:!0})},e}(),he={next:function(){return pe(this)?this._asyncIteratorImpl.next():p(ge("next"))},return:function(e){return pe(this)?this._asyncIteratorImpl.return(e):p(ge("return"))}};function de(e,t){var r=ee(e),n=new fe(r,t),a=Object.create(he);return a._asyncIteratorImpl=n,a}function pe(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function ge(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}void 0!==oe&&Object.setPrototypeOf(he,oe);var me=Number.isNaN||function(e){return e!=e};function ve(e){return!!ye(e)&&e!==1/0}function ye(e){return!("number"!=typeof e||me(e)||e<0)}function be(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function we(e,t,r){if(!ve(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function ke(e){return e._queue.peek().value}function Se(e){e._queue=new O,e._queueTotalSize=0}function xe(e){return e.slice()}function Ae(e,t,r,n,a){new Uint8Array(e).set(new Uint8Array(r,n,a),t)}function Oe(e){return e}function Ce(e){return!1}var Te=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!_e(this))throw nt("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!_e(this))throw nt("respond");if(W(e,1,"respond"),e=Z(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Ce(this._view.buffer),Ze(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!_e(this))throw nt("respondWithNewView");if(W(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Qe(this._associatedReadableByteStreamController,e)},e}();Object.defineProperties(Te.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Te.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Fe=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!Pe(this))throw at("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(Te.prototype);rt(r,this,t),this._byobRequest=r}return this._byobRequest},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Pe(this))throw at("desiredSize");return Je(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Pe(this))throw at("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");Ve(this)},e.prototype.enqueue=function(e){if(!Pe(this))throw at("enqueue");if(W(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");Ke(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Pe(this))throw at("error");Ye(this,e)},e.prototype[D]=function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),Se(this);var t=this._cancelAlgorithm(e);return We(this),t},e.prototype[L]=function(e){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0){var r=this._queue.shift();this._queueTotalSize-=r.byteLength,De(this);var n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);e._chunkSteps(n)}else{var a=this._autoAllocateChunkSize;if(void 0!==a){var i=void 0;try{i=new ArrayBuffer(a)}catch(t){return void e._errorSteps(t)}var o={buffer:i,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}te(t,e),Ie(this)}},e}();function Pe(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function _e(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function Ie(e){Ge(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,m(e._pullAlgorithm(),(function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ie(e))}),(function(t){Ye(e,t)}))))}function Ee(e){Le(e),e._pendingPullIntos=new O}function je(e,t){var r=!1;"closed"===e._state&&(r=!0);var n=Re(t);"default"===t.readerType?re(e,n,r):st(e,n,r)}function Re(e){var t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Me(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Ne(e,t){var r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+a,o=i-i%r,s=a,c=!1;o>n&&(s=o-t.bytesFilled,c=!0);for(var u=e._queue;s>0;){var l=u.peek(),f=Math.min(s,l.byteLength),h=t.byteOffset+t.bytesFilled;Ae(t.buffer,h,l.buffer,l.byteOffset,f),l.byteLength===f?u.shift():(l.byteOffset+=f,l.byteLength-=f),e._queueTotalSize-=f,Be(e,f,t),s-=f}return c}function Be(e,t,r){Le(e),r.bytesFilled+=t}function De(e){0===e._queueTotalSize&&e._closeRequested?(We(e),bn(e._controlledReadableByteStream)):Ie(e)}function Le(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ue(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();Ne(e,t)&&(ze(e),je(e._controlledReadableByteStream,t))}}function qe(e,t,r){var n=e._controlledReadableByteStream,a=1;t.constructor!==DataView&&(a=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,o={buffer:Oe(t.buffer),byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:a,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(o),void ot(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Ne(e,o)){var s=Re(o);return De(e),void r._chunkSteps(s)}if(e._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ye(e,c),void r._errorSteps(c)}}e._pendingPullIntos.push(o),ot(n,r),Ie(e)}else{var u=new i(o.buffer,o.byteOffset,0);r._closeSteps(u)}}function Xe(e,t){t.buffer=Oe(t.buffer);var r=e._controlledReadableByteStream;if(ut(r))for(;ct(r)>0;)je(r,ze(e))}function He(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(Be(e,t,r),!(r.bytesFilled<r.elementSize)){ze(e);var n=r.bytesFilled%r.elementSize;if(n>0){var a=r.byteOffset+r.bytesFilled,i=r.buffer.slice(a-n,a);Me(e,i,0,i.byteLength)}r.buffer=Oe(r.buffer),r.bytesFilled-=n,je(e._controlledReadableByteStream,r),Ue(e)}}function $e(e,t){var r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");Xe(e,r)}else He(e,t,r);Ie(e)}function ze(e){var t=e._pendingPullIntos.shift();return Le(e),t}function Ge(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(ae(t)&&ne(t)>0)||!!(ut(t)&&ct(t)>0)||Je(e)>0)}function We(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ve(e){var t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){var r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ye(e,r),r}We(e),bn(t)}}function Ke(e,t){var r=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===r._state){var n=t.buffer,a=t.byteOffset,i=t.byteLength,o=Oe(n);ae(r)?0===ne(r)?Me(e,o,a,i):re(r,new Uint8Array(o,a,i),!1):ut(r)?(Me(e,o,a,i),Ue(e)):Me(e,o,a,i),Ie(e)}}function Ye(e,t){var r=e._controlledReadableByteStream;"readable"===r._state&&(Ee(e),Se(e),We(e),wn(r,t))}function Je(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ze(e,t){if(!ve(t=Number(t)))throw new RangeError("bytesWritten must be a finite");$e(e,t)}function Qe(e,t){var r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,$e(e,t.byteLength)}function et(e,t,r,n,a,i,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Se(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=a,t._autoAllocateChunkSize=o,t._pendingPullIntos=new O,e._readableStreamController=t,m(d(r()),(function(){t._started=!0,Ie(t)}),(function(e){Ye(t,e)}))}function tt(e,t,r){var n=Object.create(Fe.prototype),a=function(){},i=function(){return d(void 0)},o=function(){return d(void 0)};void 0!==t.start&&(a=function(){return t.start(n)}),void 0!==t.pull&&(i=function(){return t.pull(n)}),void 0!==t.cancel&&(o=function(e){return t.cancel(e)});var s=t.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");et(e,n,a,i,o,r,s)}function rt(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}function nt(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function at(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function it(e){return new lt(e)}function ot(e,t){e._reader._readIntoRequests.push(t)}function st(e,t,r){var n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}function ct(e){return e._reader._readIntoRequests.length}function ut(e){var t=e._reader;return void 0!==t&&!!ft(t)}Object.defineProperties(Fe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Fe.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var lt=function(){function e(e){if(W(e,1,"ReadableStreamBYOBReader"),Q(e,"First parameter"),vn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Pe(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");C(this,e),this._readIntoRequests=new O}return Object.defineProperty(e.prototype,"closed",{get:function(){return ft(this)?this._closedPromise:p(dt("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),ft(this)?void 0===this._ownerReadableStream?p(P("cancel")):T(this,e):p(dt("cancel"))},e.prototype.read=function(e){if(!ft(this))return p(dt("read"));if(!ArrayBuffer.isView(e))return p(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return p(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return p(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return p(P("read from"));var t,r,n=h((function(e,n){t=e,r=n}));return ht(this,e,{_chunkSteps:function(e){return t({value:e,done:!1})},_closeSteps:function(e){return t({value:e,done:!0})},_errorSteps:function(e){return r(e)}}),n},e.prototype.releaseLock=function(){if(!ft(this))throw dt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},e}();function ft(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function ht(e,t,r){var n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):qe(n._readableStreamController,t,r)}function dt(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function pt(e,t){var r=e.highWaterMark;if(void 0===r)return t;if(me(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function gt(e){var t=e.size;return t||function(){return 1}}function mt(e,t){H(e,t);var r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:K(r),size:void 0===n?void 0:vt(n,t+" has member 'size' that")}}function vt(e,t){return $(e,t),function(t){return K(e(t))}}function yt(e,t){H(e,t);var r=null==e?void 0:e.abort,n=null==e?void 0:e.close,a=null==e?void 0:e.start,i=null==e?void 0:e.type,o=null==e?void 0:e.write;return{abort:void 0===r?void 0:bt(r,e,t+" has member 'abort' that"),close:void 0===n?void 0:wt(n,e,t+" has member 'close' that"),start:void 0===a?void 0:kt(a,e,t+" has member 'start' that"),write:void 0===o?void 0:St(o,e,t+" has member 'write' that"),type:i}}function bt(e,t,r){return $(e,r),function(r){return x(e,t,[r])}}function wt(e,t,r){return $(e,r),function(){return x(e,t,[])}}function kt(e,t,r){return $(e,r),function(r){return S(e,t,[r])}}function St(e,t,r){return $(e,r),function(r,n){return x(e,t,[r,n])}}function xt(e,t){if(!Ft(e))throw new TypeError(t+" is not a WritableStream.")}Object.defineProperties(lt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(lt.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var At=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:G(e,"First parameter");var r=mt(t,"Second parameter"),n=yt(e,"First parameter");if(Tt(this),void 0!==n.type)throw new RangeError("Invalid type is specified");var a=gt(r);or(this,n,pt(r,1),a)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!Ft(this))throw yr("locked");return Pt(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),Ft(this)?Pt(this)?p(new TypeError("Cannot abort a stream that already has a writer")):_t(this,e):p(yr("abort"))},e.prototype.close=function(){return Ft(this)?Pt(this)?p(new TypeError("Cannot close a stream that already has a writer")):Ut(this)?p(new TypeError("Cannot close an already-closing stream")):It(this):p(yr("close"))},e.prototype.getWriter=function(){if(!Ft(this))throw yr("getWriter");return Ot(this)},e}();function Ot(e){return new Gt(e)}function Ct(e,t,r,n,a,i){void 0===a&&(a=1),void 0===i&&(i=function(){return 1});var o=Object.create(At.prototype);return Tt(o),ir(o,Object.create(nr.prototype),e,t,r,n,a,i),o}function Tt(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new O,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ft(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function Pt(e){return void 0!==e._writer}function _t(e,t){var r=e._state;if("closed"===r||"errored"===r)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var n=!1;"erroring"===r&&(n=!0,t=void 0);var a=h((function(r,a){e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:a,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=a,n||Rt(e,t),a}function It(e){var t=e._state;if("closed"===t||"errored"===t)return p(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"));var r=h((function(t,r){var n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===t&&jr(n),cr(e._writableStreamController),r}function Et(e){return h((function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}function jt(e,t){"writable"!==e._state?Mt(e):Rt(e,t)}function Rt(e,t){var r=e._writableStreamController;e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&Zt(n,t),!qt(e)&&r._started&&Mt(e)}function Mt(e){e._state="errored",e._writableStreamController[B]();var t=e._storedError;if(e._writeRequests.forEach((function(e){e._reject(t)})),e._writeRequests=new O,void 0!==e._pendingAbortRequest){var r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void $t(e);m(e._writableStreamController[N](r._reason),(function(){r._resolve(),$t(e)}),(function(t){r._reject(t),$t(e)}))}else $t(e)}function Nt(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Bt(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,jt(e,t)}function Dt(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&Cr(t)}function Lt(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),jt(e,t)}function Ut(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function qt(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function Xt(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Ht(e){e._inFlightWriteRequest=e._writeRequests.shift()}function $t(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&Ar(t,e._storedError)}function zt(e,t){var r=e._writer;void 0!==r&&t!==e._backpressure&&(t?Ir(r):jr(r)),e._backpressure=t}Object.defineProperties(At.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(At.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});var Gt=function(){function e(e){if(W(e,1,"WritableStreamDefaultWriter"),xt(e,"First parameter"),Pt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!Ut(e)&&e._backpressure?Tr(this):Pr(this),kr(this);else if("erroring"===t)Fr(this,e._storedError),kr(this);else if("closed"===t)Pr(this),xr(this);else{var r=e._storedError;Fr(this,r),Sr(this,r)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return Wt(this)?this._closedPromise:p(br("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Wt(this))throw br("desiredSize");if(void 0===this._ownerWritableStream)throw wr("desiredSize");return Qt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return Wt(this)?this._readyPromise:p(br("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),Wt(this)?void 0===this._ownerWritableStream?p(wr("abort")):Vt(this,e):p(br("abort"))},e.prototype.close=function(){if(!Wt(this))return p(br("close"));var e=this._ownerWritableStream;return void 0===e?p(wr("close")):Ut(e)?p(new TypeError("Cannot close an already-closing stream")):Kt(this)},e.prototype.releaseLock=function(){if(!Wt(this))throw br("releaseLock");void 0!==this._ownerWritableStream&&er(this)},e.prototype.write=function(e){return void 0===e&&(e=void 0),Wt(this)?void 0===this._ownerWritableStream?p(wr("write to")):tr(this,e):p(br("write"))},e}();function Wt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function Vt(e,t){return _t(e._ownerWritableStream,t)}function Kt(e){return It(e._ownerWritableStream)}function Yt(e){var t=e._ownerWritableStream,r=t._state;return Ut(t)||"closed"===r?d(void 0):"errored"===r?p(t._storedError):Kt(e)}function Jt(e,t){"pending"===e._closedPromiseState?Ar(e,t):Or(e,t)}function Zt(e,t){"pending"===e._readyPromiseState?_r(e,t):Er(e,t)}function Qt(e){var t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:lr(t._writableStreamController)}function er(e){var t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Zt(e,r),Jt(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function tr(e,t){var r=e._ownerWritableStream,n=r._writableStreamController,a=ur(n,t);if(r!==e._ownerWritableStream)return p(wr("write to"));var i=r._state;if("errored"===i)return p(r._storedError);if(Ut(r)||"closed"===i)return p(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return p(r._storedError);var o=Et(r);return fr(n,t,a),o}Object.defineProperties(Gt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Gt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var rr={},nr=function(){function e(){throw new TypeError("Illegal constructor")}return e.prototype.error=function(e){if(void 0===e&&(e=void 0),!ar(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&vr(this,e)},e.prototype[N]=function(e){var t=this._abortAlgorithm(e);return sr(this),t},e.prototype[B]=function(){Se(this)},e}();function ar(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")}function ir(e,t,r,n,a,i,o,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Se(t),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._writeAlgorithm=n,t._closeAlgorithm=a,t._abortAlgorithm=i;var c=mr(t);zt(e,c),m(d(r()),(function(){t._started=!0,hr(t)}),(function(r){t._started=!0,jt(e,r)}))}function or(e,t,r,n){var a=Object.create(nr.prototype),i=function(){},o=function(){return d(void 0)},s=function(){return d(void 0)},c=function(){return d(void 0)};void 0!==t.start&&(i=function(){return t.start(a)}),void 0!==t.write&&(o=function(e){return t.write(e,a)}),void 0!==t.close&&(s=function(){return t.close()}),void 0!==t.abort&&(c=function(e){return t.abort(e)}),ir(e,a,i,o,s,c,r,n)}function sr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function cr(e){we(e,rr,0),hr(e)}function ur(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return dr(e,t),1}}function lr(e){return e._strategyHWM-e._queueTotalSize}function fr(e,t,r){try{we(e,t,r)}catch(t){return void dr(e,t)}var n=e._controlledWritableStream;Ut(n)||"writable"!==n._state||zt(n,mr(e)),hr(e)}function hr(e){var t=e._controlledWritableStream;if(e._started&&void 0===t._inFlightWriteRequest)if("erroring"!==t._state){if(0!==e._queue.length){var r=ke(e);r===rr?pr(e):gr(e,r)}}else Mt(t)}function dr(e,t){"writable"===e._controlledWritableStream._state&&vr(e,t)}function pr(e){var t=e._controlledWritableStream;Xt(t),be(e);var r=e._closeAlgorithm();sr(e),m(r,(function(){Dt(t)}),(function(e){Lt(t,e)}))}function gr(e,t){var r=e._controlledWritableStream;Ht(r),m(e._writeAlgorithm(t),(function(){Nt(r);var t=r._state;if(be(e),!Ut(r)&&"writable"===t){var n=mr(e);zt(r,n)}hr(e)}),(function(t){"writable"===r._state&&sr(e),Bt(r,t)}))}function mr(e){return lr(e)<=0}function vr(e,t){var r=e._controlledWritableStream;sr(e),Rt(r,t)}function yr(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function br(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function wr(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function kr(e){e._closedPromise=h((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function Sr(e,t){kr(e),Ar(e,t)}function xr(e){kr(e),Cr(e)}function Ar(e,t){void 0!==e._closedPromise_reject&&(w(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Or(e,t){Sr(e,t)}function Cr(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Tr(e){e._readyPromise=h((function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function Fr(e,t){Tr(e),_r(e,t)}function Pr(e){Tr(e),jr(e)}function _r(e,t){void 0!==e._readyPromise_reject&&(w(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ir(e){Tr(e)}function Er(e,t){Fr(e,t)}function jr(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}function Rr(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}Object.defineProperties(nr.prototype,{error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(nr.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Mr="undefined"!=typeof DOMException?DOMException:void 0;function Nr(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}function Br(){var e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var Dr=Nr(Mr)?Mr:Br();function Lr(e,t,r,a,i,o){var s=ee(e),c=Ot(t);e._disturbed=!0;var u=!1,l=d(void 0);return h((function(f,p){var b;if(void 0!==o){if(b=function(){var r=new Dr("Aborted","AbortError"),n=[];a||n.push((function(){return"writable"===t._state?_t(t,r):d(void 0)})),i||n.push((function(){return"readable"===e._state?yn(e,r):d(void 0)})),T((function(){return Promise.all(n.map((function(e){return e()})))}),!0,r)},o.aborted)return void b();o.addEventListener("abort",b)}function k(){return h((function(e,t){function r(n){n?e():g(S(),r,t)}r(!1)}))}function S(){return u?d(!0):g(c._readyPromise,(function(){return h((function(e,t){ue(s,{_chunkSteps:function(t){l=g(tr(c,t),void 0,n),e(!1)},_closeSteps:function(){return e(!0)},_errorSteps:t})}))}))}if(O(e,s._closedPromise,(function(e){a?P(!0,e):T((function(){return _t(t,e)}),!0,e)})),O(t,c._closedPromise,(function(t){i?P(!0,t):T((function(){return yn(e,t)}),!0,t)})),C(e,s._closedPromise,(function(){r?P():T((function(){return Yt(c)}))})),Ut(t)||"closed"===t._state){var x=new TypeError("the destination writable stream closed before all data could be piped to it");i?P(!0,x):T((function(){return yn(e,x)}),!0,x)}function A(){var e=l;return g(l,(function(){return e!==l?A():void 0}))}function O(e,t,r){"errored"===e._state?r(e._storedError):y(t,r)}function C(e,t,r){"closed"===e._state?r():v(t,r)}function T(e,r,n){function a(){m(e(),(function(){return _(r,n)}),(function(e){return _(!0,e)}))}u||(u=!0,"writable"!==t._state||Ut(t)?a():v(A(),a))}function P(e,r){u||(u=!0,"writable"!==t._state||Ut(t)?_(e,r):v(A(),(function(){return _(e,r)})))}function _(e,t){er(c),F(s),void 0!==o&&o.removeEventListener("abort",b),e?p(t):f(void 0)}w(k())}))}var Ur=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!qr(this))throw Qr("desiredSize");return Vr(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!qr(this))throw Qr("close");if(!Yr(this))throw new TypeError("The stream is not in a state that permits close");zr(this)},e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!qr(this))throw Qr("enqueue");if(!Yr(this))throw new TypeError("The stream is not in a state that permits enqueue");return Gr(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!qr(this))throw Qr("error");Wr(this,e)},e.prototype[D]=function(e){Se(this);var t=this._cancelAlgorithm(e);return $r(this),t},e.prototype[L]=function(e){var t=this._controlledReadableStream;if(this._queue.length>0){var r=be(this);this._closeRequested&&0===this._queue.length?($r(this),bn(t)):Xr(this),e._chunkSteps(r)}else te(t,e),Xr(this)},e}();function qr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Xr(e){Hr(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,m(e._pullAlgorithm(),(function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Xr(e))}),(function(t){Wr(e,t)}))))}function Hr(e){var t=e._controlledReadableStream;return!!Yr(e)&&!!e._started&&(!!(vn(t)&&ne(t)>0)||Vr(e)>0)}function $r(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function zr(e){if(Yr(e)){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&($r(e),bn(t))}}function Gr(e,t){if(Yr(e)){var r=e._controlledReadableStream;if(vn(r)&&ne(r)>0)re(r,t,!1);else{var n=void 0;try{n=e._strategySizeAlgorithm(t)}catch(t){throw Wr(e,t),t}try{we(e,t,n)}catch(t){throw Wr(e,t),t}}Xr(e)}}function Wr(e,t){var r=e._controlledReadableStream;"readable"===r._state&&(Se(e),$r(e),wn(r,t))}function Vr(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Kr(e){return!Hr(e)}function Yr(e){var t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function Jr(e,t,r,n,a,i,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Se(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=a,e._readableStreamController=t,m(d(r()),(function(){t._started=!0,Xr(t)}),(function(e){Wr(t,e)}))}function Zr(e,t,r,n){var a=Object.create(Ur.prototype),i=function(){},o=function(){return d(void 0)},s=function(){return d(void 0)};void 0!==t.start&&(i=function(){return t.start(a)}),void 0!==t.pull&&(o=function(){return t.pull(a)}),void 0!==t.cancel&&(s=function(e){return t.cancel(e)}),Jr(e,a,i,o,s,r,n)}function Qr(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function en(e,t){var r,n,a,i,o,s=ee(e),c=!1,u=!1,l=!1,f=h((function(e){o=e}));function p(){return c||(c=!0,ue(s,{_chunkSteps:function(e){k((function(){c=!1;var t=e,r=e;u||Gr(a._readableStreamController,t),l||Gr(i._readableStreamController,r)}))},_closeSteps:function(){c=!1,u||zr(a._readableStreamController),l||zr(i._readableStreamController),u&&l||o(void 0)},_errorSteps:function(){c=!1}})),d(void 0)}function g(t){if(u=!0,r=t,l){var a=xe([r,n]),i=yn(e,a);o(i)}return f}function m(t){if(l=!0,n=t,u){var a=xe([r,n]),i=yn(e,a);o(i)}return f}function v(){}return a=pn(v,p,g),i=pn(v,p,m),y(s._closedPromise,(function(e){Wr(a._readableStreamController,e),Wr(i._readableStreamController,e),u&&l||o(void 0)})),[a,i]}function tn(e,t){H(e,t);var r=e,n=null==r?void 0:r.autoAllocateChunkSize,a=null==r?void 0:r.cancel,i=null==r?void 0:r.pull,o=null==r?void 0:r.start,s=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:Z(n,t+" has member 'autoAllocateChunkSize' that"),cancel:void 0===a?void 0:rn(a,r,t+" has member 'cancel' that"),pull:void 0===i?void 0:nn(i,r,t+" has member 'pull' that"),start:void 0===o?void 0:an(o,r,t+" has member 'start' that"),type:void 0===s?void 0:on(s,t+" has member 'type' that")}}function rn(e,t,r){return $(e,r),function(r){return x(e,t,[r])}}function nn(e,t,r){return $(e,r),function(r){return x(e,t,[r])}}function an(e,t,r){return $(e,r),function(r){return S(e,t,[r])}}function on(e,t){if("bytes"!=(e=""+e))throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamType");return e}function sn(e,t){H(e,t);var r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:cn(r,t+" has member 'mode' that")}}function cn(e,t){if("byob"!=(e=""+e))throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamReaderMode");return e}function un(e,t){H(e,t);var r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}function ln(e,t){H(e,t);var r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,a=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&fn(i,t+" has member 'signal' that"),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(a),signal:i}}function fn(e,t){if(!Rr(e))throw new TypeError(t+" is not an AbortSignal.")}function hn(e,t){H(e,t);var r=null==e?void 0:e.readable;V(r,"readable","ReadableWritablePair"),Q(r,t+" has member 'readable' that");var n=null==e?void 0:e.writable;return V(n,"writable","ReadableWritablePair"),xt(n,t+" has member 'writable' that"),{readable:r,writable:n}}Object.defineProperties(Ur.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ur.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var dn=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:G(e,"First parameter");var r=mt(t,"Second parameter"),n=tn(e,"First parameter");if(gn(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");tt(this,n,pt(r,0))}else{var a=gt(r);Zr(this,n,pt(r,1),a)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!mn(this))throw kn("locked");return vn(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),mn(this)?vn(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):yn(this,e):p(kn("cancel"))},e.prototype.getReader=function(e){if(void 0===e&&(e=void 0),!mn(this))throw kn("getReader");return void 0===sn(e,"First parameter").mode?ee(this):it(this)},e.prototype.pipeThrough=function(e,t){if(void 0===t&&(t={}),!mn(this))throw kn("pipeThrough");W(e,1,"pipeThrough");var r=hn(e,"First parameter"),n=ln(t,"Second parameter");if(vn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Pt(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return w(Lr(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable},e.prototype.pipeTo=function(e,t){if(void 0===t&&(t={}),!mn(this))return p(kn("pipeTo"));if(void 0===e)return p("Parameter 1 is required in 'pipeTo'.");if(!Ft(e))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var r;try{r=ln(t,"Second parameter")}catch(e){return p(e)}return vn(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Pt(e)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Lr(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)},e.prototype.tee=function(){if(!mn(this))throw kn("tee");return xe(en(this))},e.prototype.values=function(e){if(void 0===e&&(e=void 0),!mn(this))throw kn("values");return de(this,un(e,"First parameter").preventCancel)},e}();function pn(e,t,r,n,a){void 0===n&&(n=1),void 0===a&&(a=function(){return 1});var i=Object.create(dn.prototype);return gn(i),Jr(i,Object.create(Ur.prototype),e,t,r,n,a),i}function gn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function mn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function vn(e){return void 0!==e._reader}function yn(e,t){return e._disturbed=!0,"closed"===e._state?d(void 0):"errored"===e._state?p(e._storedError):(bn(e),b(e._readableStreamController[D](t),n))}function bn(e){e._state="closed";var t=e._reader;void 0!==t&&(M(t),ce(t)&&(t._readRequests.forEach((function(e){e._closeSteps()})),t._readRequests=new O))}function wn(e,t){e._state="errored",e._storedError=t;var r=e._reader;void 0!==r&&(j(r,t),ce(r)?(r._readRequests.forEach((function(e){e._errorSteps(t)})),r._readRequests=new O):(r._readIntoRequests.forEach((function(e){e._errorSteps(t)})),r._readIntoRequests=new O))}function kn(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Sn(e,t){H(e,t);var r=null==e?void 0:e.highWaterMark;return V(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:K(r)}}Object.defineProperties(dn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(dn.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(dn.prototype,t.asyncIterator,{value:dn.prototype.values,writable:!0,configurable:!0});var xn=function(e){return e.byteLength},An=function(){function e(e){W(e,1,"ByteLengthQueuingStrategy"),e=Sn(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Cn(this))throw On("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Cn(this))throw On("size");return xn},enumerable:!1,configurable:!0}),e}();function On(e){return new TypeError("ByteLengthQueuingStrategy.prototype."+e+" can only be used on a ByteLengthQueuingStrategy")}function Cn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(An.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(An.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Tn=function(){return 1},Fn=function(){function e(e){W(e,1,"CountQueuingStrategy"),e=Sn(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!_n(this))throw Pn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!_n(this))throw Pn("size");return Tn},enumerable:!1,configurable:!0}),e}();function Pn(e){return new TypeError("CountQueuingStrategy.prototype."+e+" can only be used on a CountQueuingStrategy")}function _n(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}function In(e,t){H(e,t);var r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,a=null==e?void 0:e.start,i=null==e?void 0:e.transform,o=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:En(r,e,t+" has member 'flush' that"),readableType:n,start:void 0===a?void 0:jn(a,e,t+" has member 'start' that"),transform:void 0===i?void 0:Rn(i,e,t+" has member 'transform' that"),writableType:o}}function En(e,t,r){return $(e,r),function(r){return x(e,t,[r])}}function jn(e,t,r){return $(e,r),function(r){return S(e,t,[r])}}function Rn(e,t,r){return $(e,r),function(r,n){return x(e,t,[r,n])}}Object.defineProperties(Fn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Fn.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Mn=function(){function e(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r={}),void 0===e&&(e=null);var n=mt(t,"Second parameter"),a=mt(r,"Third parameter"),i=In(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");var o,s=pt(a,0),c=gt(a),u=pt(n,1),l=gt(n);Nn(this,h((function(e){o=e})),u,l,s,c),$n(this,i),void 0!==i.start?o(i.start(this._transformStreamController)):o(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!Bn(this))throw ta("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!Bn(this))throw ta("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function Nn(e,t,r,n,a,i){function o(){return t}function s(t){return Yn(e,t)}function c(t){return Jn(e,t)}function u(){return Zn(e)}function l(){return Qn(e)}function f(t){return Ln(e,t),d(void 0)}e._writable=Ct(o,s,u,c,r,n),e._readable=pn(o,l,f,a,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Un(e,!0),e._transformStreamController=void 0}function Bn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function Dn(e,t){Wr(e._readable._readableStreamController,t),Ln(e,t)}function Ln(e,t){zn(e._transformStreamController),dr(e._writable._writableStreamController,t),e._backpressure&&Un(e,!1)}function Un(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=h((function(t){e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Mn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Mn.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});var qn=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Xn(this))throw ea("desiredSize");return Vr(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!Xn(this))throw ea("enqueue");Gn(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Xn(this))throw ea("error");Wn(this,e)},e.prototype.terminate=function(){if(!Xn(this))throw ea("terminate");Kn(this)},e}();function Xn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function Hn(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}function $n(e,t){var r=Object.create(qn.prototype),n=function(e){try{return Gn(r,e),d(void 0)}catch(e){return p(e)}},a=function(){return d(void 0)};void 0!==t.transform&&(n=function(e){return t.transform(e,r)}),void 0!==t.flush&&(a=function(){return t.flush(r)}),Hn(e,r,n,a)}function zn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Gn(e,t){var r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!Yr(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Gr(n,t)}catch(e){throw Ln(r,e),r._readable._storedError}Kr(n)!==r._backpressure&&Un(r,!0)}function Wn(e,t){Dn(e._controlledTransformStream,t)}function Vn(e,t){return b(e._transformAlgorithm(t),void 0,(function(t){throw Dn(e._controlledTransformStream,t),t}))}function Kn(e){var t=e._controlledTransformStream;zr(t._readable._readableStreamController),Ln(t,new TypeError("TransformStream terminated"))}function Yn(e,t){var r=e._transformStreamController;return e._backpressure?b(e._backpressureChangePromise,(function(){var n=e._writable;if("erroring"===n._state)throw n._storedError;return Vn(r,t)})):Vn(r,t)}function Jn(e,t){return Dn(e,t),d(void 0)}function Zn(e){var t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return zn(r),b(n,(function(){if("errored"===t._state)throw t._storedError;zr(t._readableStreamController)}),(function(r){throw Dn(e,r),t._storedError}))}function Qn(e){return Un(e,!1),e._backpressureChangePromise}function ea(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function ta(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}Object.defineProperties(qn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(qn.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=An,e.CountQueuingStrategy=Fn,e.ReadableByteStreamController=Fe,e.ReadableStream=dn,e.ReadableStreamBYOBReader=lt,e.ReadableStreamBYOBRequest=Te,e.ReadableStreamDefaultController=Ur,e.ReadableStreamDefaultReader=se,e.TransformStream=Mn,e.TransformStreamDefaultController=qn,e.WritableStream=At,e.WritableStreamDefaultController=nr,e.WritableStreamDefaultWriter=Gt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearPrimitiveCaches=function(){b._clearCache(),v._clearCache(),x._clearCache()},t.isCmd=function(e,t){return e instanceof b&&(void 0===t||e.cmd===t)},t.isDict=function(e,t){return e instanceof k&&(void 0===t||C(e.get("Type"),t))},t.isEOF=function(e){return e===g},t.isName=C,t.isRef=function(e){return e instanceof x},t.isRefsEqual=function(e,t){return e.num===t.num&&e.gen===t.gen},t.isStream=function(e){return e instanceof o.BaseStream},t.RefSetCache=t.RefSet=t.Ref=t.Name=t.EOF=t.Dict=t.Cmd=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(114);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}var g={};t.EOF=g;var m,v=(m=Object.create(null),function(){function e(t){h(this,e),this.name=t}return p(e,null,[{key:"get",value:function(t){var r=m[t];return r||(m[t]=new e(t))}},{key:"_clearCache",value:function(){m=Object.create(null)}}]),e}());t.Name=v;var y,b=(y=Object.create(null),function(){function e(t){h(this,e),this.cmd=t}return p(e,null,[{key:"get",value:function(t){var r=y[t];return r||(y[t]=new e(t))}},{key:"_clearCache",value:function(){y=Object.create(null)}}]),e}());t.Cmd=b;var w=function(){return w},k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;h(this,e),this._map=Object.create(null),this.xref=t,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=w}var t,r;return p(e,[{key:"assignXref",value:function(e){this.xref=e}},{key:"size",get:function(){return Object.keys(this._map).length}},{key:"get",value:function(e,t,r){var n=this._map[e];return void 0===n&&void 0!==t&&void 0===(n=this._map[t])&&void 0!==r&&(n=this._map[r]),n instanceof x&&this.xref?this.xref.fetch(n,this.suppressEncryption):n}},{key:"getAsync",value:(t=a.default.mark((function e(t,r,n){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=this._map[t])&&void 0!==r&&void 0===(i=this._map[r])&&void 0!==n&&(i=this._map[n]),!(i instanceof x&&this.xref)){e.next=4;break}return e.abrupt("return",this.xref.fetchAsync(i,this.suppressEncryption));case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(e){f(i,n,a,o,s,"next",e)}function s(e){f(i,n,a,o,s,"throw",e)}o(void 0)}))},function(e,t,n){return r.apply(this,arguments)})},{key:"getArray",value:function(e,t,r){var n=this._map[e];if(void 0===n&&void 0!==t&&void 0===(n=this._map[t])&&void 0!==r&&(n=this._map[r]),n instanceof x&&this.xref&&(n=this.xref.fetch(n,this.suppressEncryption)),Array.isArray(n))for(var a=0,i=(n=n.slice()).length;a<i;a++)n[a]instanceof x&&this.xref&&(n[a]=this.xref.fetch(n[a],this.suppressEncryption));return n}},{key:"getRaw",value:function(e){return this._map[e]}},{key:"getKeys",value:function(){return Object.keys(this._map)}},{key:"getRawValues",value:function(){return Object.values(this._map)}},{key:"set",value:function(e,t){this._map[e]=t}},{key:"has",value:function(e){return void 0!==this._map[e]}},{key:"forEach",value:function(e){for(var t in this._map)e(t,this.get(t))}}],[{key:"empty",get:function(){var t=new e(null);return t.set=function(e,t){(0,i.unreachable)("Should not call \`set\` on the empty dictionary.")},(0,i.shadow)(this,"empty",t)}},{key:"merge",value:function(t){var r=t.xref,n=t.dictArray,a=t.mergeSubDicts,i=void 0!==a&&a,o=new e(r);if(!i){var u,l=c(n);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(f instanceof e)for(var h=0,d=Object.entries(f._map);h<d.length;h++){var p=s(d[h],2),g=p[0],m=p[1];void 0===o._map[g]&&(o._map[g]=m)}}}catch(e){l.e(e)}finally{l.f()}return o.size>0?o:e.empty}var v,y=new Map,b=c(n);try{for(b.s();!(v=b.n()).done;){var w=v.value;if(w instanceof e)for(var k=0,S=Object.entries(w._map);k<S.length;k++){var x=s(S[k],2),A=x[0],O=x[1],C=y.get(A);void 0===C&&(C=[],y.set(A,C)),C.push(O)}}}catch(e){b.e(e)}finally{b.f()}var T,F=c(y);try{for(F.s();!(T=F.n()).done;){var P=s(T.value,2),_=P[0],I=P[1];if(1!==I.length&&I[0]instanceof e){var E,j=new e(r),R=c(I);try{for(R.s();!(E=R.n()).done;){var M=E.value;if(M instanceof e)for(var N=0,B=Object.entries(M._map);N<B.length;N++){var D=s(B[N],2),L=D[0],U=D[1];void 0===j._map[L]&&(j._map[L]=U)}}}catch(e){R.e(e)}finally{R.f()}j.size>0&&(o._map[_]=j)}else o._map[_]=I[0]}}catch(e){F.e(e)}finally{F.f()}return y.clear(),o.size>0?o:e.empty}}]),e}();t.Dict=k;var S,x=(S=Object.create(null),function(){function e(t,r){h(this,e),this.num=t,this.gen=r}return p(e,[{key:"toString",value:function(){return 0===this.gen?"".concat(this.num,"R"):"".concat(this.num,"R").concat(this.gen)}}],[{key:"get",value:function(t,r){var n=0===r?"".concat(t,"R"):"".concat(t,"R").concat(r),a=S[n];return a||(S[n]=new e(t,r))}},{key:"_clearCache",value:function(){S=Object.create(null)}}]),e}());t.Ref=x;var A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;h(this,e),this._set=new Set(t&&t._set)}return p(e,[{key:"has",value:function(e){return this._set.has(e.toString())}},{key:"put",value:function(e){this._set.add(e.toString())}},{key:"remove",value:function(e){this._set.delete(e.toString())}},{key:"forEach",value:function(e){var t,r=c(this._set.values());try{for(r.s();!(t=r.n()).done;)e(t.value)}catch(e){r.e(e)}finally{r.f()}}},{key:"clear",value:function(){this._set.clear()}}]),e}();t.RefSet=A;var O=function(){function e(){h(this,e),this._map=new Map}return p(e,[{key:"size",get:function(){return this._map.size}},{key:"get",value:function(e){return this._map.get(e.toString())}},{key:"has",value:function(e){return this._map.has(e.toString())}},{key:"put",value:function(e,t){this._map.set(e.toString(),t)}},{key:"putAlias",value:function(e,t){this._map.set(e.toString(),this.get(t))}},{key:"forEach",value:function(e){var t,r=c(this._map.values());try{for(r.s();!(t=r.n()).done;)e(t.value)}catch(e){r.e(e)}finally{r.f()}}},{key:"clear",value:function(){this._map.clear()}}]),e}();function C(e,t){return e instanceof v&&(void 0===t||e.name===t)}t.RefSetCache=O},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStream=void 0;var n=r(4);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseStream.")}var t,r,i;return t=e,r=[{key:"length",get:function(){(0,n.unreachable)("Abstract getter \`length\` accessed")}},{key:"isEmpty",get:function(){(0,n.unreachable)("Abstract getter \`isEmpty\` accessed")}},{key:"isDataLoaded",get:function(){return(0,n.shadow)(this,"isDataLoaded",!0)}},{key:"getByte",value:function(){(0,n.unreachable)("Abstract method \`getByte\` called")}},{key:"getBytes",value:function(e){(0,n.unreachable)("Abstract method \`getBytes\` called")}},{key:"peekByte",value:function(){var e=this.getByte();return-1!==e&&this.pos--,e}},{key:"peekBytes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getBytes(e,t);return this.pos-=r.length,r}},{key:"getUint16",value:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t}},{key:"getInt32",value:function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}},{key:"getByteRange",value:function(e,t){(0,n.unreachable)("Abstract method \`getByteRange\` called")}},{key:"getString",value:function(e){return(0,n.bytesToString)(this.getBytes(e,!1))}},{key:"skip",value:function(e){this.pos+=e||1}},{key:"reset",value:function(){(0,n.unreachable)("Abstract method \`reset\` called")}},{key:"moveStart",value:function(){(0,n.unreachable)("Abstract method \`moveStart\` called")}},{key:"makeSubStream",value:function(e,t){(0,n.unreachable)("Abstract method \`makeSubStream\` called")}},{key:"getBaseStreams",value:function(){return null}}],r&&a(t.prototype,r),i&&a(t,i),e}();t.BaseStream=i},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkPdfManager=t.LocalPdfManager=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(116),c=r(117),u=r(119),l=r(118);function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){v(i,n,a,o,s,"next",e)}function s(e){v(i,n,a,o,s,"throw",e)}o(void 0)}))}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}function S(e){if(e){var t=(0,o.createValidAbsoluteUrl)(e);if(t)return t.href;(0,o.warn)('Invalid absolute docBaseUrl: "'.concat(e,'".'))}return null}var x=function(){function e(){b(this,e),this.constructor===e&&(0,o.unreachable)("Cannot initialize BasePdfManager.")}var t;return k(e,[{key:"docId",get:function(){return this._docId}},{key:"password",get:function(){return this._password}},{key:"docBaseUrl",get:function(){return this._docBaseUrl}},{key:"onLoadedStream",value:function(){(0,o.unreachable)("Abstract method \`onLoadedStream\` called")}},{key:"ensureDoc",value:function(e,t){return this.ensure(this.pdfDocument,e,t)}},{key:"ensureXRef",value:function(e,t){return this.ensure(this.pdfDocument.xref,e,t)}},{key:"ensureCatalog",value:function(e,t){return this.ensure(this.pdfDocument.catalog,e,t)}},{key:"getPage",value:function(e){return this.pdfDocument.getPage(e)}},{key:"fontFallback",value:function(e,t){return this.pdfDocument.fontFallback(e,t)}},{key:"loadXfaFonts",value:function(e,t){return this.pdfDocument.loadXfaFonts(e,t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pdfDocument.cleanup(e)}},{key:"ensure",value:(t=y(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.unreachable)("Abstract method \`ensure\` called");case 1:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"requestRange",value:function(e,t){(0,o.unreachable)("Abstract method \`requestRange\` called")}},{key:"requestLoadedStream",value:function(){(0,o.unreachable)("Abstract method \`requestLoadedStream\` called")}},{key:"sendProgressiveData",value:function(e){(0,o.unreachable)("Abstract method \`sendProgressiveData\` called")}},{key:"updatePassword",value:function(e){this._password=e}},{key:"terminate",value:function(e){(0,o.unreachable)("Abstract method \`terminate\` called")}}]),e}(),A=function(e){f(n,e);var t,r=d(n);function n(e,t,a,i,o,s){var c;b(this,n),(c=r.call(this))._docId=e,c._password=a,c._docBaseUrl=S(s),c.evaluatorOptions=i,c.enableXfa=o;var f=new l.Stream(t);return c.pdfDocument=new u.PDFDocument(g(c),f),c._loadedStreamPromise=Promise.resolve(f),c}return k(n,[{key:"ensure",value:(t=y(i.default.mark((function e(t,r,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(a=t[r])){e.next=3;break}return e.abrupt("return",a.apply(t,n));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"requestRange",value:function(e,t){return Promise.resolve()}},{key:"requestLoadedStream",value:function(){}},{key:"onLoadedStream",value:function(){return this._loadedStreamPromise}},{key:"terminate",value:function(e){}}]),n}(x);t.LocalPdfManager=A;var O=function(e){f(n,e);var t,r=d(n);function n(e,t,a,i,o,c){var l;return b(this,n),(l=r.call(this))._docId=e,l._password=a.password,l._docBaseUrl=S(c),l.msgHandler=a.msgHandler,l.evaluatorOptions=i,l.enableXfa=o,l.streamManager=new s.ChunkedStreamManager(t,{msgHandler:a.msgHandler,length:a.length,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize}),l.pdfDocument=new u.PDFDocument(g(l),l.streamManager.getStream()),l}return k(n,[{key:"ensure",value:(t=y(i.default.mark((function e(t,r,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"function"!=typeof(a=t[r])){e.next=4;break}return e.abrupt("return",a.apply(t,n));case 4:return e.abrupt("return",a);case 7:if(e.prev=7,e.t0=e.catch(0),e.t0 instanceof c.MissingDataException){e.next=11;break}throw e.t0;case 11:return e.next=13,this.requestRange(e.t0.begin,e.t0.end);case 13:return e.abrupt("return",this.ensure(t,r,n));case 14:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,r,n){return t.apply(this,arguments)})},{key:"requestRange",value:function(e,t){return this.streamManager.requestRange(e,t)}},{key:"requestLoadedStream",value:function(){this.streamManager.requestAllChunks()}},{key:"sendProgressiveData",value:function(e){this.streamManager.onReceiveData({chunk:e})}},{key:"onLoadedStream",value:function(){return this.streamManager.onLoadedStream()}},{key:"terminate",value:function(e){this.streamManager.abort(e)}}]),n}(x);t.NetworkPdfManager=O},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedStreamManager=t.ChunkedStream=void 0;var a=r(4),i=r(117);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var t=h(r);function r(e,n,a){var i;return c(this,r),(i=t.call(this,new Uint8Array(e),0,e,null)).chunkSize=n,i._loadedChunks=new Set,i.numChunks=Math.ceil(e/n),i.manager=a,i.progressiveDataLength=0,i.lastSuccessfulEnsureByteChunk=-1,i}return l(r,[{key:"getMissingChunks",value:function(){for(var e=[],t=0,r=this.numChunks;t<r;++t)this._loadedChunks.has(t)||e.push(t);return e}},{key:"numChunksLoaded",get:function(){return this._loadedChunks.size}},{key:"isDataLoaded",get:function(){return this.numChunksLoaded===this.numChunks}},{key:"onReceiveData",value:function(e,t){var r=this.chunkSize;if(e%r!=0)throw new Error("Bad begin offset: ".concat(e));var n=e+t.byteLength;if(n%r!=0&&n!==this.bytes.length)throw new Error("Bad end offset: ".concat(n));this.bytes.set(new Uint8Array(t),e);for(var a=Math.floor(e/r),i=Math.floor((n-1)/r)+1,o=a;o<i;++o)this._loadedChunks.add(o)}},{key:"onReceiveProgressiveData",value:function(e){var t=this.progressiveDataLength,r=Math.floor(t/this.chunkSize);this.bytes.set(new Uint8Array(e),t),t+=e.byteLength,this.progressiveDataLength=t;for(var n=t>=this.end?this.numChunks:Math.floor(t/this.chunkSize),a=r;a<n;++a)this._loadedChunks.add(a)}},{key:"ensureByte",value:function(e){if(!(e<this.progressiveDataLength)){var t=Math.floor(e/this.chunkSize);if(t!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(t))throw new i.MissingDataException(e,e+1);this.lastSuccessfulEnsureByteChunk=t}}}},{key:"ensureRange",value:function(e,t){if(!(e>=t||t<=this.progressiveDataLength))for(var r=this.chunkSize,n=Math.floor(e/r),a=Math.floor((t-1)/r)+1,o=n;o<a;++o)if(!this._loadedChunks.has(o))throw new i.MissingDataException(e,t)}},{key:"nextEmptyChunk",value:function(e){for(var t=this.numChunks,r=0;r<t;++r){var n=(e+r)%t;if(!this._loadedChunks.has(n))return n}return null}},{key:"hasChunk",value:function(e){return this._loadedChunks.has(e)}},{key:"getByte",value:function(){var e=this.pos;return e>=this.end?-1:(e>=this.progressiveDataLength&&this.ensureByte(e),this.bytes[this.pos++])}},{key:"getBytes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.bytes,n=this.pos,a=this.end;if(!e){a>this.progressiveDataLength&&this.ensureRange(n,a);var i=r.subarray(n,a);return t?new Uint8ClampedArray(i):i}var o=n+e;o>a&&(o=a),o>this.progressiveDataLength&&this.ensureRange(n,o),this.pos=o;var s=r.subarray(n,o);return t?new Uint8ClampedArray(s):s}},{key:"getByteRange",value:function(e,t){return e<0&&(e=0),t>this.end&&(t=this.end),t>this.progressiveDataLength&&this.ensureRange(e,t),this.bytes.subarray(e,t)}},{key:"makeSubStream",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function n(){}t?e+t>this.progressiveDataLength&&this.ensureRange(e,e+t):e>=this.progressiveDataLength&&this.ensureByte(e),n.prototype=Object.create(this),n.prototype.getMissingChunks=function(){for(var e=this.chunkSize,t=Math.floor(this.start/e),r=Math.floor((this.end-1)/e)+1,n=[],a=t;a<r;++a)this._loadedChunks.has(a)||n.push(a);return n},Object.defineProperty(n.prototype,"isDataLoaded",{get:function(){return this.numChunksLoaded===this.numChunks||0===this.getMissingChunks().length},configurable:!0});var a=new n;return a.pos=a.start=e,a.end=e+t||this.end,a.dict=r,a}},{key:"getBaseStreams",value:function(){return[this]}}]),r}(r(118).Stream);t.ChunkedStream=g;var m=function(){function e(t,r){c(this,e),this.length=r.length,this.chunkSize=r.rangeChunkSize,this.stream=new g(this.length,this.chunkSize,this),this.pdfNetworkStream=t,this.disableAutoFetch=r.disableAutoFetch,this.msgHandler=r.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,a.createPromiseCapability)()}return l(e,[{key:"onLoadedStream",value:function(){return this._loadedStreamCapability.promise}},{key:"sendRequest",value:function(e,t){var r=this,n=this.pdfNetworkStream.getRangeReader(e,t);n.isStreamingSupported||(n.onProgress=this.onProgress.bind(this));var i=[],o=0;new Promise((function(e,t){n.read().then((function s(c){try{if(!c.done){var u=c.value;return i.push(u),o+=(0,a.arrayByteLength)(u),n.isStreamingSupported&&r.onProgress({loaded:o}),void n.read().then(s,t)}var l=(0,a.arraysToBytes)(i);i=null,e(l)}catch(e){t(e)}}),t)})).then((function(t){r.aborted||r.onReceiveData({chunk:t,begin:e})}))}},{key:"requestAllChunks",value:function(){var e=this.stream.getMissingChunks();return this._requestChunks(e),this._loadedStreamCapability.promise}},{key:"_requestChunks",value:function(e){var t=this,r=this.currRequestId++,n=new Set;this._chunksNeededByRequest.set(r,n);var i,s=o(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;this.stream.hasChunk(c)||n.add(c)}}catch(e){s.e(e)}finally{s.f()}if(0===n.size)return Promise.resolve();var u=(0,a.createPromiseCapability)();this._promisesByRequest.set(r,u);var l,f=[],h=o(n);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=this._requestsByChunk.get(d);p||(p=[],this._requestsByChunk.set(d,p),f.push(d)),p.push(r)}}catch(e){h.e(e)}finally{h.f()}if(f.length>0){var g,m=o(this.groupChunks(f));try{for(m.s();!(g=m.n()).done;){var v=g.value,y=v.beginChunk*this.chunkSize,b=Math.min(v.endChunk*this.chunkSize,this.length);this.sendRequest(y,b)}}catch(e){m.e(e)}finally{m.f()}}return u.promise.catch((function(e){if(!t.aborted)throw e}))}},{key:"getStream",value:function(){return this.stream}},{key:"requestRange",value:function(e,t){t=Math.min(t,this.length);for(var r=this.getBeginChunk(e),n=this.getEndChunk(t),a=[],i=r;i<n;++i)a.push(i);return this._requestChunks(a)}},{key:"requestRanges",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],n=o(t);try{for(n.s();!(e=n.n()).done;)for(var a=e.value,i=this.getBeginChunk(a.begin),s=this.getEndChunk(a.end),c=i;c<s;++c)r.includes(c)||r.push(c)}catch(e){n.e(e)}finally{n.f()}return r.sort((function(e,t){return e-t})),this._requestChunks(r)}},{key:"groupChunks",value:function(e){for(var t=[],r=-1,n=-1,a=0,i=e.length;a<i;++a){var o=e[a];r<0&&(r=o),n>=0&&n+1!==o&&(t.push({beginChunk:r,endChunk:n+1}),r=o),a+1===e.length&&t.push({beginChunk:r,endChunk:o+1}),n=o}return t}},{key:"onProgress",value:function(e){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+e.loaded,total:this.length})}},{key:"onReceiveData",value:function(e){var t=e.chunk,r=void 0===e.begin,n=r?this.progressiveDataLength:e.begin,a=n+t.byteLength,i=Math.floor(n/this.chunkSize),s=a<this.length?Math.floor(a/this.chunkSize):Math.ceil(a/this.chunkSize);r?(this.stream.onReceiveProgressiveData(t),this.progressiveDataLength=a):this.stream.onReceiveData(n,t),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);for(var c=[],u=i;u<s;++u){var l=this._requestsByChunk.get(u);if(l){this._requestsByChunk.delete(u);var f,h=o(l);try{for(h.s();!(f=h.n()).done;){var d=f.value,p=this._chunksNeededByRequest.get(d);p.has(u)&&p.delete(u),p.size>0||c.push(d)}}catch(e){h.e(e)}finally{h.f()}}}if(!this.disableAutoFetch&&0===this._requestsByChunk.size){var g;if(1===this.stream.numChunksLoaded){var m=this.stream.numChunks-1;this.stream.hasChunk(m)||(g=m)}else g=this.stream.nextEmptyChunk(s);Number.isInteger(g)&&this._requestChunks([g])}for(var v=0,y=c;v<y.length;v++){var b=y[v],w=this._promisesByRequest.get(b);this._promisesByRequest.delete(b),w.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}},{key:"onError",value:function(e){this._loadedStreamCapability.reject(e)}},{key:"getBeginChunk",value:function(e){return Math.floor(e/this.chunkSize)}},{key:"getEndChunk",value:function(e){return Math.floor((e-1)/this.chunkSize)+1}},{key:"abort",value:function(e){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(e);var t,r=o(this._promisesByRequest.values());try{for(r.s();!(t=r.n()).done;)t.value.reject(e)}catch(e){r.e(e)}finally{r.f()}}}]),e}();t.ChunkedStreamManager=m},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.collectActions=function(e,t,r){var n=Object.create(null),s=v({dict:t,key:"AA",stopWhenFound:!1});if(s)for(var c=s.length-1;c>=0;c--){var u=s[c];if(u instanceof i.Dict){var l,f=o(u.getKeys());try{for(f.s();!(l=f.n()).done;){var h=l.value,d=r[h];if(d){var p=u.getRaw(h),g=new i.RefSet,m=[];b(p,e,m,g),m.length>0&&(n[d]=m)}}}catch(e){f.e(e)}finally{f.f()}}}if(t.has("A")){var y=t.get("A"),w=new i.RefSet,k=[];b(y,e,k,w),k.length>0&&(n.Action=k)}return(0,a.objectSize)(n)>0?n:null},t.encodeToXmlString=function(e){for(var t=[],r=0,n=0,a=e.length;n<a;n++){var i=e.codePointAt(n);if(32<=i&&i<=126){var o=w[i];o&&(r<n&&t.push(e.substring(r,n)),t.push(o),r=n+1)}else r<n&&t.push(e.substring(r,n)),t.push("&#x".concat(i.toString(16).toUpperCase(),";")),i>55295&&(i<57344||i>65533)&&n++,r=n+1}return 0===t.length?e:(r<e.length&&t.push(e.substring(r,e.length)),t.join(""))},t.escapePDFName=function(e){for(var t=[],r=0,n=0,a=e.length;n<a;n++){var i=e.charCodeAt(n);(i<33||i>126||35===i||40===i||41===i||60===i||62===i||91===i||93===i||123===i||125===i||47===i||37===i)&&(r<n&&t.push(e.substring(r,n)),t.push("#".concat(i.toString(16))),r=n+1)}return 0===t.length?e:(r<e.length&&t.push(e.substring(r,e.length)),t.join(""))},t.getArrayLookupTableFactory=function(e){var t;return function(){if(e){var r=e();e=null,t=Object.create(null);for(var n=0,a=r.length;n<a;n+=2)t[r[n]]=r[n+1];r=null}return t}},t.getInheritableProperty=v,t.getLookupTableFactory=function(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}},t.isWhiteSpace=function(e){return 32===e||9===e||13===e||10===e},t.log2=function(e){return e<=0?0:Math.ceil(Math.log2(e))},t.parseXFAPath=function(e){var t=/(.+)\\[([0-9]+)\\]$/;return e.split(".").map((function(e){var r=e.match(t);return r?{name:r[1],pos:parseInt(r[2],10)}:{name:e,pos:0}}))},t.readInt8=function(e,t){return e[t]<<24>>24},t.readUint16=function(e,t){return e[t]<<8|e[t+1]},t.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},t.toRomanNumerals=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,a.assert)(Number.isInteger(e)&&e>0,"The number should be a positive integer.");for(var r,n=[];e>=1e3;)e-=1e3,n.push("M");r=e/100|0,e%=100,n.push(y[r]),r=e/10|0,e%=10,n.push(y[10+r]),n.push(y[20+e]);var i=n.join("");return t?i.toLowerCase():i},t.validateCSSFont=function(e){var t=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),r=e.fontFamily,n=e.fontWeight,i=e.italicAngle;if(/^".*"$/.test(r)){if(/[^\\\\]"/.test(r.slice(1,r.length-1)))return(0,a.warn)('XFA - FontFamily contains some unescaped ": '.concat(r,".")),!1}else if(/^'.*'$/.test(r)){if(/[^\\\\]'/.test(r.slice(1,r.length-1)))return(0,a.warn)("XFA - FontFamily contains some unescaped ': ".concat(r,".")),!1}else{var s,c=o(r.split(/[ \\t]+/));try{for(c.s();!(s=c.n()).done;){var u=s.value;if(/^([0-9]|(-([0-9]|-)))/.test(u)||!/^[a-zA-Z0-9\\-_\\\\]+$/.test(u))return(0,a.warn)("XFA - FontFamily contains some invalid <custom-ident>: ".concat(r,".")),!1}}catch(e){c.e(e)}finally{c.f()}}var l=n?n.toString():"";e.fontWeight=t.has(l)?l:"400";var f=parseFloat(i);return e.italicAngle=isNaN(f)||f<-90||f>90?"14":i.toString(),!0},t.XRefParseException=t.XRefEntryException=t.MissingDataException=void 0;var a=r(4),i=r(113);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){u(r,e);var t=f(r);function r(e,n){var a;return c(this,r),(a=t.call(this,"Missing data [".concat(e,", ").concat(n,")"))).begin=e,a.end=n,a}return r}(a.BaseException);t.MissingDataException=p;var g=function(e){u(r,e);var t=f(r);function r(){return c(this,r),t.apply(this,arguments)}return r}(a.BaseException);t.XRefEntryException=g;var m=function(e){u(r,e);var t=f(r);function r(){return c(this,r),t.apply(this,arguments)}return r}(a.BaseException);function v(e){for(var t,r=e.dict,n=e.key,a=e.getArray,o=void 0!==a&&a,s=e.stopWhenFound,c=void 0===s||s,u=new i.RefSet;r instanceof i.Dict&&(!r.objId||!u.has(r.objId));){r.objId&&u.put(r.objId);var l=o?r.getArray(n):r.get(n);if(void 0!==l){if(c)return l;t||(t=[]),t.push(l)}r=r.get("Parent")}return t}t.XRefParseException=m;var y=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function b(e,t,r,n){if(e){var s=null;if((0,i.isRef)(e)){if(n.has(e))return;s=e,n.put(s),e=t.fetch(e)}if(Array.isArray(e)){var c,u=o(e);try{for(u.s();!(c=u.n()).done;)b(c.value,t,r,n)}catch(e){u.e(e)}finally{u.f()}}else if(e instanceof i.Dict){if((0,i.isName)(e.get("S"),"JavaScript")&&e.has("JS")){var l,f=e.get("JS");l=(0,i.isStream)(f)?f.getString():f,(l=(0,a.stringToPDFString)(l))&&r.push(l)}b(e.getRaw("Next"),t,r,n)}s&&n.remove(s)}}var w={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.StringStream=t.Stream=t.NullStream=void 0;var a=r(114),i=r(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){c(i,e);var t,r,n,a=l(i);function i(e,t,r,n){var s;return o(this,i),(s=a.call(this)).bytes=e instanceof Uint8Array?e:new Uint8Array(e),s.start=t||0,s.pos=s.start,s.end=t+r||s.bytes.length,s.dict=n,s}return t=i,r=[{key:"length",get:function(){return this.end-this.start}},{key:"isEmpty",get:function(){return 0===this.length}},{key:"getByte",value:function(){return this.pos>=this.end?-1:this.bytes[this.pos++]}},{key:"getBytes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.bytes,n=this.pos,a=this.end;if(!e){var i=r.subarray(n,a);return t?new Uint8ClampedArray(i):i}var o=n+e;o>a&&(o=a),this.pos=o;var s=r.subarray(n,o);return t?new Uint8ClampedArray(s):s}},{key:"getByteRange",value:function(e,t){return e<0&&(e=0),t>this.end&&(t=this.end),this.bytes.subarray(e,t)}},{key:"reset",value:function(){this.pos=this.start}},{key:"moveStart",value:function(){this.start=this.pos}},{key:"makeSubStream",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new i(this.bytes.buffer,e,t,r)}}],r&&s(t.prototype,r),n&&s(t,n),i}(a.BaseStream);t.Stream=d;var p=function(e){c(r,e);var t=l(r);function r(e){return o(this,r),t.call(this,(0,i.stringToBytes)(e))}return r}(d);t.StringStream=p;var g=function(e){c(r,e);var t=l(r);function r(){return o(this,r),t.call(this,new Uint8Array(0))}return r}(d);t.NullStream=g},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDocument=t.Page=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(113),c=r(117),u=r(118),l=r(120),f=r(114),h=r(173),d=r(165),p=r(125),g=r(171),m=r(163),v=r(123),y=r(127),b=r(170),w=r(175),k=r(196);function S(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){S(i,n,a,o,s,"next",e)}function s(e){S(i,n,a,o,s,"throw",e)}o(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=C(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function C(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var a=I(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,r){return t&&j(e.prototype,t),r&&j(e,r),e}var M=[0,0,612,792],N=function(){function e(t){var r=t.pdfManager,n=t.xref,a=t.pageIndex,i=t.pageDict,o=t.ref,s=t.globalIdFactory,c=t.fontCache,u=t.builtInCMapCache,l=t.globalImageCache,f=t.nonBlendModesSet,h=t.xfaFactory;E(this,e),this.pdfManager=r,this.pageIndex=a,this.pageDict=i,this.xref=n,this.ref=o,this.fontCache=c,this.builtInCMapCache=u,this.globalImageCache=l,this.nonBlendModesSet=f,this.evaluatorOptions=r.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=h;var d={obj:0};this._localIdFactory=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(r,e);var t=P(r);function r(){return E(this,r),t.apply(this,arguments)}return R(r,null,[{key:"createObjId",value:function(){return"p".concat(a,"_").concat(++d.obj)}},{key:"getPageObjId",value:function(){return"page".concat(o.toString())}}]),r}(s)}var t;return R(e,[{key:"_getInheritableProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,c.getInheritableProperty)({dict:this.pageDict,key:e,getArray:t,stopWhenFound:!1});return Array.isArray(r)?1!==r.length&&(0,s.isDict)(r[0])?s.Dict.merge({xref:this.xref,dictArray:r}):r[0]:r}},{key:"content",get:function(){return this.pageDict.getArray("Contents")}},{key:"resources",get:function(){return(0,o.shadow)(this,"resources",this._getInheritableProperty("Resources")||s.Dict.empty)}},{key:"_getBoundingBox",value:function(e){if(this.xfaData){var t=this.xfaData.attributes.style,r=t.width,n=t.height;return[0,0,parseInt(r),parseInt(n)]}var a=this._getInheritableProperty(e,!0);if(Array.isArray(a)&&4===a.length){if(a[2]-a[0]!=0&&a[3]-a[1]!=0)return a;(0,o.warn)("Empty /".concat(e," entry."))}return null}},{key:"mediaBox",get:function(){return(0,o.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||M)}},{key:"cropBox",get:function(){return(0,o.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}},{key:"userUnit",get:function(){var e=this.pageDict.get("UserUnit");return(!(0,o.isNum)(e)||e<=0)&&(e=1),(0,o.shadow)(this,"userUnit",e)}},{key:"view",get:function(){var e,t=this.cropBox,r=this.mediaBox;if(t===r||(0,o.isArrayEqual)(t,r))e=r;else{var n=o.Util.intersect(t,r);n&&n[2]-n[0]!=0&&n[3]-n[1]!=0?e=n:(0,o.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,o.shadow)(this,"view",e||r)}},{key:"rotate",get:function(){var e=this._getInheritableProperty("Rotate")||0;return e%90!=0?e=0:e>=360?e%=360:e<0&&(e=(e%360+360)%360),(0,o.shadow)(this,"rotate",e)}},{key:"getContentStream",value:function(){return this.pdfManager.ensure(this,"content").then((function(e){return e instanceof f.BaseStream?e:Array.isArray(e)?new y.StreamsSequenceStream(e):new u.NullStream}))}},{key:"xfaData",get:function(){return this.xfaFactory?(0,o.shadow)(this,"xfaData",this.xfaFactory.getPage(this.pageIndex)):(0,o.shadow)(this,"xfaData",null)}},{key:"save",value:function(e,t,r){var n=new v.PartialEvaluator({xref:this.xref,handler:e,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then((function(e){var a,i=[],s=O(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.mustBePrinted(r)&&i.push(c.save(n,t,r).catch((function(e){return(0,o.warn)("save - ignoring annotation data during "+'"'.concat(t.name,'" task: "').concat(e,'".')),null})))}}catch(e){s.e(e)}finally{s.f()}return Promise.all(i)}))}},{key:"loadResources",value:function(e){var t=this;return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then((function(){return new g.ObjectLoader(t.resources,e,t.xref).load()}))}},{key:"getOperatorList",value:function(e){var t=this,r=e.handler,n=e.sink,a=e.task,i=e.intent,s=e.renderInteractiveForms,c=e.annotationStorage,u=this.getContentStream(),l=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),f=new v.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),h=Promise.all([u,l]).then((function(e){var o=A(e,1)[0],s=new m.OperatorList(i,n);return r.send("StartRenderPage",{transparency:f.hasBlendModes(t.resources,t.nonBlendModesSet),pageIndex:t.pageIndex,intent:i}),f.getOperatorList({stream:o,task:a,resources:t.resources,operatorList:s}).then((function(){return s}))}));return Promise.all([h,this._parsedAnnotations]).then((function(e){var t=A(e,2),r=t[0],n=t[1];if(0===n.length)return r.flush(!0),{length:r.totalLength};var u,l=[],h=O(n);try{for(h.s();!(u=h.n()).done;){var d=u.value;("display"===i&&d.mustBeViewed(c)||"print"===i&&d.mustBePrinted(c))&&l.push(d.getOperatorList(f,a,s,c).catch((function(e){return(0,o.warn)("getOperatorList - ignoring annotation data during "+'"'.concat(a.name,'" task: "').concat(e,'".')),null})))}}catch(e){h.e(e)}finally{h.f()}return Promise.all(l).then((function(e){r.addOp(o.OPS.beginAnnotations,[]);var t,n=O(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;r.addOpList(a)}}catch(e){n.e(e)}finally{n.f()}return r.addOp(o.OPS.endAnnotations,[]),r.flush(!0),{length:r.totalLength}}))}))}},{key:"extractTextContent",value:function(e){var t=this,r=e.handler,n=e.task,a=e.normalizeWhitespace,i=e.includeMarkedContent,o=e.sink,s=e.combineTextItems,c=this.getContentStream(),u=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([c,u]).then((function(e){var c=A(e,1)[0];return new v.PartialEvaluator({xref:t.xref,handler:r,pageIndex:t.pageIndex,idFactory:t._localIdFactory,fontCache:t.fontCache,builtInCMapCache:t.builtInCMapCache,globalImageCache:t.globalImageCache,options:t.evaluatorOptions}).getTextContent({stream:c,task:n,resources:t.resources,normalizeWhitespace:a,includeMarkedContent:i,combineTextItems:s,sink:o})}))}},{key:"getStructTree",value:(t=x(i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pdfManager.ensureCatalog("structTreeRoot");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.pdfManager.ensure(this,"_parseStructTree",[t]);case 7:return r=e.sent,e.abrupt("return",r.serializable);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_parseStructTree",value:function(e){var t=new b.StructTreePage(e,this.pageDict);return t.parse(),t}},{key:"getAnnotationsData",value:function(e){return this._parsedAnnotations.then((function(t){for(var r=[],n=0,a=t.length;n<a;n++)(!e||"display"===e&&t[n].viewable||"print"===e&&t[n].printable)&&r.push(t[n].data);return r}))}},{key:"annotations",get:function(){var e=this._getInheritableProperty("Annots");return(0,o.shadow)(this,"annotations",Array.isArray(e)?e:[])}},{key:"_parsedAnnotations",get:function(){var e=this,t=this.pdfManager.ensure(this,"annotations").then((function(){var t,r=[],n=O(e.annotations);try{for(n.s();!(t=n.n()).done;){var a=t.value;r.push(l.AnnotationFactory.create(e.xref,a,e.pdfManager,e._localIdFactory,!1).catch((function(e){return(0,o.warn)('_parsedAnnotations: "'.concat(e,'".')),null})))}}catch(e){n.e(e)}finally{n.f()}return Promise.all(r).then((function(e){return e.filter((function(e){return!!e}))}))}));return(0,o.shadow)(this,"_parsedAnnotations",t)}},{key:"jsActions",get:function(){var e=(0,c.collectActions)(this.xref,this.pageDict,o.PageActionEventType);return(0,o.shadow)(this,"jsActions",e)}}]),e}();t.Page=N;var B=new Uint8Array([37,80,68,70,45]),D=new Uint8Array([115,116,97,114,116,120,114,101,102]),L=new Uint8Array([101,110,100,111,98,106]),U=/^[1-9]\\.[0-9]$/;function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t.length,i=e.peekBytes(r),o=i.length-a;if(o<=0)return!1;if(n)for(var s=a-1,c=i.length-1;c>=s;){for(var u=0;u<a&&i[c-u]===t[s-u];)u++;if(u>=a)return e.pos+=c-s,!0;c--}else for(var l=0;l<=o;){for(var f=0;f<a&&i[l+f]===t[f];)f++;if(f>=a)return e.pos+=l,!0;l++}return!1}var X=function(){function e(t,r){var n;if(E(this,e),(0,s.isStream)(r))n=r;else{if(!(0,o.isArrayBuffer)(r))throw new Error("PDFDocument: Unknown argument type");n=new u.Stream(r)}if(n.length<=0)throw new o.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=t,this.stream=n,this.xref=new k.XRef(n,t),this._pagePromises=[],this._version=null;var a={font:0};this._globalIdFactory=function(){function e(){E(this,e)}return R(e,null,[{key:"getDocId",value:function(){return"g_".concat(t.docId)}},{key:"createFontId",value:function(){return"f".concat(++a.font)}},{key:"createObjId",value:function(){(0,o.unreachable)("Abstract method \`createObjId\` called.")}},{key:"getPageObjId",value:function(){(0,o.unreachable)("Abstract method \`getPageObjId\` called.")}}]),e}()}var t,r,n;return R(e,[{key:"parse",value:function(e){this.xref.parse(e),this.catalog=new d.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}},{key:"linearization",get:function(){var e=null;try{e=p.Linearization.create(this.stream)}catch(e){if(e instanceof c.MissingDataException)throw e;(0,o.info)(e)}return(0,o.shadow)(this,"linearization",e)}},{key:"startXRef",get:function(){var e=this.stream,t=0;if(this.linearization)e.reset(),q(e,L)&&(t=e.pos+6-e.start);else{for(var r=D.length,n=!1,a=e.end;!n&&a>0;)(a-=1024-r)<0&&(a=0),e.pos=a,n=q(e,D,1024,!0);if(n){var i;e.skip(9);do{i=e.getByte()}while((0,c.isWhiteSpace)(i));for(var s="";i>=32&&i<=57;)s+=String.fromCharCode(i),i=e.getByte();t=parseInt(s,10),isNaN(t)&&(t=0)}}return(0,o.shadow)(this,"startXRef",t)}},{key:"checkHeader",value:function(){var e=this.stream;if(e.reset(),q(e,B)){e.moveStart();for(var t,r="";(t=e.getByte())>32&&!(r.length>=12);)r+=String.fromCharCode(t);this._version||(this._version=r.substring(5))}}},{key:"parseStartXRef",value:function(){this.xref.setStartXRef(this.startXRef)}},{key:"numPages",get:function(){if(this.xfaFactory)return(0,o.shadow)(this,"numPages",this.xfaFactory.numberPages);var e=this.linearization,t=e?e.numPages:this.catalog.numPages;return(0,o.shadow)(this,"numPages",t)}},{key:"_hasOnlyDocumentSignatures",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=10;return!!Array.isArray(e)&&e.every((function(e){if(!((e=t.xref.fetchIfRef(e))instanceof s.Dict))return!1;if(e.has("Kids"))return++r>n?((0,o.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):t._hasOnlyDocumentSignatures(e.get("Kids"),r);var a=(0,s.isName)(e.get("FT"),"Sig"),i=e.get("Rect"),c=Array.isArray(i)&&i.every((function(e){return 0===e}));return a&&c}))}},{key:"xfaData",get:function(){var e=this.catalog.acroForm;if(!e)return null;var t=e.get("XFA"),r={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if((0,s.isStream)(t)&&!t.isEmpty)try{return r["xdp:xdp"]=(0,o.stringToUTF8String)(t.getString()),r}catch(e){return(0,o.warn)("XFA - Invalid utf-8 string."),null}if(!Array.isArray(t)||0===t.length)return null;for(var n=0,a=t.length;n<a;n+=2){var i=void 0;if(i=0===n?"xdp:xdp":n===a-2?"/xdp:xdp":t[n],r.hasOwnProperty(i)){var c=this.xref.fetchIfRef(t[n+1]);if((0,s.isStream)(c)&&!c.isEmpty)try{r[i]=(0,o.stringToUTF8String)(c.getString())}catch(e){return(0,o.warn)("XFA - Invalid utf-8 string."),null}}}return r}},{key:"xfaFactory",get:function(){if(this.pdfManager.enableXfa&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm){var e=this.xfaData;return(0,o.shadow)(this,"xfaFactory",e?new w.XFAFactory(e):null)}return(0,o.shadow)(this,"xfaFaxtory",null)}},{key:"isPureXfa",get:function(){return null!==this.xfaFactory}},{key:"loadXfaFonts",value:(n=x(i.default.mark((function e(t,r){var n,a,u,l,f,h,d,p,y,b,w,k,S,x,C,T,F,P,_;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pdfManager.ensureCatalog("acroForm");case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.getAsync("DR");case 7:if((a=e.sent)instanceof s.Dict){e.next=10;break}return e.abrupt("return");case 10:return u=new g.ObjectLoader(a,["Font"],this.xref),e.next=13,u.load();case 13:if((l=a.get("Font"))instanceof s.Dict){e.next=16;break}return e.abrupt("return");case 16:f=new v.PartialEvaluator({xref:this.xref,handler:t,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache}),h=new m.OperatorList,d={font:null,clone:function(){return this}},p=new Map,l.forEach((function(e,t){p.set(e,t)})),y=[],b=O(p),e.prev=23,b.s();case 25:if((w=b.n()).done){e.next=39;break}if(k=A(w.value,2),S=k[0],x=k[1],(C=x.get("FontDescriptor"))instanceof s.Dict){e.next=30;break}return e.abrupt("continue",37);case 30:if(T=C.get("FontFamily"),F=C.get("FontWeight"),P=-C.get("ItalicAngle"),_={fontFamily:T,fontWeight:F,italicAngle:P},(0,c.validateCSSFont)(_)){e.next=36;break}return e.abrupt("continue",37);case 36:y.push(f.handleSetFont(a,[s.Name.get(S),1],null,h,r,d,null,_).catch((function(e){return(0,o.warn)('loadXfaFonts: "'.concat(e,'".')),null})));case 37:e.next=25;break;case 39:e.next=44;break;case 41:e.prev=41,e.t0=e.catch(23),b.e(e.t0);case 44:return e.prev=44,b.f(),e.finish(44);case 47:return e.next=49,Promise.all(y);case 49:case"end":return e.stop()}}),e,this,[[23,41,44,47]])}))),function(e,t){return n.apply(this,arguments)})},{key:"formInfo",get:function(){var e={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},t=this.catalog.acroForm;if(!t)return(0,o.shadow)(this,"formInfo",e);try{var r=t.get("Fields"),n=Array.isArray(r)&&r.length>0;e.hasFields=n;var a=t.get("XFA");e.hasXfa=Array.isArray(a)&&a.length>0||(0,s.isStream)(a)&&!a.isEmpty;var i=!!(1&t.get("SigFlags")),u=i&&this._hasOnlyDocumentSignatures(r);e.hasAcroForm=n&&!u,e.hasSignatures=i}catch(e){if(e instanceof c.MissingDataException)throw e;(0,o.warn)('Cannot fetch form information: "'.concat(e,'".'))}return(0,o.shadow)(this,"formInfo",e)}},{key:"documentInfo",get:function(){var e={Title:o.isString,Author:o.isString,Subject:o.isString,Keywords:o.isString,Creator:o.isString,Producer:o.isString,CreationDate:o.isString,ModDate:o.isString,Trapped:s.isName},t=this._version;"string"==typeof t&&U.test(t)||((0,o.warn)("Invalid PDF header version number: ".concat(t)),t=null);var r,n={PDFFormatVersion:t,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};try{r=this.xref.trailer.get("Info")}catch(e){if(e instanceof c.MissingDataException)throw e;(0,o.info)("The document information dictionary is invalid.")}if((0,s.isDict)(r)){var a,i=O(r.getKeys());try{for(i.s();!(a=i.n()).done;){var u=a.value,l=r.get(u);if(e[u])e[u](l)?n[u]="string"!=typeof l?l:(0,o.stringToPDFString)(l):(0,o.info)('Bad value in document info for "'.concat(u,'".'));else if("string"==typeof u){var f=void 0;if((0,o.isString)(l))f=(0,o.stringToPDFString)(l);else{if(!((0,s.isName)(l)||(0,o.isNum)(l)||(0,o.isBool)(l))){(0,o.info)('Unsupported value in document info for (custom) "'.concat(u,'".'));continue}f=l}n.Custom||(n.Custom=Object.create(null)),n.Custom[u]=f}}}catch(e){i.e(e)}finally{i.f()}}return(0,o.shadow)(this,"documentInfo",n)}},{key:"fingerprint",get:function(){for(var e,t=this.xref.trailer.get("ID"),r=[],n=0,a=(e=Array.isArray(t)&&t[0]&&(0,o.isString)(t[0])&&"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0"!==t[0]?(0,o.stringToBytes)(t[0]):(0,h.calculateMD5)(this.stream.getByteRange(0,1024),0,1024)).length;n<a;n++){var i=e[n].toString(16);r.push(i.padStart(2,"0"))}return(0,o.shadow)(this,"fingerprint",r.join(""))}},{key:"_getLinearizationPage",value:function(e){var t=this.catalog,r=this.linearization,n=s.Ref.get(r.objectNumberFirst,0);return this.xref.fetchAsync(n).then((function(e){if((0,s.isDict)(e,"Page")||(0,s.isDict)(e)&&!e.has("Type")&&e.has("Contents"))return n&&!t.pageKidsCountCache.has(n)&&t.pageKidsCountCache.put(n,1),[e,n];throw new o.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")})).catch((function(r){return(0,o.info)(r),t.getPageDict(e)}))}},{key:"getPage",value:function(e){var t=this;if(void 0!==this._pagePromises[e])return this._pagePromises[e];var r=this.catalog,n=this.linearization;if(this.xfaFactory)return Promise.resolve(new N({pdfManager:this.pdfManager,xref:this.xref,pageIndex:e,pageDict:s.Dict.empty,ref:null,globalIdFactory:this._globalIdFactory,fontCache:r.fontCache,builtInCMapCache:r.builtInCMapCache,globalImageCache:r.globalImageCache,nonBlendModesSet:r.nonBlendModesSet,xfaFactory:this.xfaFactory}));var a=n&&n.pageFirst===e?this._getLinearizationPage(e):r.getPageDict(e);return this._pagePromises[e]=a.then((function(n){var a=A(n,2),i=a[0],o=a[1];return new N({pdfManager:t.pdfManager,xref:t.xref,pageIndex:e,pageDict:i,ref:o,globalIdFactory:t._globalIdFactory,fontCache:r.fontCache,builtInCMapCache:r.builtInCMapCache,globalImageCache:r.globalImageCache,nonBlendModesSet:r.nonBlendModesSet,xfaFactory:null})}))}},{key:"checkFirstPage",value:function(){var e=this;return this.getPage(0).catch(function(){var t=x(i.default.mark((function t(r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r instanceof c.XRefEntryException)){t.next=5;break}return e._pagePromises.length=0,t.next=4,e.cleanup();case 4:throw new c.XRefParseException;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"fontFallback",value:function(e,t){return this.catalog.fontFallback(e,t)}},{key:"cleanup",value:(r=x(i.default.mark((function e(){var t,r=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.abrupt("return",this.catalog?this.catalog.cleanup(t):(0,s.clearPrimitiveCaches)());case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_collectFieldObjects",value:function(e,t,r){var n=this.xref.fetchIfRef(t);if(n.has("T")){var a=(0,o.stringToPDFString)(n.get("T"));e=""===e?a:"".concat(e,".").concat(a)}if(r.has(e)||r.set(e,[]),r.get(e).push(l.AnnotationFactory.create(this.xref,t,this.pdfManager,this._localIdFactory,!0).then((function(e){return e&&e.getFieldObject()})).catch((function(e){return(0,o.warn)('_collectFieldObjects: "'.concat(e,'".')),null}))),n.has("Kids")){var i,s=O(n.get("Kids"));try{for(s.s();!(i=s.n()).done;){var c=i.value;this._collectFieldObjects(e,c,r)}}catch(e){s.e(e)}finally{s.f()}}}},{key:"fieldObjects",get:function(){if(!this.formInfo.hasFields)return(0,o.shadow)(this,"fieldObjects",Promise.resolve(null));var e,t=Object.create(null),r=new Map,n=O(this.catalog.acroForm.get("Fields"));try{for(n.s();!(e=n.n()).done;){var a=e.value;this._collectFieldObjects("",a,r)}}catch(e){n.e(e)}finally{n.f()}var i,s=[],c=O(r);try{var u=function(){var e=A(i.value,2),r=e[0],n=e[1];s.push(Promise.all(n).then((function(e){(e=e.filter((function(e){return!!e}))).length>0&&(t[r]=e)})))};for(c.s();!(i=c.n()).done;)u()}catch(e){c.e(e)}finally{c.f()}return(0,o.shadow)(this,"fieldObjects",Promise.all(s).then((function(){return t})))}},{key:"hasJSActions",get:function(){var e=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,o.shadow)(this,"hasJSActions",e)}},{key:"_parseHasJSActions",value:(t=x(i.default.mark((function e(){var t,r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);case 2:if(t=e.sent,r=A(t,2),n=r[0],a=r[1],!n){e.next=8;break}return e.abrupt("return",!0);case 8:if(!a){e.next=10;break}return e.abrupt("return",Object.values(a).some((function(e){return e.some((function(e){return null!==e.actions}))})));case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"calculationOrderIds",get:function(){var e=this.catalog.acroForm;if(!e||!e.has("CO"))return(0,o.shadow)(this,"calculationOrderIds",null);var t=e.get("CO");if(!Array.isArray(t)||0===t.length)return(0,o.shadow)(this,"calculationOrderIds",null);var r=t.filter(s.isRef).map((function(e){return e.toString()}));return 0===r.length?(0,o.shadow)(this,"calculationOrderIds",null):(0,o.shadow)(this,"calculationOrderIds",r)}}]),e}();t.PDFDocument=X},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getQuadPoints=R,t.MarkupAnnotation=t.AnnotationFactory=t.AnnotationBorderStyle=t.Annotation=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(117),c=r(121),u=r(113),l=r(165),f=r(122),h=r(167),d=r(171),p=r(163),g=r(118),m=r(172);function v(e,t,r){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}},v(e,t,r||e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var a=S(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=T(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function A(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){A(i,n,a,o,s,"next",e)}function s(e){A(i,n,a,o,s,"throw",e)}o(void 0)}))}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),e}var E=function(){function e(){P(this,e)}var t;return I(e,null,[{key:"create",value:function(e,t,r,n,a){var i=this;return Promise.all([r.ensureCatalog("acroForm"),a?this._getPageIndex(e,t,r):-1]).then((function(o){var s=C(o,2),c=s[0],u=s[1];return r.ensure(i,"_create",[e,t,r,n,c,a,u])}))}},{key:"_create",value:function(e,t,r,n,a,i){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1,l=e.fetchIfRef(t);if((0,u.isDict)(l)){var f=(0,u.isRef)(t)?t.toString():"annot_".concat(n.createObjId()),h=l.get("Subtype"),d={xref:e,ref:t,dict:l,subtype:h=(0,u.isName)(h)?h.name:null,id:f,pdfManager:r,acroForm:a instanceof u.Dict?a:u.Dict.empty,collectFields:i,pageIndex:c};switch(h){case"Link":return new z(d);case"Text":return new $(d);case"Widget":var p=(0,s.getInheritableProperty)({dict:l,key:"FT"});switch(p=(0,u.isName)(p)?p.name:null){case"Tx":return new U(d);case"Btn":return new q(d);case"Ch":return new X(d);case"Sig":return new H(d)}return(0,o.warn)('Unimplemented widget field type "'.concat(p,'", ')+"falling back to base field type."),new L(d);case"Popup":return new G(d);case"FreeText":return new W(d);case"Line":return new V(d);case"Square":return new K(d);case"Circle":return new Y(d);case"PolyLine":return new J(d);case"Polygon":return new Z(d);case"Caret":return new Q(d);case"Ink":return new ee(d);case"Highlight":return new te(d);case"Underline":return new re(d);case"Squiggly":return new ne(d);case"StrikeOut":return new ae(d);case"Stamp":return new ie(d);case"FileAttachment":return new oe(d);default:return i||(h?(0,o.warn)('Unimplemented annotation type "'.concat(h,'", ')+"falling back to base annotation."):(0,o.warn)("Annotation is missing the required /Subtype.")),new N(d)}}}},{key:"_getPageIndex",value:(t=O(i.default.mark((function e(t,r,n){var a,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchIfRefAsync(r);case 3:if(a=e.sent,(0,u.isDict)(a)){e.next=6;break}return e.abrupt("return",-1);case 6:if(s=a.getRaw("P"),(0,u.isRef)(s)){e.next=9;break}return e.abrupt("return",-1);case 9:return e.next=11,n.ensureCatalog("getPageIndex",[s]);case 11:return c=e.sent,e.abrupt("return",c);case 15:return e.prev=15,e.t0=e.catch(0),(0,o.warn)('_getPageIndex: "'.concat(e.t0,'".')),e.abrupt("return",-1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();function j(e){var t=new Uint8ClampedArray(3);if(!Array.isArray(e))return t;switch(e.length){case 0:return null;case 1:return f.ColorSpace.singletons.gray.getRgbItem(e,0,t,0),t;case 3:return f.ColorSpace.singletons.rgb.getRgbItem(e,0,t,0),t;case 4:return f.ColorSpace.singletons.cmyk.getRgbItem(e,0,t,0),t;default:return t}}function R(e,t){if(!e.has("QuadPoints"))return null;var r=e.getArray("QuadPoints");if(!Array.isArray(r)||0===r.length||r.length%8>0)return null;for(var n=[],a=0,i=r.length/8;a<i;a++){n.push([]);for(var o=8*a,s=8*a+8;o<s;o+=2){var c=r[o],u=r[o+1];if(null!==t&&(c<t[0]||c>t[2]||u<t[1]||u>t[3]))return null;n[a].push({x:c,y:u})}}return n.map((function(e){var t=e.reduce((function(e,t){var r=C(e,4),n=r[0],a=r[1],i=r[2],o=r[3];return[Math.min(n,t.x),Math.max(a,t.x),Math.min(i,t.y),Math.max(o,t.y)]}),[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]),r=C(t,4),n=r[0],a=r[1],i=r[2],o=r[3];return[{x:n,y:o},{x:a,y:o},{x:n,y:i},{x:a,y:i}]}))}function M(e,t,r){var n=C(o.Util.getAxialAlignedBoundingBox(t,r),4),a=n[0],i=n[1],s=n[2],c=n[3];if(a===s||i===c)return[1,0,0,1,e[0],e[1]];var u=(e[2]-e[0])/(s-a),l=(e[3]-e[1])/(c-i);return[u,0,0,l,e[0]-a*u,e[1]-i*l]}t.AnnotationFactory=E;var N=function(){function e(t){P(this,e);var r=t.dict;if(this.setContents(r.get("Contents")),this.setModificationDate(r.get("M")),this.setFlags(r.get("F")),this.setRectangle(r.getArray("Rect")),this.setColor(r.getArray("C")),this.setBorderStyle(r),this.setAppearance(r),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,contents:this.contents,hasAppearance:!!this.appearance,id:t.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:t.subtype},t.collectFields){var n=r.get("Kids");if(Array.isArray(n)){var a,i=[],c=x(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;(0,u.isRef)(l)&&i.push(l.toString())}}catch(e){c.e(e)}finally{c.f()}0!==i.length&&(this.data.kidIds=i)}this.data.actions=(0,s.collectActions)(t.xref,r,o.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(r),this.data.pageIndex=t.pageIndex}this._fallbackFontDict=null}var t;return I(e,[{key:"_hasFlag",value:function(e,t){return!!(e&t)}},{key:"_isViewable",value:function(e){return!this._hasFlag(e,o.AnnotationFlag.INVISIBLE)&&!this._hasFlag(e,o.AnnotationFlag.NOVIEW)}},{key:"_isPrintable",value:function(e){return this._hasFlag(e,o.AnnotationFlag.PRINT)&&!this._hasFlag(e,o.AnnotationFlag.INVISIBLE)}},{key:"mustBeViewed",value:function(e){var t=e&&e.get(this.data.id);return t&&void 0!==t.hidden?!t.hidden:this.viewable&&!this._hasFlag(this.flags,o.AnnotationFlag.HIDDEN)}},{key:"mustBePrinted",value:function(e){var t=e&&e.get(this.data.id);return t&&void 0!==t.print?t.print:this.printable}},{key:"viewable",get:function(){return null!==this.data.quadPoints&&(0===this.flags||this._isViewable(this.flags))}},{key:"printable",get:function(){return null!==this.data.quadPoints&&0!==this.flags&&this._isPrintable(this.flags)}},{key:"setContents",value:function(e){this.contents=(0,o.stringToPDFString)(e||"")}},{key:"setModificationDate",value:function(e){this.modificationDate=(0,o.isString)(e)?e:null}},{key:"setFlags",value:function(e){this.flags=Number.isInteger(e)&&e>0?e:0}},{key:"hasFlag",value:function(e){return this._hasFlag(this.flags,e)}},{key:"setRectangle",value:function(e){Array.isArray(e)&&4===e.length?this.rectangle=o.Util.normalizeRect(e):this.rectangle=[0,0,0,0]}},{key:"setColor",value:function(e){this.color=j(e)}},{key:"setBorderStyle",value:function(e){if(this.borderStyle=new B,(0,u.isDict)(e))if(e.has("BS")){var t=e.get("BS"),r=t.get("Type");r&&!(0,u.isName)(r,"Border")||(this.borderStyle.setWidth(t.get("W"),this.rectangle),this.borderStyle.setStyle(t.get("S")),this.borderStyle.setDashArray(t.getArray("D")))}else if(e.has("Border")){var n=e.getArray("Border");Array.isArray(n)&&n.length>=3&&(this.borderStyle.setHorizontalCornerRadius(n[0]),this.borderStyle.setVerticalCornerRadius(n[1]),this.borderStyle.setWidth(n[2],this.rectangle),4===n.length&&this.borderStyle.setDashArray(n[3]))}else this.borderStyle.setWidth(0)}},{key:"setAppearance",value:function(e){this.appearance=null;var t=e.get("AP");if((0,u.isDict)(t)){var r=t.get("N");if((0,u.isStream)(r))this.appearance=r;else if((0,u.isDict)(r)){var n=e.get("AS");(0,u.isName)(n)&&r.has(n.name)&&(this.appearance=r.get(n.name))}}}},{key:"loadResources",value:function(e){return this.appearance.dict.getAsync("Resources").then((function(t){if(t)return new d.ObjectLoader(t,e,t.xref).load().then((function(){return t}))}))}},{key:"getOperatorList",value:function(e,t,r,n){var a=this;if(!this.appearance)return Promise.resolve(new p.OperatorList);var i=this.appearance,s=this.data,c=i.dict,u=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),l=c.getArray("BBox")||[0,0,1,1],f=c.getArray("Matrix")||[1,0,0,1,0,0],h=M(s.rect,l,f);return u.then((function(r){var n=new p.OperatorList;return n.addOp(o.OPS.beginAnnotation,[s.rect,h,f]),e.getOperatorList({stream:i,task:t,resources:r,operatorList:n,fallbackFontDict:a._fallbackFontDict}).then((function(){return n.addOp(o.OPS.endAnnotation,[]),a.reset(),n}))}))}},{key:"save",value:(t=O(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"getFieldObject",value:function(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex}:null}},{key:"reset",value:function(){var e,t=x(this._streams);try{for(t.s();!(e=t.n()).done;)e.value.reset()}catch(e){t.e(e)}finally{t.f()}}},{key:"_constructFieldName",value:function(e){if(!e.has("T")&&!e.has("Parent"))return(0,o.warn)("Unknown field name, falling back to empty field name."),"";if(!e.has("Parent"))return(0,o.stringToPDFString)(e.get("T"));var t=[];e.has("T")&&t.unshift((0,o.stringToPDFString)(e.get("T")));var r=e,n=new u.RefSet;for(e.objId&&n.put(e.objId);r.has("Parent")&&(r=r.get("Parent"))instanceof u.Dict&&(!r.objId||!n.has(r.objId));)r.objId&&n.put(r.objId),r.has("T")&&t.unshift((0,o.stringToPDFString)(r.get("T")));return t.join(".")}}]),e}();t.Annotation=N;var B=function(){function e(){P(this,e),this.width=1,this.style=o.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}return I(e,[{key:"setWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0];if((0,u.isName)(e))this.width=0;else if(Number.isInteger(e)){if(e>0){var r=(t[2]-t[0])/2,n=(t[3]-t[1])/2;r>0&&n>0&&(e>r||e>n)&&((0,o.warn)("AnnotationBorderStyle.setWidth - ignoring width: ".concat(e)),e=1)}this.width=e}}},{key:"setStyle",value:function(e){if((0,u.isName)(e))switch(e.name){case"S":this.style=o.AnnotationBorderStyleType.SOLID;break;case"D":this.style=o.AnnotationBorderStyleType.DASHED;break;case"B":this.style=o.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=o.AnnotationBorderStyleType.INSET;break;case"U":this.style=o.AnnotationBorderStyleType.UNDERLINE}}},{key:"setDashArray",value:function(e){if(Array.isArray(e)&&e.length>0){var t,r=!0,n=!0,a=x(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!(+i>=0)){r=!1;break}i>0&&(n=!1)}}catch(e){a.e(e)}finally{a.f()}r&&!n?this.dashArray=e:this.width=0}else e&&(this.width=0)}},{key:"setHorizontalCornerRadius",value:function(e){Number.isInteger(e)&&(this.horizontalCornerRadius=e)}},{key:"setVerticalCornerRadius",value:function(e){Number.isInteger(e)&&(this.verticalCornerRadius=e)}}]),e}();t.AnnotationBorderStyle=B;var D=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),n=t.call(this,e);var a=e.dict;if(a.has("IRT")){var i=a.getRaw("IRT");n.data.inReplyTo=(0,u.isRef)(i)?i.toString():null;var s=a.get("RT");n.data.replyType=(0,u.isName)(s)?s.name:o.AnnotationReplyType.REPLY}if(n.data.replyType===o.AnnotationReplyType.GROUP){var c=a.get("IRT");n.data.title=(0,o.stringToPDFString)(c.get("T")||""),n.setContents(c.get("Contents")),n.data.contents=n.contents,c.has("CreationDate")?(n.setCreationDate(c.get("CreationDate")),n.data.creationDate=n.creationDate):n.data.creationDate=null,c.has("M")?(n.setModificationDate(c.get("M")),n.data.modificationDate=n.modificationDate):n.data.modificationDate=null,n.data.hasPopup=c.has("Popup"),c.has("C")?(n.setColor(c.getArray("C")),n.data.color=n.color):n.data.color=null}else n.data.title=(0,o.stringToPDFString)(a.get("T")||""),n.setCreationDate(a.get("CreationDate")),n.data.creationDate=n.creationDate,n.data.hasPopup=a.has("Popup"),a.has("C")||(n.data.color=null);return n}return I(r,[{key:"setCreationDate",value:function(e){this.creationDate=(0,o.isString)(e)?e:null}},{key:"_setDefaultAppearance",value:function(e){var t=e.xref,r=e.extra,n=e.strokeColor,a=e.fillColor,i=e.blendMode,o=e.strokeAlpha,s=e.fillAlpha,c=e.pointsCallback,l=Number.MAX_VALUE,f=Number.MAX_VALUE,h=Number.MIN_VALUE,d=Number.MIN_VALUE,p=["q"];r&&p.push(r),n&&p.push("".concat(n[0]," ").concat(n[1]," ").concat(n[2]," RG")),a&&p.push("".concat(a[0]," ").concat(a[1]," ").concat(a[2]," rg"));var m=this.data.quadPoints;m||(m=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);var v,y=x(m);try{for(y.s();!(v=y.n()).done;){var b=C(c(p,v.value),4),w=b[0],k=b[1],S=b[2],A=b[3];l=Math.min(l,w),h=Math.max(h,k),f=Math.min(f,S),d=Math.max(d,A)}}catch(e){y.e(e)}finally{y.f()}p.push("Q");var O=new u.Dict(t),T=new u.Dict(t);T.set("Subtype",u.Name.get("Form"));var F=new g.StringStream(p.join(" "));F.dict=T,O.set("Fm0",F);var P=new u.Dict(t);i&&P.set("BM",u.Name.get(i)),"number"==typeof o&&P.set("CA",o),"number"==typeof s&&P.set("ca",s);var _=new u.Dict(t);_.set("GS0",P);var I=new u.Dict(t);I.set("ExtGState",_),I.set("XObject",O);var E=new u.Dict(t);E.set("Resources",I);var j=this.data.rect=[l,f,h,d];E.set("BBox",j),this.appearance=new g.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=E,this._streams.push(this.appearance,F)}}]),r}(N);t.MarkupAnnotation=D;var L=function(e){y(l,e);var t,r,n,a=w(l);function l(e){var t;P(this,l),t=a.call(this,e);var r=e.dict,n=t.data;t.ref=e.ref,n.annotationType=o.AnnotationType.WIDGET,void 0===n.fieldName&&(n.fieldName=t._constructFieldName(r)),void 0===n.actions&&(n.actions=(0,s.collectActions)(e.xref,r,o.AnnotationActionEventType));var i=(0,s.getInheritableProperty)({dict:r,key:"V",getArray:!0});n.fieldValue=t._decodeFormValue(i);var f=(0,s.getInheritableProperty)({dict:r,key:"DV",getArray:!0});n.defaultFieldValue=t._decodeFormValue(f),n.alternativeText=(0,o.stringToPDFString)(r.get("TU")||"");var h=(0,s.getInheritableProperty)({dict:r,key:"DA"})||e.acroForm.get("DA");t._defaultAppearance=(0,o.isString)(h)?h:"",n.defaultAppearanceData=(0,c.parseDefaultAppearance)(t._defaultAppearance);var d=(0,s.getInheritableProperty)({dict:r,key:"FT"});n.fieldType=(0,u.isName)(d)?d.name:null;var p=(0,s.getInheritableProperty)({dict:r,key:"DR"}),g=e.acroForm.get("DR"),m=t.appearance&&t.appearance.dict.get("Resources");return t._fieldResources={localResources:p,acroFormResources:g,appearanceResources:m,mergedResources:u.Dict.merge({xref:e.xref,dictArray:[p,m,g],mergeSubDicts:!0})},n.fieldFlags=(0,s.getInheritableProperty)({dict:r,key:"Ff"}),(!Number.isInteger(n.fieldFlags)||n.fieldFlags<0)&&(n.fieldFlags=0),n.readOnly=t.hasFieldFlag(o.AnnotationFieldFlag.READONLY),n.hidden=t._hasFlag(n.annotationFlags,o.AnnotationFlag.HIDDEN),t}return I(l,[{key:"_decodeFormValue",value:function(e){return Array.isArray(e)?e.filter((function(e){return(0,o.isString)(e)})).map((function(e){return(0,o.stringToPDFString)(e)})):(0,u.isName)(e)?(0,o.stringToPDFString)(e.name):(0,o.isString)(e)?(0,o.stringToPDFString)(e):null}},{key:"hasFieldFlag",value:function(e){return!!(this.data.fieldFlags&e)}},{key:"getOperatorList",value:function(e,t,r,n){var a=this;return!r||this instanceof H?this._hasText?this._getAppearance(e,t,n).then((function(i){if(a.appearance&&null===i)return v(S(l.prototype),"getOperatorList",a).call(a,e,t,r,n);var s=new p.OperatorList;if(!a._defaultAppearance||null===i)return s;var c=[1,0,0,1,0,0],u=[0,0,a.data.rect[2]-a.data.rect[0],a.data.rect[3]-a.data.rect[1]],f=M(a.data.rect,u,c);s.addOp(o.OPS.beginAnnotation,[a.data.rect,f,c]);var h=new g.StringStream(i);return e.getOperatorList({stream:h,task:t,resources:a._fieldResources.mergedResources,operatorList:s}).then((function(){return s.addOp(o.OPS.endAnnotation,[]),s}))})):v(S(l.prototype),"getOperatorList",this).call(this,e,t,r,n):Promise.resolve(new p.OperatorList)}},{key:"save",value:(n=O(i.default.mark((function e(t,r,n){var a,s,c,l,f,h,d,p,g,v,y,b,w,k,S;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:if(a=n.get(this.data.id),(s=a&&a.value)!==this.data.fieldValue&&void 0!==s){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,this._getAppearance(t,r,n);case 8:if(null!==(c=e.sent)){e.next=11;break}return e.abrupt("return",null);case 11:if(l=t.xref,f=l.fetchIfRef(this.ref),(0,u.isDict)(f)){e.next=15;break}return e.abrupt("return",null);case 15:return h=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],d={path:(0,o.stringToPDFString)(f.get("T")||""),value:s},p=l.getNewRef(),(g=new u.Dict(l)).set("N",p),v=l.encrypt,y=null,b=null,v&&(y=v.createCipherTransform(this.ref.num,this.ref.gen),b=v.createCipherTransform(p.num,p.gen),c=b.encryptString(c)),f.set("V",(0,o.isAscii)(s)?s:(0,o.stringToUTF16BEString)(s)),f.set("AP",g),f.set("M","D:".concat((0,o.getModificationDate)())),(w=new u.Dict(l)).set("Length",c.length),w.set("Subtype",u.Name.get("Form")),w.set("Resources",this._getSaveFieldResources(l)),w.set("BBox",h),k=["".concat(this.ref.num," ").concat(this.ref.gen," obj\\n")],(0,m.writeDict)(f,k,y),k.push("\\nendobj\\n"),S=["".concat(p.num," ").concat(p.gen," obj\\n")],(0,m.writeDict)(w,S,b),S.push(" stream\\n",c,"\\nendstream\\nendobj\\n"),e.abrupt("return",[{ref:this.ref,data:k.join(""),xfa:d},{ref:p,data:S.join(""),xfa:null}]);case 39:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"_getAppearance",value:(r=O(i.default.mark((function e(t,r,n){var a,s,u,l,f,h,d,p,g,m,v,y,b,w,k,S,x,A;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.hasFieldFlag(o.AnnotationFieldFlag.PASSWORD),n&&!a){e.next=3;break}return e.abrupt("return",null);case 3:if(s=n.get(this.data.id),void 0!==(u=s&&s.value)){e.next=7;break}return e.abrupt("return",null);case 7:if(""!==(u=u.trim())){e.next=10;break}return e.abrupt("return","");case 10:return l=-1,this.data.multiLine&&(l=u.split(/\\r\\n|\\r|\\n/).length),h=f=2,d=this.data.rect[3]-this.data.rect[1],p=this.data.rect[2]-this.data.rect[0],this._defaultAppearance||(this.data.defaultAppearanceData=(0,c.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g")),g=this._computeFontSize(d,l),m=C(g,2),v=m[0],y=m[1],e.next=20,this._getFontData(t,r);case 20:if(b=e.sent,w=b.descent,isNaN(w)&&(w=0),k=f+Math.abs(w)*y,S=this.data.textAlignment,!this.data.multiLine){e.next=27;break}return e.abrupt("return",this._getMultilineAppearance(v,u,b,y,p,d,S,h,k));case 27:if(x=b.encodeString(u).join(""),!this.data.comb){e.next=30;break}return e.abrupt("return",this._getCombAppearance(v,b,x,p,h,k));case 30:if(!(0===S||S>2)){e.next=32;break}return e.abrupt("return","/Tx BMC q BT "+v+" 1 0 0 1 ".concat(h," ").concat(k," Tm (").concat((0,o.escapeString)(x),") Tj")+" ET Q EMC");case 32:return A=this._renderText(x,b,y,p,S,h,k),e.abrupt("return","/Tx BMC q BT "+v+" 1 0 0 1 0 0 Tm ".concat(A)+" ET Q EMC");case 34:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"_getFontData",value:(t=O(i.default.mark((function e(t,r){var n,a,o,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new p.OperatorList,a={font:null,clone:function(){return this}},o=this.data.defaultAppearanceData,s=o.fontName,c=o.fontSize,e.next=5,t.handleSetFont(this._fieldResources.mergedResources,[s&&u.Name.get(s),c],null,n,r,a,null);case 5:return e.abrupt("return",a.font);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_computeFontSize",value:function(e,t){var r=this.data.defaultAppearanceData.fontSize;if(!r){var n=function(e){return Math.round(10*e)/10};if(-1===t)r=n(.8*e);else{var a=(r=10)/.8,i=Math.round(e/a);r=n(.8*(a=e/(i=Math.max(i,t))))}var o=this.data.defaultAppearanceData,s=o.fontName,u=o.fontColor;this._defaultAppearance=(0,c.createDefaultAppearance)({fontSize:r,fontName:s,fontColor:u})}return[this._defaultAppearance,r]}},{key:"_renderText",value:function(e,t,r,n,a,i,s){var c,u,l=r/1e3,f=0,h=x(t.charsToGlyphs(e));try{for(h.s();!(c=h.n()).done;)f+=c.value.width*l}catch(e){h.e(e)}finally{h.f()}return u=(u=1===a?(n-f)/2:2===a?n-f-i:i).toFixed(2),s=s.toFixed(2),"".concat(u," ").concat(s," Td (").concat((0,o.escapeString)(e),") Tj")}},{key:"_getSaveFieldResources",value:function(e){var t=this._fieldResources,r=t.localResources,n=t.appearanceResources,a=t.acroFormResources,i=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!i)return r||u.Dict.empty;for(var o=0,s=[r,n];o<s.length;o++){var c=s[o];if(c instanceof u.Dict){var l=c.get("Font");if(l instanceof u.Dict&&l.has(i))return c}}if(a instanceof u.Dict){var f=a.get("Font");if(f instanceof u.Dict&&f.has(i)){var h=new u.Dict(e);h.set(i,f.getRaw(i));var d=new u.Dict(e);return d.set("Font",h),u.Dict.merge({xref:e,dictArray:[d,r],mergeSubDicts:!0})}}return r||u.Dict.empty}},{key:"getFieldObject",value:function(){return null}}]),l}(N),U=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e))._hasText=!0;var a=e.dict;(0,o.isString)(n.data.fieldValue)||(n.data.fieldValue="");var i=(0,s.getInheritableProperty)({dict:a,key:"Q"});(!Number.isInteger(i)||i<0||i>2)&&(i=null),n.data.textAlignment=i;var c=(0,s.getInheritableProperty)({dict:a,key:"MaxLen"});return(!Number.isInteger(c)||c<0)&&(c=null),n.data.maxLen=c,n.data.multiLine=n.hasFieldFlag(o.AnnotationFieldFlag.MULTILINE),n.data.comb=n.hasFieldFlag(o.AnnotationFieldFlag.COMB)&&!n.hasFieldFlag(o.AnnotationFieldFlag.MULTILINE)&&!n.hasFieldFlag(o.AnnotationFieldFlag.PASSWORD)&&!n.hasFieldFlag(o.AnnotationFieldFlag.FILESELECT)&&null!==n.data.maxLen,n}return I(r,[{key:"_getCombAppearance",value:function(e,t,r,n,a,i){var s,c=(n/this.data.maxLen).toFixed(2),u=[],l=x(t.getCharPositions(r));try{for(l.s();!(s=l.n()).done;){var f=C(s.value,2),h=f[0],d=f[1];u.push("(".concat((0,o.escapeString)(r.substring(h,d)),") Tj"))}}catch(e){l.e(e)}finally{l.f()}var p=u.join(" ".concat(c," 0 Td "));return"/Tx BMC q BT "+e+" 1 0 0 1 ".concat(a," ").concat(i," Tm ").concat(p)+" ET Q EMC"}},{key:"_getMultilineAppearance",value:function(e,t,r,n,a,i,o,s,c){var u,l=[],f=a-2*s,h=x(t.split(/\\r\\n|\\r|\\n/));try{for(h.s();!(u=h.n()).done;){var d,p=u.value,g=x(this._splitLine(p,r,n,f));try{for(g.s();!(d=g.n()).done;){var m=d.value,v=0===l.length?s:0;l.push(this._renderText(m,r,n,a,o,v,-n))}}catch(e){g.e(e)}finally{g.f()}}}catch(e){h.e(e)}finally{h.f()}var y=l.join("\\n");return"/Tx BMC q BT "+e+" 1 0 0 1 0 ".concat(i," Tm ").concat(y)+" ET Q EMC"}},{key:"_splitLine",value:function(e,t,r,n){e=t.encodeString(e).join("");var a=t.charsToGlyphs(e);if(a.length<=1)return[e];for(var i=t.getCharPositions(e),o=r/1e3,s=[],c=-1,u=-1,l=-1,f=0,h=0,d=0,p=a.length;d<p;d++){var g=C(i[d],2),m=g[0],v=g[1],y=a[d],b=y.width*o;" "===y.unicode?h+b>n?(s.push(e.substring(f,m)),f=m,h=b,c=-1,l=-1):(h+=b,c=m,u=v,l=d):h+b>n?-1!==c?(s.push(e.substring(f,u)),f=u,d=l+1,c=-1,h=0):(s.push(e.substring(f,m)),f=m,h=b):h+=b}return f<e.length&&s.push(e.substring(f,e.length)),s}},{key:"getFieldObject",value:function(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue,multiline:this.data.multiLine,password:this.hasFieldFlag(o.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,type:"text"}}}]),r}(L),q=function(e){y(s,e);var t,r,n,a=w(s);function s(e){var t;return P(this,s),(t=a.call(this,e)).checkedAppearance=null,t.uncheckedAppearance=null,t.data.checkBox=!t.hasFieldFlag(o.AnnotationFieldFlag.RADIO)&&!t.hasFieldFlag(o.AnnotationFieldFlag.PUSHBUTTON),t.data.radioButton=t.hasFieldFlag(o.AnnotationFieldFlag.RADIO)&&!t.hasFieldFlag(o.AnnotationFieldFlag.PUSHBUTTON),t.data.pushButton=t.hasFieldFlag(o.AnnotationFieldFlag.PUSHBUTTON),t.data.isTooltipOnly=!1,t.data.checkBox?t._processCheckBox(e):t.data.radioButton?t._processRadioButton(e):t.data.pushButton?t._processPushButton(e):(0,o.warn)("Invalid field flags for button widget annotation"),t}return I(s,[{key:"getOperatorList",value:function(e,t,r,n){if(this.data.pushButton)return v(S(s.prototype),"getOperatorList",this).call(this,e,t,!1,n);if(n){var a,i=n.get(this.data.id),o=i&&i.value;if(void 0===o)return v(S(s.prototype),"getOperatorList",this).call(this,e,t,r,n);if(a=o?this.checkedAppearance:this.uncheckedAppearance){var c=this.appearance;this.appearance=a;var u=v(S(s.prototype),"getOperatorList",this).call(this,e,t,r,n);return this.appearance=c,u}return Promise.resolve(new p.OperatorList)}return v(S(s.prototype),"getOperatorList",this).call(this,e,t,r,n)}},{key:"save",value:(n=O(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.data.checkBox){e.next=2;break}return e.abrupt("return",this._saveCheckbox(t,r,n));case 2:if(!this.data.radioButton){e.next=4;break}return e.abrupt("return",this._saveRadioButton(t,r,n));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"_saveCheckbox",value:(r=O(i.default.mark((function e(t,r,n){var a,s,c,l,f,h,d,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:if(a=n.get(this.data.id),void 0!==(s=a&&a.value)){e.next=6;break}return e.abrupt("return",null);case 6:if((this.data.fieldValue&&"Off"!==this.data.fieldValue)!==s){e.next=9;break}return e.abrupt("return",null);case 9:if(c=t.xref.fetchIfRef(this.ref),(0,u.isDict)(c)){e.next=12;break}return e.abrupt("return",null);case 12:return l={path:(0,o.stringToPDFString)(c.get("T")||""),value:s?this.data.exportValue:""},f=u.Name.get(s?this.data.exportValue:"Off"),c.set("V",f),c.set("AS",f),c.set("M","D:".concat((0,o.getModificationDate)())),h=t.xref.encrypt,d=null,h&&(d=h.createCipherTransform(this.ref.num,this.ref.gen)),p=["".concat(this.ref.num," ").concat(this.ref.gen," obj\\n")],(0,m.writeDict)(c,p,d),p.push("\\nendobj\\n"),e.abrupt("return",[{ref:this.ref,data:p.join(""),xfa:l}]);case 24:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"_saveRadioButton",value:(t=O(i.default.mark((function e(t,r,n){var a,s,c,l,f,h,d,p,g,v,y,b;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:if(a=n.get(this.data.id),void 0!==(s=a&&a.value)){e.next=6;break}return e.abrupt("return",null);case 6:if(this.data.fieldValue===this.data.buttonValue!==s){e.next=9;break}return e.abrupt("return",null);case 9:if(c=t.xref.fetchIfRef(this.ref),(0,u.isDict)(c)){e.next=12;break}return e.abrupt("return",null);case 12:return l={path:(0,o.stringToPDFString)(c.get("T")||""),value:s?this.data.buttonValue:""},f=u.Name.get(s?this.data.buttonValue:"Off"),h=null,d=t.xref.encrypt,s&&((0,u.isRef)(this.parent)?(p=t.xref.fetch(this.parent),g=null,d&&(g=d.createCipherTransform(this.parent.num,this.parent.gen)),p.set("V",f),h=["".concat(this.parent.num," ").concat(this.parent.gen," obj\\n")],(0,m.writeDict)(p,h,g),h.push("\\nendobj\\n")):(0,u.isDict)(this.parent)&&this.parent.set("V",f)),c.set("AS",f),c.set("M","D:".concat((0,o.getModificationDate)())),v=null,d&&(v=d.createCipherTransform(this.ref.num,this.ref.gen)),y=["".concat(this.ref.num," ").concat(this.ref.gen," obj\\n")],(0,m.writeDict)(c,y,v),y.push("\\nendobj\\n"),b=[{ref:this.ref,data:y.join(""),xfa:l}],null!==h&&b.push({ref:this.parent,data:h.join(""),xfa:null}),e.abrupt("return",b);case 27:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_processCheckBox",value:function(e){var t=e.dict.get("AP");if((0,u.isDict)(t)){var r=t.get("N");if((0,u.isDict)(r)){var n=r.getKeys();n.includes("Off")||n.push("Off"),2===n.length&&(this.data.exportValue="Off"===n[0]?n[1]:n[0],this.checkedAppearance=r.get(this.data.exportValue),this.uncheckedAppearance=r.get("Off")||null,this._streams.push(this.checkedAppearance),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict)}}}},{key:"_processRadioButton",value:function(e){this.data.fieldValue=this.data.buttonValue=null;var t=e.dict.get("Parent");if((0,u.isDict)(t)){this.parent=e.dict.getRaw("Parent");var r=t.get("V");(0,u.isName)(r)&&(this.data.fieldValue=this._decodeFormValue(r))}var n=e.dict.get("AP");if((0,u.isDict)(n)){var a=n.get("N");if((0,u.isDict)(a)){var i,o=x(a.getKeys());try{for(o.s();!(i=o.n()).done;){var s=i.value;if("Off"!==s){this.data.buttonValue=this._decodeFormValue(s);break}}}catch(e){o.e(e)}finally{o.f()}this.checkedAppearance=a.get(this.data.buttonValue),this.uncheckedAppearance=a.get("Off")||null,this._streams.push(this.checkedAppearance),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}}},{key:"_processPushButton",value:function(e){e.dict.has("A")||e.dict.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!e.dict.has("A")&&!e.dict.has("AA"),l.Catalog.parseDestDictionary({destDict:e.dict,resultObj:this.data,docBaseUrl:e.pdfManager.docBaseUrl})):(0,o.warn)("Push buttons without action dictionaries are not supported")}},{key:"getFieldObject",value:function(){var e,t="button";return this.data.checkBox?(t="checkbox",e=this.data.exportValue):this.data.radioButton&&(t="radiobutton",e=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:e,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,type:t}}},{key:"fallbackFontDict",get:function(){var e=new u.Dict;return e.set("BaseFont",u.Name.get("ZapfDingbats")),e.set("Type",u.Name.get("FallbackType")),e.set("Subtype",u.Name.get("FallbackType")),e.set("Encoding",u.Name.get("ZapfDingbatsEncoding")),(0,o.shadow)(this,"fallbackFontDict",e)}}]),s}(L),X=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.options=[];var a=(0,s.getInheritableProperty)({dict:e.dict,key:"Opt"});if(Array.isArray(a))for(var i=e.xref,c=0,u=a.length;c<u;c++){var l=i.fetchIfRef(a[c]),f=Array.isArray(l);n.data.options[c]={exportValue:n._decodeFormValue(f?i.fetchIfRef(l[0]):l),displayValue:n._decodeFormValue(f?i.fetchIfRef(l[1]):l)}}return(0,o.isString)(n.data.fieldValue)?n.data.fieldValue=[n.data.fieldValue]:n.data.fieldValue||(n.data.fieldValue=[]),n.data.combo=n.hasFieldFlag(o.AnnotationFieldFlag.COMBO),n.data.multiSelect=n.hasFieldFlag(o.AnnotationFieldFlag.MULTISELECT),n._hasText=!0,n}return I(r,[{key:"getFieldObject",value:function(){var e=this.data.combo?"combobox":"listbox",t=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:t,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,type:e}}}]),r}(L),H=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.fieldValue=null,n}return I(r,[{key:"getFieldObject",value:function(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}]),r}(L),$=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),n=t.call(this,e);var a=e.dict;return n.data.annotationType=o.AnnotationType.TEXT,n.data.hasAppearance?n.data.name="NoIcon":(n.data.rect[1]=n.data.rect[3]-22,n.data.rect[2]=n.data.rect[0]+22,n.data.name=a.has("Name")?a.get("Name").name:"Note"),a.has("State")?(n.data.state=a.get("State")||null,n.data.stateModel=a.get("StateModel")||null):(n.data.state=null,n.data.stateModel=null),n}return r}(D),z=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.LINK;var a=R(e.dict,n.rectangle);return a&&(n.data.quadPoints=a),l.Catalog.parseDestDictionary({destDict:e.dict,resultObj:n.data,docBaseUrl:e.pdfManager.docBaseUrl}),n}return r}(N),G=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.POPUP;var a=e.dict.get("Parent");if(!a)return(0,o.warn)("Popup annotation has a missing or invalid parent annotation."),k(n);var i=a.get("Subtype");n.data.parentType=(0,u.isName)(i)?i.name:null;var s=e.dict.getRaw("Parent");n.data.parentId=(0,u.isRef)(s)?s.toString():null;var c=a.getArray("Rect");Array.isArray(c)&&4===c.length?n.data.parentRect=o.Util.normalizeRect(c):n.data.parentRect=[0,0,0,0];var l=a.get("RT");if((0,u.isName)(l,o.AnnotationReplyType.GROUP)&&(a=a.get("IRT")),a.has("M")?(n.setModificationDate(a.get("M")),n.data.modificationDate=n.modificationDate):n.data.modificationDate=null,a.has("C")?(n.setColor(a.getArray("C")),n.data.color=n.color):n.data.color=null,!n.viewable){var f=a.get("F");n._isViewable(f)&&n.setFlags(f)}return n.data.title=(0,o.stringToPDFString)(a.get("T")||""),n.data.contents=(0,o.stringToPDFString)(a.get("Contents")||""),n}return r}(N),W=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.FREETEXT,n}return r}(D),V=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.LINE;var a=e.dict.getArray("L");if(n.data.lineCoordinates=o.Util.normalizeRect(a),!n.appearance){var i=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],s=e.dict.get("CA"),c=null,u=e.dict.getArray("IC");u&&(c=(u=j(u))?Array.from(u).map((function(e){return e/255})):null);var l=c?s:null,f=n.borderStyle.width||1,h=2*f,d=[n.data.lineCoordinates[0]-h,n.data.lineCoordinates[1]-h,n.data.lineCoordinates[2]+h,n.data.lineCoordinates[3]+h];o.Util.intersect(n.rectangle,d)||(n.rectangle=d),n._setDefaultAppearance({xref:e.xref,extra:"".concat(f," w"),strokeColor:i,fillColor:c,strokeAlpha:s,fillAlpha:l,pointsCallback:function(e,t){return e.push("".concat(a[0]," ").concat(a[1]," m"),"".concat(a[2]," ").concat(a[3]," l"),"S"),[t[0].x-f,t[1].x+f,t[3].y-f,t[1].y+f]}})}return n}return r}(D),K=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.SQUARE,!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA"),s=null,c=e.dict.getArray("IC");c&&(c=j(c),s=c?Array.from(c).map((function(e){return e/255})):null);var u=s?i:null;n._setDefaultAppearance({xref:e.xref,extra:"".concat(n.borderStyle.width," w"),strokeColor:a,fillColor:s,strokeAlpha:i,fillAlpha:u,pointsCallback:function(e,t){var r=t[2].x+n.borderStyle.width/2,a=t[2].y+n.borderStyle.width/2,i=t[3].x-t[2].x-n.borderStyle.width,o=t[1].y-t[3].y-n.borderStyle.width;return e.push("".concat(r," ").concat(a," ").concat(i," ").concat(o," re")),s?e.push("B"):e.push("S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}return n}return r}(D),Y=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.CIRCLE,!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA"),s=null,c=e.dict.getArray("IC");c&&(c=j(c),s=c?Array.from(c).map((function(e){return e/255})):null);var u=s?i:null,l=4/3*Math.tan(Math.PI/8);n._setDefaultAppearance({xref:e.xref,extra:"".concat(n.borderStyle.width," w"),strokeColor:a,fillColor:s,strokeAlpha:i,fillAlpha:u,pointsCallback:function(e,t){var r=t[0].x+n.borderStyle.width/2,a=t[0].y-n.borderStyle.width/2,i=t[3].x-n.borderStyle.width/2,o=t[3].y+n.borderStyle.width/2,c=r+(i-r)/2,u=a+(o-a)/2,f=(i-r)/2*l,h=(o-a)/2*l;return e.push("".concat(c," ").concat(o," m"),"".concat(c+f," ").concat(o," ").concat(i," ").concat(u+h," ").concat(i," ").concat(u," c"),"".concat(i," ").concat(u-h," ").concat(c+f," ").concat(a," ").concat(c," ").concat(a," c"),"".concat(c-f," ").concat(a," ").concat(r," ").concat(u-h," ").concat(r," ").concat(u," c"),"".concat(r," ").concat(u+h," ").concat(c-f," ").concat(o," ").concat(c," ").concat(o," c"),"h"),s?e.push("B"):e.push("S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}return n}return r}(D),J=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.POLYLINE,n.data.vertices=[];var a=e.dict.getArray("Vertices");if(!Array.isArray(a))return k(n);for(var i=0,s=a.length;i<s;i+=2)n.data.vertices.push({x:a[i],y:a[i+1]});if(!n.appearance){var c,u=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],l=e.dict.get("CA"),f=n.borderStyle.width||1,h=2*f,d=[1/0,1/0,-1/0,-1/0],p=x(n.data.vertices);try{for(p.s();!(c=p.n()).done;){var g=c.value;d[0]=Math.min(d[0],g.x-h),d[1]=Math.min(d[1],g.y-h),d[2]=Math.max(d[2],g.x+h),d[3]=Math.max(d[3],g.y+h)}}catch(e){p.e(e)}finally{p.f()}o.Util.intersect(n.rectangle,d)||(n.rectangle=d),n._setDefaultAppearance({xref:e.xref,extra:"".concat(f," w"),strokeColor:u,strokeAlpha:l,pointsCallback:function(e,t){for(var r=n.data.vertices,a=0,i=r.length;a<i;a++)e.push("".concat(r[a].x," ").concat(r[a].y," ").concat(0===a?"m":"l"));return e.push("S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}return n}return r}(D),Z=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.POLYGON,n}return r}(J),Q=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.CARET,n}return r}(D),ee=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.INK,n.data.inkLists=[];var a=e.dict.getArray("InkList");if(!Array.isArray(a))return k(n);for(var i=e.xref,s=0,c=a.length;s<c;++s){n.data.inkLists.push([]);for(var u=0,l=a[s].length;u<l;u+=2)n.data.inkLists[s].push({x:i.fetchIfRef(a[s][u]),y:i.fetchIfRef(a[s][u+1])})}if(!n.appearance){var f,h=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],d=e.dict.get("CA"),p=n.borderStyle.width||1,g=2*p,m=[1/0,1/0,-1/0,-1/0],v=x(n.data.inkLists);try{for(v.s();!(f=v.n()).done;){var y,b=x(f.value);try{for(b.s();!(y=b.n()).done;){var w=y.value;m[0]=Math.min(m[0],w.x-g),m[1]=Math.min(m[1],w.y-g),m[2]=Math.max(m[2],w.x+g),m[3]=Math.max(m[3],w.y+g)}}catch(e){b.e(e)}finally{b.f()}}}catch(e){v.e(e)}finally{v.f()}o.Util.intersect(n.rectangle,m)||(n.rectangle=m),n._setDefaultAppearance({xref:e.xref,extra:"".concat(p," w"),strokeColor:h,strokeAlpha:d,pointsCallback:function(e,t){var r,a=x(n.data.inkLists);try{for(a.s();!(r=a.n()).done;){for(var i=r.value,o=0,s=i.length;o<s;o++)e.push("".concat(i[o].x," ").concat(i[o].y," ").concat(0===o?"m":"l"));e.push("S")}}catch(e){a.e(e)}finally{a.f()}return[t[0].x,t[1].x,t[3].y,t[1].y]}})}return n}return r}(D),te=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.HIGHLIGHT,n.data.quadPoints=R(e.dict,null)){var a=n.appearance&&n.appearance.dict.get("Resources");if(!n.appearance||!a||!a.has("ExtGState")){n.appearance&&(0,o.warn)("HighlightAnnotation - ignoring built-in appearance stream.");var i=n.color?Array.from(n.color).map((function(e){return e/255})):[1,1,0],s=e.dict.get("CA");n._setDefaultAppearance({xref:e.xref,fillColor:i,blendMode:"Multiply",fillAlpha:s,pointsCallback:function(e,t){return e.push("".concat(t[0].x," ").concat(t[0].y," m"),"".concat(t[1].x," ").concat(t[1].y," l"),"".concat(t[3].x," ").concat(t[3].y," l"),"".concat(t[2].x," ").concat(t[2].y," l"),"f"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}}else n.data.hasPopup=!1;return n}return r}(D),re=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.UNDERLINE,n.data.quadPoints=R(e.dict,null)){if(!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA");n._setDefaultAppearance({xref:e.xref,extra:"[] 0 d 1 w",strokeColor:a,strokeAlpha:i,pointsCallback:function(e,t){return e.push("".concat(t[2].x," ").concat(t[2].y," m"),"".concat(t[3].x," ").concat(t[3].y," l"),"S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}}else n.data.hasPopup=!1;return n}return r}(D),ne=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.SQUIGGLY,n.data.quadPoints=R(e.dict,null)){if(!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA");n._setDefaultAppearance({xref:e.xref,extra:"[] 0 d 1 w",strokeColor:a,strokeAlpha:i,pointsCallback:function(e,t){var r=(t[0].y-t[2].y)/6,n=r,a=t[2].x,i=t[2].y,o=t[3].x;e.push("".concat(a," ").concat(i+n," m"));do{a+=2,n=0===n?r:0,e.push("".concat(a," ").concat(i+n," l"))}while(a<o);return e.push("S"),[t[2].x,o,i-2*r,i+2*r]}})}}else n.data.hasPopup=!1;return n}return r}(D),ae=function(e){y(r,e);var t=w(r);function r(e){var n;if(P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.STRIKEOUT,n.data.quadPoints=R(e.dict,null)){if(!n.appearance){var a=n.color?Array.from(n.color).map((function(e){return e/255})):[0,0,0],i=e.dict.get("CA");n._setDefaultAppearance({xref:e.xref,extra:"[] 0 d 1 w",strokeColor:a,strokeAlpha:i,pointsCallback:function(e,t){return e.push("".concat((t[0].x+t[2].x)/2," ")+"".concat((t[0].y+t[2].y)/2," m"),"".concat((t[1].x+t[3].x)/2," ")+"".concat((t[1].y+t[3].y)/2," l"),"S"),[t[0].x,t[1].x,t[3].y,t[1].y]}})}}else n.data.hasPopup=!1;return n}return r}(D),ie=function(e){y(r,e);var t=w(r);function r(e){var n;return P(this,r),(n=t.call(this,e)).data.annotationType=o.AnnotationType.STAMP,n}return r}(D),oe=function(e){y(r,e);var t=w(r);function r(e){var n;P(this,r),n=t.call(this,e);var a=new h.FileSpec(e.dict.get("FS"),e.xref);return n.data.annotationType=o.AnnotationType.FILEATTACHMENT,n.data.file=a.serializable,n}return r}(D)},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultAppearance=function(e){var t,r=e.fontSize,n=e.fontName,a=e.fontColor;return t=a.every((function(e){return 0===e}))?"0 g":Array.from(a).map((function(e){return(e/255).toFixed(2)})).join(" ")+" rg","/".concat((0,o.escapePDFName)(n)," ").concat(r," Tf ").concat(t)},t.parseDefaultAppearance=function(e){return new v(e).parse()};var a=r(4),i=r(122),o=r(117),s=r(123),c=r(113),u=r(118);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,r,n,o=p(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,new u.StringStream(e))}return t=s,(r=[{key:"parse",value:function(){var e={fn:0,args:[]},t={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;e.args.length=0,this.read(e);)if(0===this.savedStatesDepth){var r=e.fn,n=e.args;switch(0|r){case a.OPS.setFont:var o=l(n,2),s=o[0],u=o[1];s instanceof c.Name&&(t.fontName=s.name),"number"==typeof u&&u>0&&(t.fontSize=u);break;case a.OPS.setFillRGBColor:i.ColorSpace.singletons.rgb.getRgbItem(n,0,t.fontColor,0);break;case a.OPS.setFillGray:i.ColorSpace.singletons.gray.getRgbItem(n,0,t.fontColor,0);break;case a.OPS.setFillColorSpace:i.ColorSpace.singletons.cmyk.getRgbItem(n,0,t.fontColor,0)}}}catch(e){(0,a.warn)('parseDefaultAppearance - ignoring errors: "'.concat(e,'".'))}return t}}])&&h(t.prototype,r),n&&h(t,n),s}(s.EvaluatorPreprocessor)},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorSpace=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(113),c=r(117);function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}var y=function(){function e(t,r){g(this,e),this.constructor===e&&(0,o.unreachable)("Cannot initialize ColorSpace."),this.name=t,this.numComps=r}var t,r;return v(e,[{key:"getRgb",value:function(e,t){var r=new Uint8ClampedArray(3);return this.getRgbItem(e,t,r,0),r}},{key:"getRgbItem",value:function(e,t,r,n){(0,o.unreachable)("Should not call ColorSpace.getRgbItem")}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,s){(0,o.unreachable)("Should not call ColorSpace.getRgbBuffer")}},{key:"getOutputLength",value:function(e,t){(0,o.unreachable)("Should not call ColorSpace.getOutputLength")}},{key:"isPassthrough",value:function(e){return!1}},{key:"isDefaultDecode",value:function(t,r){return e.isDefaultDecode(t,this.numComps)}},{key:"fillRgb",value:function(e,t,r,n,a,i,o,s,c){var u=t*r,l=null,f=1<<o,h=r!==a||t!==n;if(this.isPassthrough(o))l=s;else if(1===this.numComps&&u>f&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){for(var d=o<=8?new Uint8Array(f):new Uint16Array(f),p=0;p<f;p++)d[p]=p;var g=new Uint8ClampedArray(3*f);if(this.getRgbBuffer(d,0,f,g,0,o,0),h){l=new Uint8Array(3*u);for(var m=0,v=0;v<u;++v){var y=3*s[v];l[m++]=g[y],l[m++]=g[y+1],l[m++]=g[y+2]}}else for(var b=0,w=0;w<u;++w){var k=3*s[w];e[b++]=g[k],e[b++]=g[k+1],e[b++]=g[k+2],b+=c}}else h?(l=new Uint8ClampedArray(3*u),this.getRgbBuffer(s,0,u,l,0,o,0)):this.getRgbBuffer(s,0,n*i,e,0,o,c);if(l)if(h)!function(e,t,r,n,a,i,o){o=1!==o?0:o;for(var s,c=r/a,u=n/i,l=0,f=new Uint16Array(a),h=3*r,d=0;d<a;d++)f[d]=3*Math.floor(d*c);for(var p=0;p<i;p++)for(var g=Math.floor(p*u)*h,m=0;m<a;m++)s=g+f[m],t[l++]=e[s++],t[l++]=e[s++],t[l++]=e[s++],l+=o}(l,e,t,r,n,a,c);else for(var S=0,x=0,A=0,O=n*i;A<O;A++)e[S++]=l[x++],e[S++]=l[x++],e[S++]=l[x++],S+=c}},{key:"usesZeroToOneRange",get:function(){return(0,o.shadow)(this,"usesZeroToOneRange",!0)}}],[{key:"_cache",value:function(e,t,r,n){if(!r)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!n)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');var a,i;e instanceof s.Ref&&(i=e,e=t.fetch(e)),e instanceof s.Name&&(a=e.name),(a||i)&&r.set(a,i,n)}},{key:"getCached",value:function(e,t,r){if(!r)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(e instanceof s.Ref){var n=r.getByRef(e);if(n)return n;try{e=t.fetch(e)}catch(e){if(e instanceof c.MissingDataException)throw e}}if(e instanceof s.Name){var a=r.getByName(e.name);if(a)return a}return null}},{key:"parseAsync",value:(t=i.default.mark((function e(t){var r,n,a,o,s,c,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cs,n=t.xref,a=t.resources,o=void 0===a?null:a,s=t.pdfFunctionFactory,c=t.localColorSpaceCache,u=this._parse(r,n,o,s),this._cache(r,n,c,u),e.abrupt("return",u);case 4:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(e){p(i,n,a,o,s,"next",e)}function s(e){p(i,n,a,o,s,"throw",e)}o(void 0)}))},function(e){return r.apply(this,arguments)})},{key:"parse",value:function(e){var t=e.cs,r=e.xref,n=e.resources,a=void 0===n?null:n,i=e.pdfFunctionFactory,o=e.localColorSpaceCache,s=this.getCached(t,r,o);if(s)return s;var c=this._parse(t,r,a,i);return this._cache(t,r,o,c),c}},{key:"_parse",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;if(e=t.fetchIfRef(e),(0,s.isName)(e))switch(e.name){case"DeviceGray":case"G":return this.singletons.gray;case"DeviceRGB":case"RGB":return this.singletons.rgb;case"DeviceCMYK":case"CMYK":return this.singletons.cmyk;case"Pattern":return new w(null);default:if((0,s.isDict)(r)){var a=r.get("ColorSpace");if((0,s.isDict)(a)){var i=a.get(e.name);if(i){if((0,s.isName)(i))return this._parse(i,t,r,n);e=i;break}}}throw new o.FormatError("Unrecognized ColorSpace: ".concat(e.name))}if(Array.isArray(e)){var c,u,l,f,h,d,p=t.fetchIfRef(e[0]).name;switch(p){case"DeviceGray":case"G":return this.singletons.gray;case"DeviceRGB":case"RGB":return this.singletons.rgb;case"DeviceCMYK":case"CMYK":return this.singletons.cmyk;case"CalGray":return f=(c=t.fetchIfRef(e[1])).getArray("WhitePoint"),h=c.getArray("BlackPoint"),d=c.get("Gamma"),new O(f,h,d);case"CalRGB":f=(c=t.fetchIfRef(e[1])).getArray("WhitePoint"),h=c.getArray("BlackPoint"),d=c.getArray("Gamma");var g=c.getArray("Matrix");return new C(f,h,d,g);case"ICCBased":var m=t.fetchIfRef(e[1]),v=m.dict;u=v.get("N");var y=v.get("Alternate");if(y){var S=this._parse(y,t,r,n);if(S.numComps===u)return S;(0,o.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===u)return this.singletons.gray;if(3===u)return this.singletons.rgb;if(4===u)return this.singletons.cmyk;break;case"Pattern":return(l=e[1]||null)&&(l=this._parse(l,t,r,n)),new w(l);case"Indexed":case"I":l=this._parse(e[1],t,r,n);var x=t.fetchIfRef(e[2])+1,A=t.fetchIfRef(e[3]);return new k(l,x,A);case"Separation":case"DeviceN":var F=t.fetchIfRef(e[1]);u=Array.isArray(F)?F.length:1,l=this._parse(e[2],t,r,n);var P=n.create(e[3]);return new b(u,l,P);case"Lab":f=(c=t.fetchIfRef(e[1])).getArray("WhitePoint"),h=c.getArray("BlackPoint");var _=c.getArray("Range");return new T(f,h,_);default:throw new o.FormatError("Unimplemented ColorSpace object: ".concat(p))}}throw new o.FormatError("Unrecognized ColorSpace object: ".concat(e))}},{key:"isDefaultDecode",value:function(e,t){if(!Array.isArray(e))return!0;if(2*t!==e.length)return(0,o.warn)("The decode map is not the correct length"),!0;for(var r=0,n=e.length;r<n;r+=2)if(0!==e[r]||1!==e[r+1])return!1;return!0}},{key:"singletons",get:function(){return(0,o.shadow)(this,"singletons",{get gray(){return(0,o.shadow)(this,"gray",new S)},get rgb(){return(0,o.shadow)(this,"rgb",new x)},get cmyk(){return(0,o.shadow)(this,"cmyk",new A)}})}}]),e}();t.ColorSpace=y;var b=function(e){u(r,e);var t=f(r);function r(e,n,a){var i;return g(this,r),(i=t.call(this,"Alternate",e)).base=n,i.tintFn=a,i.tmpBuf=new Float32Array(n.numComps),i}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){var a=this.tmpBuf;this.tintFn(e,t,a,0),this.base.getRgbItem(a,0,r,n)}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){var s,c,u=this.tintFn,l=this.base,f=1/((1<<i)-1),h=l.numComps,d=l.usesZeroToOneRange,p=(l.isPassthrough(8)||!d)&&0===o,g=p?a:0,m=p?n:new Uint8ClampedArray(h*r),v=this.numComps,y=new Float32Array(v),b=new Float32Array(h);for(s=0;s<r;s++){for(c=0;c<v;c++)y[c]=e[t++]*f;if(u(y,0,b,0),d)for(c=0;c<h;c++)m[g++]=255*b[c];else l.getRgbItem(b,0,m,g),g+=h}p||l.getRgbBuffer(m,0,r,n,a,8,o)}},{key:"getOutputLength",value:function(e,t){return this.base.getOutputLength(e*this.base.numComps/this.numComps,t)}}]),r}(y),w=function(e){u(r,e);var t=f(r);function r(e){var n;return g(this,r),(n=t.call(this,"Pattern",null)).base=e,n}return v(r,[{key:"isDefaultDecode",value:function(e,t){(0,o.unreachable)("Should not call PatternCS.isDefaultDecode")}}]),r}(y),k=function(e){u(r,e);var t=f(r);function r(e,n,a){var i;g(this,r),(i=t.call(this,"Indexed",1)).base=e,i.highVal=n;var c=e.numComps*n;if(i.lookup=new Uint8Array(c),(0,s.isStream)(a)){var u=a.getBytes(c);i.lookup.set(u)}else{if("string"!=typeof a)throw new o.FormatError("IndexedCS - unrecognized lookup table: ".concat(a));for(var l=0;l<c;++l)i.lookup[l]=255&a.charCodeAt(l)}return i}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){var a=this.base.numComps,i=e[t]*a;this.base.getRgbBuffer(this.lookup,i,1,r,n,8,0)}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){for(var s=this.base,c=s.numComps,u=s.getOutputLength(c,o),l=this.lookup,f=0;f<r;++f){var h=e[t++]*c;s.getRgbBuffer(l,h,1,n,a,8,o),a+=u}}},{key:"getOutputLength",value:function(e,t){return this.base.getOutputLength(e*this.base.numComps,t)}},{key:"isDefaultDecode",value:function(e,t){return!Array.isArray(e)||(2!==e.length?((0,o.warn)("Decode map length is not correct"),!0):!Number.isInteger(t)||t<1?((0,o.warn)("Bits per component is not correct"),!0):0===e[0]&&e[1]===(1<<t)-1)}}]),r}(y),S=function(e){u(r,e);var t=f(r);function r(){return g(this,r),t.call(this,"DeviceGray",1)}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){var a=255*e[t];r[n]=r[n+1]=r[n+2]=a}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){for(var s=255/((1<<i)-1),c=t,u=a,l=0;l<r;++l){var f=s*e[c++];n[u++]=f,n[u++]=f,n[u++]=f,u+=o}}},{key:"getOutputLength",value:function(e,t){return e*(3+t)}}]),r}(y),x=function(e){u(r,e);var t=f(r);function r(){return g(this,r),t.call(this,"DeviceRGB",3)}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){r[n]=255*e[t],r[n+1]=255*e[t+1],r[n+2]=255*e[t+2]}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){if(8!==i||0!==o)for(var s=255/((1<<i)-1),c=t,u=a,l=0;l<r;++l)n[u++]=s*e[c++],n[u++]=s*e[c++],n[u++]=s*e[c++],u+=o;else n.set(e.subarray(t,t+3*r),a)}},{key:"getOutputLength",value:function(e,t){return e*(3+t)/3|0}},{key:"isPassthrough",value:function(e){return 8===e}}]),r}(y),A=function(){function e(e,t,r,n,a){var i=e[t]*r,o=e[t+1]*r,s=e[t+2]*r,c=e[t+3]*r;n[a]=255+i*(-4.387332384609988*i+54.48615194189176*o+18.82290502165302*s+212.25662451639585*c-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*s+-17.873870861415444*c-5.497006427196366)+s*(-2.5217340131683033*s-21.248923337353073*c+17.5119270841813)+c*(-21.86122147463605*c-189.48180835922747),n[a+1]=255+i*(8.841041422036149*i+60.118027045597366*o+6.871425592049007*s+31.159100130055922*c-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*s+131.35250912493976*c-190.9453302588951)+s*(4.444339102852739*s+9.8632861493405*c-24.86741582555878)+c*(-20.737325471181034*c-187.80453709719578),n[a+2]=255+i*(.8842522430003296*i+8.078677503112928*o+30.89978309703729*s-.23883238689178934*c-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*s+50.606957656360734*c-112.23884253719248)+s*(.03296041114873217*s+115.60384449646641*c-193.58209356861505)+c*(-22.33816807309886*c-180.12613974708367)}return function(t){u(n,t);var r=f(n);function n(){return g(this,n),r.call(this,"DeviceCMYK",4)}return v(n,[{key:"getRgbItem",value:function(t,r,n,a){e(t,r,1,n,a)}},{key:"getRgbBuffer",value:function(t,r,n,a,i,o,s){for(var c=1/((1<<o)-1),u=0;u<n;u++)e(t,r,c,a,i),r+=4,i+=3+s}},{key:"getOutputLength",value:function(e,t){return e/4*(3+t)|0}}]),n}(y)}(),O=function(){function e(e,t,r,n,a,i){var o=t[r]*i,s=Math.pow(o,e.G),c=e.YW*s,u=Math.max(295.8*Math.pow(c,.3333333333333333)-40.8,0);n[a]=u,n[a+1]=u,n[a+2]=u}return function(t){u(n,t);var r=f(n);function n(e,t,a){var i;if(g(this,n),i=r.call(this,"CalGray",1),!e)throw new o.FormatError("WhitePoint missing - required for color space CalGray");if(t=t||[0,0,0],a=a||1,i.XW=e[0],i.YW=e[1],i.ZW=e[2],i.XB=t[0],i.YB=t[1],i.ZB=t[2],i.G=a,i.XW<0||i.ZW<0||1!==i.YW)throw new o.FormatError("Invalid WhitePoint components for ".concat(i.name)+", no fallback available");return(i.XB<0||i.YB<0||i.ZB<0)&&((0,o.info)("Invalid BlackPoint for ".concat(i.name,", falling back to default.")),i.XB=i.YB=i.ZB=0),0===i.XB&&0===i.YB&&0===i.ZB||(0,o.warn)("".concat(i.name,", BlackPoint: XB: ").concat(i.XB,", YB: ").concat(i.YB,", ")+"ZB: ".concat(i.ZB,", only default values are supported.")),i.G<1&&((0,o.info)("Invalid Gamma: ".concat(i.G," for ").concat(i.name,", ")+"falling back to default."),i.G=1),i}return v(n,[{key:"getRgbItem",value:function(t,r,n,a){e(this,t,r,n,a,1)}},{key:"getRgbBuffer",value:function(t,r,n,a,i,o,s){for(var c=1/((1<<o)-1),u=0;u<n;++u)e(this,t,r,a,i,c),r+=1,i+=3+s}},{key:"getOutputLength",value:function(e,t){return e*(3+t)}}]),n}(y)}(),C=function(){var e=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),r=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),n=new Float32Array([1,1,1]),a=new Float32Array(3),i=new Float32Array(3),s=new Float32Array(3),c=Math.pow(24/116,3)/8;function l(e,t,r){r[0]=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],r[1]=e[3]*t[0]+e[4]*t[1]+e[5]*t[2],r[2]=e[6]*t[0]+e[7]*t[1]+e[8]*t[2]}function h(e){return e<=.0031308?d(0,1,12.92*e):e>=.99554525?1:d(0,1,1.055*Math.pow(e,1/2.4)-.055)}function d(e,t,r){return Math.max(e,Math.min(t,r))}function p(e){return e<0?-p(-e):e>8?Math.pow((e+16)/116,3):e*c}function m(o,c,u,f,g,m){var v=d(0,1,c[u]*m),y=d(0,1,c[u+1]*m),b=d(0,1,c[u+2]*m),w=1===v?1:Math.pow(v,o.GR),k=1===y?1:Math.pow(y,o.GG),S=1===b?1:Math.pow(b,o.GB),x=o.MXA*w+o.MXB*k+o.MXC*S,A=o.MYA*w+o.MYB*k+o.MYC*S,O=o.MZA*w+o.MZB*k+o.MZC*S,C=i;C[0]=x,C[1]=A,C[2]=O;var T=s;!function(r,n,i){if(1===r[0]&&1===r[2])return i[0]=n[0],i[1]=n[1],void(i[2]=n[2]);var o=i;l(e,n,o);var s=a;!function(e,t,r){r[0]=1*t[0]/e[0],r[1]=1*t[1]/e[1],r[2]=1*t[2]/e[2]}(r,o,s),l(t,s,i)}(o.whitePoint,C,T);var F=i;!function(e,t,r){if(0===e[0]&&0===e[1]&&0===e[2])return r[0]=t[0],r[1]=t[1],void(r[2]=t[2]);var n=p(0),a=(1-n)/(1-p(e[0])),i=1-a,o=(1-n)/(1-p(e[1])),s=1-o,c=(1-n)/(1-p(e[2])),u=1-c;r[0]=t[0]*a+i,r[1]=t[1]*o+s,r[2]=t[2]*c+u}(o.blackPoint,T,F);var P=s;!function(r,n,i){var o=i;l(e,n,o);var s=a;!function(e,t,r){r[0]=.95047*t[0]/e[0],r[1]=1*t[1]/e[1],r[2]=1.08883*t[2]/e[2]}(r,o,s),l(t,s,i)}(n,F,P);var _=i;l(r,P,_),f[g]=255*h(_[0]),f[g+1]=255*h(_[1]),f[g+2]=255*h(_[2])}return function(e){u(r,e);var t=f(r);function r(e,n,a,i){var s;if(g(this,r),s=t.call(this,"CalRGB",3),!e)throw new o.FormatError("WhitePoint missing - required for color space CalRGB");n=n||new Float32Array(3),a=a||new Float32Array([1,1,1]),i=i||new Float32Array([1,0,0,0,1,0,0,0,1]);var c=e[0],u=e[1],l=e[2];s.whitePoint=e;var f=n[0],h=n[1],d=n[2];if(s.blackPoint=n,s.GR=a[0],s.GG=a[1],s.GB=a[2],s.MXA=i[0],s.MYA=i[1],s.MZA=i[2],s.MXB=i[3],s.MYB=i[4],s.MZB=i[5],s.MXC=i[6],s.MYC=i[7],s.MZC=i[8],c<0||l<0||1!==u)throw new o.FormatError("Invalid WhitePoint components for ".concat(s.name)+", no fallback available");return(f<0||h<0||d<0)&&((0,o.info)("Invalid BlackPoint for ".concat(s.name," [").concat(f,", ").concat(h,", ").concat(d,"], ")+"falling back to default."),s.blackPoint=new Float32Array(3)),(s.GR<0||s.GG<0||s.GB<0)&&((0,o.info)("Invalid Gamma [".concat(s.GR,", ").concat(s.GG,", ").concat(s.GB,"] for ")+"".concat(s.name,", falling back to default.")),s.GR=s.GG=s.GB=1),s}return v(r,[{key:"getRgbItem",value:function(e,t,r,n){m(this,e,t,r,n,1)}},{key:"getRgbBuffer",value:function(e,t,r,n,a,i,o){for(var s=1/((1<<i)-1),c=0;c<r;++c)m(this,e,t,n,a,s),t+=3,a+=3+o}},{key:"getOutputLength",value:function(e,t){return e*(3+t)/3|0}}]),r}(y)}(),T=function(){function e(e){return e>=6/29?Math.pow(e,3):108/841*(e-4/29)}function t(e,t,r,n){return r+e*(n-r)/t}function r(r,n,a,i,o,s){var c=n[a],u=n[a+1],l=n[a+2];!1!==i&&(c=t(c,i,0,100),u=t(u,i,r.amin,r.amax),l=t(l,i,r.bmin,r.bmax)),u>r.amax?u=r.amax:u<r.amin&&(u=r.amin),l>r.bmax?l=r.bmax:l<r.bmin&&(l=r.bmin);var f,h,d,p=(c+16)/116,g=p+u/500,m=p-l/200,v=r.XW*e(g),y=r.YW*e(p),b=r.ZW*e(m);r.ZW<1?(f=3.1339*v+-1.617*y+-.4906*b,h=-.9785*v+1.916*y+.0333*b,d=.072*v+-.229*y+1.4057*b):(f=3.2406*v+-1.5372*y+-.4986*b,h=-.9689*v+1.8758*y+.0415*b,d=.0557*v+-.204*y+1.057*b),o[s]=255*Math.sqrt(f),o[s+1]=255*Math.sqrt(h),o[s+2]=255*Math.sqrt(d)}return function(e){u(n,e);var t=f(n);function n(e,r,a){var i;if(g(this,n),i=t.call(this,"Lab",3),!e)throw new o.FormatError("WhitePoint missing - required for color space Lab");if(r=r||[0,0,0],a=a||[-100,100,-100,100],i.XW=e[0],i.YW=e[1],i.ZW=e[2],i.amin=a[0],i.amax=a[1],i.bmin=a[2],i.bmax=a[3],i.XB=r[0],i.YB=r[1],i.ZB=r[2],i.XW<0||i.ZW<0||1!==i.YW)throw new o.FormatError("Invalid WhitePoint components, no fallback available");return(i.XB<0||i.YB<0||i.ZB<0)&&((0,o.info)("Invalid BlackPoint, falling back to default"),i.XB=i.YB=i.ZB=0),(i.amin>i.amax||i.bmin>i.bmax)&&((0,o.info)("Invalid Range, falling back to defaults"),i.amin=-100,i.amax=100,i.bmin=-100,i.bmax=100),i}return v(n,[{key:"getRgbItem",value:function(e,t,n,a){r(this,e,t,!1,n,a)}},{key:"getRgbBuffer",value:function(e,t,n,a,i,o,s){for(var c=(1<<o)-1,u=0;u<n;u++)r(this,e,t,c,a,i),t+=3,i+=3+s}},{key:"getOutputLength",value:function(e,t){return e*(3+t)/3|0}},{key:"isDefaultDecode",value:function(e,t){return!0}},{key:"usesZeroToOneRange",get:function(){return(0,o.shadow)(this,"usesZeroToOneRange",!1)}}]),n}(y)}()},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartialEvaluator=t.EvaluatorPreprocessor=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(124),s=r(113),c=r(142),u=r(146),l=r(145),f=r(148),h=r(149),d=r(156),p=r(150),g=r(157),m=r(125),v=r(159),y=r(160),b=r(122),w=r(127),k=r(147),S=r(117),x=r(161),A=r(162),O=r(118),C=r(163),T=r(164);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){P(i,n,a,o,s,"next",e)}function s(e){P(i,n,a,o,s,"throw",e)}o(void 0)}))}}function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=E(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function E(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t,r){return t&&M(e.prototype,t),r&&M(e,r),e}var B=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1}),D=1,L=2,U=Promise.resolve();function q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++){var a=q(e[r],!0);if(a)return a}return(0,i.warn)("Unsupported blend mode Array: ".concat(e)),"source-over"}if(!(0,s.isName)(e))return t?null:"source-over";switch(e.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return t?null:((0,i.warn)("Unsupported blend mode: ".concat(e.name)),"source-over")}var X=function(){function e(){R(this,e),this.reset()}return N(e,[{key:"check",value:function(){return!(++this.checked<e.CHECK_TIME_EVERY)&&(this.checked=0,this.endTime<=Date.now())}},{key:"reset",value:function(){this.endTime=Date.now()+e.TIME_SLOT_DURATION_MS,this.checked=0}}],[{key:"TIME_SLOT_DURATION_MS",get:function(){return(0,i.shadow)(this,"TIME_SLOT_DURATION_MS",20)}},{key:"CHECK_TIME_EVERY",get:function(){return(0,i.shadow)(this,"CHECK_TIME_EVERY",100)}}]),e}(),H=function(){function e(t){var r=t.xref,n=t.handler,a=t.pageIndex,i=t.idFactory,o=t.fontCache,s=t.builtInCMapCache,c=t.globalImageCache,u=t.options,l=void 0===u?null:u;R(this,e),this.xref=r,this.handler=n,this.pageIndex=a,this.idFactory=i,this.fontCache=o,this.builtInCMapCache=s,this.globalImageCache=c,this.options=l||B,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}var t,r,n,m,S,F;return N(e,[{key:"_pdfFunctionFactory",get:function(){var e=new g.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,i.shadow)(this,"_pdfFunctionFactory",e)}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=Object.create(this);return t.options=e,t}},{key:"hasBlendModes",value:function(e,t){if(!(e instanceof s.Dict))return!1;if(e.objId&&t.has(e.objId))return!1;var r=new s.RefSet(t);e.objId&&r.put(e.objId);for(var n=[e],a=this.xref;n.length;){var o=n.shift(),c=o.get("ExtGState");if(c instanceof s.Dict){var u,l=I(c.getRawValues());try{for(l.s();!(u=l.n()).done;){var f=u.value;if(f instanceof s.Ref){if(r.has(f))continue;try{f=a.fetch(f)}catch(e){r.put(f),(0,i.info)('hasBlendModes - ignoring ExtGState: "'.concat(e,'".'));continue}}if(f instanceof s.Dict){f.objId&&r.put(f.objId);var h=f.get("BM");if(h instanceof s.Name){if("Normal"!==h.name)return!0}else if(void 0!==h&&Array.isArray(h)){var d,p=I(h);try{for(p.s();!(d=p.n()).done;){var g=d.value;if(g instanceof s.Name&&"Normal"!==g.name)return!0}}catch(e){p.e(e)}finally{p.f()}}}}}catch(e){l.e(e)}finally{l.f()}}var m=o.get("XObject");if(m instanceof s.Dict){var v,y=I(m.getRawValues());try{for(y.s();!(v=y.n()).done;){var b=v.value;if(b instanceof s.Ref){if(r.has(b))continue;try{b=a.fetch(b)}catch(e){r.put(b),(0,i.info)('hasBlendModes - ignoring XObject: "'.concat(e,'".'));continue}}if((0,s.isStream)(b)){b.dict.objId&&r.put(b.dict.objId);var w=b.dict.get("Resources");w instanceof s.Dict&&(w.objId&&r.has(w.objId)||(n.push(w),w.objId&&r.put(w.objId)))}}}catch(e){y.e(e)}finally{y.f()}}}return r.forEach((function(e){t.put(e)})),!1}},{key:"fetchBuiltInCMap",value:(F=_(a.default.mark((function e(t){var r,n,o,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.builtInCMapCache.get(t))){e.next=3;break}return e.abrupt("return",r);case 3:return n=this.handler.sendWithStream("FetchBuiltInCMap",{name:t}),o=n.getReader(),e.next=7,new Promise((function(e,t){!function r(){o.read().then((function(t){var n=t.value;t.done||(e(n),r())}),t)}()}));case 7:return(s=e.sent).compressionType!==i.CMapCompressionType.NONE&&this.builtInCMapCache.set(t,s),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"buildFormXObject",value:(S=_(a.default.mark((function e(t,r,n,o,c,u,l){var f,h,d,p,g,m,v,y,w,k;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=r.dict,h=f.getArray("Matrix"),d=f.getArray("BBox"),d=Array.isArray(d)&&4===d.length?i.Util.normalizeRect(d):null,p=null,!f.has("OC")){e.next=10;break}return e.next=8,this.parseMarkedContentProps(f.get("OC"),t);case 8:p=e.sent,o.addOp(i.OPS.beginMarkedContentProps,["OC",p]);case 10:if(!(m=f.get("Group"))){e.next=30;break}if(g={matrix:h,bbox:d,smask:n,isolated:!1,knockout:!1},v=m.get("S"),y=null,!(0,s.isName)(v,"Transparency")){e.next=28;break}if(g.isolated=m.get("I")||!1,g.knockout=m.get("K")||!1,!m.has("CS")){e.next=28;break}if(w=m.getRaw("CS"),!(k=b.ColorSpace.getCached(w,this.xref,l))){e.next=25;break}y=k,e.next=28;break;case 25:return e.next=27,this.parseColorSpace({cs:w,resources:t,localColorSpaceCache:l});case 27:y=e.sent;case 28:n&&n.backdrop&&(y=y||b.ColorSpace.singletons.rgb,n.backdrop=y.getRgb(n.backdrop,0)),o.addOp(i.OPS.beginGroup,[g]);case 30:return o.addOp(i.OPS.paintFormXObjectBegin,[h,d]),e.abrupt("return",this.getOperatorList({stream:r,task:c,resources:f.get("Resources")||t,operatorList:o,initialState:u}).then((function(){o.addOp(i.OPS.paintFormXObjectEnd,[]),m&&o.addOp(i.OPS.endGroup,[g]),p&&o.addOp(i.OPS.endMarkedContent,[])})));case 32:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,a,i,o){return S.apply(this,arguments)})},{key:"_sendImgData",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t?[t.data.buffer]:null;return this.parsingType3Font||r?this.handler.send("commonobj",[e,"Image",t],n):this.handler.send("obj",[e,this.pageIndex,"Image",t],n)}},{key:"buildPaintImageXObject",value:(m=_(a.default.mark((function e(t){var r,n,o,s,c,u,l,f,h,d,p,g,m,v,y,b,k,S,x,A,O,C,F,P,_,I=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.resources,n=t.image,o=t.isInline,s=void 0!==o&&o,c=t.operatorList,u=t.cacheKey,l=t.localImageCache,f=t.localColorSpaceCache,h=n.dict,d=h.objId,p=h.get("Width","W"),g=h.get("Height","H"),p&&(0,i.isNum)(p)&&g&&(0,i.isNum)(g)){e.next=8;break}return(0,i.warn)("Image dimensions are missing, or not numbers."),e.abrupt("return",void 0);case 8:if(!(-1!==(m=this.options.maxImageSize)&&p*g>m)){e.next=12;break}return(0,i.warn)("Image exceeded maximum allowed size and was removed."),e.abrupt("return",void 0);case 12:if(!h.get("ImageMask","IM")){e.next=25;break}return b=h.get("Width","W"),k=h.get("Height","H"),S=b+7>>3,x=n.getBytes(S*k,!0),A=h.getArray("Decode","D"),(v=T.PDFImage.createMask({imgArray:x,width:b,height:k,imageIsFromDecodeStream:n instanceof w.DecodeStream,inverseDecode:!!A&&A[0]>0})).cached=!!u,y=[v],c.addOp(i.OPS.paintImageMaskXObject,y),u&&l.set(u,d,{fn:i.OPS.paintImageMaskXObject,args:y}),e.abrupt("return",void 0);case 25:if(O=h.get("SMask","SM")||!1,C=h.get("Mask")||!1,!s||O||C||!(p+g<200)){e.next=33;break}return F=new T.PDFImage({xref:this.xref,res:r,image:n,isInline:s,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:f}),v=F.createImageData(!0),c.addOp(i.OPS.paintInlineImageXObject,[v]),e.abrupt("return",void 0);case 33:return P="img_".concat(this.idFactory.createObjId()),_=!1,this.parsingType3Font?P="".concat(this.idFactory.getDocId(),"_type3_").concat(P):d&&(_=this.globalImageCache.shouldCache(d,this.pageIndex))&&(P="".concat(this.idFactory.getDocId(),"_").concat(P)),c.addDependency(P),y=[P,p,g],T.PDFImage.buildImage({xref:this.xref,res:r,image:n,isInline:s,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:f}).then((function(e){return v=e.createImageData(!1),u&&d&&_&&I.globalImageCache.addByteSize(d,v.data.length),I._sendImgData(P,v,_)})).catch((function(e){return(0,i.warn)('Unable to decode image "'.concat(P,'": "').concat(e,'".')),I._sendImgData(P,null,_)})),c.addOp(i.OPS.paintImageXObject,y),u&&(l.set(u,d,{fn:i.OPS.paintImageXObject,args:y}),d&&((0,i.assert)(!s,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(d,this.pageIndex),_&&this.globalImageCache.setData(d,{objId:P,fn:i.OPS.paintImageXObject,args:y,byteSize:0}))),e.abrupt("return",void 0);case 41:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"handleSMask",value:function(e,t,r,n,a,i){var o=e.get("G"),s={subtype:e.get("S").name,backdrop:e.get("BC")},c=e.get("TR");if((0,g.isPDFFunction)(c)){for(var u=this._pdfFunctionFactory.create(c),l=new Uint8Array(256),f=new Float32Array(1),h=0;h<256;h++)f[0]=h/255,u(f,0,f,0),l[h]=255*f[0]|0;s.transferMap=l}return this.buildFormXObject(t,o,s,r,n,a.state.clone(),i)}},{key:"handleTransferFunction",value:function(e){var t;if(Array.isArray(e))t=e;else{if(!(0,g.isPDFFunction)(e))return null;t=[e]}var r,n=[],a=0,i=0,o=I(t);try{for(o.s();!(r=o.n()).done;){var c=r.value,u=this.xref.fetchIfRef(c);if(a++,(0,s.isName)(u,"Identity"))n.push(null);else{if(!(0,g.isPDFFunction)(u))return null;for(var l=this._pdfFunctionFactory.create(u),f=new Uint8Array(256),h=new Float32Array(1),d=0;d<256;d++)h[0]=d/255,l(h,0,h,0),f[d]=255*h[0]|0;n.push(f),i++}}}catch(e){o.e(e)}finally{o.f()}return 1!==a&&4!==a||0===i?null:n}},{key:"handleTilingType",value:function(e,t,r,n,a,o,c,u,l){var f=this,h=new C.OperatorList,p=s.Dict.merge({xref:this.xref,dictArray:[a.get("Resources"),r]});return this.getOperatorList({stream:n,task:c,resources:p,operatorList:h}).then((function(){var r=h.getIR(),n=(0,d.getTilingPatternIR)(r,a,t);o.addDependencies(h.dependencies),o.addOp(e,n),u&&l.set(u,a.objId,{operatorListIR:r,dict:a})})).catch((function(e){if(!(e instanceof i.AbortException)){if(f.options.ignoreErrors)return f.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorTilingPattern}),void(0,i.warn)('handleTilingType - ignoring pattern: "'.concat(e,'".'));throw e}}))}},{key:"handleSetFont",value:function(e,t,r,n,a,o){var u=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=t&&t[0]instanceof s.Name?t[0].name:null;return this.loadFont(h,r,e,l,f).then((function(t){return t.font.isType3Font?t.loadType3Data(u,e,a).then((function(){return n.addDependencies(t.type3Dependencies),t})).catch((function(e){return u.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontLoadType3}),new $({loadedName:"g_font_error",font:new c.ErrorFont("Type3 font load error: ".concat(e)),dict:t.font,evaluatorOptions:u.options})})):t})).then((function(e){return o.font=e.font,e.send(u.handler),e.loadedName}))}},{key:"handleText",value:function(t,r){var n=r.font,a=n.charsToGlyphs(t);return n.data&&(r.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG||"Pattern"===r.fillColorSpace.name||n.disableFontFace||this.options.disableFontFace)&&e.buildFontPaths(n,a,this.handler,this.options),a}},{key:"ensureStateFont",value:function(e){if(!e.font){var t=new i.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontState}),void(0,i.warn)('ensureStateFont: "'.concat(t,'".'));throw t}}},{key:"setGState",value:(n=_(a.default.mark((function e(t){var r,n,o,c,u,l,f,h,d,p,g,m,v,y,b,w,k=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.resources,n=t.gState,o=t.operatorList,c=t.cacheKey,u=t.task,l=t.stateManager,f=t.localGStateCache,h=t.localColorSpaceCache,d=n.objId,p=!0,g=[],m=n.getKeys(),v=Promise.resolve(),y=function(e,t){var a=m[e],c=n.get(a);switch(a){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":g.push([a,c]);break;case"Font":p=!1,v=v.then((function(){return k.handleSetFont(r,null,c[0],o,u,l.state).then((function(e){o.addDependency(e),g.push([a,[e,c[1]]])}))}));break;case"BM":g.push([a,q(c)]);break;case"SMask":if((0,s.isName)(c,"None")){g.push([a,!1]);break}(0,s.isDict)(c)?(p=!1,v=v.then((function(){return k.handleSMask(c,r,o,u,l,h)})),g.push([a,!0])):(0,i.warn)("Unsupported SMask type");break;case"TR":var f=k.handleTransferFunction(c);g.push([a,f]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,i.info)("graphic state operator "+a);break;default:(0,i.info)("Unknown graphic state operator "+a)}},b=0,w=m.length;b<w;b++)y(b);return e.abrupt("return",v.then((function(){g.length>0&&o.addOp(i.OPS.setGState,[g]),p&&f.set(c,d,g)})));case 9:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"loadFont",value:function(t,r,n){var o,l=this,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=function(){var e=_(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new $({loadedName:"g_font_error",font:new c.ErrorFont('Font "'.concat(t,'" is not available.')),dict:r,evaluatorOptions:l.options}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=this.xref;if(r){if(!(0,s.isRef)(r))throw new i.FormatError('The "font" object should be a reference.');o=r}else{var g=n.get("Font");g&&(o=g.getRaw(t))}if(!o){var m='Font "'.concat(t||r&&r.toString(),'" is not available');if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,i.warn)("".concat(m,".")),d();this.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontMissing}),(0,i.warn)("".concat(m," -- attempting to fallback to a default font.")),o=f||e.fallbackFontDict}if(this.fontCache.has(o))return this.fontCache.get(o);if(r=p.fetchIfRef(o),!(0,s.isDict)(r))return d();if(r.cacheKey&&this.fontCache.has(r.cacheKey))return this.fontCache.get(r.cacheKey);var v,y=(0,i.createPromiseCapability)();try{(v=this.preEvaluateFont(r)).cssFontInfo=h}catch(e){return(0,i.warn)('loadFont - preEvaluateFont failed: "'.concat(e,'".')),d()}var b,w=v,k=w.descriptor,S=w.hash,x=(0,s.isRef)(o);if(x&&(b="f".concat(o.toString())),S&&(0,s.isDict)(k)){k.fontAliases||(k.fontAliases=Object.create(null));var A=k.fontAliases;if(A[S]){var O=A[S].aliasRef;if(x&&O&&this.fontCache.has(O))return this.fontCache.putAlias(o,O),this.fontCache.get(o)}else A[S]={fontID:this.idFactory.createFontId()};x&&(A[S].aliasRef=o),b=A[S].fontID}return x?this.fontCache.put(o,y.promise):(b||(b=this.idFactory.createFontId()),r.cacheKey="cacheKey_".concat(b),this.fontCache.put(r.cacheKey,y.promise)),(0,i.assert)(b&&b.startsWith("f"),'The "fontID" must be (correctly) defined.'),r.loadedName="".concat(this.idFactory.getDocId(),"_").concat(b),this.translateFont(v).then((function(e){void 0!==e.fontType&&(p.stats.fontTypes[e.fontType]=!0),y.resolve(new $({loadedName:r.loadedName,font:e,dict:r,evaluatorOptions:l.options}))})).catch((function(e){l.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,i.warn)('loadFont - translateFont failed: "'.concat(e,'".'));try{var t=k&&k.get("FontFile3"),n=t&&t.get("Subtype"),a=(0,u.getFontType)(v.type,n&&n.name);p.stats.fontTypes[a]=!0}catch(e){}y.resolve(new $({loadedName:r.loadedName,font:new c.ErrorFont(e instanceof Error?e.message:e),dict:r,evaluatorOptions:l.options}))})),y.promise}},{key:"buildPath",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.length-1;if(r||(r=[]),a<0||e.fnArray[a]!==i.OPS.constructPath)n&&((0,i.warn)('Encountered path operator "'.concat(t,'" inside of a text object.')),e.addOp(i.OPS.save,null)),e.addOp(i.OPS.constructPath,[[t],r]),n&&e.addOp(i.OPS.restore,null);else{var o=e.argsArray[a];o[0].push(t),Array.prototype.push.apply(o[1],r)}}},{key:"parseColorSpace",value:function(e){var t=this,r=e.cs,n=e.resources,a=e.localColorSpaceCache;return b.ColorSpace.parseAsync({cs:r,xref:this.xref,resources:n,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:a}).catch((function(e){if(e instanceof i.AbortException)return null;if(t.options.ignoreErrors)return t.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorColorSpace}),(0,i.warn)('parseColorSpace - ignoring ColorSpace: "'.concat(e,'".')),null;throw e}))}},{key:"handleColorN",value:function(e,t,r,n,a,o,c,u,l){var f=r.pop();if(f instanceof s.Name){var h=f.name,p=l.getByName(h);if(p)try{var g=n.base?n.base.getRgb(r,0):null,m=(0,d.getTilingPatternIR)(p.operatorListIR,p.dict,g);return void e.addOp(t,m)}catch(e){}var v=a.get(h);if(v){var y=(0,s.isStream)(v)?v.dict:v,b=y.get("PatternType");if(b===D){var w=n.base?n.base.getRgb(r,0):null;return this.handleTilingType(t,w,o,v,y,e,c,h,l)}if(b===L){var k=y.get("Shading"),S=y.getArray("Matrix");return v=d.Pattern.parseShading(k,S,this.xref,o,this.handler,this._pdfFunctionFactory,u),void e.addOp(t,v.getIR())}throw new i.FormatError("Unknown PatternType: ".concat(b))}}throw new i.FormatError("Unknown PatternName: ".concat(f))}},{key:"_parseVisibilityExpression",value:function(e,t,r){if(++t>10)(0,i.warn)("Visibility expression is too deeply nested");else{var n=e.length,a=this.xref.fetchIfRef(e[0]);if(n<2||!(0,s.isName)(a))(0,i.warn)("Invalid visibility expression");else{switch(a.name){case"And":case"Or":case"Not":r.push(a.name);break;default:return void(0,i.warn)("Invalid operator ".concat(a.name," in visibility expression"))}for(var o=1;o<n;o++){var c=e[o],u=this.xref.fetchIfRef(c);if(Array.isArray(u)){var l=[];r.push(l),this._parseVisibilityExpression(u,t,l)}else(0,s.isRef)(c)&&r.push(c.toString())}}}}},{key:"parseMarkedContentProps",value:(r=_(a.default.mark((function e(t,r){var n,o,c,u,l,f,h,d,p,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,s.isName)(t)){e.next=5;break}o=r.get("Properties"),n=o.get(t.name),e.next=10;break;case 5:if(!(0,s.isDict)(t)){e.next=9;break}n=t,e.next=10;break;case 9:throw new i.FormatError("Optional content properties malformed.");case 10:if("OCG"!==(c=n.get("Type").name)){e.next=15;break}return e.abrupt("return",{type:c,id:n.objId});case 15:if("OCMD"!==c){e.next=31;break}if(u=n.get("VE"),!Array.isArray(u)){e.next=22;break}if(l=[],this._parseVisibilityExpression(u,0,l),!(l.length>0)){e.next=22;break}return e.abrupt("return",{type:"OCMD",expression:l});case 22:if(f=n.get("OCGs"),!Array.isArray(f)&&!(0,s.isDict)(f)){e.next=29;break}if(h=[],Array.isArray(f)){d=I(f);try{for(d.s();!(p=d.n()).done;)g=p.value,h.push(g.toString())}catch(e){d.e(e)}finally{d.f()}}else h.push(f.objId);return e.abrupt("return",{type:c,ids:h,policy:(0,s.isName)(n.get("P"))?n.get("P").name:null,expression:null});case 29:if(!(0,s.isRef)(f)){e.next=31;break}return e.abrupt("return",{type:c,id:f.toString()});case 31:return e.abrupt("return",null);case 32:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getOperatorList",value:function(e){var t=this,r=e.stream,n=e.task,a=e.resources,o=e.operatorList,c=e.initialState,u=void 0===c?null:c,l=e.fallbackFontDict,f=void 0===l?null:l;if(a=a||s.Dict.empty,u=u||new W,!o)throw new Error('getOperatorList: missing "operatorList" parameter');var h=this,p=this.xref,g=!1,m=new v.LocalImageCache,y=new v.LocalColorSpaceCache,w=new v.LocalGStateCache,k=new v.LocalTilingPatternCache,S=a.get("XObject")||s.Dict.empty,x=a.get("Pattern")||s.Dict.empty,A=new z(u),O=new V(r,p,A),C=new X;function T(e){for(var t=0,r=O.savedStatesDepth;t<r;t++)o.addOp(i.OPS.restore,[])}return new Promise((function e(t,r){var c=function(n){Promise.all([n,o.ready]).then((function(){try{e(t,r)}catch(e){r(e)}}),r)};n.ensureNotTerminated(),C.reset();for(var u,l,v,F,P,_={};!(u=C.check())&&(_.args=null,O.read(_));){var I=_.args,E=_.fn;switch(0|E){case i.OPS.paintXObject:if(P=I[0].name){var j=m.getByName(P);if(j){o.addOp(j.fn,j.args),I=null;continue}}return void c(new Promise((function(e,t){if(!P)throw new i.FormatError("XObject must be referred to by name.");var r=S.getRaw(P);if(r instanceof s.Ref){var c=m.getByRef(r);if(c)return o.addOp(c.fn,c.args),void e();var u=h.globalImageCache.getData(r,h.pageIndex);if(u)return o.addDependency(u.objId),o.addOp(u.fn,u.args),void e();r=p.fetch(r)}if(!(0,s.isStream)(r))throw new i.FormatError("XObject should be a stream");var l=r.dict.get("Subtype");if(!(0,s.isName)(l))throw new i.FormatError("XObject should have a Name subtype");if("Form"===l.name)return A.save(),void h.buildFormXObject(a,r,null,o,n,A.state.clone(),y).then((function(){A.restore(),e()}),t);if("Image"!==l.name){if("PS"!==l.name)throw new i.FormatError("Unhandled XObject subtype ".concat(l.name));(0,i.info)("Ignored XObject subtype PS"),e()}else h.buildPaintImageXObject({resources:a,image:r,operatorList:o,cacheKey:P,localImageCache:m,localColorSpaceCache:y}).then(e,t)})).catch((function(e){if(!(e instanceof i.AbortException)){if(h.options.ignoreErrors)return h.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorXObject}),void(0,i.warn)('getOperatorList - ignoring XObject: "'.concat(e,'".'));throw e}})));case i.OPS.setFont:var R=I[1];return void c(h.handleSetFont(a,I,null,o,n,A.state,f).then((function(e){o.addDependency(e),o.addOp(i.OPS.setFont,[e,R])})));case i.OPS.beginText:g=!0;break;case i.OPS.endText:g=!1;break;case i.OPS.endInlineImage:var M=I[0].cacheKey;if(M){var N=m.getByName(M);if(N){o.addOp(N.fn,N.args),I=null;continue}}return void c(h.buildPaintImageXObject({resources:a,image:I[0],isInline:!0,operatorList:o,cacheKey:M,localImageCache:m,localColorSpaceCache:y}));case i.OPS.showText:if(!A.state.font){h.ensureStateFont(A.state);continue}I[0]=h.handleText(I[0],A.state);break;case i.OPS.showSpacedText:if(!A.state.font){h.ensureStateFont(A.state);continue}var B=I[0],D=[],L=B.length,q=A.state;for(l=0;l<L;++l){var X=B[l];(0,i.isString)(X)?Array.prototype.push.apply(D,h.handleText(X,q)):(0,i.isNum)(X)&&D.push(X)}I[0]=D,E=i.OPS.showText;break;case i.OPS.nextLineShowText:if(!A.state.font){h.ensureStateFont(A.state);continue}o.addOp(i.OPS.nextLine),I[0]=h.handleText(I[0],A.state),E=i.OPS.showText;break;case i.OPS.nextLineSetSpacingShowText:if(!A.state.font){h.ensureStateFont(A.state);continue}o.addOp(i.OPS.nextLine),o.addOp(i.OPS.setWordSpacing,[I.shift()]),o.addOp(i.OPS.setCharSpacing,[I.shift()]),I[0]=h.handleText(I[0],A.state),E=i.OPS.showText;break;case i.OPS.setTextRenderingMode:A.state.textRenderingMode=I[0];break;case i.OPS.setFillColorSpace:var H=b.ColorSpace.getCached(I[0],p,y);if(H){A.state.fillColorSpace=H;continue}return void c(h.parseColorSpace({cs:I[0],resources:a,localColorSpaceCache:y}).then((function(e){e&&(A.state.fillColorSpace=e)})));case i.OPS.setStrokeColorSpace:var $=b.ColorSpace.getCached(I[0],p,y);if($){A.state.strokeColorSpace=$;continue}return void c(h.parseColorSpace({cs:I[0],resources:a,localColorSpaceCache:y}).then((function(e){e&&(A.state.strokeColorSpace=e)})));case i.OPS.setFillColor:I=(F=A.state.fillColorSpace).getRgb(I,0),E=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeColor:I=(F=A.state.strokeColorSpace).getRgb(I,0),E=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillGray:A.state.fillColorSpace=b.ColorSpace.singletons.gray,I=b.ColorSpace.singletons.gray.getRgb(I,0),E=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeGray:A.state.strokeColorSpace=b.ColorSpace.singletons.gray,I=b.ColorSpace.singletons.gray.getRgb(I,0),E=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillCMYKColor:A.state.fillColorSpace=b.ColorSpace.singletons.cmyk,I=b.ColorSpace.singletons.cmyk.getRgb(I,0),E=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeCMYKColor:A.state.strokeColorSpace=b.ColorSpace.singletons.cmyk,I=b.ColorSpace.singletons.cmyk.getRgb(I,0),E=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillRGBColor:A.state.fillColorSpace=b.ColorSpace.singletons.rgb,I=b.ColorSpace.singletons.rgb.getRgb(I,0);break;case i.OPS.setStrokeRGBColor:A.state.strokeColorSpace=b.ColorSpace.singletons.rgb,I=b.ColorSpace.singletons.rgb.getRgb(I,0);break;case i.OPS.setFillColorN:if("Pattern"===(F=A.state.fillColorSpace).name)return void c(h.handleColorN(o,i.OPS.setFillColorN,I,F,x,a,n,y,k));I=F.getRgb(I,0),E=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeColorN:if("Pattern"===(F=A.state.strokeColorSpace).name)return void c(h.handleColorN(o,i.OPS.setStrokeColorN,I,F,x,a,n,y,k));I=F.getRgb(I,0),E=i.OPS.setStrokeRGBColor;break;case i.OPS.shadingFill:var z=a.get("Shading");if(!z)throw new i.FormatError("No shading resource found");var G=z.get(I[0].name);if(!G)throw new i.FormatError("No shading object found");I=[d.Pattern.parseShading(G,null,p,a,h.handler,h._pdfFunctionFactory,y).getIR()],E=i.OPS.shadingFill;break;case i.OPS.setGState:if(P=I[0].name){var W=w.getByName(P);if(W){W.length>0&&o.addOp(i.OPS.setGState,[W]),I=null;continue}}return void c(new Promise((function(e,t){if(!P)throw new i.FormatError("GState must be referred to by name.");var r=a.get("ExtGState");if(!(r instanceof s.Dict))throw new i.FormatError("ExtGState should be a dictionary.");var c=r.get(P);if(!(c instanceof s.Dict))throw new i.FormatError("GState should be a dictionary.");h.setGState({resources:a,gState:c,operatorList:o,cacheKey:P,task:n,stateManager:A,localGStateCache:w,localColorSpaceCache:y}).then(e,t)})).catch((function(e){if(!(e instanceof i.AbortException)){if(h.options.ignoreErrors)return h.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorExtGState}),void(0,i.warn)('getOperatorList - ignoring ExtGState: "'.concat(e,'".'));throw e}})));case i.OPS.moveTo:case i.OPS.lineTo:case i.OPS.curveTo:case i.OPS.curveTo2:case i.OPS.curveTo3:case i.OPS.closePath:case i.OPS.rectangle:h.buildPath(o,E,I,g);continue;case i.OPS.markPoint:case i.OPS.markPointProps:case i.OPS.beginCompat:case i.OPS.endCompat:continue;case i.OPS.beginMarkedContentProps:if(!(0,s.isName)(I[0])){(0,i.warn)("Expected name for beginMarkedContentProps arg0=".concat(I[0]));continue}if("OC"===I[0].name)return void c(h.parseMarkedContentProps(I[1],a).then((function(e){o.addOp(i.OPS.beginMarkedContentProps,["OC",e])})).catch((function(e){if(!(e instanceof i.AbortException)){if(h.options.ignoreErrors)return h.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorMarkedContent}),void(0,i.warn)('getOperatorList - ignoring beginMarkedContentProps: "'.concat(e,'".'));throw e}})));I=[I[0].name,I[1]instanceof s.Dict?I[1].get("MCID"):null];break;case i.OPS.beginMarkedContent:case i.OPS.endMarkedContent:default:if(null!==I){for(l=0,v=I.length;l<v&&!(I[l]instanceof s.Dict);l++);if(l<v){(0,i.warn)("getOperatorList - ignoring operator: "+E);continue}}}o.addOp(E,I)}u?c(U):(T(),t())})).catch((function(e){if(!(e instanceof i.AbortException)){if(t.options.ignoreErrors)return t.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorOperatorList}),(0,i.warn)('getOperatorList - ignoring errors during "'.concat(n.name,'" ')+'task: "'.concat(e,'".')),void T();throw e}}))}},{key:"getTextContent",value:function(e){var t=this,r=e.stream,n=e.task,a=e.resources,o=e.stateManager,c=void 0===o?null:o,u=e.normalizeWhitespace,l=void 0!==u&&u,h=e.combineTextItems,d=void 0!==h&&h,p=e.includeMarkedContent,g=void 0!==p&&p,m=e.sink,b=e.seenStyles,w=void 0===b?new Set:b;a=a||s.Dict.empty,c=c||new z(new G);var k,S=/\\s/g,x={items:[],styles:Object.create(null)},A={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,lastCharSize:0,prevTransform:null,textAdvanceScale:0,spaceWidth:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,transform:null,fontName:null,hasEOL:!1,isLastCharWhiteSpace:!1},O=this,C=this.xref,T=[],F=null,P=new v.LocalImageCache,_=new v.LocalGStateCache,I=new V(r,C,c);function E(){var e=k.font,t=[k.fontSize*k.textHScale,0,0,k.fontSize,0,k.textRise];if(e.isType3Font&&k.fontSize<=1&&!(0,i.isArrayEqual)(k.fontMatrix,i.FONT_IDENTITY_MATRIX)){var r=e.bbox[3]-e.bbox[1];r>0&&(t[3]*=r*k.fontMatrix[3])}return i.Util.transform(k.ctm,i.Util.transform(k.textMatrix,t))}function j(){if(A.initialized)return A;var e=k.font,t=e.loadedName;w.has(t)||(w.add(t),x.styles[t]={fontFamily:e.fallbackName,ascent:e.ascent,descent:e.descent,vertical:e.vertical}),A.fontName=t;var r=A.transform=E();e.vertical?(A.width=A.totalWidth=Math.hypot(r[0],r[1]),A.height=A.totalHeight=0,A.vertical=!0):(A.width=A.totalWidth=0,A.height=A.totalHeight=Math.hypot(r[2],r[3]),A.vertical=!1);var n=Math.hypot(k.textLineMatrix[0],k.textLineMatrix[1]),a=Math.hypot(k.ctm[0],k.ctm[1]);A.textAdvanceScale=a*n,A.lastCharSize=A.lastCharSize||0;var i=e.spaceWidth/1e3*k.fontSize;return i?(A.spaceWidth=i,A.trackingSpaceMin=.3*i,A.spaceInFlowMin=.3*i,A.spaceInFlowMax=1.3*i):(A.spaceWidth=0,A.trackingSpaceMin=1/0),A.hasEOL=!1,A.initialized=!0,A}function R(){if(A.initialized){var e=Math.hypot(k.textLineMatrix[0],k.textLineMatrix[1]),t=Math.hypot(k.ctm[0],k.ctm[1])*e;t!==A.textAdvanceScale&&(A.vertical?(A.totalHeight+=A.height*A.textAdvanceScale,A.height=0):(A.totalWidth+=A.width*A.textAdvanceScale,A.width=0),A.textAdvanceScale=t)}}function M(e){var t=e.str.join(""),r=(0,y.bidi)(t,-1,e.vertical);return{str:l?function(e){for(var t,r=e.length,n=0;n<r&&(t=e.charCodeAt(n))>=32&&t<=127;)n++;return n<r?e.replace(S," "):e}(r.str):r.str,dir:r.dir,width:e.totalWidth,height:e.totalHeight,transform:e.transform,fontName:e.fontName,hasEOL:e.hasEOL}}function N(e,t){return O.loadFont(e,t,a).then((function(e){k.font=e.font,k.fontMatrix=e.font.fontMatrix||i.FONT_IDENTITY_MATRIX}))}function B(e){var t=e.chars,r=e.extraSpacing,n=e.isFirstChunk,a=k.font;if(t){var i=(0,f.getNormalizedUnicodes)(),o=a.charsToGlyphs(t),s=k.fontMatrix[0]*k.fontSize;n&&function(e){if(d&&k.font&&A.prevTransform){var t=E(),r=t[4],n=t[5],a=A.prevTransform[4],i=A.prevTransform[5];if(a!==r||i!==n){var o=(r-a)/A.textAdvanceScale,s=(n-i)/A.textAdvanceScale,c=-.5*A.lastCharSize;if(k.font.vertical){if(Math.abs(o)>A.width/A.textAdvanceScale)return void D();if(c>s)return;s>A.trackingSpaceMin?A.height+=s:L(s,0,A.prevTransform)||(0===A.str.length?(x.items.push({str:" ",dir:"ltr",width:0,height:s,transform:A.prevTransform,fontName:A.fontName,hasEOL:!1}),A.isLastCharWhiteSpace=!0):A.height+=s)}else Math.abs(s)>A.height/A.textAdvanceScale?D():c>o||(o<=A.trackingSpaceMin?A.width+=o:L(o,0,A.prevTransform)||(0===A.str.length?(x.items.push({str:" ",dir:"ltr",width:o,height:0,transform:A.prevTransform,fontName:A.fontName,hasEOL:!1}),A.isLastCharWhiteSpace=!0):A.width+=o))}}}();for(var c=j(),u=0,l=0,h=0,p=o.length;h<p;h++){var g=o[h],m=k.charSpacing+(h===p-1?r:0),v=g.unicode;g.isSpace?(m+=k.wordSpacing,c.isLastCharWhiteSpace=!0):(v=i[v]||v,v=(0,f.reverseIfRtl)(v),c.isLastCharWhiteSpace=!1),c.str.push(v);var y=(a.vertical&&g.vmetric?g.vmetric[0]:g.width)*s;if(a.vertical?(k.translateTextMatrix(0,y),y=Math.abs(y)):(y*=k.textHScale,k.translateTextMatrix(y,0)),u+=y,m){a.vertical||(m*=k.textHScale),y+=m;var b=m>A.trackingSpaceMin&&L(m,u);a.vertical?k.translateTextMatrix(0,m):k.translateTextMatrix(m,0),b?(c=j(),u=0):u+=m}l=y}c.lastCharSize=l,a.vertical?c.height+=u:c.width+=u,c.prevTransform=E()}else{var w=k.charSpacing+r;w&&(a.vertical?k.translateTextMatrix(0,w):k.translateTextMatrix(w*k.textHScale,0))}}function D(){A.initialized?(A.hasEOL=!0,q()):x.items.length>0?x.items[x.items.length-1].hasEOL=!0:x.items.push({str:"",dir:"ltr",width:0,height:0,transform:E(),fontName:k.font.loadedName,hasEOL:!0}),A.isLastCharWhiteSpace=!1,A.lastCharSize=0}function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(A.spaceInFlowMin<=e&&e<=A.spaceInFlowMax)return A.initialized&&(A.str.push(" "),A.isLastCharWhiteSpace=!0),!1;var n=A.fontName,a=0;return e*=A.textAdvanceScale,A.vertical?(A.height+=t,a=e,e=0):A.width+=t,q(),A.isLastCharWhiteSpace||(A.isLastCharWhiteSpace=!0,x.items.push({str:" ",dir:"ltr",width:e,height:a,transform:r||E(),fontName:n,hasEOL:!1})),!0}function q(){A.initialized&&A.str&&(A.vertical?A.totalHeight+=A.height*A.textAdvanceScale:A.totalWidth+=A.width*A.textAdvanceScale,x.items.push(M(A)),A.initialized=!1,A.str.length=0)}function H(){var e=x.items.length;e>0&&(m.enqueue(x,e),x.items=[],x.styles=Object.create(null))}var $=new X;return new Promise((function e(t,r){var o=function(n){H(),Promise.all([n,m.ready]).then((function(){try{e(t,r)}catch(e){r(e)}}),r)};n.ensureNotTerminated(),$.reset();for(var u,f={},h=[];!(u=$.check())&&(h.length=0,f.args=h,I.read(f));){k=c.state;var p=f.fn;switch(h=f.args,0|p){case i.OPS.setFont:var v=h[0].name,y=h[1];if(k.font&&v===k.fontName&&y===k.fontSize)break;return q(),k.fontName=v,k.fontSize=y,void o(N(v,null));case i.OPS.setTextRise:q(),k.textRise=h[0];break;case i.OPS.setHScale:q(),k.textHScale=h[0]/100;break;case i.OPS.setLeading:q(),k.leading=h[0];break;case i.OPS.moveText:k.translateTextLineMatrix(h[0],h[1]),k.textMatrix=k.textLineMatrix.slice();break;case i.OPS.setLeadingMoveText:q(),k.leading=-h[1],k.translateTextLineMatrix(h[0],h[1]),k.textMatrix=k.textLineMatrix.slice();break;case i.OPS.nextLine:D(),k.carriageReturn();break;case i.OPS.setTextMatrix:k.setTextMatrix(h[0],h[1],h[2],h[3],h[4],h[5]),k.setTextLineMatrix(h[0],h[1],h[2],h[3],h[4],h[5]),R();break;case i.OPS.setCharSpacing:k.charSpacing=h[0];break;case i.OPS.setWordSpacing:k.wordSpacing=h[0];break;case i.OPS.beginText:q(),k.textMatrix=i.IDENTITY_MATRIX.slice(),k.textLineMatrix=i.IDENTITY_MATRIX.slice();break;case i.OPS.showSpacedText:if(!c.state.font){O.ensureStateFont(c.state);continue}for(var b=(k.font.vertical?1:-1)*k.fontSize/1e3,S=h[0],E=!0,j=0,M=S.length;j<M-1;j++){var L=S[j];if("string"==typeof L)T.push(L);else if("number"==typeof L&&0!==L){var X=T.join("");T.length=0,B({chars:X,extraSpacing:L*b,isFirstChunk:E}),X&&E&&(E=!1)}}var G=S[S.length-1];if("string"==typeof G&&T.push(G),T.length>0){var W=T.join("");T.length=0,B({chars:W,extraSpacing:0,isFirstChunk:E})}break;case i.OPS.showText:if(!c.state.font){O.ensureStateFont(c.state);continue}B({chars:h[0],extraSpacing:0,isFirstChunk:!0});break;case i.OPS.nextLineShowText:if(!c.state.font){O.ensureStateFont(c.state);continue}A.hasEOL=!0,q(),k.carriageReturn(),B({chars:h[0],extraSpacing:0,isFirstChunk:!0});break;case i.OPS.nextLineSetSpacingShowText:if(!c.state.font){O.ensureStateFont(c.state);continue}A.hasEOL=!0,q(),k.wordSpacing=h[0],k.charSpacing=h[1],k.carriageReturn(),B({chars:h[2],extraSpacing:0,isFirstChunk:!0});break;case i.OPS.paintXObject:q(),F||(F=a.get("XObject")||s.Dict.empty);var V=h[0].name;if(V&&P.getByName(V))break;return void o(new Promise((function(e,t){if(!V)throw new i.FormatError("XObject must be referred to by name.");var r=F.getRaw(V);if(r instanceof s.Ref){if(P.getByRef(r))return void e();if(O.globalImageCache.getData(r,O.pageIndex))return void e();r=C.fetch(r)}if(!(0,s.isStream)(r))throw new i.FormatError("XObject should be a stream");var o=r.dict.get("Subtype");if(!(0,s.isName)(o))throw new i.FormatError("XObject should have a Name subtype");if("Form"!==o.name)return P.set(V,r.dict.objId,!0),void e();var u=c.state.clone(),f=new z(u),h=r.dict.getArray("Matrix");Array.isArray(h)&&6===h.length&&f.transform(h),H();var p={enqueueInvoked:!1,enqueue:function(e,t){this.enqueueInvoked=!0,m.enqueue(e,t)},get desiredSize(){return m.desiredSize},get ready(){return m.ready}};O.getTextContent({stream:r,task:n,resources:r.dict.get("Resources")||a,stateManager:f,normalizeWhitespace:l,combineTextItems:d,includeMarkedContent:g,sink:p,seenStyles:w}).then((function(){p.enqueueInvoked||P.set(V,r.dict.objId,!0),e()}),t)})).catch((function(e){if(!(e instanceof i.AbortException)){if(!O.options.ignoreErrors)throw e;(0,i.warn)('getTextContent - ignoring XObject: "'.concat(e,'".'))}})));case i.OPS.setGState:if((V=h[0].name)&&_.getByName(V))break;return void o(new Promise((function(e,t){if(!V)throw new i.FormatError("GState must be referred to by name.");var r=a.get("ExtGState");if(!(r instanceof s.Dict))throw new i.FormatError("ExtGState should be a dictionary.");var n=r.get(V);if(!(n instanceof s.Dict))throw new i.FormatError("GState should be a dictionary.");var o=n.get("Font");if(!o)return _.set(V,n.objId,!0),void e();q(),k.fontName=null,k.fontSize=o[1],N(null,o[0]).then(e,t)})).catch((function(e){if(!(e instanceof i.AbortException)){if(!O.options.ignoreErrors)throw e;(0,i.warn)('getTextContent - ignoring ExtGState: "'.concat(e,'".'))}})));case i.OPS.beginMarkedContent:g&&x.items.push({type:"beginMarkedContent",tag:(0,s.isName)(h[0])?h[0].name:null});break;case i.OPS.beginMarkedContentProps:if(g){q();var K=null;(0,s.isDict)(h[1])&&(K=h[1].get("MCID")),x.items.push({type:"beginMarkedContentProps",id:Number.isInteger(K)?"".concat(O.idFactory.getPageObjId(),"_mcid").concat(K):null,tag:(0,s.isName)(h[0])?h[0].name:null})}break;case i.OPS.endMarkedContent:g&&(q(),x.items.push({type:"endMarkedContent"}))}if(x.items.length>=m.desiredSize){u=!0;break}}u?o(U):(q(),H(),t())})).catch((function(e){if(!(e instanceof i.AbortException)){if(t.options.ignoreErrors)return(0,i.warn)('getTextContent - ignoring errors during "'.concat(n.name,'" ')+'task: "'.concat(e,'".')),q(),void H();throw e}}))}},{key:"extractDataStructures",value:function(e,t,r){var n,a=this,o=this.xref,c=this.readToUnicode(r.toUnicode||e.get("ToUnicode")||t.get("ToUnicode"));if(r.composite){var f=e.get("CIDSystemInfo");(0,s.isDict)(f)&&(r.cidSystemInfo={registry:(0,i.stringToPDFString)(f.get("Registry")),ordering:(0,i.stringToPDFString)(f.get("Ordering")),supplement:f.get("Supplement")});var h=e.get("CIDToGIDMap");(0,s.isStream)(h)&&(n=h.getBytes())}var d,p=[],g=null;if(e.has("Encoding")){if(d=e.get("Encoding"),(0,s.isDict)(d)){if(g=d.get("BaseEncoding"),g=(0,s.isName)(g)?g.name:null,d.has("Differences"))for(var m=d.get("Differences"),v=0,y=0,b=m.length;y<b;y++){var w=o.fetchIfRef(m[y]);if((0,i.isNum)(w))v=w;else{if(!(0,s.isName)(w))throw new i.FormatError("Invalid entry in 'Differences' array: ".concat(w));p[v++]=w.name}}}else{if(!(0,s.isName)(d))throw new i.FormatError("Encoding is not a Name nor a Dict");g=d.name}"MacRomanEncoding"!==g&&"MacExpertEncoding"!==g&&"WinAnsiEncoding"!==g&&(g=null)}if(g)r.defaultEncoding=(0,l.getEncoding)(g);else{var k=!!(r.flags&u.FontFlags.Symbolic),S=!!(r.flags&u.FontFlags.Nonsymbolic);d=l.StandardEncoding,"TrueType"!==r.type||S||(d=l.WinAnsiEncoding),k&&(d=l.MacRomanEncoding,r.file||(/Symbol/i.test(r.name)?d=l.SymbolSetEncoding:/Dingbats|Wingdings/i.test(r.name)&&(d=l.ZapfDingbatsEncoding))),r.defaultEncoding=d}return r.differences=p,r.baseEncodingName=g,r.hasEncoding=!!g||p.length>0,r.dict=e,c.then((function(e){return r.toUnicode=e,a.buildToUnicode(r)})).then((function(e){return r.toUnicode=e,n&&(r.cidToGidMap=a.readCidToGidMap(n,e)),r}))}},{key:"_buildSimpleFontToUnicode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,i.assert)(!e.composite,"Must be a simple font.");var r=[],n=e.defaultEncoding.slice(),a=e.baseEncodingName,o=e.differences;for(var s in o){var c=o[s];".notdef"!==c&&(n[s]=c)}var u=(0,k.getGlyphsUnicode)();for(var h in n){var d=n[h];if(""!==d)if(void 0!==u[d])r[h]=String.fromCharCode(u[d]);else{var g=0;switch(d[0]){case"G":3===d.length&&(g=parseInt(d.substring(1),16));break;case"g":5===d.length&&(g=parseInt(d.substring(1),16));break;case"C":case"c":if(d.length>=3&&d.length<=4){var m=d.substring(1);if(t){g=parseInt(m,16);break}if(g=+m,Number.isNaN(g)&&Number.isInteger(parseInt(m,16)))return this._buildSimpleFontToUnicode(e,!0)}break;default:var v=(0,f.getUnicodeForGlyph)(d,u);-1!==v&&(g=v)}if(g>0&&g<=1114111&&Number.isInteger(g)){if(a&&g===+h){var y=(0,l.getEncoding)(a);if(y&&(d=y[h])){r[h]=String.fromCharCode(u[d]);continue}}r[h]=String.fromCodePoint(g)}}}return new p.ToUnicodeMap(r)}},{key:"buildToUnicode",value:function(e){if(e.hasIncludedToUnicodeMap=!!e.toUnicode&&e.toUnicode.length>0,e.hasIncludedToUnicodeMap)return!e.composite&&e.hasEncoding&&(e.fallbackToUnicode=this._buildSimpleFontToUnicode(e)),Promise.resolve(e.toUnicode);if(!e.composite)return Promise.resolve(this._buildSimpleFontToUnicode(e));if(e.composite&&(e.cMap.builtInCMap&&!(e.cMap instanceof o.IdentityCMap)||"Adobe"===e.cidSystemInfo.registry&&("GB1"===e.cidSystemInfo.ordering||"CNS1"===e.cidSystemInfo.ordering||"Japan1"===e.cidSystemInfo.ordering||"Korea1"===e.cidSystemInfo.ordering))){var t=e.cidSystemInfo.registry,r=e.cidSystemInfo.ordering,n=s.Name.get(t+"-"+r+"-UCS2");return o.CMapFactory.create({encoding:n,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then((function(t){var r=e.cMap,n=[];return r.forEach((function(e,r){if(r>65535)throw new i.FormatError("Max size of CID is 65,535");var a=t.lookup(r);a&&(n[e]=String.fromCharCode((a.charCodeAt(0)<<8)+a.charCodeAt(1)))})),new p.ToUnicodeMap(n)}))}return Promise.resolve(new p.IdentityToUnicodeMap(e.firstChar,e.lastChar))}},{key:"readToUnicode",value:function(e){var t=this;return e?(0,s.isName)(e)?o.CMapFactory.create({encoding:e,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then((function(e){return e instanceof o.IdentityCMap?new p.IdentityToUnicodeMap(0,65535):new p.ToUnicodeMap(e.getMap())})):(0,s.isStream)(e)?o.CMapFactory.create({encoding:e,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then((function(e){if(e instanceof o.IdentityCMap)return new p.IdentityToUnicodeMap(0,65535);var t=new Array(e.length);return e.forEach((function(e,r){for(var n=[],a=0;a<r.length;a+=2){var i=r.charCodeAt(a)<<8|r.charCodeAt(a+1);if(55296==(63488&i)){a+=2;var o=r.charCodeAt(a)<<8|r.charCodeAt(a+1);n.push(((1023&i)<<10)+(1023&o)+65536)}else n.push(i)}t[e]=String.fromCodePoint.apply(String,n)})),new p.ToUnicodeMap(t)}),(function(e){if(e instanceof i.AbortException)return null;if(t.options.ignoreErrors)return t.handler.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,i.warn)('readToUnicode - ignoring ToUnicode data: "'.concat(e,'".')),null;throw e})):Promise.resolve(null):Promise.resolve(null)}},{key:"readCidToGidMap",value:function(e,t){for(var r=[],n=0,a=e.length;n<a;n++){var i=e[n++]<<8|e[n],o=n>>1;(0!==i||t.has(o))&&(r[o]=i)}return r}},{key:"extractWidths",value:function(e,t,r){var n,a,i,o,c,l,f,h,d=this.xref,p=[],g=0,m=[];if(r.composite){if(g=e.has("DW")?e.get("DW"):1e3,h=e.get("W"))for(a=0,i=h.length;a<i;a++)if(l=d.fetchIfRef(h[a++]),f=d.fetchIfRef(h[a]),Array.isArray(f))for(o=0,c=f.length;o<c;o++)p[l++]=d.fetchIfRef(f[o]);else{var v=d.fetchIfRef(h[++a]);for(o=l;o<=f;o++)p[o]=v}if(r.vertical){var y=e.getArray("DW2")||[880,-1e3];if(n=[y[1],.5*g,y[0]],y=e.get("W2"))for(a=0,i=y.length;a<i;a++)if(l=d.fetchIfRef(y[a++]),f=d.fetchIfRef(y[a]),Array.isArray(f))for(o=0,c=f.length;o<c;o++)m[l++]=[d.fetchIfRef(f[o++]),d.fetchIfRef(f[o++]),d.fetchIfRef(f[o])];else{var b=[d.fetchIfRef(y[++a]),d.fetchIfRef(y[++a]),d.fetchIfRef(y[++a])];for(o=l;o<=f;o++)m[o]=b}}}else{var w=r.firstChar;if(h=e.get("Widths")){for(o=w,a=0,i=h.length;a<i;a++)p[o++]=d.fetchIfRef(h[a]);g=parseFloat(t.get("MissingWidth"))||0}else{var k=e.get("BaseFont");if((0,s.isName)(k)){var S=this.getBaseFontMetrics(k.name);p=this.buildCharCodeToWidth(S.widths,r),g=S.defaultWidth}}}var x=!0,A=g;for(var O in p){var C=p[O];if(C)if(A){if(A!==C){x=!1;break}}else A=C}x&&(r.flags|=u.FontFlags.FixedPitch),r.defaultWidth=g,r.widths=p,r.defaultVMetrics=n,r.vmetrics=m}},{key:"isSerifFont",value:function(e){var t=e.split("-")[0];return t in(0,h.getSerifFonts)()||-1!==t.search(/serif/gi)}},{key:"getBaseFontMetrics",value:function(e){var t=0,r=Object.create(null),n=!1,a=(0,h.getStdFontMap)()[e]||e,o=(0,x.getMetrics)();a in o||(a=this.isSerifFont(e)?"Times-Roman":"Helvetica");var s=o[a];return(0,i.isNum)(s)?(t=s,n=!0):r=s(),{defaultWidth:t,monospace:n,widths:r}}},{key:"buildCharCodeToWidth",value:function(e,t){for(var r=Object.create(null),n=t.differences,a=t.defaultEncoding,i=0;i<256;i++)i in n&&e[n[i]]?r[i]=e[n[i]]:i in a&&e[a[i]]&&(r[i]=e[a[i]]);return r}},{key:"preEvaluateFont",value:function(e){var t=e,r=e.get("Subtype");if(!(0,s.isName)(r))throw new i.FormatError("invalid font Subtype");var n,a,o=!1;if("Type0"===r.name){var c=e.get("DescendantFonts");if(!c)throw new i.FormatError("Descendant fonts are not specified");if(!((e=Array.isArray(c)?this.xref.fetchIfRef(c[0]):c)instanceof s.Dict))throw new i.FormatError("Descendant font is not a dictionary.");if(r=e.get("Subtype"),!(0,s.isName)(r))throw new i.FormatError("invalid font Subtype");o=!0}var u=e.get("FirstChar")||0,l=e.get("LastChar")||(o?65535:255),f=e.get("FontDescriptor");if(f){n=new A.MurmurHash3_64;var h=t.getRaw("Encoding");if((0,s.isName)(h))n.update(h.name);else if((0,s.isRef)(h))n.update(h.toString());else if((0,s.isDict)(h)){var d,p=I(h.getRawValues());try{for(p.s();!(d=p.n()).done;){var g=d.value;if((0,s.isName)(g))n.update(g.name);else if((0,s.isRef)(g))n.update(g.toString());else if(Array.isArray(g)){for(var m=g.length,v=new Array(m),y=0;y<m;y++){var b=g[y];(0,s.isName)(b)?v[y]=b.name:((0,i.isNum)(b)||(0,s.isRef)(b))&&(v[y]=b.toString())}n.update(v.join())}}}catch(e){p.e(e)}finally{p.f()}}if(n.update("".concat(u,"-").concat(l)),a=e.get("ToUnicode")||t.get("ToUnicode"),(0,s.isStream)(a)){var w=a.str||a,k=w.buffer?new Uint8Array(w.buffer.buffer,0,w.bufferLength):new Uint8Array(w.bytes.buffer,w.start,w.end-w.start);n.update(k)}else(0,s.isName)(a)&&n.update(a.name);var S=e.get("Widths")||t.get("Widths");if(Array.isArray(S)){var x,O=[],C=I(S);try{for(C.s();!(x=C.n()).done;){var T=x.value;((0,i.isNum)(T)||(0,s.isRef)(T))&&O.push(T.toString())}}catch(e){C.e(e)}finally{C.f()}n.update(O.join())}if(o){n.update("compositeFont");var F=e.get("W")||t.get("W");if(Array.isArray(F)){var P,_=[],E=I(F);try{for(E.s();!(P=E.n()).done;){var j=P.value;if((0,i.isNum)(j)||(0,s.isRef)(j))_.push(j.toString());else if(Array.isArray(j)){var R,M=[],N=I(j);try{for(N.s();!(R=N.n()).done;){var B=R.value;((0,i.isNum)(B)||(0,s.isRef)(B))&&M.push(B.toString())}}catch(e){N.e(e)}finally{N.f()}_.push("[".concat(M.join(),"]"))}}}catch(e){E.e(e)}finally{E.f()}n.update(_.join())}}}return{descriptor:f,dict:e,baseDict:t,composite:o,type:r.name,firstChar:u,lastChar:l,toUnicode:a,hash:n?n.hexdigest():""}}},{key:"translateFont",value:(t=_(a.default.mark((function e(t){var r,n,l,f,d,p,g,m,v,y,b,w,k,S,x,A,C,T,F,P,_,I,E,j,R,M,N,B,D=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.descriptor,n=t.dict,l=t.baseDict,f=t.composite,d=t.type,p=t.firstChar,g=t.lastChar,m=t.toUnicode,v=t.cssFontInfo,y="Type3"===d,r){e.next=19;break}if(!y){e.next=9;break}(r=new s.Dict(null)).set("FontName",s.Name.get(d)),r.set("FontBBox",n.getArray("FontBBox")||[0,0,0,0]),e.next=19;break;case 9:if(w=n.get("BaseFont"),(0,s.isName)(w)){e.next=12;break}throw new i.FormatError("Base font is not specified");case 12:return w=w.name.replace(/[,_]/g,"-"),k=this.getBaseFontMetrics(w),S=w.split("-")[0],x=(this.isSerifFont(S)?u.FontFlags.Serif:0)|(k.monospace?u.FontFlags.FixedPitch:0)|((0,h.getSymbolsFonts)()[S]?u.FontFlags.Symbolic:u.FontFlags.Nonsymbolic),b={type:d,name:w,widths:k.widths,defaultWidth:k.defaultWidth,flags:x,firstChar:p,lastChar:g,toUnicode:m,isType3Font:y},A=n.get("Widths"),e.abrupt("return",this.extractDataStructures(n,n,b).then((function(e){if(A){for(var t=[],r=p,n=0,a=A.length;n<a;n++)t[r++]=D.xref.fetchIfRef(A[n]);e.widths=t}else e.widths=D.buildCharCodeToWidth(k.widths,e);return new c.Font(w,null,e)})));case 19:if(C=r.get("FontName"),T=n.get("BaseFont"),(0,i.isString)(C)&&(C=s.Name.get(C)),(0,i.isString)(T)&&(T=s.Name.get(T)),y||(F=C&&C.name,P=T&&T.name,F!==P&&((0,i.info)("The FontDescriptor's FontName is \\"".concat(F,'" but ')+"should be the same as the Font's BaseFont \\"".concat(P,'".')),F&&P&&P.startsWith(F)&&(C=T))),C=C||T,(0,s.isName)(C)){e.next=27;break}throw new i.FormatError("invalid font name");case 27:e.prev=27,_=r.get("FontFile","FontFile2","FontFile3"),e.next=37;break;case 31:if(e.prev=31,e.t0=e.catch(27),this.options.ignoreErrors){e.next=35;break}throw e.t0;case 35:(0,i.warn)('translateFont - fetching "'.concat(C.name,'" font file: "').concat(e.t0,'".')),_=new O.NullStream;case 37:if(_&&_.dict&&((M=_.dict.get("Subtype"))instanceof s.Name&&(I=M.name),E=_.dict.get("Length1"),j=_.dict.get("Length2"),R=_.dict.get("Length3")),b={type:d,name:C.name,subtype:I,file:_,length1:E,length2:j,length3:R,loadedName:l.loadedName,composite:f,fixedPitch:!1,fontMatrix:n.getArray("FontMatrix")||i.FONT_IDENTITY_MATRIX,firstChar:p,lastChar:g,toUnicode:m,bbox:r.getArray("FontBBox"),ascent:r.get("Ascent"),descent:r.get("Descent"),xHeight:r.get("XHeight"),capHeight:r.get("CapHeight"),flags:r.get("Flags"),italicAngle:r.get("ItalicAngle"),isType3Font:y,cssFontInfo:v},!f){e.next=47;break}return N=l.get("Encoding"),(0,s.isName)(N)&&(b.cidEncoding=N.name),e.next=44,o.CMapFactory.create({encoding:N,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});case 44:B=e.sent,b.cMap=B,b.vertical=b.cMap.vertical;case 47:return e.abrupt("return",this.extractDataStructures(n,l,b).then((function(e){return D.extractWidths(n,r,e),new c.Font(C.name,_,e)})));case 48:case"end":return e.stop()}}),e,this,[[27,31]])}))),function(e){return t.apply(this,arguments)})}],[{key:"buildFontPaths",value:function(e,t,r,n){function a(t){var a="".concat(e.loadedName,"_path_").concat(t);try{if(e.renderer.hasBuiltPath(t))return;r.send("commonobj",[a,"FontPath",e.renderer.getPathJs(t)])}catch(e){if(n.ignoreErrors)return r.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorFontBuildPath}),void(0,i.warn)("buildFontPaths - ignoring ".concat(a,' glyph: "').concat(e,'".'));throw e}}var o,s=I(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;a(c.fontChar);var u=c.accent;u&&u.fontChar&&a(u.fontChar)}}catch(e){s.e(e)}finally{s.f()}}},{key:"fallbackFontDict",get:function(){var e=new s.Dict;return e.set("BaseFont",s.Name.get("PDFJS-FallbackFont")),e.set("Type",s.Name.get("FallbackType")),e.set("Subtype",s.Name.get("FallbackType")),e.set("Encoding",s.Name.get("WinAnsiEncoding")),(0,i.shadow)(this,"fallbackFontDict",e)}}]),e}();t.PartialEvaluator=H;var $=function(){function e(t){var r=t.loadedName,n=t.font,a=t.dict,i=t.evaluatorOptions;R(this,e),this.loadedName=r,this.font=n,this.dict=a,this._evaluatorOptions=i||B,this.type3Loaded=null,this.type3Dependencies=n.isType3Font?new Set:null,this.sent=!1}return N(e,[{key:"send",value:function(e){this.sent||(this.sent=!0,e.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}},{key:"fallback",value:function(e){this.font.data&&(this.font.disableFontFace=!0,H.buildFontPaths(this.font,this.font.glyphCacheValues,e,this._evaluatorOptions))}},{key:"loadType3Data",value:function(e,t,r){var n=this;if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");var a=Object.create(e.options);a.ignoreErrors=!1;var o=e.clone(a);o.parsingType3Font=!0;var s,c=this.font,u=this.type3Dependencies,l=Promise.resolve(),f=this.dict.get("CharProcs"),h=this.dict.get("Resources")||t,d=Object.create(null),p=I(f.getKeys());try{var g=function(){var e=s.value;l=l.then((function(){var t=f.get(e),a=new C.OperatorList;return o.getOperatorList({stream:t,task:r,resources:h,operatorList:a}).then((function(){a.fnArray[0]===i.OPS.setCharWidthAndBounds&&n._removeType3ColorOperators(a),d[e]=a.getIR();var t,r=I(a.dependencies);try{for(r.s();!(t=r.n()).done;){var o=t.value;u.add(o)}}catch(e){r.e(e)}finally{r.f()}})).catch((function(t){(0,i.warn)('Type3 font resource "'.concat(e,'" is not available.'));var r=new C.OperatorList;d[e]=r.getIR()}))}))};for(p.s();!(s=p.n()).done;)g()}catch(e){p.e(e)}finally{p.f()}return this.type3Loaded=l.then((function(){c.charProcOperatorList=d})),this.type3Loaded}},{key:"_removeType3ColorOperators",value:function(e){for(var t=1,r=e.length;t<r;){switch(e.fnArray[t]){case i.OPS.setStrokeColorSpace:case i.OPS.setFillColorSpace:case i.OPS.setStrokeColor:case i.OPS.setStrokeColorN:case i.OPS.setFillColor:case i.OPS.setFillColorN:case i.OPS.setStrokeGray:case i.OPS.setFillGray:case i.OPS.setStrokeRGBColor:case i.OPS.setFillRGBColor:case i.OPS.setStrokeCMYKColor:case i.OPS.setFillCMYKColor:case i.OPS.shadingFill:case i.OPS.setRenderingIntent:e.fnArray.splice(t,1),e.argsArray.splice(t,1),r--;continue;case i.OPS.setGState:for(var n=F(e.argsArray[t],1)[0],a=0,o=n.length;a<o;){switch(F(n[a],1)[0]){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":n.splice(a,1),o--;continue}a++}}t++}}}]),e}(),z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new W;R(this,e),this.state=t,this.stateStack=[]}return N(e,[{key:"save",value:function(){var e=this.state;this.stateStack.push(this.state),this.state=e.clone()}},{key:"restore",value:function(){var e=this.stateStack.pop();e&&(this.state=e)}},{key:"transform",value:function(e){this.state.ctm=i.Util.transform(this.state.ctm,e)}}]),e}(),G=function(){function e(){R(this,e),this.ctm=new Float32Array(i.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.textMatrix=i.IDENTITY_MATRIX.slice(),this.textLineMatrix=i.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}return N(e,[{key:"setTextMatrix",value:function(e,t,r,n,a,i){var o=this.textMatrix;o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=a,o[5]=i}},{key:"setTextLineMatrix",value:function(e,t,r,n,a,i){var o=this.textLineMatrix;o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=a,o[5]=i}},{key:"translateTextMatrix",value:function(e,t){var r=this.textMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5]}},{key:"translateTextLineMatrix",value:function(e,t){var r=this.textLineMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5]}},{key:"carriageReturn",value:function(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}},{key:"clone",value:function(){var e=Object.create(this);return e.textMatrix=this.textMatrix.slice(),e.textLineMatrix=this.textLineMatrix.slice(),e.fontMatrix=this.fontMatrix.slice(),e}}]),e}(),W=function(){function e(){R(this,e),this.ctm=new Float32Array(i.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=i.TextRenderingMode.FILL,this.fillColorSpace=b.ColorSpace.singletons.gray,this.strokeColorSpace=b.ColorSpace.singletons.gray}return N(e,[{key:"clone",value:function(){return Object.create(this)}}]),e}(),V=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new z;R(this,e),this.parser=new m.Parser({lexer:new m.Lexer(t,e.opMap),xref:r}),this.stateManager=n,this.nonProcessedArgs=[],this._numInvalidPathOPS=0}return N(e,[{key:"savedStatesDepth",get:function(){return this.stateManager.stateStack.length}},{key:"read",value:function(t){for(var r=t.args;;){var n=this.parser.getObj();if(n instanceof s.Cmd){var a=n.cmd,o=e.opMap[a];if(!o){(0,i.warn)('Unknown command "'.concat(a,'".'));continue}var c=o.id,u=o.numArgs,l=null!==r?r.length:0;if(o.variableArgs)l>u&&(0,i.info)("Command ".concat(a,": expected [0, ").concat(u,"] args, ")+"but received ".concat(l," args."));else{if(l!==u){for(var f=this.nonProcessedArgs;l>u;)f.push(r.shift()),l--;for(;l<u&&0!==f.length;)null===r&&(r=[]),r.unshift(f.pop()),l++}if(l<u){var h="command ".concat(a,": expected ").concat(u," args, ")+"but received ".concat(l," args.");if(c>=i.OPS.moveTo&&c<=i.OPS.endPath&&++this._numInvalidPathOPS>e.MAX_INVALID_PATH_OPS)throw new i.FormatError("Invalid ".concat(h));(0,i.warn)("Skipping ".concat(h)),null!==r&&(r.length=0);continue}}return this.preprocessCommand(c,r),t.fn=c,t.args=r,!0}if(n===s.EOF)return!1;if(null!==n&&(null===r&&(r=[]),r.push(n),r.length>33))throw new i.FormatError("Too many arguments")}}},{key:"preprocessCommand",value:function(e,t){switch(0|e){case i.OPS.save:this.stateManager.save();break;case i.OPS.restore:this.stateManager.restore();break;case i.OPS.transform:this.stateManager.transform(t)}}}],[{key:"opMap",get:function(){var e=(0,S.getLookupTableFactory)((function(e){e.w={id:i.OPS.setLineWidth,numArgs:1,variableArgs:!1},e.J={id:i.OPS.setLineCap,numArgs:1,variableArgs:!1},e.j={id:i.OPS.setLineJoin,numArgs:1,variableArgs:!1},e.M={id:i.OPS.setMiterLimit,numArgs:1,variableArgs:!1},e.d={id:i.OPS.setDash,numArgs:2,variableArgs:!1},e.ri={id:i.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},e.i={id:i.OPS.setFlatness,numArgs:1,variableArgs:!1},e.gs={id:i.OPS.setGState,numArgs:1,variableArgs:!1},e.q={id:i.OPS.save,numArgs:0,variableArgs:!1},e.Q={id:i.OPS.restore,numArgs:0,variableArgs:!1},e.cm={id:i.OPS.transform,numArgs:6,variableArgs:!1},e.m={id:i.OPS.moveTo,numArgs:2,variableArgs:!1},e.l={id:i.OPS.lineTo,numArgs:2,variableArgs:!1},e.c={id:i.OPS.curveTo,numArgs:6,variableArgs:!1},e.v={id:i.OPS.curveTo2,numArgs:4,variableArgs:!1},e.y={id:i.OPS.curveTo3,numArgs:4,variableArgs:!1},e.h={id:i.OPS.closePath,numArgs:0,variableArgs:!1},e.re={id:i.OPS.rectangle,numArgs:4,variableArgs:!1},e.S={id:i.OPS.stroke,numArgs:0,variableArgs:!1},e.s={id:i.OPS.closeStroke,numArgs:0,variableArgs:!1},e.f={id:i.OPS.fill,numArgs:0,variableArgs:!1},e.F={id:i.OPS.fill,numArgs:0,variableArgs:!1},e["f*"]={id:i.OPS.eoFill,numArgs:0,variableArgs:!1},e.B={id:i.OPS.fillStroke,numArgs:0,variableArgs:!1},e["B*"]={id:i.OPS.eoFillStroke,numArgs:0,variableArgs:!1},e.b={id:i.OPS.closeFillStroke,numArgs:0,variableArgs:!1},e["b*"]={id:i.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},e.n={id:i.OPS.endPath,numArgs:0,variableArgs:!1},e.W={id:i.OPS.clip,numArgs:0,variableArgs:!1},e["W*"]={id:i.OPS.eoClip,numArgs:0,variableArgs:!1},e.BT={id:i.OPS.beginText,numArgs:0,variableArgs:!1},e.ET={id:i.OPS.endText,numArgs:0,variableArgs:!1},e.Tc={id:i.OPS.setCharSpacing,numArgs:1,variableArgs:!1},e.Tw={id:i.OPS.setWordSpacing,numArgs:1,variableArgs:!1},e.Tz={id:i.OPS.setHScale,numArgs:1,variableArgs:!1},e.TL={id:i.OPS.setLeading,numArgs:1,variableArgs:!1},e.Tf={id:i.OPS.setFont,numArgs:2,variableArgs:!1},e.Tr={id:i.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},e.Ts={id:i.OPS.setTextRise,numArgs:1,variableArgs:!1},e.Td={id:i.OPS.moveText,numArgs:2,variableArgs:!1},e.TD={id:i.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},e.Tm={id:i.OPS.setTextMatrix,numArgs:6,variableArgs:!1},e["T*"]={id:i.OPS.nextLine,numArgs:0,variableArgs:!1},e.Tj={id:i.OPS.showText,numArgs:1,variableArgs:!1},e.TJ={id:i.OPS.showSpacedText,numArgs:1,variableArgs:!1},e["'"]={id:i.OPS.nextLineShowText,numArgs:1,variableArgs:!1},e['"']={id:i.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},e.d0={id:i.OPS.setCharWidth,numArgs:2,variableArgs:!1},e.d1={id:i.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},e.CS={id:i.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},e.cs={id:i.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},e.SC={id:i.OPS.setStrokeColor,numArgs:4,variableArgs:!0},e.SCN={id:i.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},e.sc={id:i.OPS.setFillColor,numArgs:4,variableArgs:!0},e.scn={id:i.OPS.setFillColorN,numArgs:33,variableArgs:!0},e.G={id:i.OPS.setStrokeGray,numArgs:1,variableArgs:!1},e.g={id:i.OPS.setFillGray,numArgs:1,variableArgs:!1},e.RG={id:i.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},e.rg={id:i.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},e.K={id:i.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},e.k={id:i.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},e.sh={id:i.OPS.shadingFill,numArgs:1,variableArgs:!1},e.BI={id:i.OPS.beginInlineImage,numArgs:0,variableArgs:!1},e.ID={id:i.OPS.beginImageData,numArgs:0,variableArgs:!1},e.EI={id:i.OPS.endInlineImage,numArgs:1,variableArgs:!1},e.Do={id:i.OPS.paintXObject,numArgs:1,variableArgs:!1},e.MP={id:i.OPS.markPoint,numArgs:1,variableArgs:!1},e.DP={id:i.OPS.markPointProps,numArgs:2,variableArgs:!1},e.BMC={id:i.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},e.BDC={id:i.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},e.EMC={id:i.OPS.endMarkedContent,numArgs:0,variableArgs:!1},e.BX={id:i.OPS.beginCompat,numArgs:0,variableArgs:!1},e.EX={id:i.OPS.endCompat,numArgs:0,variableArgs:!1},e.BM=null,e.BD=null,e.true=null,e.fa=null,e.fal=null,e.fals=null,e.false=null,e.nu=null,e.nul=null,e.null=null}));return(0,i.shadow)(this,"opMap",e())}},{key:"MAX_INVALID_PATH_OPS",get:function(){return(0,i.shadow)(this,"MAX_INVALID_PATH_OPS",20)}}]),e}();t.EvaluatorPreprocessor=V},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityCMap=t.CMapFactory=t.CMap=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(4),s=r(113),c=r(125),u=r(117),l=r(118);function f(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){f(i,n,a,o,s,"next",e)}function s(e){f(i,n,a,o,s,"throw",e)}o(void 0)}))}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),e}var w=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],k=Math.pow(2,24)-1,S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(this,e),this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=t}return b(e,[{key:"addCodespaceRange",value:function(e,t,r){this.codespaceRanges[e-1].push(t,r),this.numCodespaceRanges++}},{key:"mapCidRange",value:function(e,t,r){if(t-e>k)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;e<=t;)this._map[e++]=r++}},{key:"mapBfRange",value:function(e,t,r){if(t-e>k)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");for(var n=r.length-1;e<=t;)this._map[e++]=r,r=r.substring(0,n)+String.fromCharCode(r.charCodeAt(n)+1)}},{key:"mapBfRangeToArray",value:function(e,t,r){if(t-e>k)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");for(var n=r.length,a=0;e<=t&&a<n;)this._map[e]=r[a++],++e}},{key:"mapOne",value:function(e,t){this._map[e]=t}},{key:"lookup",value:function(e){return this._map[e]}},{key:"contains",value:function(e){return void 0!==this._map[e]}},{key:"forEach",value:function(e){var t=this._map,r=t.length;if(r<=65536)for(var n=0;n<r;n++)void 0!==t[n]&&e(n,t[n]);else for(var a in t)e(a,t[a])}},{key:"charCodeOf",value:function(e){var t=this._map;if(t.length<=65536)return t.indexOf(e);for(var r in t)if(t[r]===e)return 0|r;return-1}},{key:"getMap",value:function(){return this._map}},{key:"readCharCode",value:function(e,t,r){for(var n=0,a=this.codespaceRanges,i=0,o=a.length;i<o;i++){n=(n<<8|e.charCodeAt(t+i))>>>0;for(var s=a[i],c=0,u=s.length;c<u;){var l=s[c++],f=s[c++];if(n>=l&&n<=f)return r.charcode=n,void(r.length=i+1)}}r.charcode=0,r.length=1}},{key:"getCharCodeLength",value:function(e){for(var t=this.codespaceRanges,r=0,n=t.length;r<n;r++)for(var a=t[r],i=0,o=a.length;i<o;){var s=a[i++],c=a[i++];if(e>=s&&e<=c)return r+1}return 1}},{key:"length",get:function(){return this._map.length}},{key:"isIdentityCMap",get:function(){if("Identity-H"!==this.name&&"Identity-V"!==this.name)return!1;if(65536!==this._map.length)return!1;for(var e=0;e<65536;e++)if(this._map[e]!==e)return!1;return!0}}]),e}();t.CMap=S;var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,e);var t=p(r);function r(e,n){var a;return v(this,r),(a=t.call(this)).vertical=e,a.addCodespaceRange(n,0,65535),a}return b(r,[{key:"mapCidRange",value:function(e,t,r){(0,o.unreachable)("should not call mapCidRange")}},{key:"mapBfRange",value:function(e,t,r){(0,o.unreachable)("should not call mapBfRange")}},{key:"mapBfRangeToArray",value:function(e,t,r){(0,o.unreachable)("should not call mapBfRangeToArray")}},{key:"mapOne",value:function(e,t){(0,o.unreachable)("should not call mapCidOne")}},{key:"lookup",value:function(e){return Number.isInteger(e)&&e<=65535?e:void 0}},{key:"contains",value:function(e){return Number.isInteger(e)&&e<=65535}},{key:"forEach",value:function(e){for(var t=0;t<=65535;t++)e(t,t)}},{key:"charCodeOf",value:function(e){return Number.isInteger(e)&&e<=65535?e:-1}},{key:"getMap",value:function(){for(var e=new Array(65536),t=0;t<=65535;t++)e[t]=t;return e}},{key:"length",get:function(){return 65536}},{key:"isIdentityCMap",get:function(){(0,o.unreachable)("should not access .isIdentityCMap")}}]),r}(S);t.IdentityCMap=x;var A=function(){function e(e,t){for(var r=0,n=0;n<=t;n++)r=r<<8|e[n];return r>>>0}function t(e,t){return 1===t?String.fromCharCode(e[0],e[1]):3===t?String.fromCharCode(e[0],e[1],e[2],e[3]):String.fromCharCode.apply(null,e.subarray(0,t+1))}function r(e,t,r){for(var n=0,a=r;a>=0;a--)n+=e[a]+t[a],e[a]=255&n,n>>=8}function n(e,t){for(var r=1,n=t;n>=0&&r>0;n--)r+=e[n],e[n]=255&r,r>>=8}var a=16,s=function(){function e(t){v(this,e),this.buffer=t,this.pos=0,this.end=t.length,this.tmpBuf=new Uint8Array(19)}return b(e,[{key:"readByte",value:function(){return this.pos>=this.end?-1:this.buffer[this.pos++]}},{key:"readNumber",value:function(){var e,t=0;do{var r=this.readByte();if(r<0)throw new o.FormatError("unexpected EOF in bcmap");e=!(128&r),t=t<<7|127&r}while(!e);return t}},{key:"readSigned",value:function(){var e=this.readNumber();return 1&e?~(e>>>1):e>>>1}},{key:"readHex",value:function(e,t){e.set(this.buffer.subarray(this.pos,this.pos+t+1)),this.pos+=t+1}},{key:"readHexNumber",value:function(e,t){var r,n=this.tmpBuf,a=0;do{var i=this.readByte();if(i<0)throw new o.FormatError("unexpected EOF in bcmap");r=!(128&i),n[a++]=127&i}while(!r);for(var s=t,c=0,u=0;s>=0;){for(;u<8&&n.length>0;)c=n[--a]<<u|c,u+=7;e[s]=255&c,s--,c>>=8,u-=8}}},{key:"readHexSigned",value:function(e,t){this.readHexNumber(e,t);for(var r=1&e[t]?255:0,n=0,a=0;a<=t;a++)n=(1&n)<<8|e[a],e[a]=n>>1^r}},{key:"readString",value:function(){for(var e=this.readNumber(),t="",r=0;r<e;r++)t+=String.fromCharCode(this.readNumber());return t}}]),e}(),c=function(){function o(){v(this,o)}var c;return b(o,[{key:"process",value:(c=h(i.default.mark((function o(c,u,l){var f,h,d,p,g,m,v,y,b,w,k,S,x,A,O,C,T,F,P,_,I;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:f=new s(c),h=f.readByte(),u.vertical=!!(1&h),d=null,p=new Uint8Array(a),g=new Uint8Array(a),m=new Uint8Array(a),v=new Uint8Array(a),y=new Uint8Array(a);case 9:if(!((w=f.readByte())>=0)){i.next=68;break}if(7!=(k=w>>5)){i.next=20;break}i.t0=31&w,i.next=0===i.t0?15:1===i.t0?17:19;break;case 15:return f.readString(),i.abrupt("break",19);case 17:return d=f.readString(),i.abrupt("break",19);case 19:return i.abrupt("continue",9);case 20:if(S=!!(16&w),!(1+(x=15&w)>a)){i.next=24;break}throw new Error("BinaryCMapReader.process: Invalid dataSize.");case 24:A=1,O=f.readNumber(),i.t1=k,i.next=0===i.t1?29:1===i.t1?35:2===i.t1?41:3===i.t1?46:4===i.t1?53:5===i.t1?58:65;break;case 29:for(f.readHex(p,x),f.readHexNumber(g,x),r(g,p,x),u.addCodespaceRange(x+1,e(p,x),e(g,x)),C=1;C<O;C++)n(g,x),f.readHexNumber(p,x),r(p,g,x),f.readHexNumber(g,x),r(g,p,x),u.addCodespaceRange(x+1,e(p,x),e(g,x));return i.abrupt("break",66);case 35:for(f.readHex(p,x),f.readHexNumber(g,x),r(g,p,x),f.readNumber(),T=1;T<O;T++)n(g,x),f.readHexNumber(p,x),r(p,g,x),f.readHexNumber(g,x),r(g,p,x),f.readNumber();return i.abrupt("break",66);case 41:for(f.readHex(m,x),b=f.readNumber(),u.mapOne(e(m,x),b),F=1;F<O;F++)n(m,x),S||(f.readHexNumber(y,x),r(m,y,x)),b=f.readSigned()+(b+1),u.mapOne(e(m,x),b);return i.abrupt("break",66);case 46:for(f.readHex(p,x),f.readHexNumber(g,x),r(g,p,x),b=f.readNumber(),u.mapCidRange(e(p,x),e(g,x),b),P=1;P<O;P++)n(g,x),S?p.set(g):(f.readHexNumber(p,x),r(p,g,x)),f.readHexNumber(g,x),r(g,p,x),b=f.readNumber(),u.mapCidRange(e(p,x),e(g,x),b);return i.abrupt("break",66);case 53:for(f.readHex(m,A),f.readHex(v,x),u.mapOne(e(m,A),t(v,x)),_=1;_<O;_++)n(m,A),S||(f.readHexNumber(y,A),r(m,y,A)),n(v,x),f.readHexSigned(y,x),r(v,y,x),u.mapOne(e(m,A),t(v,x));return i.abrupt("break",66);case 58:for(f.readHex(p,A),f.readHexNumber(g,A),r(g,p,A),f.readHex(v,x),u.mapBfRange(e(p,A),e(g,A),t(v,x)),I=1;I<O;I++)n(g,A),S?p.set(g):(f.readHexNumber(p,A),r(p,g,A)),f.readHexNumber(g,A),r(g,p,A),f.readHex(v,x),u.mapBfRange(e(p,A),e(g,A),t(v,x));return i.abrupt("break",66);case 65:throw new Error("BinaryCMapReader.process - unknown type: ".concat(k));case 66:i.next=9;break;case 68:if(!d){i.next=70;break}return i.abrupt("return",l(d));case 70:return i.abrupt("return",u);case 71:case"end":return i.stop()}}),o)}))),function(e,t,r){return c.apply(this,arguments)})}]),o}();return c}(),O=function(){function e(e){for(var t=0,r=0;r<e.length;r++)t=t<<8|e.charCodeAt(r);return t>>>0}function t(e){if(!(0,o.isString)(e))throw new o.FormatError("Malformed CMap: expected string.")}function r(e){if(!Number.isInteger(e))throw new o.FormatError("Malformed CMap: expected int.")}function n(r,n){for(;;){var a=n.getObj();if((0,s.isEOF)(a))break;if((0,s.isCmd)(a,"endbfchar"))return;t(a);var i=e(a);t(a=n.getObj());var o=a;r.mapOne(i,o)}}function a(r,n){for(;;){var a=n.getObj();if((0,s.isEOF)(a))break;if((0,s.isCmd)(a,"endbfrange"))return;t(a);var i=e(a);t(a=n.getObj());var c=e(a);if(a=n.getObj(),Number.isInteger(a)||(0,o.isString)(a)){var u=Number.isInteger(a)?String.fromCharCode(a):a;r.mapBfRange(i,c,u)}else{if(!(0,s.isCmd)(a,"["))break;a=n.getObj();for(var l=[];!(0,s.isCmd)(a,"]")&&!(0,s.isEOF)(a);)l.push(a),a=n.getObj();r.mapBfRangeToArray(i,c,l)}}throw new o.FormatError("Invalid bf range.")}function f(n,a){for(;;){var i=a.getObj();if((0,s.isEOF)(i))break;if((0,s.isCmd)(i,"endcidchar"))return;t(i);var o=e(i);r(i=a.getObj());var c=i;n.mapOne(o,c)}}function d(n,a){for(;;){var i=a.getObj();if((0,s.isEOF)(i))break;if((0,s.isCmd)(i,"endcidrange"))return;t(i);var o=e(i);t(i=a.getObj());var c=e(i);r(i=a.getObj());var u=i;n.mapCidRange(o,c,u)}}function p(t,r){for(;;){var n=r.getObj();if((0,s.isEOF)(n))break;if((0,s.isCmd)(n,"endcodespacerange"))return;if(!(0,o.isString)(n))break;var a=e(n);if(n=r.getObj(),!(0,o.isString)(n))break;var i=e(n);t.addCodespaceRange(n.length,a,i)}throw new o.FormatError("Invalid codespace range.")}function g(e,t){var r=t.getObj();Number.isInteger(r)&&(e.vertical=!!r)}function m(e,t){var r=t.getObj();(0,s.isName)(r)&&(0,o.isString)(r.name)&&(e.name=r.name)}function v(e,t,r,n){return y.apply(this,arguments)}function y(){return y=h(i.default.mark((function e(t,r,c,l){var h,v,y;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=1,y=r.getObj(),!(0,s.isEOF)(y)){e.next=7;break}return e.abrupt("break",39);case 7:if(!(0,s.isName)(y)){e.next=12;break}"WMode"===y.name?g(t,r):"CMapName"===y.name&&m(t,r),h=y,e.next=29;break;case 12:if(!(0,s.isCmd)(y)){e.next=29;break}e.t0=y.cmd,e.next="endcmap"===e.t0?16:"usecmap"===e.t0?17:"begincodespacerange"===e.t0?19:"beginbfchar"===e.t0?21:"begincidchar"===e.t0?23:"beginbfrange"===e.t0?25:"begincidrange"===e.t0?27:29;break;case 16:return e.abrupt("break",39);case 17:return(0,s.isName)(h)&&(v=h.name),e.abrupt("break",29);case 19:return p(t,r),e.abrupt("break",29);case 21:return n(t,r),e.abrupt("break",29);case 23:return f(t,r),e.abrupt("break",29);case 25:return a(t,r),e.abrupt("break",29);case 27:return d(t,r),e.abrupt("break",29);case 29:e.next=37;break;case 31:if(e.prev=31,e.t1=e.catch(1),!(e.t1 instanceof u.MissingDataException)){e.next=35;break}throw e.t1;case 35:return(0,o.warn)("Invalid cMap data: "+e.t1),e.abrupt("continue",0);case 37:e.next=0;break;case 39:if(!l&&v&&(l=v),!l){e.next=42;break}return e.abrupt("return",b(t,c,l));case 42:return e.abrupt("return",t);case 43:case"end":return e.stop()}}),e,null,[[1,31]])}))),y.apply(this,arguments)}function b(e,t,r){return k.apply(this,arguments)}function k(){return(k=h(i.default.mark((function e(t,r,n){var a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n,r);case 2:if(t.useCMap=e.sent,0===t.numCodespaceRanges){for(a=t.useCMap.codespaceRanges,o=0;o<a.length;o++)t.codespaceRanges[o]=a[o].slice();t.numCodespaceRanges=t.useCMap.numCodespaceRanges}return t.useCMap.forEach((function(e,r){t.contains(e)||t.mapOne(e,t.useCMap.lookup(e))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return C.apply(this,arguments)}function C(){return(C=h(i.default.mark((function e(t,r){var n,a,s,u,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Identity-H"!==t){e.next=4;break}return e.abrupt("return",new x(!1,2));case 4:if("Identity-V"!==t){e.next=6;break}return e.abrupt("return",new x(!0,2));case 6:if(w.includes(t)){e.next=8;break}throw new Error("Unknown CMap name: "+t);case 8:if(r){e.next=10;break}throw new Error("Built-in CMap parameters are not provided.");case 10:return e.next=12,r(t);case 12:if(n=e.sent,a=n.cMapData,s=n.compressionType,u=new S(!0),s!==o.CMapCompressionType.BINARY){e.next=18;break}return e.abrupt("return",(new A).process(a,u,(function(e){return b(u,r,e)})));case 18:if(s!==o.CMapCompressionType.NONE){e.next=21;break}return f=new c.Lexer(new l.Stream(a)),e.abrupt("return",v(u,f,r,null));case 21:throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{create:function(e){return h(i.default.mark((function t(){var r,n,a,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.encoding,n=e.fetchBuiltInCMap,a=e.useCMap,!(0,s.isName)(r)){t.next=7;break}return t.abrupt("return",O(r.name,n));case 7:if(!(0,s.isStream)(r)){t.next=14;break}return t.next=10,v(new S,new c.Lexer(r),n,a);case 10:if(!(o=t.sent).isIdentityCMap){t.next=13;break}return t.abrupt("return",O(o.name,n));case 13:return t.abrupt("return",o);case 14:throw new Error("Encoding required.");case 15:case"end":return t.stop()}}),t)})))()}}}();t.CMapFactory=O},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=t.Linearization=t.Lexer=void 0;var n=r(4),a=r(113),i=r(117),o=r(126),s=r(128),c=r(129),u=r(131),l=r(132),f=r(135),h=r(137),d=r(139),p=r(118),g=r(140),m=r(141);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),e}function w(e){for(var t=e.length,r=1,n=0,a=0;a<t;++a)n+=r+=255&e[a];return n%65521<<16|r%65521}var k=function(){function e(t){var r=t.lexer,n=t.xref,a=t.allowStreams,i=void 0!==a&&a,o=t.recoveryMode,s=void 0!==o&&o;v(this,e),this.lexer=r,this.xref=n,this.allowStreams=i,this.recoveryMode=s,this.imageCache=Object.create(null),this.refill()}return b(e,[{key:"refill",value:function(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}},{key:"shift",value:function(){this.buf2 instanceof a.Cmd&&"ID"===this.buf2.cmd?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}},{key:"tryShift",value:function(){try{return this.shift(),!0}catch(e){if(e instanceof i.MissingDataException)throw e;return!1}}},{key:"getObj",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.buf1;if(this.shift(),t instanceof a.Cmd)switch(t.cmd){case"BI":return this.makeInlineImage(e);case"[":for(var r=[];!(0,a.isCmd)(this.buf1,"]")&&!(0,a.isEOF)(this.buf1);)r.push(this.getObj(e));if((0,a.isEOF)(this.buf1)){if(!this.recoveryMode)throw new n.FormatError("End of file inside array");return r}return this.shift(),r;case"<<":for(var i=new a.Dict(this.xref);!(0,a.isCmd)(this.buf1,">>")&&!(0,a.isEOF)(this.buf1);)if((0,a.isName)(this.buf1)){var o=this.buf1.name;if(this.shift(),(0,a.isEOF)(this.buf1))break;i.set(o,this.getObj(e))}else(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();if((0,a.isEOF)(this.buf1)){if(!this.recoveryMode)throw new n.FormatError("End of file inside dictionary");return i}return(0,a.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(i,e):i:(this.shift(),i);default:return t}if(Number.isInteger(t)){if(Number.isInteger(this.buf1)&&(0,a.isCmd)(this.buf2,"R")){var s=a.Ref.get(t,this.buf1);return this.shift(),this.shift(),s}return t}return"string"==typeof t&&e?e.decryptString(t):t}},{key:"findDefaultInlineStreamEnd",value:function(e){for(var t,r,o=this.lexer,s=e.pos,c=0;-1!==(t=e.getByte());)if(0===c)c=69===t?1:0;else if(1===c)c=73===t?2:0;else if((0,n.assert)(2===c,"findDefaultInlineStreamEnd - invalid state."),32===t||10===t||13===t){r=e.pos;for(var u=e.peekBytes(10),l=0,f=u.length;l<f;l++)if((0!==(t=u[l])||0===u[l+1])&&10!==t&&13!==t&&(t<32||t>127)){c=0;break}if(2!==c)continue;if(o.knownCommands){var h=o.peekObj();h instanceof a.Cmd&&!o.knownCommands[h.cmd]&&(c=0)}else(0,n.warn)("findDefaultInlineStreamEnd - \`lexer.knownCommands\` is undefined.");if(2===c)break}else c=0;-1===t&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),r&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),e.skip(-(e.pos-r))));var d=4;return e.skip(-d),t=e.peekByte(),e.skip(d),(0,i.isWhiteSpace)(t)||d--,e.pos-d-s}},{key:"findDCTDecodeInlineStreamEnd",value:function(e){for(var t,r,a=e.pos,i=!1;-1!==(t=e.getByte());)if(255===t){switch(e.getByte()){case 0:break;case 255:e.skip(-1);break;case 217:i=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:(r=e.getUint16())>2?e.skip(r-2):e.skip(-2)}if(i)break}var o=e.pos-a;return-1===t?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),e.skip(-o),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),o)}},{key:"findASCII85DecodeInlineStreamEnd",value:function(e){for(var t,r=e.pos;-1!==(t=e.getByte());)if(126===t){var a=e.pos;for(t=e.peekByte();(0,i.isWhiteSpace)(t);)e.skip(),t=e.peekByte();if(62===t){e.skip();break}if(e.pos>a){var o=e.peekBytes(2);if(69===o[0]&&73===o[1])break}}var s=e.pos-r;return-1===t?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-s),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),s)}},{key:"findASCIIHexDecodeInlineStreamEnd",value:function(e){for(var t,r=e.pos;-1!==(t=e.getByte())&&62!==t;);var a=e.pos-r;return-1===t?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-a),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),a)}},{key:"inlineStreamSkipEI",value:function(e){for(var t,r=0;-1!==(t=e.getByte());)if(0===r)r=69===t?1:0;else if(1===r)r=73===t?2:0;else if(2===r)break}},{key:"makeInlineImage",value:function(e){for(var t,r=this.lexer,i=r.stream,o=new a.Dict(this.xref);!(0,a.isCmd)(this.buf1,"ID")&&!(0,a.isEOF)(this.buf1);){if(!(0,a.isName)(this.buf1))throw new n.FormatError("Dictionary key must be a name object");var s=this.buf1.name;if(this.shift(),(0,a.isEOF)(this.buf1))break;o.set(s,this.getObj(e))}-1!==r.beginInlineImagePos&&(t=i.pos-r.beginInlineImagePos);var c,u=o.get("Filter","F");if((0,a.isName)(u))c=u.name;else if(Array.isArray(u)){var l=this.xref.fetchIfRef(u[0]);(0,a.isName)(l)&&(c=l.name)}var f,h=i.pos;f="DCTDecode"===c||"DCT"===c?this.findDCTDecodeInlineStreamEnd(i):"ASCII85Decode"===c||"A85"===c?this.findASCII85DecodeInlineStreamEnd(i):"ASCIIHexDecode"===c||"AHx"===c?this.findASCIIHexDecodeInlineStreamEnd(i):this.findDefaultInlineStreamEnd(i);var d,p=i.makeSubStream(h,f,o);if(f<1e3&&t<5552){var g=p.getBytes();p.reset();var m=i.pos;i.pos=r.beginInlineImagePos;var v=i.getBytes(t);i.pos=m,d=w(g)+"_"+w(v);var y=this.imageCache[d];if(void 0!==y)return this.buf2=a.Cmd.get("EI"),this.shift(),y.reset(),y}return e&&(p=e.createStream(p,f)),(p=this.filter(p,o,f)).dict=o,void 0!==d&&(p.cacheKey="inline_".concat(f,"_").concat(d),this.imageCache[d]=p),this.buf2=a.Cmd.get("EI"),this.shift(),p}},{key:"_findStreamLength",value:function(e,t){var r=this.lexer.stream;r.pos=e;for(var n=t.length;r.pos<r.end;){var a=r.peekBytes(2048),i=a.length-n;if(i<=0)break;for(var o=0;o<i;){for(var s=0;s<n&&a[o+s]===t[s];)s++;if(s>=n)return r.pos+=o,r.pos-e;o++}r.pos+=i}return-1}},{key:"makeStream",value:function(e,t){var r=this.lexer,o=r.stream;r.skipToNextLine();var s=o.pos-1,c=e.get("Length");if(Number.isInteger(c)||((0,n.info)('Bad length "'.concat(c,'" in stream')),c=0),o.pos=s+c,r.nextChar(),this.tryShift()&&(0,a.isCmd)(this.buf2,"endstream"))this.shift();else{var u=new Uint8Array([101,110,100,115,116,114,101,97,109]),l=this._findStreamLength(s,u);if(l<0){for(var f=1;f<=1;f++){var h=u.length-f,d=u.slice(0,h),p=this._findStreamLength(s,d);if(p>=0){var g=o.peekBytes(h+1)[h];if(!(0,i.isWhiteSpace)(g))break;(0,n.info)('Found "'.concat((0,n.bytesToString)(d),'" when ')+"searching for endstream command."),l=p;break}}if(l<0)throw new n.FormatError("Missing endstream command.")}c=l,r.nextChar(),this.shift(),this.shift()}return this.shift(),o=o.makeSubStream(s,c,e),t&&(o=t.createStream(o,c)),(o=this.filter(o,e,c)).dict=e,o}},{key:"filter",value:function(e,t,r){var i=t.get("Filter","F"),o=t.get("DecodeParms","DP");if((0,a.isName)(i))return Array.isArray(o)&&(0,n.warn)("/DecodeParms should not contain an Array, when /Filter contains a Name."),this.makeFilter(e,i.name,r,o);var s=r;if(Array.isArray(i))for(var c=i,u=o,l=0,f=c.length;l<f;++l){if(i=this.xref.fetchIfRef(c[l]),!(0,a.isName)(i))throw new n.FormatError('Bad filter name "'.concat(i,'"'));o=null,Array.isArray(u)&&l in u&&(o=this.xref.fetchIfRef(u[l])),e=this.makeFilter(e,i.name,s,o),s=null}return e}},{key:"makeFilter",value:function(e,t,r,a){if(0===r)return(0,n.warn)('Empty "'.concat(t,'" stream.')),new p.NullStream;try{var v=this.xref.stats.streamTypes;if("FlateDecode"===t||"Fl"===t)return v[n.StreamType.FLATE]=!0,a?new g.PredictorStream(new u.FlateStream(e,r),r,a):new u.FlateStream(e,r);if("LZWDecode"===t||"LZW"===t){v[n.StreamType.LZW]=!0;var y=1;return a?(a.has("EarlyChange")&&(y=a.get("EarlyChange")),new g.PredictorStream(new d.LZWStream(e,r,y),r,a)):new d.LZWStream(e,r,y)}return"DCTDecode"===t||"DCT"===t?(v[n.StreamType.DCT]=!0,new f.JpegStream(e,r,a)):"JPXDecode"===t||"JPX"===t?(v[n.StreamType.JPX]=!0,new h.JpxStream(e,r,a)):"ASCII85Decode"===t||"A85"===t?(v[n.StreamType.A85]=!0,new o.Ascii85Stream(e,r)):"ASCIIHexDecode"===t||"AHx"===t?(v[n.StreamType.AHX]=!0,new s.AsciiHexStream(e,r)):"CCITTFaxDecode"===t||"CCF"===t?(v[n.StreamType.CCF]=!0,new c.CCITTFaxStream(e,r,a)):"RunLengthDecode"===t||"RL"===t?(v[n.StreamType.RLX]=!0,new m.RunLengthStream(e,r)):"JBIG2Decode"===t?(v[n.StreamType.JBIG]=!0,new l.Jbig2Stream(e,r,a)):((0,n.warn)('Filter "'.concat(t,'" is not supported.')),e)}catch(e){if(e instanceof i.MissingDataException)throw e;return(0,n.warn)('Invalid stream: "'.concat(e,'"')),new p.NullStream}}}]),e}();t.Parser=k;var S=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function x(e){return e>=48&&e<=57?15&e:e>=65&&e<=70||e>=97&&e<=102?9+(15&e):-1}var A=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(this,e),this.stream=t,this.nextChar(),this.strBuf=[],this.knownCommands=r,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}return b(e,[{key:"nextChar",value:function(){return this.currentChar=this.stream.getByte()}},{key:"peekChar",value:function(){return this.stream.peekByte()}},{key:"getNumber",value:function(){var e=this.currentChar,t=!1,r=0,a=0;if(45===e?(a=-1,45===(e=this.nextChar())&&(e=this.nextChar())):43===e&&(a=1,e=this.nextChar()),10===e||13===e)do{e=this.nextChar()}while(10===e||13===e);if(46===e&&(r=10,e=this.nextChar()),e<48||e>57){if(10===r&&0===a&&((0,i.isWhiteSpace)(e)||-1===e))return(0,n.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;throw new n.FormatError("Invalid number: ".concat(String.fromCharCode(e)," (charCode ").concat(e,")"))}a=a||1;for(var o=e-48,s=0,c=1;(e=this.nextChar())>=0;)if(e>=48&&e<=57){var u=e-48;t?s=10*s+u:(0!==r&&(r*=10),o=10*o+u)}else if(46===e){if(0!==r)break;r=1}else if(45===e)(0,n.warn)("Badly formatted number: minus sign in the middle");else{if(69!==e&&101!==e)break;if(43===(e=this.peekChar())||45===e)c=45===e?-1:1,this.nextChar();else if(e<48||e>57)break;t=!0}return 0!==r&&(o/=r),t&&(o*=Math.pow(10,c*s)),a*o}},{key:"getString",value:function(){var e=1,t=!1,r=this.strBuf;r.length=0;for(var a=this.nextChar();;){var i=!1;switch(0|a){case-1:(0,n.warn)("Unterminated string"),t=!0;break;case 40:++e,r.push("(");break;case 41:0==--e?(this.nextChar(),t=!0):r.push(")");break;case 92:switch(a=this.nextChar()){case-1:(0,n.warn)("Unterminated string"),t=!0;break;case 110:r.push("\\n");break;case 114:r.push("\\r");break;case 116:r.push("\\t");break;case 98:r.push("\\b");break;case 102:r.push("\\f");break;case 92:case 40:case 41:r.push(String.fromCharCode(a));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:var o=15&a;i=!0,(a=this.nextChar())>=48&&a<=55&&(o=(o<<3)+(15&a),(a=this.nextChar())>=48&&a<=55&&(i=!1,o=(o<<3)+(15&a))),r.push(String.fromCharCode(o));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:r.push(String.fromCharCode(a))}break;default:r.push(String.fromCharCode(a))}if(t)break;i||(a=this.nextChar())}return r.join("")}},{key:"getName",value:function(){var e,t,r=this.strBuf;for(r.length=0;(e=this.nextChar())>=0&&!S[e];)if(35===e){if(e=this.nextChar(),S[e]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),r.push("#");break}var i=x(e);if(-1!==i){t=e;var o=x(e=this.nextChar());if(-1===o){if((0,n.warn)("Lexer_getName: Illegal digit (".concat(String.fromCharCode(e),") ")+"in hexadecimal number."),r.push("#",String.fromCharCode(t)),S[e])break;r.push(String.fromCharCode(e));continue}r.push(String.fromCharCode(i<<4|o))}else r.push("#",String.fromCharCode(e))}else r.push(String.fromCharCode(e));return r.length>127&&(0,n.warn)("Name token is longer than allowed by the spec: ".concat(r.length)),a.Name.get(r.join(""))}},{key:"_hexStringWarn",value:function(e){5!=this._hexStringNumWarn++?this._hexStringNumWarn>5||(0,n.warn)("getHexString - ignoring invalid character: ".concat(e)):(0,n.warn)("getHexString - ignoring additional invalid characters.")}},{key:"getHexString",value:function(){var e=this.strBuf;e.length=0;var t,r,a=this.currentChar,i=!0;for(this._hexStringNumWarn=0;;){if(a<0){(0,n.warn)("Unterminated hex string");break}if(62===a){this.nextChar();break}if(1!==S[a]){if(i){if(-1===(t=x(a))){this._hexStringWarn(a),a=this.nextChar();continue}}else{if(-1===(r=x(a))){this._hexStringWarn(a),a=this.nextChar();continue}e.push(String.fromCharCode(t<<4|r))}i=!i,a=this.nextChar()}else a=this.nextChar()}return e.join("")}},{key:"getObj",value:function(){for(var e=!1,t=this.currentChar;;){if(t<0)return a.EOF;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(1!==S[t])break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),a.Cmd.get("[");case 93:return this.nextChar(),a.Cmd.get("]");case 60:return 60===(t=this.nextChar())?(this.nextChar(),a.Cmd.get("<<")):this.getHexString();case 62:return 62===(t=this.nextChar())?(this.nextChar(),a.Cmd.get(">>")):a.Cmd.get(">");case 123:return this.nextChar(),a.Cmd.get("{");case 125:return this.nextChar(),a.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError("Illegal character: ".concat(t))}for(var r=String.fromCharCode(t),i=this.knownCommands,o=i&&void 0!==i[r];(t=this.nextChar())>=0&&!S[t];){var s=r+String.fromCharCode(t);if(o&&void 0===i[s])break;if(128===r.length)throw new n.FormatError("Command token too long: ".concat(r.length));r=s,o=i&&void 0!==i[r]}return"true"===r||"false"!==r&&("null"===r?null:("BI"===r&&(this.beginInlineImagePos=this.stream.pos),a.Cmd.get(r)))}},{key:"peekObj",value:function(){var e,t=this.stream.pos,r=this.currentChar,a=this.beginInlineImagePos;try{e=this.getObj()}catch(e){if(e instanceof i.MissingDataException)throw e;(0,n.warn)("peekObj: ".concat(e))}return this.stream.pos=t,this.currentChar=r,this.beginInlineImagePos=a,e}},{key:"skipToNextLine",value:function(){for(var e=this.currentChar;e>=0;){if(13===e){10===(e=this.nextChar())&&this.nextChar();break}if(10===e){this.nextChar();break}e=this.nextChar()}}}]),e}();t.Lexer=A;var O=function(){function e(){v(this,e)}return b(e,null,[{key:"create",value:function(e){function t(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.get(t);if(Number.isInteger(n)&&(r?n>=0:n>0))return n;throw new Error('The "'.concat(t,'" parameter in the linearization ')+"dictionary is invalid.")}var r,i,o=new k({lexer:new A(e),xref:null}),s=o.getObj(),c=o.getObj(),u=o.getObj(),l=o.getObj();if(!(Number.isInteger(s)&&Number.isInteger(c)&&(0,a.isCmd)(u,"obj")&&(0,a.isDict)(l)&&(0,n.isNum)(r=l.get("Linearized"))&&r>0))return null;if((i=t(l,"L"))!==e.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:i,hints:function(e){var t,r=e.get("H");if(Array.isArray(r)&&(2===(t=r.length)||4===t)){for(var n=0;n<t;n++){var a=r[n];if(!(Number.isInteger(a)&&a>0))throw new Error("Hint (".concat(n,") in the linearization dictionary is invalid."))}return r}throw new Error("Hint array in the linearization dictionary is invalid.")}(l),objectNumberFirst:t(l,"O"),endFirst:t(l,"E"),numPages:t(l,"N"),mainXRefEntriesOffset:t(l,"T"),pageFirst:l.has("P")?t(l,"P",!0):0}}}]),e}();t.Linearization=O},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Ascii85Stream=void 0;var a=r(127),i=r(117);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,a=c(u);function u(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t&&(t*=.8),(r=a.call(this,t)).str=e,r.dict=e.dict,r.input=new Uint8Array(5),r}return t=u,(r=[{key:"readBlock",value:function(){for(var e=this.str,t=e.getByte();(0,i.isWhiteSpace)(t);)t=e.getByte();if(-1!==t&&126!==t){var r,n,a=this.bufferLength;if(122===t){for(r=this.ensureBuffer(a+4),n=0;n<4;++n)r[a+n]=0;this.bufferLength+=4}else{var o=this.input;for(o[0]=t,n=1;n<5;++n){for(t=e.getByte();(0,i.isWhiteSpace)(t);)t=e.getByte();if(o[n]=t,-1===t||126===t)break}if(r=this.ensureBuffer(a+n-1),this.bufferLength+=n-1,n<5){for(;n<5;++n)o[n]=117;this.eof=!0}var s=0;for(n=0;n<5;++n)s=85*s+(o[n]-33);for(n=3;n>=0;--n)r[a+n]=255&s,s>>=8}}else this.eof=!0}}])&&o(t.prototype,r),n&&o(t,n),u}(a.DecodeStream);t.Ascii85Stream=f},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.StreamsSequenceStream=t.DecodeStream=void 0;var a=r(114),i=r(118);function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var a=v(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var y=new Uint8Array(0),b=function(e){d(r,e);var t=g(r);function r(e){var n;if(l(this,r),(n=t.call(this))._rawMinBufferLength=e||0,n.pos=0,n.bufferLength=0,n.eof=!1,n.buffer=y,n.minBufferLength=512,e)for(;n.minBufferLength<e;)n.minBufferLength*=2;return n}return h(r,[{key:"isEmpty",get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength}},{key:"ensureBuffer",value:function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var r=this.minBufferLength;r<e;)r*=2;var n=new Uint8Array(r);return n.set(t),this.buffer=n}},{key:"getByte",value:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}},{key:"getBytes",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.pos;if(e){for(this.ensureBuffer(n+e),t=n+e;!this.eof&&this.bufferLength<t;)this.readBlock();var a=this.bufferLength;t>a&&(t=a)}else{for(;!this.eof;)this.readBlock();t=this.bufferLength}this.pos=t;var i=this.buffer.subarray(n,t);return!r||i instanceof Uint8ClampedArray?i:new Uint8ClampedArray(i)}},{key:"reset",value:function(){this.pos=0}},{key:"makeSubStream",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(void 0===t)for(;!this.eof;)this.readBlock();else for(var n=e+t;this.bufferLength<=n&&!this.eof;)this.readBlock();return new i.Stream(this.buffer,e,t,r)}},{key:"getBaseStreams",value:function(){return this.str?this.str.getBaseStreams():null}}]),r}(a.BaseStream);t.DecodeStream=b;var w=function(e){d(r,e);var t=g(r);function r(e){var n;l(this,r);var a,i=0,o=s(e);try{for(o.s();!(a=o.n()).done;){var c=a.value;i+=c instanceof b?c._rawMinBufferLength:c.length}}catch(e){o.e(e)}finally{o.f()}return(n=t.call(this,i)).streams=e,n}return h(r,[{key:"readBlock",value:function(){var e=this.streams;if(0!==e.length){var t=e.shift().getBytes(),r=this.bufferLength,n=r+t.length;this.ensureBuffer(n).set(t,r),this.bufferLength=n}else this.eof=!0}},{key:"getBaseStreams",value:function(){var e,t=[],r=s(this.streams);try{for(r.s();!(e=r.n()).done;){var n=e.value.getBaseStreams();n&&t.push.apply(t,o(n))}}catch(e){r.e(e)}finally{r.f()}return t.length>0?t:null}}]),r}(b);t.StreamsSequenceStream=w},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.AsciiHexStream=void 0;var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,i=c(u);function u(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t&&(t*=.5),(r=i.call(this,t)).str=e,r.dict=e.dict,r.firstDigit=-1,r}return t=u,(r=[{key:"readBlock",value:function(){var e=this.str.getBytes(8e3);if(e.length){var t,r=e.length+1>>1,n=this.ensureBuffer(this.bufferLength+r),i=this.bufferLength,o=this.firstDigit,s=a(e);try{for(s.s();!(t=s.n()).done;){var c=t.value,u=void 0;if(c>=48&&c<=57)u=15&c;else{if(!(c>=65&&c<=70||c>=97&&c<=102)){if(62===c){this.eof=!0;break}continue}u=9+(15&c)}o<0?o=u:(n[i++]=o<<4|u,o=-1)}}catch(e){s.e(e)}finally{s.f()}o>=0&&this.eof&&(n[i++]=o<<4,o=-1),this.firstDigit=o,this.bufferLength=i}else this.eof=!0}}])&&o(t.prototype,r),n&&o(t,n),u}(r(127).DecodeStream);t.AsciiHexStream=f},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CCITTFaxStream=void 0;var a=r(113),i=r(130);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,r,n,u=c(l);function l(e,t,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=u.call(this,t)).str=e,n.dict=e.dict,(0,a.isDict)(r)||(r=a.Dict.empty);var o={next:function(){return e.getByte()}};return n.ccittFaxDecoder=new i.CCITTFaxDecoder(o,{K:r.get("K"),EndOfLine:r.get("EndOfLine"),EncodedByteAlign:r.get("EncodedByteAlign"),Columns:r.get("Columns"),Rows:r.get("Rows"),EndOfBlock:r.get("EndOfBlock"),BlackIs1:r.get("BlackIs1")}),n}return t=l,(r=[{key:"readBlock",value:function(){for(;!this.eof;){var e=this.ccittFaxDecoder.readNextChar();if(-1===e)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=e}}}])&&o(t.prototype,r),n&&o(t,n),l}(r(127).DecodeStream);t.CCITTFaxStream=f},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CCITTFaxDecoder=void 0;var n=r(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=-1,s=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],c=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],u=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],l=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],f=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],h=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]],d=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,e),!t||"function"!=typeof t.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=t,this.eof=!1,this.encoding=r.K||0,this.eoline=r.EndOfLine||!1,this.byteAlign=r.EncodedByteAlign||!1,this.columns=r.Columns||1728,this.rows=r.Rows||0;var n,i=r.EndOfBlock;for(null==i&&(i=!0),this.eoblock=i,this.black=r.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(n=this._lookBits(12));)this._eatBits(1);1===n&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}var t,r,d;return t=e,(r=[{key:"readNextChar",value:function(){if(this.eof)return-1;var e,t,r,a,i,s=this.refLine,c=this.codingLine,u=this.columns;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;var l,f,h;if(this.err=!1,this.nextLine2D){for(a=0;c[a]<u;++a)s[a]=c[a];for(s[a++]=u,s[a]=u,c[0]=0,this.codingPos=0,e=0,t=0;c[this.codingPos]<u;)switch(l=this._getTwoDimCode()){case 0:this._addPixels(s[e+1],t),s[e+1]<u&&(e+=2);break;case 1:if(l=f=0,t){do{l+=h=this._getBlackCode()}while(h>=64);do{f+=h=this._getWhiteCode()}while(h>=64)}else{do{l+=h=this._getWhiteCode()}while(h>=64);do{f+=h=this._getBlackCode()}while(h>=64)}for(this._addPixels(c[this.codingPos]+l,t),c[this.codingPos]<u&&this._addPixels(c[this.codingPos]+f,1^t);s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 7:if(this._addPixels(s[e]+3,t),t^=1,c[this.codingPos]<u)for(++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 5:if(this._addPixels(s[e]+2,t),t^=1,c[this.codingPos]<u)for(++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 3:if(this._addPixels(s[e]+1,t),t^=1,c[this.codingPos]<u)for(++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 2:if(this._addPixels(s[e],t),t^=1,c[this.codingPos]<u)for(++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 8:if(this._addPixelsNeg(s[e]-3,t),t^=1,c[this.codingPos]<u)for(e>0?--e:++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 6:if(this._addPixelsNeg(s[e]-2,t),t^=1,c[this.codingPos]<u)for(e>0?--e:++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case 4:if(this._addPixelsNeg(s[e]-1,t),t^=1,c[this.codingPos]<u)for(e>0?--e:++e;s[e]<=c[this.codingPos]&&s[e]<u;)e+=2;break;case o:this._addPixels(u,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(u,0),this.err=!0}}else for(c[0]=0,this.codingPos=0,t=0;c[this.codingPos]<u;){if(l=0,t)do{l+=h=this._getBlackCode()}while(h>=64);else do{l+=h=this._getWhiteCode()}while(h>=64);this._addPixels(c[this.codingPos]+l,t),t^=1}var d=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(l=this._lookBits(12),this.eoline)for(;l!==o&&1!==l;)this._eatBits(1),l=this._lookBits(12);else for(;0===l;)this._eatBits(1),l=this._lookBits(12);1===l?(this._eatBits(12),d=!0):l===o&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&d&&this.byteAlign){if(1===(l=this._lookBits(12))){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(a=0;a<4;++a)1!==(l=this._lookBits(12))&&(0,n.info)("bad rtc code: "+l),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if((l=this._lookBits(13))===o)return this.eof=!0,-1;if(l>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&l))}c[0]>0?this.outputBits=c[this.codingPos=0]:this.outputBits=c[this.codingPos=1],this.row++}if(this.outputBits>=8)i=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&c[this.codingPos]<u&&(this.codingPos++,this.outputBits=c[this.codingPos]-c[this.codingPos-1]);else{r=8,i=0;do{this.outputBits>r?(i<<=r,1&this.codingPos||(i|=255>>8-r),this.outputBits-=r,r=0):(i<<=this.outputBits,1&this.codingPos||(i|=255>>8-this.outputBits),r-=this.outputBits,this.outputBits=0,c[this.codingPos]<u?(this.codingPos++,this.outputBits=c[this.codingPos]-c[this.codingPos-1]):r>0&&(i<<=r,r=0))}while(r)}return this.black&&(i^=255),i}},{key:"_addPixels",value:function(e,t){var r=this.codingLine,a=this.codingPos;e>r[a]&&(e>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,e=this.columns),1&a^t&&++a,r[a]=e),this.codingPos=a}},{key:"_addPixelsNeg",value:function(e,t){var r=this.codingLine,a=this.codingPos;if(e>r[a])e>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,e=this.columns),1&a^t&&++a,r[a]=e;else if(e<r[a]){for(e<0&&((0,n.info)("invalid code"),this.err=!0,e=0);a>0&&e<r[a-1];)--a;r[a]=e}this.codingPos=a}},{key:"_findTableCode",value:function(e,t,r,n){for(var a=n||0,i=e;i<=t;++i){var s=this._lookBits(i);if(s===o)return[!0,1,!1];if(i<t&&(s<<=t-i),!a||s>=a){var c=r[s-a];if(c[0]===i)return this._eatBits(i),[!0,c[1],!0]}}return[!1,0,!1]}},{key:"_getTwoDimCode",value:function(){var e,t=0;if(this.eoblock){if(t=this._lookBits(7),(e=s[t])&&e[0]>0)return this._eatBits(e[0]),e[1]}else{var r=this._findTableCode(1,7,s);if(r[0]&&r[2])return r[1]}return(0,n.info)("Bad two dim code"),o}},{key:"_getWhiteCode",value:function(){var e,t=0;if(this.eoblock){if((t=this._lookBits(12))===o)return 1;if((e=t>>5==0?c[t]:u[t>>3])[0]>0)return this._eatBits(e[0]),e[1]}else{var r=this._findTableCode(1,9,u);if(r[0])return r[1];if((r=this._findTableCode(11,12,c))[0])return r[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}},{key:"_getBlackCode",value:function(){var e,t;if(this.eoblock){if((e=this._lookBits(13))===o)return 1;if((t=e>>7==0?l[e]:e>>9==0&&e>>7!=0?f[(e>>1)-64]:h[e>>7])[0]>0)return this._eatBits(t[0]),t[1]}else{var r=this._findTableCode(2,6,h);if(r[0])return r[1];if((r=this._findTableCode(7,12,f,64))[0])return r[1];if((r=this._findTableCode(10,13,l))[0])return r[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}},{key:"_lookBits",value:function(e){for(var t;this.inputBits<e;){if(-1===(t=this.source.next()))return 0===this.inputBits?o:this.inputBuf<<e-this.inputBits&65535>>16-e;this.inputBuf=this.inputBuf<<8|t,this.inputBits+=8}return this.inputBuf>>this.inputBits-e&65535>>16-e}},{key:"_eatBits",value:function(e){(this.inputBits-=e)<0&&(this.inputBits=0)}}])&&i(t.prototype,r),d&&i(t,d),e}();t.CCITTFaxDecoder=d},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FlateStream=void 0;var a=r(127),i=r(4);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),d=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),p=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],g=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,a=c(u);function u(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=a.call(this,t)).str=e,r.dict=e.dict;var n=e.getByte(),o=e.getByte();if(-1===n||-1===o)throw new i.FormatError("Invalid header in flate stream: ".concat(n,", ").concat(o));if(8!=(15&n))throw new i.FormatError("Unknown compression method in flate stream: ".concat(n,", ").concat(o));if(((n<<8)+o)%31!=0)throw new i.FormatError("Bad FCHECK in flate stream: ".concat(n,", ").concat(o));if(32&o)throw new i.FormatError("FDICT bit set in flate stream: ".concat(n,", ").concat(o));return r.codeSize=0,r.codeBuf=0,r}return t=u,(r=[{key:"getBits",value:function(e){for(var t,r=this.str,n=this.codeSize,a=this.codeBuf;n<e;){if(-1===(t=r.getByte()))throw new i.FormatError("Bad encoding in flate stream");a|=t<<n,n+=8}return t=a&(1<<e)-1,this.codeBuf=a>>e,this.codeSize=n-=e,t}},{key:"getCode",value:function(e){for(var t,r=this.str,n=e[0],a=e[1],o=this.codeSize,s=this.codeBuf;o<a&&-1!==(t=r.getByte());)s|=t<<o,o+=8;var c=n[s&(1<<a)-1],u=c>>16,l=65535&c;if(u<1||o<u)throw new i.FormatError("Bad encoding in flate stream");return this.codeBuf=s>>u,this.codeSize=o-u,l}},{key:"generateHuffmanTable",value:function(e){var t,r=e.length,n=0;for(t=0;t<r;++t)e[t]>n&&(n=e[t]);for(var a=1<<n,i=new Int32Array(a),o=1,s=0,c=2;o<=n;++o,s<<=1,c<<=1)for(var u=0;u<r;++u)if(e[u]===o){var l=0,f=s;for(t=0;t<o;++t)l=l<<1|1&f,f>>=1;for(t=l;t<a;t+=c)i[t]=o<<16|u;++s}return[i,n]}},{key:"readBlock",value:function(){var e,t,r=this.str,n=this.getBits(3);if(1&n&&(this.eof=!0),0!=(n>>=1)){var a,o;if(1===n)a=p,o=g;else{if(2!==n)throw new i.FormatError("Unknown block type in flate stream");var s,c=this.getBits(5)+257,u=this.getBits(5)+1,l=this.getBits(4)+4,m=new Uint8Array(f.length);for(s=0;s<l;++s)m[f[s]]=this.getBits(3);var v=this.generateHuffmanTable(m);t=0,s=0;for(var y,b,w,k=c+u,S=new Uint8Array(k);s<k;){var x=this.getCode(v);if(16===x)y=2,b=3,w=t;else if(17===x)y=3,b=3,w=t=0;else{if(18!==x){S[s++]=t=x;continue}y=7,b=11,w=t=0}for(var A=this.getBits(y)+b;A-- >0;)S[s++]=w}a=this.generateHuffmanTable(S.subarray(0,c)),o=this.generateHuffmanTable(S.subarray(c,k))}for(var O=(e=this.buffer)?e.length:0,C=this.bufferLength;;){var T=this.getCode(a);if(T<256)C+1>=O&&(O=(e=this.ensureBuffer(C+1)).length),e[C++]=T;else{if(256===T)return void(this.bufferLength=C);var F=(T=h[T-=257])>>16;F>0&&(F=this.getBits(F)),t=(65535&T)+F,T=this.getCode(o),(F=(T=d[T])>>16)>0&&(F=this.getBits(F));var P=(65535&T)+F;C+t>=O&&(O=(e=this.ensureBuffer(C+t)).length);for(var _=0;_<t;++_,++C)e[C]=e[C-P]}}}else{var I;if(-1===(I=r.getByte()))throw new i.FormatError("Bad block header in flate stream");var E=I;if(-1===(I=r.getByte()))throw new i.FormatError("Bad block header in flate stream");if(E|=I<<8,-1===(I=r.getByte()))throw new i.FormatError("Bad block header in flate stream");var j=I;if(-1===(I=r.getByte()))throw new i.FormatError("Bad block header in flate stream");if((j|=I<<8)!=(65535&~E)&&(0!==E||0!==j))throw new i.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var R=this.bufferLength,M=R+E;if(e=this.ensureBuffer(M),this.bufferLength=M,0===E)-1===r.peekByte()&&(this.eof=!0);else{var N=r.getBytes(E);e.set(N,R),N.length<E&&(this.eof=!0)}}}}])&&o(t.prototype,r),n&&o(t,n),u}(a.DecodeStream);t.FlateStream=m},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Jbig2Stream=void 0;var a=r(113),i=r(127),o=r(133),s=r(4);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,e);var t,r,n,i=l(f);function f(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(n=i.call(this,t)).stream=e,n.dict=e.dict,n.maybeLength=t,n.params=r,n}return t=f,(r=[{key:"bytes",get:function(){return(0,s.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}},{key:"ensureBuffer",value:function(e){}},{key:"readBlock",value:function(){if(!this.eof){var e=new o.Jbig2Image,t=[];if((0,a.isDict)(this.params)){var r=this.params.get("JBIG2Globals");if((0,a.isStream)(r)){var n=r.getBytes();t.push({data:n,start:0,end:n.length})}}t.push({data:this.bytes,start:0,end:this.bytes.length});for(var i=e.parseChunks(t),s=i.length,c=0;c<s;c++)i[c]^=255;this.buffer=i,this.bufferLength=s,this.eof=!0}}}])&&c(t.prototype,r),n&&c(t,n),f}(i.DecodeStream);t.Jbig2Stream=d},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Jbig2Image=void 0;var a=r(4),i=r(117),o=r(134),s=r(130);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var t=h(r);function r(e){return l(this,r),t.call(this,"JBIG2 error: ".concat(e))}return r}(a.BaseException),m=function(){function e(){l(this,e)}return u(e,[{key:"getContexts",value:function(e){return e in this?this[e]:this[e]=new Int8Array(65536)}}]),e}(),v=function(){function e(t,r,n){l(this,e),this.data=t,this.start=r,this.end=n}return u(e,[{key:"decoder",get:function(){var e=new o.ArithmeticDecoder(this.data,this.start,this.end);return(0,a.shadow)(this,"decoder",e)}},{key:"contextCache",get:function(){var e=new m;return(0,a.shadow)(this,"contextCache",e)}}]),e}();function y(e,t,r){var n=e.getContexts(t),a=1;function i(e){for(var t=0,i=0;i<e;i++){var o=r.readBit(n,a);a=a<256?a<<1|o:511&(a<<1|o)|256,t=t<<1|o}return t>>>0}var o=i(1),s=i(1)?i(1)?i(1)?i(1)?i(1)?i(32)+4436:i(12)+340:i(8)+84:i(6)+20:i(4)+4:i(2);return 0===o?s:s>0?-s:null}function b(e,t,r){for(var n=e.getContexts("IAID"),a=1,i=0;i<r;i++)a=a<<1|t.readBit(n,a);return r<31?a&(1<<r)-1:2147483647&a}var w=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],k=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],S=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],x=[39717,1941,229,405],A=[32,8];function O(e,t,r,n,a,i,o,s){if(e)return H(new U(s.data,s.start,s.end),t,r,!1);if(0===n&&!i&&!a&&4===o.length&&3===o[0].x&&-1===o[0].y&&-3===o[1].x&&-1===o[1].y&&2===o[2].x&&-2===o[2].y&&-2===o[3].x&&-2===o[3].y)return function(e,t,r){var n,a,i,o,s,c,u,l=r.decoder,f=r.contextCache.getContexts("GB"),h=[];for(a=0;a<t;a++)for(s=h[a]=new Uint8Array(e),c=a<1?s:h[a-1],n=(u=a<2?s:h[a-2])[0]<<13|u[1]<<12|u[2]<<11|c[0]<<7|c[1]<<6|c[2]<<5|c[3]<<4,i=0;i<e;i++)s[i]=o=l.readBit(f,n),n=(31735&n)<<1|(i+3<e?u[i+3]<<11:0)|(i+4<e?c[i+4]<<4:0)|o;return h}(t,r,s);var c=!!i,u=k[n].concat(o);u.sort((function(e,t){return e.y-t.y||e.x-t.x}));var l,f,h=u.length,d=new Int8Array(h),p=new Int8Array(h),g=[],m=0,v=0,y=0,b=0;for(f=0;f<h;f++)d[f]=u[f].x,p[f]=u[f].y,v=Math.min(v,u[f].x),y=Math.max(y,u[f].x),b=Math.min(b,u[f].y),f<h-1&&u[f].y===u[f+1].y&&u[f].x===u[f+1].x-1?m|=1<<h-1-f:g.push(f);var w=g.length,S=new Int8Array(w),A=new Int8Array(w),O=new Uint16Array(w);for(l=0;l<w;l++)f=g[l],S[l]=u[f].x,A[l]=u[f].y,O[l]=1<<h-1-f;for(var C,T,F,P,_,I=-v,E=-b,j=t-y,R=x[n],M=new Uint8Array(t),N=[],B=s.decoder,D=s.contextCache.getContexts("GB"),L=0,q=0,X=0;X<r;X++)if(a&&(L^=B.readBit(D,R)))N.push(M);else for(M=new Uint8Array(M),N.push(M),C=0;C<t;C++)if(c&&i[X][C])M[C]=0;else{if(C>=I&&C<j&&X>=E)for(q=q<<1&m,f=0;f<w;f++)T=X+A[f],F=C+S[f],(P=N[T][F])&&(q|=P=O[f]);else for(q=0,_=h-1,f=0;f<h;f++,_--)(F=C+d[f])>=0&&F<t&&(T=X+p[f])>=0&&(P=N[T][F])&&(q|=P<<_);var $=B.readBit(D,q);M[C]=$}return N}function C(e,t,r,n,a,i,o,s,c){var u=S[r].coding;0===r&&(u=u.concat([s[0]]));var l,f=u.length,h=new Int32Array(f),d=new Int32Array(f);for(l=0;l<f;l++)h[l]=u[l].x,d[l]=u[l].y;var p=S[r].reference;0===r&&(p=p.concat([s[1]]));var m=p.length,v=new Int32Array(m),y=new Int32Array(m);for(l=0;l<m;l++)v[l]=p[l].x,y[l]=p[l].y;for(var b=n[0].length,w=n.length,k=A[r],x=[],O=c.decoder,C=c.contextCache.getContexts("GR"),T=0,F=0;F<t;F++){if(o&&(T^=O.readBit(C,k)))throw new g("prediction is not supported");var P=new Uint8Array(e);x.push(P);for(var _=0;_<e;_++){var I=void 0,E=void 0,j=0;for(l=0;l<f;l++)I=F+d[l],E=_+h[l],I<0||E<0||E>=e?j<<=1:j=j<<1|x[I][E];for(l=0;l<m;l++)I=F+y[l]-i,E=_+v[l]-a,I<0||I>=w||E<0||E>=b?j<<=1:j=j<<1|n[I][E];var R=O.readBit(C,j);P[_]=R}}return x}function T(e,t,r,n,a,i,o,s,c,u,l,f,h,d,p,m,v,w,k){if(e&&t)throw new g("refinement with Huffman is not supported");var S,x,A=[];for(S=0;S<n;S++){if(x=new Uint8Array(r),a)for(var O=0;O<r;O++)x[O]=a;A.push(x)}var T=v.decoder,F=v.contextCache,P=e?-d.tableDeltaT.decode(k):-y(F,"IADT",T),_=0;for(S=0;S<i;){P+=e?d.tableDeltaT.decode(k):y(F,"IADT",T);for(var I=_+=e?d.tableFirstS.decode(k):y(F,"IAFS",T);;){var E=0;o>1&&(E=e?k.readBits(w):y(F,"IAIT",T));var j=o*P+E,R=e?d.symbolIDTable.decode(k):b(F,T,c),M=t&&(e?k.readBit():y(F,"IARI",T)),N=s[R],B=N[0].length,D=N.length;if(M){var L=y(F,"IARDW",T),U=y(F,"IARDH",T);N=C(B+=L,D+=U,p,N,(L>>1)+y(F,"IARDX",T),(U>>1)+y(F,"IARDY",T),!1,m,v)}var q=j-(1&f?0:D-1),X=I-(2&f?B-1:0),H=void 0,$=void 0,z=void 0;if(u){for(H=0;H<D;H++)if(x=A[X+H]){z=N[H];var G=Math.min(r-q,B);switch(h){case 0:for($=0;$<G;$++)x[q+$]|=z[$];break;case 2:for($=0;$<G;$++)x[q+$]^=z[$];break;default:throw new g("operator ".concat(h," is not supported"))}}I+=D-1}else{for($=0;$<D;$++)if(x=A[q+$])switch(z=N[$],h){case 0:for(H=0;H<B;H++)x[X+H]|=z[H];break;case 2:for(H=0;H<B;H++)x[X+H]^=z[H];break;default:throw new g("operator ".concat(h," is not supported"))}I+=B-1}S++;var W=e?d.tableDeltaS.decode(k):y(F,"IADS",T);if(null===W)break;I+=W+l}}return A}function F(e,t){var r={};r.number=(0,i.readUint32)(e,t);var n=e[t+4],a=63&n;if(!w[a])throw new g("invalid segment type: "+a);r.type=a,r.typeName=w[a],r.deferredNonRetain=!!(128&n);var o=!!(64&n),s=e[t+5],c=s>>5&7,u=[31&s],l=t+6;if(7===s){c=536870911&(0,i.readUint32)(e,l-1),l+=3;var f=c+7>>3;for(u[0]=e[l++];--f>0;)u.push(e[l++])}else if(5===s||6===s)throw new g("invalid referred-to flags");r.retainBits=u;var h=4;r.number<=256?h=1:r.number<=65536&&(h=2);var d,p,m=[];for(d=0;d<c;d++){var v=void 0;v=1===h?e[l]:2===h?(0,i.readUint16)(e,l):(0,i.readUint32)(e,l),m.push(v),l+=h}if(r.referredTo=m,o?(r.pageAssociation=(0,i.readUint32)(e,l),l+=4):r.pageAssociation=e[l++],r.length=(0,i.readUint32)(e,l),l+=4,4294967295===r.length){if(38!==a)throw new g("invalid unknown segment length");var y=_(e,l),b=!!(1&e[l+I]),k=new Uint8Array(6);for(b||(k[0]=255,k[1]=172),k[2]=y.height>>>24&255,k[3]=y.height>>16&255,k[4]=y.height>>8&255,k[5]=255&y.height,d=l,p=e.length;d<p;d++){for(var S=0;S<6&&k[S]===e[d+S];)S++;if(6===S){r.length=d+6;break}}if(4294967295===r.length)throw new g("segment end was not found")}return r.headerEnd=l,r}function P(e,t,r,n){for(var a=[],i=r;i<n;){var o=F(t,i);i=o.headerEnd;var s={header:o,data:t};if(e.randomAccess||(s.start=i,i+=o.length,s.end=i),a.push(s),51===o.type)break}if(e.randomAccess)for(var c=0,u=a.length;c<u;c++)a[c].start=i,i+=a[c].header.length,a[c].end=i;return a}function _(e,t){return{width:(0,i.readUint32)(e,t),height:(0,i.readUint32)(e,t+4),x:(0,i.readUint32)(e,t+8),y:(0,i.readUint32)(e,t+12),combinationOperator:7&e[t+16]}}var I=17;function E(e,t){var r,n,a,o,s=e.header,c=e.data,u=e.end,l=e.start;switch(s.type){case 0:var f={},h=(0,i.readUint16)(c,l);if(f.huffman=!!(1&h),f.refinement=!!(2&h),f.huffmanDHSelector=h>>2&3,f.huffmanDWSelector=h>>4&3,f.bitmapSizeSelector=h>>6&1,f.aggregationInstancesSelector=h>>7&1,f.bitmapCodingContextUsed=!!(256&h),f.bitmapCodingContextRetained=!!(512&h),f.template=h>>10&3,f.refinementTemplate=h>>12&1,l+=2,!f.huffman){for(o=0===f.template?4:1,n=[],a=0;a<o;a++)n.push({x:(0,i.readInt8)(c,l),y:(0,i.readInt8)(c,l+1)}),l+=2;f.at=n}if(f.refinement&&!f.refinementTemplate){for(n=[],a=0;a<2;a++)n.push({x:(0,i.readInt8)(c,l),y:(0,i.readInt8)(c,l+1)}),l+=2;f.refinementAt=n}f.numberOfExportedSymbols=(0,i.readUint32)(c,l),l+=4,f.numberOfNewSymbols=(0,i.readUint32)(c,l),l+=4,r=[f,s.number,s.referredTo,c,l,u];break;case 6:case 7:var d={};d.info=_(c,l),l+=I;var p=(0,i.readUint16)(c,l);if(l+=2,d.huffman=!!(1&p),d.refinement=!!(2&p),d.logStripSize=p>>2&3,d.stripSize=1<<d.logStripSize,d.referenceCorner=p>>4&3,d.transposed=!!(64&p),d.combinationOperator=p>>7&3,d.defaultPixelValue=p>>9&1,d.dsOffset=p<<17>>27,d.refinementTemplate=p>>15&1,d.huffman){var m=(0,i.readUint16)(c,l);l+=2,d.huffmanFS=3&m,d.huffmanDS=m>>2&3,d.huffmanDT=m>>4&3,d.huffmanRefinementDW=m>>6&3,d.huffmanRefinementDH=m>>8&3,d.huffmanRefinementDX=m>>10&3,d.huffmanRefinementDY=m>>12&3,d.huffmanRefinementSizeSelector=!!(16384&m)}if(d.refinement&&!d.refinementTemplate){for(n=[],a=0;a<2;a++)n.push({x:(0,i.readInt8)(c,l),y:(0,i.readInt8)(c,l+1)}),l+=2;d.refinementAt=n}d.numberOfSymbolInstances=(0,i.readUint32)(c,l),l+=4,r=[d,s.referredTo,c,l,u];break;case 16:var v={},y=c[l++];v.mmr=!!(1&y),v.template=y>>1&3,v.patternWidth=c[l++],v.patternHeight=c[l++],v.maxPatternIndex=(0,i.readUint32)(c,l),l+=4,r=[v,s.number,c,l,u];break;case 22:case 23:var b={};b.info=_(c,l),l+=I;var w=c[l++];b.mmr=!!(1&w),b.template=w>>1&3,b.enableSkip=!!(8&w),b.combinationOperator=w>>4&7,b.defaultPixelValue=w>>7&1,b.gridWidth=(0,i.readUint32)(c,l),l+=4,b.gridHeight=(0,i.readUint32)(c,l),l+=4,b.gridOffsetX=4294967295&(0,i.readUint32)(c,l),l+=4,b.gridOffsetY=4294967295&(0,i.readUint32)(c,l),l+=4,b.gridVectorX=(0,i.readUint16)(c,l),l+=2,b.gridVectorY=(0,i.readUint16)(c,l),l+=2,r=[b,s.referredTo,c,l,u];break;case 38:case 39:var k={};k.info=_(c,l),l+=I;var S=c[l++];if(k.mmr=!!(1&S),k.template=S>>1&3,k.prediction=!!(8&S),!k.mmr){for(o=0===k.template?4:1,n=[],a=0;a<o;a++)n.push({x:(0,i.readInt8)(c,l),y:(0,i.readInt8)(c,l+1)}),l+=2;k.at=n}r=[k,c,l,u];break;case 48:var x={width:(0,i.readUint32)(c,l),height:(0,i.readUint32)(c,l+4),resolutionX:(0,i.readUint32)(c,l+8),resolutionY:(0,i.readUint32)(c,l+12)};4294967295===x.height&&delete x.height;var A=c[l+16];(0,i.readUint16)(c,l+17),x.lossless=!!(1&A),x.refinement=!!(2&A),x.defaultPixelValue=A>>2&1,x.combinationOperator=A>>3&3,x.requiresBuffer=!!(32&A),x.combinationOperatorOverride=!!(64&A),r=[x];break;case 49:case 50:case 51:case 62:break;case 53:r=[s.number,c,l,u];break;default:throw new g("segment type ".concat(s.typeName,"(").concat(s.type,")")+" is not implemented")}var O="on"+s.typeName;O in t&&t[O].apply(t,r)}function j(e,t){for(var r=0,n=e.length;r<n;r++)E(e[r],t)}var R=function(){function e(){l(this,e)}return u(e,[{key:"onPageInformation",value:function(e){this.currentPageInfo=e;var t=e.width+7>>3,r=new Uint8ClampedArray(t*e.height);if(e.defaultPixelValue)for(var n=0,a=r.length;n<a;n++)r[n]=255;this.buffer=r}},{key:"drawBitmap",value:function(e,t){var r,n,a,i,o=this.currentPageInfo,s=e.width,c=e.height,u=o.width+7>>3,l=o.combinationOperatorOverride?e.combinationOperator:o.combinationOperator,f=this.buffer,h=128>>(7&e.x),d=e.y*u+(e.x>>3);switch(l){case 0:for(r=0;r<c;r++){for(a=h,i=d,n=0;n<s;n++)t[r][n]&&(f[i]|=a),(a>>=1)||(a=128,i++);d+=u}break;case 2:for(r=0;r<c;r++){for(a=h,i=d,n=0;n<s;n++)t[r][n]&&(f[i]^=a),(a>>=1)||(a=128,i++);d+=u}break;default:throw new g("operator ".concat(l," is not supported"))}}},{key:"onImmediateGenericRegion",value:function(e,t,r,n){var a=e.info,i=new v(t,r,n),o=O(e.mmr,a.width,a.height,e.template,e.prediction,null,e.at,i);this.drawBitmap(a,o)}},{key:"onImmediateLosslessGenericRegion",value:function(){this.onImmediateGenericRegion.apply(this,arguments)}},{key:"onSymbolDictionary",value:function(e,t,r,n,a,o){var s,c;e.huffman&&(s=function(e,t,r){var n,a,i,o,s=0;switch(e.huffmanDHSelector){case 0:case 1:n=L(e.huffmanDHSelector+4);break;case 3:n=q(s,t,r),s++;break;default:throw new g("invalid Huffman DH selector")}switch(e.huffmanDWSelector){case 0:case 1:a=L(e.huffmanDWSelector+2);break;case 3:a=q(s,t,r),s++;break;default:throw new g("invalid Huffman DW selector")}return e.bitmapSizeSelector?(i=q(s,t,r),s++):i=L(1),o=e.aggregationInstancesSelector?q(s,t,r):L(1),{tableDeltaHeight:n,tableDeltaWidth:a,tableBitmapSize:i,tableAggregateInstances:o}}(e,r,this.customTables),c=new U(n,a,o));var u=this.symbols;u||(this.symbols=u={});for(var l=[],f=0,h=r.length;f<h;f++){var d=u[r[f]];d&&(l=l.concat(d))}var p=new v(n,a,o);u[t]=function(e,t,r,n,a,o,s,c,u,l,f,h){if(e&&t)throw new g("symbol refinement with Huffman is not supported");var d,p,m=[],v=0,w=(0,i.log2)(r.length+n),k=f.decoder,S=f.contextCache;for(e&&(d=L(1),p=[],w=Math.max(w,1));m.length<n;){v+=e?o.tableDeltaHeight.decode(h):y(S,"IADH",k);for(var x=0,A=0,F=e?p.length:0;;){var P=e?o.tableDeltaWidth.decode(h):y(S,"IADW",k);if(null===P)break;A+=x+=P;var _=void 0;if(t){var I=y(S,"IAAI",k);if(I>1)_=T(e,t,x,v,0,I,1,r.concat(m),w,0,0,1,0,o,u,l,f,0,h);else{var E=b(S,k,w),j=y(S,"IARDX",k),R=y(S,"IARDY",k);_=C(x,v,u,E<r.length?r[E]:m[E-r.length],j,R,!1,l,f)}m.push(_)}else e?p.push(x):(_=O(!1,x,v,s,!1,null,c,f),m.push(_))}if(e&&!t){var M=o.tableBitmapSize.decode(h);h.byteAlign();var N=void 0;if(0===M)N=X(h,A,v);else{var B=h.end,D=h.position+M;h.end=D,N=H(h,A,v,!1),h.end=B,h.position=D}var U=p.length;if(F===U-1)m.push(N);else{var q=void 0,$=void 0,z=0,G=void 0,W=void 0;for(q=F;q<U;q++){for(G=z+p[q],W=[],$=0;$<v;$++)W.push(N[$].subarray(z,G));m.push(W),z=G}}}}for(var V,K,Y=[],J=[],Z=!1,Q=r.length+n;J.length<Q;){for(var ee=e?d.decode(h):y(S,"IAEX",k);ee--;)J.push(Z);Z=!Z}for(V=0,K=r.length;V<K;V++)J[V]&&Y.push(r[V]);for(var te=0;te<n;V++,te++)J[V]&&Y.push(m[te]);return Y}(e.huffman,e.refinement,l,e.numberOfNewSymbols,e.numberOfExportedSymbols,s,e.template,e.at,e.refinementTemplate,e.refinementAt,p,c)}},{key:"onImmediateTextRegion",value:function(e,t,r,n,a){for(var o,s,c=e.info,u=this.symbols,l=[],f=0,h=t.length;f<h;f++){var d=u[t[f]];d&&(l=l.concat(d))}var p=(0,i.log2)(l.length);e.huffman&&(s=new U(r,n,a),o=function(e,t,r,n,a){for(var i=[],o=0;o<=34;o++){var s=a.readBits(4);i.push(new M([o,s,0,0]))}var c=new B(i,!1);i.length=0;for(var u=0;u<n;){var l=c.decode(a);if(l>=32){var f=void 0,h=void 0,d=void 0;switch(l){case 32:if(0===u)throw new g("no previous value in symbol ID table");h=a.readBits(2)+3,f=i[u-1].prefixLength;break;case 33:h=a.readBits(3)+3,f=0;break;case 34:h=a.readBits(7)+11,f=0;break;default:throw new g("invalid code length in symbol ID table")}for(d=0;d<h;d++)i.push(new M([u,f,0,0])),u++}else i.push(new M([u,l,0,0])),u++}a.byteAlign();var p,m,v,y=new B(i,!1),b=0;switch(e.huffmanFS){case 0:case 1:p=L(e.huffmanFS+6);break;case 3:p=q(b,t,r),b++;break;default:throw new g("invalid Huffman FS selector")}switch(e.huffmanDS){case 0:case 1:case 2:m=L(e.huffmanDS+8);break;case 3:m=q(b,t,r),b++;break;default:throw new g("invalid Huffman DS selector")}switch(e.huffmanDT){case 0:case 1:case 2:v=L(e.huffmanDT+11);break;case 3:v=q(b,t,r),b++;break;default:throw new g("invalid Huffman DT selector")}if(e.refinement)throw new g("refinement with Huffman is not supported");return{symbolIDTable:y,tableFirstS:p,tableDeltaS:m,tableDeltaT:v}}(e,t,this.customTables,l.length,s));var m=new v(r,n,a),y=T(e.huffman,e.refinement,c.width,c.height,e.defaultPixelValue,e.numberOfSymbolInstances,e.stripSize,l,p,e.transposed,e.dsOffset,e.referenceCorner,e.combinationOperator,o,e.refinementTemplate,e.refinementAt,m,e.logStripSize,s);this.drawBitmap(c,y)}},{key:"onImmediateLosslessTextRegion",value:function(){this.onImmediateTextRegion.apply(this,arguments)}},{key:"onPatternDictionary",value:function(e,t,r,n,a){var i=this.patterns;i||(this.patterns=i={});var o=new v(r,n,a);i[t]=function(e,t,r,n,a,i){var o=[];e||(o.push({x:-t,y:0}),0===a&&o.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));for(var s=O(e,(n+1)*t,r,a,!1,null,o,i),c=[],u=0;u<=n;u++){for(var l=[],f=t*u,h=f+t,d=0;d<r;d++)l.push(s[d].subarray(f,h));c.push(l)}return c}(e.mmr,e.patternWidth,e.patternHeight,e.maxPatternIndex,e.template,o)}},{key:"onImmediateHalftoneRegion",value:function(e,t,r,n,a){var o=this.patterns[t[0]],s=e.info,c=new v(r,n,a),u=function(e,t,r,n,a,o,s,c,u,l,f,h,d,p,m){if(s)throw new g("skip is not supported");if(0!==c)throw new g('operator "'.concat(c,'" is not supported in halftone region'));var v,y,b,w=[];for(v=0;v<a;v++){if(b=new Uint8Array(n),o)for(y=0;y<n;y++)b[y]=o;w.push(b)}var k=t.length,S=t[0],x=S[0].length,A=S.length,C=(0,i.log2)(k),T=[];e||(T.push({x:r<=1?3:2,y:-1}),0===r&&T.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));var F,P,_,I,E,j,R,M,N,B,D,L=[];for(e&&(F=new U(m.data,m.start,m.end)),v=C-1;v>=0;v--)P=e?H(F,u,l,!0):O(!1,u,l,r,!1,null,T,m),L[v]=P;for(_=0;_<l;_++)for(I=0;I<u;I++){for(E=0,j=0,y=C-1;y>=0;y--)j|=(E=L[y][_][I]^E)<<y;if(R=t[j],N=h+_*d-I*p>>8,(M=f+_*p+I*d>>8)>=0&&M+x<=n&&N>=0&&N+A<=a)for(v=0;v<A;v++)for(D=w[N+v],B=R[v],y=0;y<x;y++)D[M+y]|=B[y];else{var q=void 0,X=void 0;for(v=0;v<A;v++)if(!((X=N+v)<0||X>=a))for(D=w[X],B=R[v],y=0;y<x;y++)(q=M+y)>=0&&q<n&&(D[q]|=B[y])}}return w}(e.mmr,o,e.template,s.width,s.height,e.defaultPixelValue,e.enableSkip,e.combinationOperator,e.gridWidth,e.gridHeight,e.gridOffsetX,e.gridOffsetY,e.gridVectorX,e.gridVectorY,c);this.drawBitmap(s,u)}},{key:"onImmediateLosslessHalftoneRegion",value:function(){this.onImmediateHalftoneRegion.apply(this,arguments)}},{key:"onTables",value:function(e,t,r,n){var a=this.customTables;a||(this.customTables=a={}),a[e]=function(e,t,r){var n,a,o=e[t],s=4294967295&(0,i.readUint32)(e,t+1),c=4294967295&(0,i.readUint32)(e,t+5),u=new U(e,t+9,r),l=1+(o>>1&7),f=1+(o>>4&7),h=[],d=s;do{n=u.readBits(l),a=u.readBits(f),h.push(new M([d,n,a,0])),d+=1<<a}while(d<c);return n=u.readBits(l),h.push(new M([s-1,n,32,0,"lower"])),n=u.readBits(l),h.push(new M([c,n,32,0])),1&o&&(n=u.readBits(l),h.push(new M([n,0]))),new B(h,!1)}(t,r,n)}}]),e}(),M=function e(t){l(this,e),2===t.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=t[0],this.rangeLength=0,this.prefixCode=t[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=t[0],this.prefixLength=t[1],this.rangeLength=t[2],this.prefixCode=t[3],this.isLowerRange="lower"===t[4])},N=function(){function e(t){l(this,e),this.children=[],t?(this.isLeaf=!0,this.rangeLength=t.rangeLength,this.rangeLow=t.rangeLow,this.isLowerRange=t.isLowerRange,this.isOOB=t.isOOB):this.isLeaf=!1}return u(e,[{key:"buildTree",value:function(t,r){var n=t.prefixCode>>r&1;if(r<=0)this.children[n]=new e(t);else{var a=this.children[n];a||(this.children[n]=a=new e(null)),a.buildTree(t,r-1)}}},{key:"decodeNode",value:function(e){if(this.isLeaf){if(this.isOOB)return null;var t=e.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-t:t)}var r=this.children[e.readBit()];if(!r)throw new g("invalid Huffman data");return r.decodeNode(e)}}]),e}(),B=function(){function e(t,r){l(this,e),r||this.assignPrefixCodes(t),this.rootNode=new N(null);for(var n=0,a=t.length;n<a;n++){var i=t[n];i.prefixLength>0&&this.rootNode.buildTree(i,i.prefixLength-1)}}return u(e,[{key:"decode",value:function(e){return this.rootNode.decodeNode(e)}},{key:"assignPrefixCodes",value:function(e){for(var t=e.length,r=0,n=0;n<t;n++)r=Math.max(r,e[n].prefixLength);for(var a=new Uint32Array(r+1),i=0;i<t;i++)a[e[i].prefixLength]++;var o,s,c,u=1,l=0;for(a[0]=0;u<=r;){for(o=l=l+a[u-1]<<1,s=0;s<t;)(c=e[s]).prefixLength===u&&(c.prefixCode=o,o++),s++;u++}}}]),e}(),D={};function L(e){var t,r=D[e];if(r)return r;switch(e){case 1:t=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:t=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:t=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:t=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:t=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:t=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:t=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:t=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:t=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:t=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:t=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:t=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:t=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:t=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:t=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new g("standard table B.".concat(e," does not exist"))}for(var n=0,a=t.length;n<a;n++)t[n]=new M(t[n]);return r=new B(t,!0),D[e]=r,r}var U=function(){function e(t,r,n){l(this,e),this.data=t,this.start=r,this.end=n,this.position=r,this.shift=-1,this.currentByte=0}return u(e,[{key:"readBit",value:function(){if(this.shift<0){if(this.position>=this.end)throw new g("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}var e=this.currentByte>>this.shift&1;return this.shift--,e}},{key:"readBits",value:function(e){var t,r=0;for(t=e-1;t>=0;t--)r|=this.readBit()<<t;return r}},{key:"byteAlign",value:function(){this.shift=-1}},{key:"next",value:function(){return this.position>=this.end?-1:this.data[this.position++]}}]),e}();function q(e,t,r){for(var n=0,a=0,i=t.length;a<i;a++){var o=r[t[a]];if(o){if(e===n)return o;n++}}throw new g("can't find custom Huffman table")}function X(e,t,r){for(var n=[],a=0;a<r;a++){var i=new Uint8Array(t);n.push(i);for(var o=0;o<t;o++)i[o]=e.readBit();e.byteAlign()}return n}function H(e,t,r,n){for(var a,i={K:-1,Columns:t,Rows:r,BlackIs1:!0,EndOfBlock:n},o=new s.CCITTFaxDecoder(e,i),c=[],u=!1,l=0;l<r;l++){var f=new Uint8Array(t);c.push(f);for(var h=-1,d=0;d<t;d++)h<0&&(-1===(a=o.readNextChar())&&(a=0,u=!0),h=7),f[d]=a>>h&1,h--}if(n&&!u)for(var p=0;p<5&&-1!==o.readNextChar();p++);return c}var $=function(){function e(){l(this,e)}return u(e,[{key:"parseChunks",value:function(e){return function(e){for(var t=new R,r=0,n=e.length;r<n;r++){var a=e[r];j(P({},a.data,a.start,a.end),t)}return t.buffer}(e)}},{key:"parse",value:function(e){var t=function(e){var t=e.length,r=0;if(151!==e[r]||74!==e[r+1]||66!==e[r+2]||50!==e[r+3]||13!==e[r+4]||10!==e[r+5]||26!==e[r+6]||10!==e[r+7])throw new g("parseJbig2 - invalid header.");var n=Object.create(null);r+=8;var a=e[r++];n.randomAccess=!(1&a),2&a||(n.numberOfPages=(0,i.readUint32)(e,r),r+=4);var o=P(n,e,r,t),s=new R;j(o,s);for(var c=s.currentPageInfo,u=c.width,l=c.height,f=s.buffer,h=new Uint8ClampedArray(u*l),d=0,p=0,m=0;m<l;m++)for(var v=0,y=void 0,b=0;b<u;b++)v||(v=128,y=f[p++]),h[d++]=y&v?0:255,v>>=1;return{imgData:h,width:u,height:l}}(e),r=t.imgData,n=t.width,a=t.height;return this.width=n,this.height=a,r}}]),e}();t.Jbig2Image=$},(e,t)=>{"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArithmeticDecoder=void 0;var n=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}],a=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.bp=r,this.dataEnd=n,this.chigh=t[r],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var t,a,i;return t=e,(a=[{key:"byteIn",value:function(){var e=this.data,t=this.bp;255===e[t]?e[t+1]>143?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t):(t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}},{key:"readBit",value:function(e,t){var r,a=e[t]>>1,i=1&e[t],o=n[a],s=o.qe,c=this.a-s;if(this.chigh<s)c<s?(c=s,r=i,a=o.nmps):(c=s,r=1^i,1===o.switchFlag&&(i=r),a=o.nlps);else{if(this.chigh-=s,0!=(32768&c))return this.a=c,i;c<s?(r=1^i,1===o.switchFlag&&(i=r),a=o.nlps):(r=i,a=o.nmps)}do{0===this.ct&&this.byteIn(),c<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(0==(32768&c));return this.a=c,e[t]=a<<1|i,r}}])&&r(t.prototype,a),i&&r(t,i),e}();t.ArithmeticDecoder=a},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.JpegStream=void 0;var a=r(127),i=r(113),o=r(136),s=r(4);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,e);var t,r,n,a=l(f);function f(e,t,r){var n,i;for(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);-1!==(i=e.getByte());)if(255===i){e.skip(-1);break}return(n=a.call(this,t)).stream=e,n.dict=e.dict,n.maybeLength=t,n.params=r,n}return t=f,(r=[{key:"bytes",get:function(){return(0,s.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}},{key:"ensureBuffer",value:function(e){}},{key:"readBlock",value:function(){if(!this.eof){var e={decodeTransform:void 0,colorTransform:void 0},t=this.dict.getArray("Decode","D");if(this.forceRGB&&Array.isArray(t)){for(var r=this.dict.get("BitsPerComponent")||8,n=t.length,a=new Int32Array(n),s=!1,c=(1<<r)-1,u=0;u<n;u+=2)a[u]=256*(t[u+1]-t[u])|0,a[u+1]=t[u]*c|0,256===a[u]&&0===a[u+1]||(s=!0);s&&(e.decodeTransform=a)}if((0,i.isDict)(this.params)){var l=this.params.get("ColorTransform");Number.isInteger(l)&&(e.colorTransform=l)}var f=new o.JpegImage(e);f.parse(this.bytes);var h=f.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=h,this.bufferLength=h.length,this.eof=!0}}}])&&c(t.prototype,r),n&&c(t,n),f}(a.DecodeStream);t.JpegStream=d},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JpegImage=void 0;var n=r(4),a=r(117);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){c(r,e);var t=l(r);function r(e){return s(this,r),t.call(this,"JPEG error: ".concat(e))}return r}(n.BaseException),p=function(e){c(r,e);var t=l(r);function r(e,n){var a;return s(this,r),(a=t.call(this,e)).scanLines=n,a}return r}(n.BaseException),g=function(e){c(r,e);var t=l(r);function r(){return s(this,r),t.apply(this,arguments)}return r}(n.BaseException),m=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),v=4017,y=799,b=3406,w=2276,k=1567,S=3784,x=5793,A=2896;function O(e,t){for(var r,n,a=0,i=16;i>0&&!e[i-1];)i--;var o,s=[{children:[],index:0}],c=s[0];for(r=0;r<i;r++){for(n=0;n<e[r];n++){for((c=s.pop()).children[c.index]=t[a];c.index>0;)c=s.pop();for(c.index++,s.push(c);s.length<=r;)s.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o;a++}r+1<i&&(s.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o)}return s[0].children}function C(e,t,r){return 64*((e.blocksPerLine+1)*t+r)}function T(e,t,r,i,s,c,u,l,f){var h=arguments.length>9&&void 0!==arguments[9]&&arguments[9],v=r.mcusPerLine,y=r.progressive,b=t,w=0,k=0;function S(){if(k>0)return k--,w>>k&1;if(255===(w=e[t++])){var n=e[t++];if(n){if(220===n&&h){t+=2;var i=(0,a.readUint16)(e,t);if(t+=2,i>0&&i!==r.scanLines)throw new p("Found DNL marker (0xFFDC) while parsing scan data",i)}else if(217===n){if(h){var o=N*(8===r.precision?8:0);if(o>0&&Math.round(r.scanLines/o)>=10)throw new p("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect \`scanLines\` parameter",o)}throw new g("Found EOI marker (0xFFD9) while parsing scan data")}throw new d("unexpected marker ".concat((w<<8|n).toString(16)))}}return k=7,w>>>7}function x(e){for(var t=e;;){switch(o(t=t[S()])){case"number":return t;case"object":continue}throw new d("invalid huffman sequence")}}function A(e){for(var t=0;e>0;)t=t<<1|S(),e--;return t}function O(e){if(1===e)return 1===S()?1:-1;var t=A(e);return t>=1<<e-1?t:t+(-1<<e)+1}function T(e,t){var r=x(e.huffmanTableDC),n=0===r?0:O(r);e.blockData[t]=e.pred+=n;for(var a=1;a<64;){var i=x(e.huffmanTableAC),o=15&i,s=i>>4;if(0!==o){var c=m[a+=s];e.blockData[t+c]=O(o),a++}else{if(s<15)break;a+=16}}}function F(e,t){var r=x(e.huffmanTableDC),n=0===r?0:O(r)<<f;e.blockData[t]=e.pred+=n}function P(e,t){e.blockData[t]|=S()<<f}var I=0;function E(e,t){if(I>0)I--;else for(var r=c,n=u;r<=n;){var a=x(e.huffmanTableAC),i=15&a,o=a>>4;if(0!==i){var s=m[r+=o];e.blockData[t+s]=O(i)*(1<<f),r++}else{if(o<15){I=A(o)+(1<<o)-1;break}r+=16}}}var j,R=0;function M(e,t){for(var r,n,a=c,i=u,o=0;a<=i;){var s=t+m[a],l=e.blockData[s]<0?-1:1;switch(R){case 0:if(o=(n=x(e.huffmanTableAC))>>4,0==(r=15&n))o<15?(I=A(o)+(1<<o),R=4):(o=16,R=1);else{if(1!==r)throw new d("invalid ACn encoding");j=O(r),R=o?2:3}continue;case 1:case 2:e.blockData[s]?e.blockData[s]+=l*(S()<<f):0==--o&&(R=2===R?3:0);break;case 3:e.blockData[s]?e.blockData[s]+=l*(S()<<f):(e.blockData[s]=j<<f,R=0);break;case 4:e.blockData[s]&&(e.blockData[s]+=l*(S()<<f))}a++}4===R&&0==--I&&(R=0)}var N=0;function B(e,t,r,n,a){var i=r%v;N=(r/v|0)*e.v+n;var o=i*e.h+a;t(e,C(e,N,o))}function D(e,t,r){N=r/e.blocksPerLine|0;var n=r%e.blocksPerLine;t(e,C(e,N,n))}var L,U,q,X,H,$,z=i.length;$=y?0===c?0===l?F:P:0===l?E:M:T;var G,W,V,K,Y=0;for(W=1===z?i[0].blocksPerLine*i[0].blocksPerColumn:v*r.mcusPerColumn;Y<=W;){var J=s?Math.min(W-Y,s):W;if(J>0){for(U=0;U<z;U++)i[U].pred=0;if(I=0,1===z)for(L=i[0],H=0;H<J;H++)D(L,$,Y),Y++;else for(H=0;H<J;H++){for(U=0;U<z;U++)for(V=(L=i[U]).h,K=L.v,q=0;q<K;q++)for(X=0;X<V;X++)B(L,$,Y,q,X);Y++}}if(k=0,!(G=_(e,t)))break;if(G.invalid){var Z=J>0?"unexpected":"excessive";(0,n.warn)("decodeScan - ".concat(Z," MCU data, current marker is: ").concat(G.invalid)),t=G.offset}if(!(G.marker>=65488&&G.marker<=65495))break;t+=2}return t-b}function F(e,t,r){var n,a,i,o,s,c,u,l,f,h,p,g,m,O,C,T,F,P=e.quantizationTable,_=e.blockData;if(!P)throw new d("missing required Quantization Table.");for(var I=0;I<64;I+=8)f=_[t+I],h=_[t+I+1],p=_[t+I+2],g=_[t+I+3],m=_[t+I+4],O=_[t+I+5],C=_[t+I+6],T=_[t+I+7],f*=P[I],0!=(h|p|g|m|O|C|T)?(h*=P[I+1],p*=P[I+2],g*=P[I+3],m*=P[I+4],O*=P[I+5],C*=P[I+6],T*=P[I+7],a=(n=(n=x*f+128>>8)+(a=x*m+128>>8)+1>>1)-a,F=(i=p)*S+(o=C)*k+128>>8,i=i*k-o*S+128>>8,u=(s=(s=A*(h-T)+128>>8)+(u=O<<4)+1>>1)-u,c=(l=(l=A*(h+T)+128>>8)+(c=g<<4)+1>>1)-c,o=(n=n+(o=F)+1>>1)-o,i=(a=a+i+1>>1)-i,F=s*w+l*b+2048>>12,s=s*b-l*w+2048>>12,l=F,F=c*y+u*v+2048>>12,c=c*v-u*y+2048>>12,u=F,r[I]=n+l,r[I+7]=n-l,r[I+1]=a+u,r[I+6]=a-u,r[I+2]=i+c,r[I+5]=i-c,r[I+3]=o+s,r[I+4]=o-s):(F=x*f+512>>10,r[I]=F,r[I+1]=F,r[I+2]=F,r[I+3]=F,r[I+4]=F,r[I+5]=F,r[I+6]=F,r[I+7]=F);for(var E=0;E<8;++E)f=r[E],0!=((h=r[E+8])|(p=r[E+16])|(g=r[E+24])|(m=r[E+32])|(O=r[E+40])|(C=r[E+48])|(T=r[E+56]))?(a=(n=4112+((n=x*f+2048>>12)+(a=x*m+2048>>12)+1>>1))-a,F=(i=p)*S+(o=C)*k+2048>>12,i=i*k-o*S+2048>>12,o=F,u=(s=(s=A*(h-T)+2048>>12)+(u=O)+1>>1)-u,c=(l=(l=A*(h+T)+2048>>12)+(c=g)+1>>1)-c,F=s*w+l*b+2048>>12,s=s*b-l*w+2048>>12,l=F,F=c*y+u*v+2048>>12,c=c*v-u*y+2048>>12,(f=(n=n+o+1>>1)+l)<16?f=0:f>=4080?f=255:f>>=4,(h=(a=a+i+1>>1)+(u=F))<16?h=0:h>=4080?h=255:h>>=4,(p=(i=a-i)+c)<16?p=0:p>=4080?p=255:p>>=4,(g=(o=n-o)+s)<16?g=0:g>=4080?g=255:g>>=4,(m=o-s)<16?m=0:m>=4080?m=255:m>>=4,(O=i-c)<16?O=0:O>=4080?O=255:O>>=4,(C=a-u)<16?C=0:C>=4080?C=255:C>>=4,(T=n-l)<16?T=0:T>=4080?T=255:T>>=4,_[t+E]=f,_[t+E+8]=h,_[t+E+16]=p,_[t+E+24]=g,_[t+E+32]=m,_[t+E+40]=O,_[t+E+48]=C,_[t+E+56]=T):(F=(F=x*f+8192>>14)<-2040?0:F>=2024?255:F+2056>>4,_[t+E]=F,_[t+E+8]=F,_[t+E+16]=F,_[t+E+24]=F,_[t+E+32]=F,_[t+E+40]=F,_[t+E+48]=F,_[t+E+56]=F)}function P(e,t){for(var r=t.blocksPerLine,n=t.blocksPerColumn,a=new Int16Array(64),i=0;i<n;i++)for(var o=0;o<r;o++)F(t,C(t,i,o),a);return t.blockData}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=e.length-1,i=r<t?r:t;if(t>=n)return null;var o=(0,a.readUint16)(e,t);if(o>=65472&&o<=65534)return{invalid:null,marker:o,offset:t};for(var s=(0,a.readUint16)(e,i);!(s>=65472&&s<=65534);){if(++i>=n)return null;s=(0,a.readUint16)(e,i)}return{invalid:o.toString(16),marker:s,offset:i}}var I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.decodeTransform,n=void 0===r?null:r,a=t.colorTransform,i=void 0===a?-1:a;s(this,e),this._decodeTransform=n,this._colorTransform=i}var t,r,o;return t=e,r=[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.dnlScanLines,i=void 0===r?null:r;function o(){var t=(0,a.readUint16)(e,l),r=(l+=2)+t-2,i=_(e,r,l);i&&i.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+i.invalid),r=i.offset);var o=e.subarray(l,r);return l+=o.length,o}function s(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),r=Math.ceil(e.scanLines/8/e.maxV),n=0,a=e.components.length;n<a;n++){var i=e.components[n],o=Math.ceil(Math.ceil(e.samplesPerLine/8)*i.h/e.maxH),s=Math.ceil(Math.ceil(e.scanLines/8)*i.v/e.maxV),c=t*i.h,u=r*i.v*64*(c+1);i.blockData=new Int16Array(u),i.blocksPerLine=o,i.blocksPerColumn=s}e.mcusPerLine=t,e.mcusPerColumn=r}var c,u,l=0,f=null,h=null,v=0,y=[],b=[],w=[],k=(0,a.readUint16)(e,l);if(l+=2,65496!==k)throw new d("SOI not found");k=(0,a.readUint16)(e,l),l+=2;e:for(;65497!==k;){var S=void 0,x=void 0,A=void 0;switch(k){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var C=o();65504===k&&74===C[0]&&70===C[1]&&73===C[2]&&70===C[3]&&0===C[4]&&(f={version:{major:C[5],minor:C[6]},densityUnits:C[7],xDensity:C[8]<<8|C[9],yDensity:C[10]<<8|C[11],thumbWidth:C[12],thumbHeight:C[13],thumbData:C.subarray(14,14+3*C[12]*C[13])}),65518===k&&65===C[0]&&100===C[1]&&111===C[2]&&98===C[3]&&101===C[4]&&(h={version:C[5]<<8|C[6],flags0:C[7]<<8|C[8],flags1:C[9]<<8|C[10],transformCode:C[11]});break;case 65499:for(var F=(0,a.readUint16)(e,l),I=F+(l+=2)-2;l<I;){var E=e[l++],j=new Uint16Array(64);if(E>>4==0)for(x=0;x<64;x++)j[m[x]]=e[l++];else{if(E>>4!=1)throw new d("DQT - invalid table spec");for(x=0;x<64;x++)j[m[x]]=(0,a.readUint16)(e,l),l+=2}y[15&E]=j}break;case 65472:case 65473:case 65474:if(c)throw new d("Only single frame JPEGs supported");l+=2,(c={}).extended=65473===k,c.progressive=65474===k,c.precision=e[l++];var R=(0,a.readUint16)(e,l);l+=2,c.scanLines=i||R,c.samplesPerLine=(0,a.readUint16)(e,l),l+=2,c.components=[],c.componentIds={};var M=e[l++],N=0,B=0;for(S=0;S<M;S++){var D=e[l],L=e[l+1]>>4,U=15&e[l+1];N<L&&(N=L),B<U&&(B=U);var q=e[l+2];A=c.components.push({h:L,v:U,quantizationId:q,quantizationTable:null}),c.componentIds[D]=A-1,l+=3}c.maxH=N,c.maxV=B,s(c);break;case 65476:var X=(0,a.readUint16)(e,l);for(l+=2,S=2;S<X;){var H=e[l++],$=new Uint8Array(16),z=0;for(x=0;x<16;x++,l++)z+=$[x]=e[l];var G=new Uint8Array(z);for(x=0;x<z;x++,l++)G[x]=e[l];S+=17+z,(H>>4==0?w:b)[15&H]=O($,G)}break;case 65501:l+=2,u=(0,a.readUint16)(e,l),l+=2;break;case 65498:var W=1==++v&&!i;l+=2;var V=e[l++],K=[];for(S=0;S<V;S++){var Y=e[l++],J=c.componentIds[Y],Z=c.components[J];Z.index=Y;var Q=e[l++];Z.huffmanTableDC=w[Q>>4],Z.huffmanTableAC=b[15&Q],K.push(Z)}var ee=e[l++],te=e[l++],re=e[l++];try{var ne=T(e,l,c,K,u,ee,te,re>>4,15&re,W);l+=ne}catch(t){if(t instanceof p)return(0,n.warn)("".concat(t.message," -- attempting to re-parse the JPEG image.")),this.parse(e,{dnlScanLines:t.scanLines});if(t instanceof g){(0,n.warn)("".concat(t.message," -- ignoring the rest of the image data."));break e}throw t}break;case 65500:l+=4;break;case 65535:255!==e[l]&&l--;break;default:var ae=_(e,l-2,l-3);if(ae&&ae.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+ae.invalid),l=ae.offset;break}if(!ae||l>=e.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new d("JpegImage.parse - unknown marker: "+k.toString(16))}k=(0,a.readUint16)(e,l),l+=2}this.width=c.samplesPerLine,this.height=c.scanLines,this.jfif=f,this.adobe=h,this.components=[];for(var ie=0,oe=c.components.length;ie<oe;ie++){var se=c.components[ie],ce=y[se.quantizationId];ce&&(se.quantizationTable=ce),this.components.push({index:se.index,output:P(0,se),scaleX:se.h/c.maxH,scaleY:se.v/c.maxV,blocksPerLine:se.blocksPerLine,blocksPerColumn:se.blocksPerColumn})}this.numComponents=this.components.length}},{key:"_getLinearizedBlockData",value:function(e,t){var r,n,a,i,o,s,c,u,l,f,h,d,p=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=this.width/e,m=this.height/t,v=0,y=this.components.length,b=e*t*y,w=new Uint8ClampedArray(b),k=new Uint32Array(e),S=4294967288;for(c=0;c<y;c++){if(n=(r=this.components[c]).scaleX*g,a=r.scaleY*m,v=c,h=r.output,i=r.blocksPerLine+1<<3,n!==d){for(o=0;o<e;o++)u=0|o*n,k[o]=(u&S)<<3|7&u;d=n}for(s=0;s<t;s++)for(f=i*((u=0|s*a)&S)|(7&u)<<3,o=0;o<e;o++)w[v]=h[f+k[o]],v+=y}var x=this._decodeTransform;if(p||4!==y||x||(x=new Int32Array([-256,255,-256,255,-256,255,-256,255])),x)for(c=0;c<b;)for(u=0,l=0;u<y;u++,c++,l+=2)w[c]=(w[c]*x[l]>>8)+x[l+1];return w}},{key:"_isColorConversionNeeded",get:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform&&(82!==this.components[0].index||71!==this.components[1].index||66!==this.components[2].index):1===this._colorTransform}},{key:"_convertYccToRgb",value:function(e){for(var t,r,n,a=0,i=e.length;a<i;a+=3)t=e[a],r=e[a+1],n=e[a+2],e[a]=t-179.456+1.402*n,e[a+1]=t+135.459-.344*r-.714*n,e[a+2]=t-226.816+1.772*r;return e}},{key:"_convertYcckToRgb",value:function(e){for(var t,r,n,a,i=0,o=0,s=e.length;o<s;o+=4)t=e[o],r=e[o+1],n=e[o+2],a=e[o+3],e[i++]=r*(-660635669420364e-19*r+.000437130475926232*n-54080610064599e-18*t+.00048449797120281*a-.154362151871126)-122.67195406894+n*(-.000957964378445773*n+.000817076911346625*t-.00477271405408747*a+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*a+.48357088451265)+a*(-.000336197177618394*a+.484791561490776),e[i++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*n+.000659397001245577*t+.000426105652938837*a-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*t+.000770482631801132*a-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*a+.25802910206845)+a*(-.000318913117588328*a-.213742400323665),e[i++]=r*(-.000570115196973677*r-263409051004589e-19*n+.0020741088115012*t-.00288260236853442*a+.814272968359295)-20.810012546947+n*(-153496057440975e-19*n-.000132689043961446*t+.000560833691242812*a-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*a+.116935020465145)+a*(-.000343531996510555*a+.24165260232407);return e.subarray(0,i)}},{key:"_convertYcckToCmyk",value:function(e){for(var t,r,n,a=0,i=e.length;a<i;a+=4)t=e[a],r=e[a+1],n=e[a+2],e[a]=434.456-t-1.402*n,e[a+1]=119.541-t+.344*r+.714*n,e[a+2]=481.816-t-1.772*r;return e}},{key:"_convertCmykToRgb",value:function(e){for(var t,r,n,a,i=0,o=0,s=e.length;o<s;o+=4)t=e[o],r=e[o+1],n=e[o+2],a=e[o+3],e[i++]=255+t*(-6747147073602441e-20*t+.0008379262121013727*r+.0002894718188643294*n+.003264231057537806*a-1.1185611867203937)+r*(26374107616089405e-21*r-8626949158638572e-20*n-.0002748769067499491*a-.02155688794978967)+n*(-3878099212869363e-20*n-.0003267808279485286*a+.0686742238595345)-a*(.0003361971776183937*a+.7430659151342254),e[i++]=255+t*(.00013596372813588848*t+.000924537132573585*r+.00010567359618683593*n+.0004791864687436512*a-.3109689587515875)+r*(-.00023545346108370344*r+.0002702845253534714*n+.0020200308977307156*a-.7488052167015494)+n*(6834815998235662e-20*n+.00015168452363460973*a-.09751927774728933)-a*(.0003189131175883281*a+.7364883807733168),e[i++]=255+t*(13598650411385307e-21*t+.00012423956175490851*r+.0004751985097583589*n-36729317476630422e-22*a-.05562186980264034)+r*(.00016141380598724676*r+.0009692239130725186*n+.0007782692450036253*a-.44015232367526463)+n*(5.068882914068769e-7*n+.0017778369011375071*a-.7591454649749609)-a*(.0003435319965105553*a+.7063770186160144);return e.subarray(0,i)}},{key:"getData",value:function(e){var t=e.width,r=e.height,n=e.forceRGB,a=void 0!==n&&n,i=e.isSourcePDF,o=void 0!==i&&i;if(this.numComponents>4)throw new d("Unsupported color mode");var s=this._getLinearizedBlockData(t,r,o);if(1===this.numComponents&&a){for(var c=s.length,u=new Uint8ClampedArray(3*c),l=0,f=0;f<c;f++){var h=s[f];u[l++]=h,u[l++]=h,u[l++]=h}return u}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(s);if(4===this.numComponents){if(this._isColorConversionNeeded)return a?this._convertYcckToRgb(s):this._convertYcckToCmyk(s);if(a)return this._convertCmykToRgb(s)}return s}}],r&&i(t.prototype,r),o&&i(t,o),e}();t.JpegImage=I},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.JpxStream=void 0;var a=r(127),i=r(138),o=r(4);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,r,n,a=u(l);function l(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,t)).stream=e,n.dict=e.dict,n.maybeLength=t,n.params=r,n}return t=l,(r=[{key:"bytes",get:function(){return(0,o.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}},{key:"ensureBuffer",value:function(e){}},{key:"readBlock",value:function(){if(!this.eof){var e=new i.JpxImage;e.parse(this.bytes);var t=e.width,r=e.height,n=e.componentsCount,a=e.tiles.length;if(1===a)this.buffer=e.tiles[0].items;else{for(var o=new Uint8ClampedArray(t*r*n),s=0;s<a;s++)for(var c=e.tiles[s],u=c.width,l=c.height,f=c.left,h=c.top,d=c.items,p=0,g=(t*h+f)*n,m=t*n,v=u*n,y=0;y<l;y++){var b=d.subarray(p,p+v);o.set(b,g),p+=v,g+=m}this.buffer=o}this.bufferLength=this.buffer.length,this.eof=!0}}}])&&s(t.prototype,r),n&&s(t,n),l}(a.DecodeStream);t.JpxStream=h},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.JpxImage=void 0;var a=r(4),i=r(117),o=r(134);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){l(r,e);var t=h(r);function r(e){return u(this,r),t.call(this,"JPX error: ".concat(e))}return r}(a.BaseException),m={LL:0,LH:1,HL:1,HH:2},v=function(){function e(){u(this,e),this.failOnCorruptedImage=!1}return c(e,[{key:"parse",value:function(e){if(65359!==(0,i.readUint16)(e,0))for(var t=e.length,r=0;r<t;){var n=8,o=(0,i.readUint32)(e,r),s=(0,i.readUint32)(e,r+4);if(r+=n,1===o&&(o=4294967296*(0,i.readUint32)(e,r)+(0,i.readUint32)(e,r+4),r+=8,n+=8),0===o&&(o=t-r+n),o<n)throw new g("Invalid box field size");var c=o-n,u=!0;switch(s){case 1785737832:u=!1;break;case 1668246642:var l=e[r];if(1===l){var f=(0,i.readUint32)(e,r+3);switch(f){case 16:case 17:case 18:break;default:(0,a.warn)("Unknown colorspace "+f)}}else 2===l&&(0,a.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,r,r+c);break;case 1783636e3:218793738!==(0,i.readUint32)(e,r)&&(0,a.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var h=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);(0,a.warn)("Unsupported header type ".concat(s," (").concat(h,")."))}u&&(r+=c)}else this.parseCodestream(e,0,e.length)}},{key:"parseImageProperties",value:function(e){for(var t=e.getByte();t>=0;)if(65361==(t<<8|(t=e.getByte()))){e.skip(4);var r=e.getInt32()>>>0,n=e.getInt32()>>>0,a=e.getInt32()>>>0,i=e.getInt32()>>>0;e.skip(16);var o=e.getUint16();return this.width=r-a,this.height=n-i,this.componentsCount=o,void(this.bitsPerComponent=8)}throw new g("No size marker found in JPX stream")}},{key:"parseCodestream",value:function(e,t,r){var n={},o=!1;try{for(var s=t;s+1<r;){var c=(0,i.readUint16)(e,s);s+=2;var u=0,l=void 0,f=void 0,h=void 0,d=void 0,p=void 0,m=void 0;switch(c){case 65359:n.mainHeader=!0;break;case 65497:break;case 65361:u=(0,i.readUint16)(e,s);var v={};v.Xsiz=(0,i.readUint32)(e,s+4),v.Ysiz=(0,i.readUint32)(e,s+8),v.XOsiz=(0,i.readUint32)(e,s+12),v.YOsiz=(0,i.readUint32)(e,s+16),v.XTsiz=(0,i.readUint32)(e,s+20),v.YTsiz=(0,i.readUint32)(e,s+24),v.XTOsiz=(0,i.readUint32)(e,s+28),v.YTOsiz=(0,i.readUint32)(e,s+32);var w=(0,i.readUint16)(e,s+36);v.Csiz=w;var k=[];l=s+38;for(var S=0;S<w;S++){var x={precision:1+(127&e[l]),isSigned:!!(128&e[l]),XRsiz:e[l+1],YRsiz:e[l+2]};l+=3,y(x,v),k.push(x)}n.SIZ=v,n.components=k,b(n,k),n.QCC=[],n.COC=[];break;case 65372:u=(0,i.readUint16)(e,s);var A={};switch(l=s+2,31&(f=e[l++])){case 0:d=8,p=!0;break;case 1:d=16,p=!1;break;case 2:d=16,p=!0;break;default:throw new Error("Invalid SQcd value "+f)}for(A.noQuantization=8===d,A.scalarExpounded=p,A.guardBits=f>>5,h=[];l<u+s;){var O={};8===d?(O.epsilon=e[l++]>>3,O.mu=0):(O.epsilon=e[l]>>3,O.mu=(7&e[l])<<8|e[l+1],l+=2),h.push(O)}A.SPqcds=h,n.mainHeader?n.QCD=A:(n.currentTile.QCD=A,n.currentTile.QCC=[]);break;case 65373:u=(0,i.readUint16)(e,s);var C={};l=s+2;var T=void 0;switch(n.SIZ.Csiz<257?T=e[l++]:(T=(0,i.readUint16)(e,l),l+=2),31&(f=e[l++])){case 0:d=8,p=!0;break;case 1:d=16,p=!1;break;case 2:d=16,p=!0;break;default:throw new Error("Invalid SQcd value "+f)}for(C.noQuantization=8===d,C.scalarExpounded=p,C.guardBits=f>>5,h=[];l<u+s;){var F={};8===d?(F.epsilon=e[l++]>>3,F.mu=0):(F.epsilon=e[l]>>3,F.mu=(7&e[l])<<8|e[l+1],l+=2),h.push(F)}C.SPqcds=h,n.mainHeader?n.QCC[T]=C:n.currentTile.QCC[T]=C;break;case 65362:u=(0,i.readUint16)(e,s);var P={};l=s+2;var _=e[l++];P.entropyCoderWithCustomPrecincts=!!(1&_),P.sopMarkerUsed=!!(2&_),P.ephMarkerUsed=!!(4&_),P.progressionOrder=e[l++],P.layersCount=(0,i.readUint16)(e,l),l+=2,P.multipleComponentTransform=e[l++],P.decompositionLevelsCount=e[l++],P.xcb=2+(15&e[l++]),P.ycb=2+(15&e[l++]);var j=e[l++];if(P.selectiveArithmeticCodingBypass=!!(1&j),P.resetContextProbabilities=!!(2&j),P.terminationOnEachCodingPass=!!(4&j),P.verticallyStripe=!!(8&j),P.predictableTermination=!!(16&j),P.segmentationSymbolUsed=!!(32&j),P.reversibleTransformation=e[l++],P.entropyCoderWithCustomPrecincts){for(var N=[];l<u+s;){var B=e[l++];N.push({PPx:15&B,PPy:B>>4})}P.precinctsSizes=N}var D=[];P.selectiveArithmeticCodingBypass&&D.push("selectiveArithmeticCodingBypass"),P.resetContextProbabilities&&D.push("resetContextProbabilities"),P.terminationOnEachCodingPass&&D.push("terminationOnEachCodingPass"),P.verticallyStripe&&D.push("verticallyStripe"),P.predictableTermination&&D.push("predictableTermination"),D.length>0&&(o=!0,(0,a.warn)("JPX: Unsupported COD options (".concat(D.join(", "),")."))),n.mainHeader?n.COD=P:(n.currentTile.COD=P,n.currentTile.COC=[]);break;case 65424:u=(0,i.readUint16)(e,s),(m={}).index=(0,i.readUint16)(e,s+2),m.length=(0,i.readUint32)(e,s+4),m.dataEnd=m.length+s-2,m.partIndex=e[s+8],m.partsCount=e[s+9],n.mainHeader=!1,0===m.partIndex&&(m.COD=n.COD,m.COC=n.COC.slice(0),m.QCD=n.QCD,m.QCC=n.QCC.slice(0)),n.currentTile=m;break;case 65427:0===(m=n.currentTile).partIndex&&(M(n,m.index),I(n)),E(n,e,s,u=m.dataEnd-s);break;case 65363:(0,a.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:u=(0,i.readUint16)(e,s);break;default:throw new Error("Unknown codestream code: "+c.toString(16))}s+=u}}catch(e){if(o||this.failOnCorruptedImage)throw new g(e.message);(0,a.warn)('JPX: Trying to recover from: "'.concat(e.message,'".'))}this.tiles=function(e){for(var t=e.SIZ,r=e.components,n=t.Csiz,a=[],i=0,o=e.tiles.length;i<o;i++){for(var s=e.tiles[i],c=[],u=0;u<n;u++)c[u]=R(e,s,u);var l=c[0],f=new Uint8ClampedArray(l.items.length*n),h={left:l.left,top:l.top,width:l.width,height:l.height,items:f},d=void 0,p=void 0,g=0,m=void 0,v=void 0,y=void 0,b=void 0,w=void 0;if(s.codingStyleDefaultParameters.multipleComponentTransform){var k=4===n,S=c[0].items,x=c[1].items,A=c[2].items,O=k?c[3].items:null;p=.5+(128<<(d=r[0].precision-8));var C=s.components[0],T=n-3;if(v=S.length,C.codingStyleParameters.reversibleTransformation)for(m=0;m<v;m++,g+=T){y=S[m]+p,b=x[m];var F=y-((w=A[m])+b>>2);f[g++]=F+w>>d,f[g++]=F>>d,f[g++]=F+b>>d}else for(m=0;m<v;m++,g+=T)y=S[m]+p,b=x[m],w=A[m],f[g++]=y+1.402*w>>d,f[g++]=y-.34413*b-.71414*w>>d,f[g++]=y+1.772*b>>d;if(k)for(m=0,g=3;m<v;m++,g+=4)f[g]=O[m]+p>>d}else for(var P=0;P<n;P++){var _=c[P].items;for(p=.5+(128<<(d=r[P].precision-8)),g=P,m=0,v=_.length;m<v;m++)f[g]=_[m]+p>>d,g+=n}a.push(h)}return a}(n),this.width=n.SIZ.Xsiz-n.SIZ.XOsiz,this.height=n.SIZ.Ysiz-n.SIZ.YOsiz,this.componentsCount=n.SIZ.Csiz}}]),e}();function y(e,t){e.x0=Math.ceil(t.XOsiz/e.XRsiz),e.x1=Math.ceil(t.Xsiz/e.XRsiz),e.y0=Math.ceil(t.YOsiz/e.YRsiz),e.y1=Math.ceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function b(e,t){for(var r,n=e.SIZ,a=[],i=Math.ceil((n.Xsiz-n.XTOsiz)/n.XTsiz),o=Math.ceil((n.Ysiz-n.YTOsiz)/n.YTsiz),s=0;s<o;s++)for(var c=0;c<i;c++)(r={}).tx0=Math.max(n.XTOsiz+c*n.XTsiz,n.XOsiz),r.ty0=Math.max(n.YTOsiz+s*n.YTsiz,n.YOsiz),r.tx1=Math.min(n.XTOsiz+(c+1)*n.XTsiz,n.Xsiz),r.ty1=Math.min(n.YTOsiz+(s+1)*n.YTsiz,n.Ysiz),r.width=r.tx1-r.tx0,r.height=r.ty1-r.ty0,r.components=[],a.push(r);e.tiles=a;for(var u=0,l=n.Csiz;u<l;u++)for(var f=t[u],h=0,d=a.length;h<d;h++){var p={};r=a[h],p.tcx0=Math.ceil(r.tx0/f.XRsiz),p.tcy0=Math.ceil(r.ty0/f.YRsiz),p.tcx1=Math.ceil(r.tx1/f.XRsiz),p.tcy1=Math.ceil(r.ty1/f.YRsiz),p.width=p.tcx1-p.tcx0,p.height=p.tcy1-p.tcy0,r.components[u]=p}}function w(e,t,r){var n=t.codingStyleParameters,a={};return n.entropyCoderWithCustomPrecincts?(a.PPx=n.precinctsSizes[r].PPx,a.PPy=n.precinctsSizes[r].PPy):(a.PPx=15,a.PPy=15),a.xcb_=r>0?Math.min(n.xcb,a.PPx-1):Math.min(n.xcb,a.PPx),a.ycb_=r>0?Math.min(n.ycb,a.PPy-1):Math.min(n.ycb,a.PPy),a}function k(e,t,r){var n=1<<r.PPx,a=1<<r.PPy,i=0===t.resLevel,o=1<<r.PPx+(i?0:-1),s=1<<r.PPy+(i?0:-1),c=t.trx1>t.trx0?Math.ceil(t.trx1/n)-Math.floor(t.trx0/n):0,u=t.try1>t.try0?Math.ceil(t.try1/a)-Math.floor(t.try0/a):0,l=c*u;t.precinctParameters={precinctWidth:n,precinctHeight:a,numprecinctswide:c,numprecinctshigh:u,numprecincts:l,precinctWidthInSubband:o,precinctHeightInSubband:s}}function S(e,t,r){var n,a,i,o,s=r.xcb_,c=r.ycb_,u=1<<s,l=1<<c,f=t.tbx0>>s,h=t.tby0>>c,d=t.tbx1+u-1>>s,p=t.tby1+l-1>>c,g=t.resolution.precinctParameters,m=[],v=[];for(a=h;a<p;a++)for(n=f;n<d;n++)if((i={cbx:n,cby:a,tbx0:u*n,tby0:l*a,tbx1:u*(n+1),tby1:l*(a+1)}).tbx0_=Math.max(t.tbx0,i.tbx0),i.tby0_=Math.max(t.tby0,i.tby0),i.tbx1_=Math.min(t.tbx1,i.tbx1),i.tby1_=Math.min(t.tby1,i.tby1),o=Math.floor((i.tbx0_-t.tbx0)/g.precinctWidthInSubband)+Math.floor((i.tby0_-t.tby0)/g.precinctHeightInSubband)*g.numprecinctswide,i.precinctNumber=o,i.subbandType=t.type,i.Lblock=3,!(i.tbx1_<=i.tbx0_||i.tby1_<=i.tby0_)){m.push(i);var y=v[o];void 0!==y?(n<y.cbxMin?y.cbxMin=n:n>y.cbxMax&&(y.cbxMax=n),a<y.cbyMin?y.cbxMin=a:a>y.cbyMax&&(y.cbyMax=a)):v[o]=y={cbxMin:n,cbyMin:a,cbxMax:n,cbyMax:a},i.precinct=y}t.codeblockParameters={codeblockWidth:s,codeblockHeight:c,numcodeblockwide:d-f+1,numcodeblockhigh:p-h+1},t.codeblocks=m,t.precincts=v}function x(e,t,r){for(var n=[],a=e.subbands,i=0,o=a.length;i<o;i++)for(var s=a[i].codeblocks,c=0,u=s.length;c<u;c++){var l=s[c];l.precinctNumber===t&&n.push(l)}return{layerNumber:r,codeblocks:n}}function A(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=n.codingStyleDefaultParameters.layersCount,i=t.Csiz,o=0,s=0;s<i;s++)o=Math.max(o,n.components[s].codingStyleParameters.decompositionLevelsCount);var c=0,u=0,l=0,f=0;this.nextPacket=function(){for(;c<a;c++){for(;u<=o;u++){for(;l<i;l++){var e=n.components[l];if(!(u>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[u],r=t.precinctParameters.numprecincts;f<r;){var s=x(t,f,c);return f++,s}f=0}}l=0}u=0}throw new g("Out of packets")}}function O(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=n.codingStyleDefaultParameters.layersCount,i=t.Csiz,o=0,s=0;s<i;s++)o=Math.max(o,n.components[s].codingStyleParameters.decompositionLevelsCount);var c=0,u=0,l=0,f=0;this.nextPacket=function(){for(;c<=o;c++){for(;u<a;u++){for(;l<i;l++){var e=n.components[l];if(!(c>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[c],r=t.precinctParameters.numprecincts;f<r;){var s=x(t,f,u);return f++,s}f=0}}l=0}u=0}throw new g("Out of packets")}}function C(e){var t,r,n,a,i=e.SIZ,o=e.currentTile.index,s=e.tiles[o],c=s.codingStyleDefaultParameters.layersCount,u=i.Csiz,l=0;for(n=0;n<u;n++){var f=s.components[n];l=Math.max(l,f.codingStyleParameters.decompositionLevelsCount)}var h=new Int32Array(l+1);for(r=0;r<=l;++r){var d=0;for(n=0;n<u;++n){var p=s.components[n].resolutions;r<p.length&&(d=Math.max(d,p[r].precinctParameters.numprecincts))}h[r]=d}t=0,r=0,n=0,a=0,this.nextPacket=function(){for(;r<=l;r++){for(;a<h[r];a++){for(;n<u;n++){var e=s.components[n];if(!(r>e.codingStyleParameters.decompositionLevelsCount)){var i=e.resolutions[r],o=i.precinctParameters.numprecincts;if(!(a>=o)){for(;t<c;){var f=x(i,a,t);return t++,f}t=0}}}n=0}a=0}throw new g("Out of packets")}}function T(e){var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=n.codingStyleDefaultParameters.layersCount,i=t.Csiz,o=_(n),s=o,c=0,u=0,l=0,f=0,h=0;this.nextPacket=function(){for(;h<s.maxNumHigh;h++){for(;f<s.maxNumWide;f++){for(;l<i;l++){for(var e=n.components[l],t=e.codingStyleParameters.decompositionLevelsCount;u<=t;u++){var r=e.resolutions[u],d=o.components[l].resolutions[u],p=P(f,h,d,s,r);if(null!==p){for(;c<a;){var m=x(r,p,c);return c++,m}c=0}}u=0}l=0}f=0}throw new g("Out of packets")}}function F(e){var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=n.codingStyleDefaultParameters.layersCount,i=t.Csiz,o=_(n),s=0,c=0,u=0,l=0,f=0;this.nextPacket=function(){for(;u<i;++u){for(var e=n.components[u],t=o.components[u],r=e.codingStyleParameters.decompositionLevelsCount;f<t.maxNumHigh;f++){for(;l<t.maxNumWide;l++){for(;c<=r;c++){var h=e.resolutions[c],d=t.resolutions[c],p=P(l,f,d,t,h);if(null!==p){for(;s<a;){var m=x(h,p,s);return s++,m}s=0}}c=0}l=0}f=0}throw new g("Out of packets")}}function P(e,t,r,n,a){var i=e*n.minWidth,o=t*n.minHeight;if(i%r.width!=0||o%r.height!=0)return null;var s=o/r.width*a.precinctParameters.numprecinctswide;return i/r.height+s}function _(e){for(var t=e.components.length,r=Number.MAX_VALUE,n=Number.MAX_VALUE,a=0,i=0,o=new Array(t),s=0;s<t;s++){for(var c=e.components[s],u=c.codingStyleParameters.decompositionLevelsCount,l=new Array(u+1),f=Number.MAX_VALUE,h=Number.MAX_VALUE,d=0,p=0,g=1,m=u;m>=0;--m){var v=c.resolutions[m],y=g*v.precinctParameters.precinctWidth,b=g*v.precinctParameters.precinctHeight;f=Math.min(f,y),h=Math.min(h,b),d=Math.max(d,v.precinctParameters.numprecinctswide),p=Math.max(p,v.precinctParameters.numprecinctshigh),l[m]={width:y,height:b},g<<=1}r=Math.min(r,f),n=Math.min(n,h),a=Math.max(a,d),i=Math.max(i,p),o[s]={resolutions:l,minWidth:f,minHeight:h,maxNumWide:d,maxNumHigh:p}}return{components:o,minWidth:r,minHeight:n,maxNumWide:a,maxNumHigh:i}}function I(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],a=t.Csiz,i=0;i<a;i++){for(var o=n.components[i],s=o.codingStyleParameters.decompositionLevelsCount,c=[],u=[],l=0;l<=s;l++){var f=w(0,o,l),h={},d=1<<s-l;h.trx0=Math.ceil(o.tcx0/d),h.try0=Math.ceil(o.tcy0/d),h.trx1=Math.ceil(o.tcx1/d),h.try1=Math.ceil(o.tcy1/d),h.resLevel=l,k(0,h,f),c.push(h);var p=void 0;if(0===l)(p={}).type="LL",p.tbx0=Math.ceil(o.tcx0/d),p.tby0=Math.ceil(o.tcy0/d),p.tbx1=Math.ceil(o.tcx1/d),p.tby1=Math.ceil(o.tcy1/d),p.resolution=h,S(0,p,f),u.push(p),h.subbands=[p];else{var m=1<<s-l+1,v=[];(p={}).type="HL",p.tbx0=Math.ceil(o.tcx0/m-.5),p.tby0=Math.ceil(o.tcy0/m),p.tbx1=Math.ceil(o.tcx1/m-.5),p.tby1=Math.ceil(o.tcy1/m),p.resolution=h,S(0,p,f),u.push(p),v.push(p),(p={}).type="LH",p.tbx0=Math.ceil(o.tcx0/m),p.tby0=Math.ceil(o.tcy0/m-.5),p.tbx1=Math.ceil(o.tcx1/m),p.tby1=Math.ceil(o.tcy1/m-.5),p.resolution=h,S(0,p,f),u.push(p),v.push(p),(p={}).type="HH",p.tbx0=Math.ceil(o.tcx0/m-.5),p.tby0=Math.ceil(o.tcy0/m-.5),p.tbx1=Math.ceil(o.tcx1/m-.5),p.tby1=Math.ceil(o.tcy1/m-.5),p.resolution=h,S(0,p,f),u.push(p),v.push(p),h.subbands=v}}o.resolutions=c,o.subbands=u}var y=n.codingStyleDefaultParameters.progressionOrder;switch(y){case 0:n.packetsIterator=new A(e);break;case 1:n.packetsIterator=new O(e);break;case 2:n.packetsIterator=new C(e);break;case 3:n.packetsIterator=new T(e);break;case 4:n.packetsIterator=new F(e);break;default:throw new g("Unsupported progression order ".concat(y))}}function E(e,t,r,n){var a,o=0,s=0,c=!1;function u(e){for(;s<e;){var n=t[r+o];o++,c?(a=a<<7|n,s+=7,c=!1):(a=a<<8|n,s+=8),255===n&&(c=!0)}return a>>>(s-=e)&(1<<e)-1}function l(e){return 255===t[r+o-1]&&t[r+o]===e?(f(1),!0):255===t[r+o]&&t[r+o+1]===e&&(f(2),!0)}function f(e){o+=e}function h(){s=0,c&&(o++,c=!1)}function d(){if(0===u(1))return 1;if(0===u(1))return 2;var e=u(2);return e<3?e+3:(e=u(5))<31?e+6:(e=u(7))+37}for(var p=e.currentTile.index,g=e.tiles[p],m=e.COD.sopMarkerUsed,v=e.COD.ephMarkerUsed,y=g.packetsIterator;o<n;){h(),m&&l(145)&&f(4);var b=y.nextPacket();if(u(1)){for(var w=b.layerNumber,k=[],S=void 0,x=0,A=b.codeblocks.length;x<A;x++){var O=(S=b.codeblocks[x]).precinct,C=S.cbx-O.cbxMin,T=S.cby-O.cbyMin,F=!1,P=!1,_=void 0;if(void 0!==S.included)F=!!u(1);else{var I=void 0;if(void 0!==(O=S.precinct).inclusionTree)I=O.inclusionTree;else{var E=O.cbxMax-O.cbxMin+1,j=O.cbyMax-O.cbyMin+1;I=new q(E,j,w),_=new U(E,j),O.inclusionTree=I,O.zeroBitPlanesTree=_}if(I.reset(C,T,w))for(;;){if(!u(1)){I.incrementValue(w);break}if(!I.nextLevel()){S.included=!0,F=P=!0;break}}}if(F){if(P){for((_=O.zeroBitPlanesTree).reset(C,T);;)if(u(1)){if(!_.nextLevel())break}else _.incrementValue();S.zeroBitPlanes=_.value}for(var R=d();u(1);)S.Lblock++;var M=(0,i.log2)(R),N=u((R<1<<M?M-1:M)+S.Lblock);k.push({codeblock:S,codingpasses:R,dataLength:N})}}for(h(),v&&l(146);k.length>0;){var B=k.shift();void 0===(S=B.codeblock).data&&(S.data=[]),S.data.push({data:t,start:r+o,end:r+o+B.dataLength,codingpasses:B.codingpasses}),o+=B.dataLength}}}return o}function j(e,t,r,n,a,i,s,c){for(var u=n.tbx0,l=n.tby0,f=n.tbx1-n.tbx0,h=n.codeblocks,d="H"===n.type.charAt(0)?1:0,p="H"===n.type.charAt(1)?t:0,g=0,m=h.length;g<m;++g){var v=h[g],y=v.tbx1_-v.tbx0_,b=v.tby1_-v.tby0_;if(0!==y&&0!==b&&void 0!==v.data){var w=new X(y,b,v.subbandType,v.zeroBitPlanes,i),k=2,S=v.data,x=0,A=0,O=void 0,C=void 0,T=void 0;for(O=0,C=S.length;O<C;O++)x+=(T=S[O]).end-T.start,A+=T.codingpasses;var F=new Uint8Array(x),P=0;for(O=0,C=S.length;O<C;O++){var _=(T=S[O]).data.subarray(T.start,T.end);F.set(_,P),P+=_.length}var I=new o.ArithmeticDecoder(F,0,x);for(w.setDecoder(I),O=0;O<A;O++){switch(k){case 0:w.runSignificancePropagationPass();break;case 1:w.runMagnitudeRefinementPass();break;case 2:w.runCleanupPass(),c&&w.checkSegmentationSymbol()}k=(k+1)%3}var E=v.tbx0_-u+(v.tby0_-l)*f,j=w.coefficentsSign,R=w.coefficentsMagnitude,M=w.bitsDecoded,N=s?0:.5,B=void 0,D=void 0,L=void 0;P=0;var U="LL"!==n.type;for(O=0;O<b;O++){var q=2*(E/f|0)*(t-f)+d+p;for(B=0;B<y;B++){if(0!==(D=R[P])){D=(D+N)*a,0!==j[P]&&(D=-D),L=M[P];var H=U?q+(E<<1):E;e[H]=s&&L>=i?D:D*(1<<i-L)}E++,P++}E+=f-y}}}}function R(e,t,r){for(var n=t.components[r],a=n.codingStyleParameters,i=n.quantizationParameters,o=a.decompositionLevelsCount,s=i.SPqcds,c=i.scalarExpounded,u=i.guardBits,l=a.segmentationSymbolUsed,f=e.components[r].precision,h=a.reversibleTransformation,d=h?new z:new $,p=[],g=0,v=0;v<=o;v++){for(var y=n.resolutions[v],b=y.trx1-y.trx0,w=y.try1-y.try0,k=new Float32Array(b*w),S=0,x=y.subbands.length;S<x;S++){var A=void 0,O=void 0;c?(A=s[g].mu,O=s[g].epsilon,g++):(A=s[0].mu,O=s[0].epsilon+(v>0?1-v:0));var C=y.subbands[S],T=m[C.type];j(k,b,0,C,h?1:Math.pow(2,f+T-O)*(1+A/2048),u+O-1,h,l)}p.push({width:b,height:w,items:k})}var F=d.calculate(p,n.tcx0,n.tcy0);return{left:n.tcx0,top:n.tcy0,width:F.width,height:F.height,items:F.items}}function M(e,t){for(var r=e.SIZ.Csiz,n=e.tiles[t],a=0;a<r;a++){var i=n.components[a],o=void 0!==e.currentTile.QCC[a]?e.currentTile.QCC[a]:e.currentTile.QCD;i.quantizationParameters=o;var s=void 0!==e.currentTile.COC[a]?e.currentTile.COC[a]:e.currentTile.COD;i.codingStyleParameters=s}n.codingStyleDefaultParameters=e.currentTile.COD}t.JpxImage=v;var N,B,D,L,U=function(){function e(t,r){u(this,e);var n=(0,i.log2)(Math.max(t,r))+1;this.levels=[];for(var a=0;a<n;a++){var o={width:t,height:r,items:[]};this.levels.push(o),t=Math.ceil(t/2),r=Math.ceil(r/2)}}return c(e,[{key:"reset",value:function(e,t){for(var r,n=0,a=0;n<this.levels.length;){var i=e+t*(r=this.levels[n]).width;if(void 0!==r.items[i]){a=r.items[i];break}r.index=i,e>>=1,t>>=1,n++}n--,(r=this.levels[n]).items[r.index]=a,this.currentLevel=n,delete this.value}},{key:"incrementValue",value:function(){var e=this.levels[this.currentLevel];e.items[e.index]++}},{key:"nextLevel",value:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return--e<0?(this.value=r,!1):(this.currentLevel=e,(t=this.levels[e]).items[t.index]=r,!0)}}]),e}(),q=function(){function e(t,r,n){u(this,e);var a=(0,i.log2)(Math.max(t,r))+1;this.levels=[];for(var o=0;o<a;o++){for(var s=new Uint8Array(t*r),c=0,l=s.length;c<l;c++)s[c]=n;var f={width:t,height:r,items:s};this.levels.push(f),t=Math.ceil(t/2),r=Math.ceil(r/2)}}return c(e,[{key:"reset",value:function(e,t,r){for(var n=0;n<this.levels.length;){var a=this.levels[n],i=e+t*a.width;a.index=i;var o=a.items[i];if(255===o)break;if(o>r)return this.currentLevel=n,this.propagateValues(),!1;e>>=1,t>>=1,n++}return this.currentLevel=n-1,!0}},{key:"incrementValue",value:function(e){var t=this.levels[this.currentLevel];t.items[t.index]=e+1,this.propagateValues()}},{key:"propagateValues",value:function(){for(var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];--e>=0;)(t=this.levels[e]).items[t.index]=r}},{key:"nextLevel",value:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return t.items[t.index]=255,!(--e<0||(this.currentLevel=e,(t=this.levels[e]).items[t.index]=r,0))}}]),e}(),X=(N=17,B=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),D=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),L=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]),function(){function e(t,r,n,a,i){var o;u(this,e),this.width=t,this.height=r,o="HH"===n?L:"HL"===n?D:B,this.contextLabelTable=o;var s,c=t*r;this.neighborsSignificance=new Uint8Array(c),this.coefficentsSign=new Uint8Array(c),s=i>14?new Uint32Array(c):i>6?new Uint16Array(c):new Uint8Array(c),this.coefficentsMagnitude=s,this.processingFlags=new Uint8Array(c);var l=new Uint8Array(c);if(0!==a)for(var f=0;f<c;f++)l[f]=a;this.bitsDecoded=l,this.reset()}return c(e,[{key:"setDecoder",value:function(e){this.decoder=e}},{key:"reset",value:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}},{key:"setNeighborsSignificance",value:function(e,t,r){var n,a=this.neighborsSignificance,i=this.width,o=this.height,s=t>0,c=t+1<i;e>0&&(n=r-i,s&&(a[n-1]+=16),c&&(a[n+1]+=16),a[n]+=4),e+1<o&&(n=r+i,s&&(a[n-1]+=16),c&&(a[n+1]+=16),a[n]+=4),s&&(a[r-1]+=1),c&&(a[r+1]+=1),a[r]|=128}},{key:"runSignificancePropagationPass",value:function(){for(var e=this.decoder,t=this.width,r=this.height,n=this.coefficentsMagnitude,a=this.coefficentsSign,i=this.neighborsSignificance,o=this.processingFlags,s=this.contexts,c=this.contextLabelTable,u=this.bitsDecoded,l=0;l<r;l+=4)for(var f=0;f<t;f++)for(var h=l*t+f,d=0;d<4;d++,h+=t){var p=l+d;if(p>=r)break;if(o[h]&=-2,!n[h]&&i[h]){var g=c[i[h]];if(e.readBit(s,g)){var m=this.decodeSignBit(p,f,h);a[h]=m,n[h]=1,this.setNeighborsSignificance(p,f,h),o[h]|=2}u[h]++,o[h]|=1}}}},{key:"decodeSignBit",value:function(e,t,r){var n,a,i,o,s,c,u=this.width,l=this.height,f=this.coefficentsMagnitude,h=this.coefficentsSign;o=t>0&&0!==f[r-1],t+1<u&&0!==f[r+1]?(i=h[r+1],n=o?1-i-(a=h[r-1]):1-i-i):n=o?1-(a=h[r-1])-a:0;var d=3*n;return o=e>0&&0!==f[r-u],e+1<l&&0!==f[r+u]?(i=h[r+u],n=o?1-i-(a=h[r-u])+d:1-i-i+d):n=o?1-(a=h[r-u])-a+d:d,n>=0?(s=9+n,c=this.decoder.readBit(this.contexts,s)):(s=9-n,c=1^this.decoder.readBit(this.contexts,s)),c}},{key:"runMagnitudeRefinementPass",value:function(){for(var e,t=this.decoder,r=this.width,n=this.height,a=this.coefficentsMagnitude,i=this.neighborsSignificance,o=this.contexts,s=this.bitsDecoded,c=this.processingFlags,u=r*n,l=4*r,f=0;f<u;f=e){e=Math.min(u,f+l);for(var h=0;h<r;h++)for(var d=f+h;d<e;d+=r)if(a[d]&&0==(1&c[d])){var p=16;0!=(2&c[d])&&(c[d]^=2,p=0==(127&i[d])?15:14);var g=t.readBit(o,p);a[d]=a[d]<<1|g,s[d]++,c[d]|=1}}}},{key:"runCleanupPass",value:function(){for(var e,t=this.decoder,r=this.width,n=this.height,a=this.neighborsSignificance,i=this.coefficentsMagnitude,o=this.coefficentsSign,s=this.contexts,c=this.contextLabelTable,u=this.bitsDecoded,l=this.processingFlags,f=r,h=2*r,d=3*r,p=0;p<n;p=e){e=Math.min(p+4,n);for(var g=p*r,m=p+3<n,v=0;v<r;v++){var y=g+v,b=0,w=y,k=p,S=void 0;if(m&&0===l[y]&&0===l[y+f]&&0===l[y+h]&&0===l[y+d]&&0===a[y]&&0===a[y+f]&&0===a[y+h]&&0===a[y+d]){if(!t.readBit(s,18)){u[y]++,u[y+f]++,u[y+h]++,u[y+d]++;continue}0!=(b=t.readBit(s,N)<<1|t.readBit(s,N))&&(k=p+b,w+=b*r),S=this.decodeSignBit(k,v,w),o[w]=S,i[w]=1,this.setNeighborsSignificance(k,v,w),l[w]|=2,w=y;for(var x=p;x<=k;x++,w+=r)u[w]++;b++}for(k=p+b;k<e;k++,w+=r)if(!i[w]&&0==(1&l[w])){var A=c[a[w]];1===t.readBit(s,A)&&(S=this.decodeSignBit(k,v,w),o[w]=S,i[w]=1,this.setNeighborsSignificance(k,v,w),l[w]|=2),u[w]++}}}}},{key:"checkSegmentationSymbol",value:function(){var e=this.decoder,t=this.contexts;if(10!=(e.readBit(t,N)<<3|e.readBit(t,N)<<2|e.readBit(t,N)<<1|e.readBit(t,N)))throw new g("Invalid segmentation symbol")}}]),e}()),H=function(){function e(){u(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize Transform.")}return c(e,[{key:"calculate",value:function(e,t,r){for(var n=e[0],a=1,i=e.length;a<i;a++)n=this.iterate(n,e[a],t,r);return n}},{key:"extend",value:function(e,t,r){var n=t-1,a=t+1,i=t+r-2,o=t+r;e[n--]=e[a++],e[o++]=e[i--],e[n--]=e[a++],e[o++]=e[i--],e[n--]=e[a++],e[o++]=e[i--],e[n]=e[a],e[o]=e[i]}},{key:"filter",value:function(e,t,r){(0,a.unreachable)("Abstract method \`filter\` called")}},{key:"iterate",value:function(e,t,r,n){var a,i,o,s,c,u,l=e.width,f=e.height,h=e.items,d=t.width,p=t.height,g=t.items;for(o=0,a=0;a<f;a++)for(s=2*a*d,i=0;i<l;i++,o++,s+=2)g[s]=h[o];h=e.items=null;var m=new Float32Array(d+8);if(1===d){if(0!=(1&r))for(u=0,o=0;u<p;u++,o+=d)g[o]*=.5}else for(u=0,o=0;u<p;u++,o+=d)m.set(g.subarray(o,o+d),4),this.extend(m,4,d),this.filter(m,4,d),g.set(m.subarray(4,4+d),o);var v=16,y=[];for(a=0;a<v;a++)y.push(new Float32Array(p+8));var b,w=0;if(e=4+p,1===p){if(0!=(1&n))for(c=0;c<d;c++)g[c]*=.5}else for(c=0;c<d;c++){if(0===w){for(v=Math.min(d-c,v),o=c,s=4;s<e;o+=d,s++)for(b=0;b<v;b++)y[b][s]=g[o+b];w=v}var k=y[--w];if(this.extend(k,4,p),this.filter(k,4,p),0===w)for(o=c-v+1,s=4;s<e;o+=d,s++)for(b=0;b<v;b++)g[o+b]=y[b][s]}return{width:d,height:p,items:g}}}]),e}(),$=function(e){l(r,e);var t=h(r);function r(){return u(this,r),t.apply(this,arguments)}return c(r,[{key:"filter",value:function(e,t,r){var n,a,i,o,s=r>>1,c=-1.586134342059924,u=-.052980118572961,l=.882911075530934,f=.443506852043971,h=1.230174104914001;for(n=(t|=0)-3,a=s+4;a--;n+=2)e[n]*=.8128930661159609;for(i=f*e[(n=t-2)-1],a=s+3;a--&&(o=f*e[n+1],e[n]=h*e[n]-i-o,a--);n+=2)i=f*e[(n+=2)+1],e[n]=h*e[n]-i-o;for(i=l*e[(n=t-1)-1],a=s+2;a--&&(o=l*e[n+1],e[n]-=i+o,a--);n+=2)i=l*e[(n+=2)+1],e[n]-=i+o;for(i=u*e[(n=t)-1],a=s+1;a--&&(o=u*e[n+1],e[n]-=i+o,a--);n+=2)i=u*e[(n+=2)+1],e[n]-=i+o;if(0!==s)for(i=c*e[(n=t+1)-1],a=s;a--&&(o=c*e[n+1],e[n]-=i+o,a--);n+=2)i=c*e[(n+=2)+1],e[n]-=i+o}}]),r}(H),z=function(e){l(r,e);var t=h(r);function r(){return u(this,r),t.apply(this,arguments)}return c(r,[{key:"filter",value:function(e,t,r){var n,a,i=r>>1;for(n=t|=0,a=i+1;a--;n+=2)e[n]-=e[n-1]+e[n+1]+2>>2;for(n=t+1,a=i;a--;n+=2)e[n]+=e[n-1]+e[n+1]>>1}}]),r}(H)},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.LZWStream=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,s=o(c);function c(e,t,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,t)).str=e,n.dict=e.dict,n.cachedData=0,n.bitsCached=0;for(var a=4096,i={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(a),dictionaryLengths:new Uint16Array(a),dictionaryPrevCodes:new Uint16Array(a),currentSequence:new Uint8Array(a),currentSequenceLength:0},o=0;o<256;++o)i.dictionaryValues[o]=o,i.dictionaryLengths[o]=1;return n.lzwState=i,n}return t=c,(r=[{key:"readBits",value:function(e){for(var t=this.bitsCached,r=this.cachedData;t<e;){var n=this.str.getByte();if(-1===n)return this.eof=!0,null;r=r<<8|n,t+=8}return this.bitsCached=t-=e,this.cachedData=r,this.lastCode=null,r>>>t&(1<<e)-1}},{key:"readBlock",value:function(){var e,t,r,n=1024,a=this.lzwState;if(a){var i=a.earlyChange,o=a.nextCode,s=a.dictionaryValues,c=a.dictionaryLengths,u=a.dictionaryPrevCodes,l=a.codeLength,f=a.prevCode,h=a.currentSequence,d=a.currentSequenceLength,p=0,g=this.bufferLength,m=this.ensureBuffer(this.bufferLength+n);for(e=0;e<512;e++){var v=this.readBits(l),y=d>0;if(v<256)h[0]=v,d=1;else{if(!(v>=258)){if(256===v){l=9,o=258,d=0;continue}this.eof=!0,delete this.lzwState;break}if(v<o)for(t=(d=c[v])-1,r=v;t>=0;t--)h[t]=s[r],r=u[r];else h[d++]=h[0]}if(y&&(u[o]=f,c[o]=c[f]+1,s[o]=h[0],l=++o+i&o+i-1?l:0|Math.min(Math.log(o+i)/.6931471805599453+1,12)),f=v,n<(p+=d)){do{n+=512}while(n<p);m=this.ensureBuffer(this.bufferLength+n)}for(t=0;t<d;t++)m[g++]=h[t]}a.nextCode=o,a.codeLength=l,a.prevCode=f,a.currentSequenceLength=d,this.bufferLength=g}}}])&&a(t.prototype,r),n&&a(t,n),c}(r(127).DecodeStream);t.LZWStream=u},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PredictorStream=void 0;var a=r(127),i=r(4),o=r(113);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,r,n,a=u(h);function h(e,t,r){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),n=a.call(this,t),!(0,o.isDict)(r))return l(n,e);var s=n.predictor=r.get("Predictor")||1;if(s<=1)return l(n,e);if(2!==s&&(s<10||s>15))throw new i.FormatError("Unsupported predictor: ".concat(s));n.readBlock=2===s?n.readBlockTiff:n.readBlockPng,n.str=e,n.dict=e.dict;var c=n.colors=r.get("Colors")||1,u=n.bits=r.get("BitsPerComponent")||8,d=n.columns=r.get("Columns")||1;return n.pixBytes=c*u+7>>3,n.rowBytes=d*c*u+7>>3,l(n,f(n))}return t=h,(r=[{key:"readBlockTiff",value:function(){var e=this.rowBytes,t=this.bufferLength,r=this.ensureBuffer(t+e),n=this.bits,a=this.colors,i=this.str.getBytes(e);if(this.eof=!i.length,!this.eof){var o,s=0,c=0,u=0,l=0,f=t;if(1===n&&1===a)for(o=0;o<e;++o){var h=i[o]^s;h^=h>>1,h^=h>>2,s=(1&(h^=h>>4))<<7,r[f++]=h}else if(8===n){for(o=0;o<a;++o)r[f++]=i[o];for(;o<e;++o)r[f]=r[f-a]+i[o],f++}else if(16===n){var d=2*a;for(o=0;o<d;++o)r[f++]=i[o];for(;o<e;o+=2){var p=((255&i[o])<<8)+(255&i[o+1])+((255&r[f-d])<<8)+(255&r[f-d+1]);r[f++]=p>>8&255,r[f++]=255&p}}else{var g=new Uint8Array(a+1),m=(1<<n)-1,v=0,y=t,b=this.columns;for(o=0;o<b;++o)for(var w=0;w<a;++w)u<n&&(s=s<<8|255&i[v++],u+=8),g[w]=g[w]+(s>>u-n)&m,u-=n,c=c<<n|g[w],(l+=n)>=8&&(r[y++]=c>>l-8&255,l-=8);l>0&&(r[y++]=(c<<8-l)+(s&(1<<8-l)-1))}this.bufferLength+=e}}},{key:"readBlockPng",value:function(){var e=this.rowBytes,t=this.pixBytes,r=this.str.getByte(),n=this.str.getBytes(e);if(this.eof=!n.length,!this.eof){var a=this.bufferLength,o=this.ensureBuffer(a+e),s=o.subarray(a-e,a);0===s.length&&(s=new Uint8Array(e));var c,u,l,f=a;switch(r){case 0:for(c=0;c<e;++c)o[f++]=n[c];break;case 1:for(c=0;c<t;++c)o[f++]=n[c];for(;c<e;++c)o[f]=o[f-t]+n[c]&255,f++;break;case 2:for(c=0;c<e;++c)o[f++]=s[c]+n[c]&255;break;case 3:for(c=0;c<t;++c)o[f++]=(s[c]>>1)+n[c];for(;c<e;++c)o[f]=(s[c]+o[f-t]>>1)+n[c]&255,f++;break;case 4:for(c=0;c<t;++c)u=s[c],l=n[c],o[f++]=u+l;for(;c<e;++c){u=s[c];var h=s[c-t],d=o[f-t],p=d+u-h,g=p-d;g<0&&(g=-g);var m=p-u;m<0&&(m=-m);var v=p-h;v<0&&(v=-v),l=n[c],o[f++]=g<=m&&g<=v?d+l:m<=v?u+l:h+l}break;default:throw new i.FormatError("Unsupported predictor: ".concat(r))}this.bufferLength+=e}}}])&&s(t.prototype,r),n&&s(t,n),h}(a.DecodeStream);t.PredictorStream=d},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.RunLengthStream=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,s=o(c);function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=s.call(this,t)).str=e,r.dict=e.dict,r}return t=c,(r=[{key:"readBlock",value:function(){var e=this.str.getBytes(2);if(!e||e.length<2||128===e[0])this.eof=!0;else{var t,r=this.bufferLength,n=e[0];if(n<128){if((t=this.ensureBuffer(r+n+1))[r++]=e[1],n>0){var a=this.str.getBytes(n);t.set(a,r),r+=n}}else{n=257-n;var i=e[1];t=this.ensureBuffer(r+n+1);for(var o=0;o<n;o++)t[r++]=i}this.bufferLength=r}}}])&&a(t.prototype,r),n&&a(t,n),c}(r(127).DecodeStream);t.RunLengthStream=u},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Font=t.ErrorFont=void 0;var n=r(4),a=r(143),i=r(146),o=r(147),s=r(145),c=r(149),u=r(148),l=r(150),f=r(151),h=r(152),d=r(124),p=r(153),g=r(117),m=r(118),v=r(154);function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=w(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),e}var O=[[57344,63743],[1048576,1114109]],C=1e3,T=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isMonospace","isSerifFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],F=["cMap","defaultEncoding","differences","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function P(e){if(e.fontMatrix&&e.fontMatrix[0]!==n.FONT_IDENTITY_MATRIX[0]){var t=.001/e.fontMatrix[0],r=e.widths;for(var a in r)r[a]*=t;e.defaultWidth*=t}}var _=function(){function e(t,r,n,a,i,o,s,c){S(this,e),this.fontChar=t,this.unicode=r,this.accent=n,this.width=a,this.vmetric=i,this.operatorListId=o,this.isSpace=s,this.isInFont=c}return A(e,[{key:"matchesForCache",value:function(e,t,r,n,a,i,o,s){return this.fontChar===e&&this.unicode===t&&this.accent===r&&this.width===n&&this.vmetric===a&&this.operatorListId===i&&this.isSpace===o&&this.isInFont===s}}]),e}();function I(e,t){return(e<<8)+t}function E(e,t){var r=(e<<8)+t;return 32768&r?r-65536:r}function j(e){return String.fromCharCode(e>>8&255,255&e)}function R(e){return e>32767?e=32767:e<-32768&&(e=-32768),String.fromCharCode(e>>8&255,255&e)}function M(e){var t=e.peekBytes(4);return"ttcf"===(0,n.bytesToString)(t)}function N(e,t){var r,a,i=t.type,o=t.subtype,s=t.composite;return function(e){var t=e.peekBytes(4);return 65536===(0,g.readUint32)(t,0)||"true"===(0,n.bytesToString)(t)}(e)||M(e)?r=s?"CIDFontType2":"TrueType":function(e){var t=e.peekBytes(4);return"OTTO"===(0,n.bytesToString)(t)}(e)?r=s?"CIDFontType2":"OpenType":function(e){var t=e.peekBytes(2);return 37===t[0]&&33===t[1]||128===t[0]&&1===t[1]}(e)?r=s?"CIDFontType0":"MMType1"===i?"MMType1":"Type1":function(e){var t=e.peekBytes(4);return t[0]>=1&&t[3]>=1&&t[3]<=4}(e)?s?(r="CIDFontType0",a="CIDFontType0C"):(r="MMType1"===i?"MMType1":"Type1",a="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),r=i,a=o),[r,a]}function B(e,t,r){for(var n,a=[],i=0,o=e.length;i<o;i++)-1!==(n=(0,u.getUnicodeForGlyph)(e[i],t))&&(a[i]=n);for(var s in r)-1!==(n=(0,u.getUnicodeForGlyph)(r[s],t))&&(a[+s]=n);return a}function D(e,t,r){var a=Object.create(null),i=[],o=0,s=O[o][0],c=O[o][1];for(var u in e){var l=e[u|=0];if(t(l)){if(s>c){if(++o>=O.length){(0,n.warn)("Ran out of space in font private use area.");break}s=O[o][0],c=O[o][1]}var f=s++;0===l&&(l=r),a[f]=l,i[u]=f}}return{toFontChar:i,charCodeToGlyphId:a,nextAvailableFontCharCode:s}}function L(e,t){var r,a,i,o,s=function(e,t){var r=[];for(var n in e)e[n]>=t||r.push({fontCharCode:0|n,glyphId:e[n]});0===r.length&&r.push({fontCharCode:0,glyphId:0}),r.sort((function(e,t){return e.fontCharCode-t.fontCharCode}));for(var a=[],i=r.length,o=0;o<i;){var s=r[o].fontCharCode,c=[r[o].glyphId];++o;for(var u=s;o<i&&u+1===r[o].fontCharCode&&(c.push(r[o].glyphId),++o,65535!=++u););a.push([s,u,c])}return a}(e,t),c=s[s.length-1][1]>65535?2:1,u="\\0\\0"+j(c)+"\\0\\0"+(0,n.string32)(4+8*c);for(r=s.length-1;r>=0&&!(s[r][0]<=65535);--r);var l=r+1;s[r][0]<65535&&65535===s[r][1]&&(s[r][1]=65534);var f,h,d,g,m=s[r][1]<65535?1:0,v=l+m,y=p.OpenTypeFileBuilder.getSearchParams(v,2),b="",w="",k="",S="",x="",A=0;for(r=0,a=l;r<a;r++){h=(f=s[r])[0],d=f[1],b+=j(h),w+=j(d);var O=!0;for(i=1,o=(g=f[2]).length;i<o;++i)if(g[i]!==g[i-1]+1){O=!1;break}if(O)k+=j(g[0]-h&65535),S+=j(0);else{var C=2*(v-r)+2*A;for(A+=d-h+1,k+=j(0),S+=j(C),i=0,o=g.length;i<o;++i)x+=j(g[i])}}m>0&&(w+="\xFF\xFF",b+="\xFF\xFF",k+="\\0",S+="\\0\\0");var T="\\0\\0"+j(2*v)+j(y.range)+j(y.entry)+j(y.rangeShift)+w+"\\0\\0"+b+k+S+x,F="",P="";if(c>1){for(u+="\\0\\0\\n"+(0,n.string32)(4+8*c+4+T.length),F="",r=0,a=s.length;r<a;r++){h=(f=s[r])[0];var _=(g=f[2])[0];for(i=1,o=g.length;i<o;++i)g[i]!==g[i-1]+1&&(d=f[0]+i-1,F+=(0,n.string32)(h)+(0,n.string32)(d)+(0,n.string32)(_),h=d+1,_=g[i]);F+=(0,n.string32)(h)+(0,n.string32)(f[1])+(0,n.string32)(_)}P="\\0\\f\\0\\0"+(0,n.string32)(F.length+16)+"\\0\\0\\0\\0"+(0,n.string32)(F.length/12)}return u+"\\0"+j(T.length+4)+T+P+F}function U(e,t,r){r=r||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};var a=0,i=0,o=0,s=0,c=null,l=0;if(t){for(var f in t){(c>(f|=0)||!c)&&(c=f),l<f&&(l=f);var h=(0,u.getUnicodeRangeFor)(f);if(h<32)a|=1<<h;else if(h<64)i|=1<<h-32;else if(h<96)o|=1<<h-64;else{if(!(h<123))throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");s|=1<<h-96}}l>65535&&(l=65535)}else c=0,l=255;var d=e.bbox||[0,0,0,0],p=r.unitsPerEm||1/(e.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],g=e.ascentScaled?1:p/C,m=r.ascent||Math.round(g*(e.ascent||d[3])),v=r.descent||Math.round(g*(e.descent||d[1]));v>0&&e.descent>0&&d[1]<0&&(v=-v);var y=r.yMax||m,b=-r.yMin||-v;return"\\0$\xF4\\0\\0\\0\x8A\xBB\\0\\0\\0\x8C\x8A\xBB\\0\\0\xDF\\x001\\0\\0\\0\\0"+String.fromCharCode(e.fixedPitch?9:0)+"\\0\\0\\0\\0\\0\\0"+(0,n.string32)(a)+(0,n.string32)(i)+(0,n.string32)(o)+(0,n.string32)(s)+"*21*"+j(e.italicAngle?1:0)+j(c||e.firstChar)+j(l||e.lastChar)+j(m)+j(v)+"\\0d"+j(y)+j(b)+"\\0\\0\\0\\0\\0\\0\\0\\0"+j(e.xHeight)+j(e.capHeight)+j(0)+j(c||e.firstChar)+"\\0"}function q(e){var t=Math.floor(e.italicAngle*Math.pow(2,16));return"\\0\\0\\0"+(0,n.string32)(t)+"\\0\\0\\0\\0"+(0,n.string32)(e.fixedPitch)+"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0"}function X(e){return e.replace(/[^\\x21-\\x7E]|[[\\](){}<>/%]/g,"").slice(0,63)}function H(e,t){t||(t=[[],[]]);var r,n,a,i,o,s=[t[0][0]||"Original licence",t[0][1]||e,t[0][2]||"Unknown",t[0][3]||"uniqueID",t[0][4]||e,t[0][5]||"Version 0.11",t[0][6]||X(e),t[0][7]||"Unknown",t[0][8]||"Unknown",t[0][9]||"Unknown"],c=[];for(r=0,n=s.length;r<n;r++){var u=[];for(a=0,i=(o=t[1][r]||s[r]).length;a<i;a++)u.push(j(o.charCodeAt(a)));c.push(u.join(""))}var l=[s,c],f=["\\0","\\0"],h=["\\0\\0","\\0"],d=["\\0\\0","\\t"],p=s.length*f.length,g="\\0\\0"+j(p)+j(12*p+6),m=0;for(r=0,n=f.length;r<n;r++){var v=l[r];for(a=0,i=v.length;a<i;a++)o=v[a],g+=f[r]+h[r]+d[r]+j(a)+j(o.length)+j(m),m+=o.length}return g+=s.join("")+c.join("")}var $=function(){function e(t,r,a){S(this,e),this.name=t,this.mimetype=null,this.disableFontFace=!1,this.loadedName=a.loadedName,this.isType3Font=a.isType3Font,this.missingFile=!1,this.cssFontInfo=a.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null),this.isSerifFont=!!(a.flags&i.FontFlags.Serif),this.isSymbolicFont=!!(a.flags&i.FontFlags.Symbolic),this.isMonospace=!!(a.flags&i.FontFlags.FixedPitch);var o=a.type,s=a.subtype;this.type=o,this.subtype=s;var c="sans-serif";if(this.isMonospace?c="monospace":this.isSerifFont&&(c="serif"),this.fallbackName=c,this.differences=a.differences,this.widths=a.widths,this.defaultWidth=a.defaultWidth,this.composite=a.composite,this.cMap=a.cMap,this.capHeight=a.capHeight/C,this.ascent=a.ascent/C,this.descent=a.descent/C,this.fontMatrix=a.fontMatrix,this.bbox=a.bbox,this.defaultEncoding=a.defaultEncoding,this.toUnicode=a.toUnicode,this.fallbackToUnicode=a.fallbackToUnicode||new l.ToUnicodeMap,this.toFontChar=[],"Type3"!==a.type){if(this.cidEncoding=a.cidEncoding,this.vertical=!!a.vertical,this.vertical&&(this.vmetrics=a.vmetrics,this.defaultVMetrics=a.defaultVMetrics),!r||r.isEmpty)return r&&(0,n.warn)('Font file is empty in "'+t+'" ('+this.loadedName+")"),void this.fallbackToSystemFont(a);var u,h=b(N(r,a),2);o=h[0],s=h[1],o===this.type&&s===this.subtype||(0,n.info)("Inconsistent font file Type/SubType, expected: "+"".concat(this.type,"/").concat(this.subtype," but found: ").concat(o,"/").concat(s,"."));try{switch(o){case"MMType1":(0,n.info)("MMType1 font ("+t+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";var d="Type1C"===s||"CIDFontType0C"===s?new f.CFFFont(r,a):new v.Type1Font(t,r,a);P(a),u=this.convert(t,d,a);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",u=this.checkAndRepair(t,r,a),this.isOpenType&&(P(a),o="OpenType");break;default:throw new n.FormatError("Font ".concat(o," is not supported"))}}catch(e){return(0,n.warn)(e),void this.fallbackToSystemFont(a)}this.data=u,this.fontType=(0,i.getFontType)(o,s),this.fontMatrix=a.fontMatrix,this.widths=a.widths,this.defaultWidth=a.defaultWidth,this.toUnicode=a.toUnicode,this.seacMap=a.seacMap}else{for(var p=0;p<256;p++)this.toFontChar[p]=this.differences[p]||a.defaultEncoding[p];this.fontType=n.FontType.TYPE3}}return A(e,[{key:"renderer",get:function(){var e=h.FontRendererFactory.create(this,i.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",e)}},{key:"exportData",value:function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=n?[].concat(T,F):T,i=Object.create(null),o=y(a);try{for(o.s();!(r=o.n()).done;)void 0!==(t=this[e=r.value])&&(i[e]=t)}catch(e){o.e(e)}finally{o.f()}return i}},{key:"fallbackToSystemFont",value:function(e){var t=this;this.missingFile=!0;var r=this.name,a=this.type,f=this.subtype,h=r.replace(/[,_]/g,"-").replace(/\\s/g,""),d=(0,c.getStdFontMap)(),p=(0,c.getNonStdFontMap)(),g=!!d[h],m=!(!p[h]||!d[p[h]]);h=d[h]||p[h]||h,this.bold=-1!==h.search(/bold/gi),this.italic=-1!==h.search(/oblique/gi)||-1!==h.search(/italic/gi),this.black=-1!==r.search(/Black/g);var v=-1!==r.search(/Narrow/g);if(this.remeasure=(!g||v)&&Object.keys(this.widths).length>0,(g||m)&&"CIDFontType2"===a&&this.cidEncoding.startsWith("Identity-")){var y=(0,c.getGlyphMapForStandardFonts)(),b=e.cidToGidMap,w=[];for(var k in y)w[+k]=y[k];if(/Arial-?Black/i.test(r)){var S=(0,c.getSupplementalGlyphMapForArialBlack)();for(var x in S)w[+x]=S[x]}else if(/Calibri/i.test(r)){var A=(0,c.getSupplementalGlyphMapForCalibri)();for(var O in A)w[+O]=A[O]}if(b)for(var C in w){var T=w[C];void 0!==b[T]&&(w[+C]=b[T])}this.toUnicode instanceof l.IdentityToUnicodeMap||this.toUnicode.forEach((function(e,t){w[+e]=t})),this.toFontChar=w,this.toUnicode=new l.ToUnicodeMap(w)}else if(/Symbol/i.test(h))this.toFontChar=B(s.SymbolSetEncoding,(0,o.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(h))/Wingdings/i.test(r)&&(0,n.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=B(s.ZapfDingbatsEncoding,(0,o.getDingbatsGlyphsUnicode)(),this.differences);else if(g)this.toFontChar=B(this.defaultEncoding,(0,o.getGlyphsUnicode)(),this.differences);else{var F=(0,o.getGlyphsUnicode)(),P=[];if(this.toUnicode.forEach((function(e,r){if(!t.composite){var n=t.differences[e]||t.defaultEncoding[e],a=(0,u.getUnicodeForGlyph)(n,F);-1!==a&&(r=a)}P[+e]=r})),this.composite&&this.toUnicode instanceof l.IdentityToUnicodeMap&&/Verdana/i.test(r)){var _=(0,c.getGlyphMapForStandardFonts)();for(var I in _)P[+I]=_[I]}this.toFontChar=P}this.loadedName=h.split("-")[0],this.fontType=(0,i.getFontType)(a,f)}},{key:"checkAndRepair",value:function(e,t,r){var c=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function u(e,t){var r=Object.create(null);r["OS/2"]=null,r.cmap=null,r.head=null,r.hhea=null,r.hmtx=null,r.maxp=null,r.name=null,r.post=null;for(var n=0;n<t;n++){var a=l(e);c.includes(a.tag)&&0!==a.length&&(r[a.tag]=a)}return r}function l(e){var t=e.getString(4),r=e.getInt32()>>>0,n=e.getInt32()>>>0,a=e.getInt32()>>>0,i=e.pos;e.pos=e.start?e.start:0,e.skip(n);var o=e.getBytes(a);return e.pos=i,"head"===t&&(o[8]=o[9]=o[10]=o[11]=0,o[17]|=32),{tag:t,checksum:r,length:a,offset:n,data:o}}function h(e){return{version:e.getString(4),numTables:e.getUint16(),searchRange:e.getUint16(),entrySelector:e.getUint16(),rangeShift:e.getUint16()}}function g(e,t,r,n,a,i){var o={length:0,sizeOfInstructions:0};if(r-t<=12)return o;var s,c,u,l=e.subarray(t,r),f=E(l[0],l[1]);if(f<0)return u=f=-1,(s=l)[1+(c=0)]=u,s[c]=u>>>8,n.set(l,a),o.length=l.length,o;var h,d=10,p=0;for(h=0;h<f;h++)p=1+(l[d]<<8|l[d+1]),d+=2;var g=d,m=l[d]<<8|l[d+1];o.sizeOfInstructions=m;var v=d+=2+m,y=0;for(h=0;h<p;h++){var b=l[d++];192&b&&(l[d-1]=63&b);var w=2;2&b?w=1:16&b&&(w=0);var k=2;4&b?k=1:32&b&&(k=0);var S=w+k;if(y+=S,8&b){var x=l[d++];h+=x,y+=x*S}}if(0===y)return o;var A=d+y;return A>l.length?o:!i&&m>0?(n.set(l.subarray(0,g),a),n.set([0,0],a+g),n.set(l.subarray(v,A),a+g+2),A-=m,l.length-A>3&&(A=A+3&-4),o.length=A,o):l.length-A>3?(A=A+3&-4,n.set(l.subarray(0,A),a),o.length=A,o):(n.set(l,a),o.length=l.length,o)}function v(e){var r=(t.start?t.start:0)+e.offset;t.pos=r;var n=[[],[]],a=e.length,i=r+a;if(0!==t.getUint16()||a<6)return n;var o,s,c=t.getUint16(),u=t.getUint16(),l=[];for(o=0;o<c&&t.pos+12<=i;o++){var f={platform:t.getUint16(),encoding:t.getUint16(),language:t.getUint16(),name:t.getUint16(),length:t.getUint16(),offset:t.getUint16()};(1===f.platform&&0===f.encoding&&0===f.language||3===f.platform&&1===f.encoding&&1033===f.language)&&l.push(f)}for(o=0,s=l.length;o<s;o++){var h=l[o];if(!(h.length<=0)){var d=r+u+h.offset;if(!(d+h.length>i)){t.pos=d;var p=h.name;if(h.encoding){for(var g="",m=0,v=h.length;m<v;m+=2)g+=String.fromCharCode(t.getUint16());n[1][p]=g}else n[0][p]=t.getString(h.length)}}}return n}var b,w,k,S,x=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function A(e,t){for(var r,a,i,o,s,c=e.data,u=0,l=0,f=0,h=[],d=[],p=[],g=t.tooComplexToFollowFunctions,m=!1,v=0,y=0,b=c.length;u<b;){var w=c[u++];if(64===w)if(a=c[u++],m||y)u+=a;else for(r=0;r<a;r++)h.push(c[u++]);else if(65===w)if(a=c[u++],m||y)u+=2*a;else for(r=0;r<a;r++)i=c[u++],h.push(i<<8|c[u++]);else if(176==(248&w))if(a=w-176+1,m||y)u+=a;else for(r=0;r<a;r++)h.push(c[u++]);else if(184==(248&w))if(a=w-184+1,m||y)u+=2*a;else for(r=0;r<a;r++)i=c[u++],h.push(i<<8|c[u++]);else if(43!==w||g)if(44!==w||g){if(45===w)if(m)m=!1,l=u;else{if(!(s=d.pop()))return(0,n.warn)("TT: ENDF bad stack"),void(t.hintsValid=!1);o=p.pop(),c=s.data,u=s.i,t.functionsStackDeltas[o]=h.length-s.stackTop}else if(137===w)(m||y)&&((0,n.warn)("TT: nested IDEFs not allowed"),g=!0),m=!0,f=u;else if(88===w)++v;else if(27===w)y=v;else if(89===w)y===v&&(y=0),--v;else if(28===w&&!m&&!y){var k=h[h.length-1];k>0&&(u+=k-1)}}else(m||y)&&((0,n.warn)("TT: nested FDEFs not allowed"),g=!0),m=!0,f=u,o=h.pop(),t.functionsDefined[o]={data:c,i:u};else if(!m&&!y)if(o=h[h.length-1],isNaN(o))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(t.functionsUsed[o]=!0,o in t.functionsStackDeltas){var S=h.length+t.functionsStackDeltas[o];if(S<0)return(0,n.warn)("TT: CALL invalid functions stack delta."),void(t.hintsValid=!1);h.length=S}else if(o in t.functionsDefined&&!p.includes(o)){if(d.push({data:c,i:u,stackTop:h.length-1}),p.push(o),!(s=t.functionsDefined[o]))return(0,n.warn)("TT: CALL non-existent function"),void(t.hintsValid=!1);c=s.data,u=s.i}if(!m&&!y){var A=0;for(w<=142?A=x[w]:w>=192&&w<=223?A=-1:w>=224&&(A=-2),w>=113&&w<=117&&(a=h.pop(),isNaN(a)||(A=2*-a));A<0&&h.length>0;)h.pop(),A++;for(;A>0;)h.push(NaN),A--}}t.tooComplexToFollowFunctions=g;var O=[c];u>c.length&&O.push(new Uint8Array(u-c.length)),f>l&&((0,n.warn)("TT: complementing a missing function tail"),O.push(new Uint8Array([34,45]))),function(e,t){if(t.length>1){var r,n,a=0;for(r=0,n=t.length;r<n;r++)a+=t[r].length;a=a+3&-4;var i=new Uint8Array(a),o=0;for(r=0,n=t.length;r<n;r++)i.set(t[r],o),o+=t[r].length;e.data=i,e.length=a}}(e,O)}if(M(t=new m.Stream(new Uint8Array(t.getBytes())))){var O=function(e,t){for(var r,a=function(e){var t=e.getString(4);(0,n.assert)("ttcf"===t,"Must be a TrueType Collection font.");for(var r=e.getUint16(),a=e.getUint16(),i=e.getInt32()>>>0,o=[],s=0;s<i;s++)o.push(e.getInt32()>>>0);var c={ttcTag:t,majorVersion:r,minorVersion:a,numFonts:i,offsetTable:o};switch(r){case 1:return c;case 2:return c.dsigTag=e.getInt32()>>>0,c.dsigLength=e.getInt32()>>>0,c.dsigOffset=e.getInt32()>>>0,c}throw new n.FormatError("Invalid TrueType Collection majorVersion: ".concat(r,"."))}(e),i=a.numFonts,o=a.offsetTable,s=t.split("+"),c=0;c<i;c++){e.pos=(e.start||0)+o[c];var l=h(e),f=u(e,l.numTables);if(!f.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');for(var d=v(f.name),p=0,g=d.length;p<g;p++)for(var m=0,b=d[p].length;m<b;m++){var w=d[p][m]&&d[p][m].replace(/\\s/g,"");if(w){if(w===t)return{header:l,tables:f};if(!(s.length<2)){var k,S=y(s);try{for(S.s();!(k=S.n()).done;){var x=k.value;w===x&&(r={name:x,header:l,tables:f})}}catch(e){S.e(e)}finally{S.f()}}}}}if(r)return(0,n.warn)('TrueType Collection does not contain "'.concat(t,'" font, ')+'falling back to "'.concat(r.name,'" font instead.')),{header:r.header,tables:r.tables};throw new n.FormatError('TrueType Collection does not contain "'.concat(t,'" font.'))}(t,this.name);b=O.header,w=O.tables}else b=h(t),w=u(t,b.numTables);var C=!w["CFF "];if(C){if(!w.loca)throw new n.FormatError('Required "loca" table is not found');w.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),w.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{var T=r.composite&&((r.cidToGidMap||[]).length>0||!(r.cMap instanceof d.IdentityCMap));if("OTTO"===b.version&&!T||!w.head||!w.hhea||!w.maxp||!w.post)return S=new m.Stream(w["CFF "].data),k=new f.CFFFont(S,r),P(r),this.convert(e,k,r);delete w.glyf,delete w.loca,delete w.fpgm,delete w.prep,delete w["cvt "],this.isOpenType=!0}if(!w.maxp)throw new n.FormatError('Required "maxp" table is not found');t.pos=(t.start||0)+w.maxp.offset;var F=t.getInt32(),_=t.getUint16(),j=_+1,R=!0;j>65535&&(R=!1,j=_,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));var N=0,B=0;F>=65536&&w.maxp.length>=22&&(t.pos+=8,t.getUint16()>2&&(w.maxp.data[14]=0,w.maxp.data[15]=2),t.pos+=4,N=t.getUint16(),t.pos+=4,B=t.getUint16()),w.maxp.data[4]=j>>8,w.maxp.data[5]=255&j;var X=function(e,t,r,a){var i={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(e&&A(e,i),t&&A(t,i),e&&function(e,t){if(!e.tooComplexToFollowFunctions){if(e.functionsDefined.length>t)return(0,n.warn)("TT: more functions defined than expected"),void(e.hintsValid=!1);for(var r=0,a=e.functionsUsed.length;r<a;r++){if(r>t)return(0,n.warn)("TT: invalid function id: "+r),void(e.hintsValid=!1);if(e.functionsUsed[r]&&!e.functionsDefined[r])return(0,n.warn)("TT: undefined function: "+r),void(e.hintsValid=!1)}}}(i,a),r&&1&r.length){var o=new Uint8Array(r.length+1);o.set(r.data),r.data=o}return i.hintsValid}(w.fpgm,w.prep,w["cvt "],N);if(X||(delete w.fpgm,delete w.prep,delete w["cvt "]),function(e,t,r,a,i){if(t){e.pos=(e.start?e.start:0)+t.offset,e.pos+=4,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=2,e.pos+=8,e.pos+=2;var o=e.getUint16();o>a&&((0,n.info)("The numOfMetrics ("+o+") should not be greater than the numGlyphs ("+a+")"),o=a,t.data[34]=(65280&o)>>8,t.data[35]=255&o);var s=a-o-(r.length-4*o>>1);if(s>0){var c=new Uint8Array(r.length+2*s);c.set(r.data),i&&(c[r.length]=r.data[2],c[r.length+1]=r.data[3]),r.data=c}}else r&&(r.data=null)}(t,w.hhea,w.hmtx,j,R),!w.head)throw new n.FormatError('Required "head" table is not found');!function(e,t,r){var a,i,o,s,c=e.data,u=(a=c[0],i=c[1],o=c[2],s=c[3],(a<<24)+(i<<16)+(o<<8)+s);u>>16!=1&&((0,n.info)("Attempting to fix invalid version in head table: "+u),c[0]=0,c[1]=1,c[2]=0,c[3]=0);var l=I(c[50],c[51]);if(l<0||l>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+l);var f=t+1;if(r===f<<1)c[50]=0,c[51]=0;else{if(r!==f<<2)throw new n.FormatError("Could not fix indexToLocFormat: "+l);c[50]=0,c[51]=1}}}(w.head,_,C?w.loca.length:0);var $=Object.create(null);if(C){var z=I(w.head.data[50],w.head.data[51]),G=function(e,t,r,n,a,i,o){var s,c,u;n?(s=4,c=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]},u=function(e,t,r){e[t]=r>>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}):(s=2,c=function(e,t){return e[t]<<9|e[t+1]<<1},u=function(e,t,r){e[t]=r>>9&255,e[t+1]=r>>1&255});var l=i?r+1:r,f=s*(1+l),h=new Uint8Array(f);h.set(e.data.subarray(0,f)),e.data=h;var d,p,m=t.data,v=m.length,y=new Uint8Array(v),b=[];for(d=0,p=0;d<r+1;d++,p+=s){var w=c(h,p);w>v&&(w=v),b.push({index:d,offset:w,endOffset:0})}for(b.sort((function(e,t){return e.offset-t.offset})),d=0;d<r;d++)b[d].endOffset=b[d+1].offset;b.sort((function(e,t){return e.index-t.index}));var k=Object.create(null),S=0;for(u(h,0,S),d=0,p=s;d<r;d++,p+=s){var x=g(m,b[d].offset,b[d].endOffset,y,S,a),A=x.length;0===A&&(k[d]=!0),x.sizeOfInstructions>o&&(o=x.sizeOfInstructions),u(h,p,S+=A)}if(0===S){var O=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(d=0,p=s;d<l;d++,p+=s)u(h,p,O.length);t.data=O}else if(i){var C=c(h,s);y.length>C+S?t.data=y.subarray(0,C+S):(t.data=new Uint8Array(C+S),t.data.set(y.subarray(0,S))),t.data.set(y.subarray(0,C),S),u(e.data,h.length-s,S+C)}else t.data=y.subarray(0,S);return{missingGlyphs:k,maxSizeOfInstructions:o}}(w.loca,w.glyf,_,z,X,R,B);$=G.missingGlyphs,F>=65536&&w.maxp.length>=22&&(w.maxp.data[26]=G.maxSizeOfInstructions>>8,w.maxp.data[27]=255&G.maxSizeOfInstructions)}if(!w.hhea)throw new n.FormatError('Required "hhea" table is not found');0===w.hhea.data[10]&&0===w.hhea.data[11]&&(w.hhea.data[10]=255,w.hhea.data[11]=255);var W={unitsPerEm:I(w.head.data[18],w.head.data[19]),yMax:I(w.head.data[42],w.head.data[43]),yMin:E(w.head.data[38],w.head.data[39]),ascent:I(w.hhea.data[4],w.hhea.data[5]),descent:E(w.hhea.data[6],w.hhea.data[7])};this.ascent=W.ascent/W.unitsPerEm,this.descent=W.descent/W.unitsPerEm,w.post&&function(e,r,a){var o=(t.start?t.start:0)+e.offset;t.pos=o;var s,c=o+e.length,u=t.getInt32();t.skip(28);var l,f=!0;switch(u){case 65536:s=i.MacStandardGlyphOrdering;break;case 131072:var h=t.getUint16();if(h!==a){f=!1;break}var d=[];for(l=0;l<h;++l){var p=t.getUint16();if(p>=32768){f=!1;break}d.push(p)}if(!f)break;for(var g=[],m=[];t.pos<c;){var v=t.getByte();for(m.length=v,l=0;l<v;++l)m[l]=String.fromCharCode(t.getByte());g.push(m.join(""))}for(s=[],l=0;l<h;++l){var y=d[l];y<258?s.push(i.MacStandardGlyphOrdering[y]):s.push(g[y-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+u),f=!1,r.defaultEncoding&&(s=r.defaultEncoding)}r.glyphNames=s}(w.post,r,_),w.post={tag:"post",data:q(r)};var V=[];function K(e){return!$[e]}if(r.composite){var Y=r.cidToGidMap||[],J=0===Y.length;r.cMap.forEach((function(e,t){if(t>65535)throw new n.FormatError("Max size of CID is 65,535");var r=-1;J?r=t:void 0!==Y[t]&&(r=Y[t]),r>=0&&r<_&&K(r)&&(V[e]=r)}))}else{var Z=function(e,t,r,a){if(!e)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var i,o=(t.start?t.start:0)+e.offset;t.pos=o,t.skip(2);for(var s,c=t.getUint16(),u=!1,l=0;l<c;l++){var f=t.getUint16(),h=t.getUint16(),d=t.getInt32()>>>0,p=!1;if((!s||s.platformId!==f||s.encodingId!==h)&&(0!==f||0!==h&&1!==h&&3!==h?1===f&&0===h?p=!0:3!==f||1!==h||!a&&s?r&&3===f&&0===h&&(p=!0,u=!0):(p=!0,r||(u=!0)):p=!0,p&&(s={platformId:f,encodingId:h,offset:d}),u))break}if(s&&(t.pos=o+s.offset),!s||-1===t.peekByte())return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var g=t.getUint16();t.skip(4);var m,v,y=!1,b=[];if(0===g){for(m=0;m<256;m++){var w=t.getByte();w&&b.push({charCode:m,glyphId:w})}y=!0}else if(4===g){var k=t.getUint16()>>1;t.skip(6);var S,x=[];for(S=0;S<k;S++)x.push({end:t.getUint16()});for(t.skip(2),S=0;S<k;S++)x[S].start=t.getUint16();for(S=0;S<k;S++)x[S].delta=t.getUint16();var A,O=0;for(S=0;S<k;S++){i=x[S];var C=t.getUint16();C?(A=(C>>1)-(k-S),i.offsetIndex=A,O=Math.max(O,A+i.end-i.start+1)):i.offsetIndex=-1}var T=[];for(m=0;m<O;m++)T.push(t.getUint16());for(S=0;S<k;S++){o=(i=x[S]).start;var F=i.end,P=i.delta;for(A=i.offsetIndex,m=o;m<=F;m++)65535!==m&&(v=(v=A<0?m:T[A+m-o])+P&65535,b.push({charCode:m,glyphId:v}))}}else{if(6!==g)return(0,n.warn)("cmap table has unsupported format: "+g),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var _=t.getUint16(),I=t.getUint16();for(m=0;m<I;m++){v=t.getUint16();var E=_+m;b.push({charCode:E,glyphId:v})}}b.sort((function(e,t){return e.charCode-t.charCode}));for(var j=1;j<b.length;j++)b[j-1].charCode===b[j].charCode&&(b.splice(j,1),j--);return{platformId:s.platformId,encodingId:s.encodingId,mappings:b,hasShortCmap:y}}(w.cmap,t,this.isSymbolicFont,r.hasEncoding),Q=Z.platformId,ee=Z.encodingId,te=Z.mappings,re=te.length,ne=[];if(!r.hasEncoding||"MacRomanEncoding"!==r.baseEncodingName&&"WinAnsiEncoding"!==r.baseEncodingName||(ne=(0,s.getEncoding)(r.baseEncodingName)),r.hasEncoding&&!this.isSymbolicFont&&(3===Q&&1===ee||1===Q&&0===ee))for(var ae=(0,o.getGlyphsUnicode)(),ie=0;ie<256;ie++){var oe=void 0;if(oe=this.differences&&ie in this.differences?this.differences[ie]:ie in ne&&""!==ne[ie]?ne[ie]:s.StandardEncoding[ie]){var se=(0,i.recoverGlyphName)(oe,ae),ce=void 0;3===Q&&1===ee?ce=ae[se]:1===Q&&0===ee&&(ce=s.MacRomanEncoding.indexOf(se));for(var ue=0;ue<re;++ue)if(te[ue].charCode===ce){V[ie]=te[ue].glyphId;break}}}else if(0===Q)for(var le=0;le<re;++le)V[te[le].charCode]=te[le].glyphId;else for(var fe=0;fe<re;++fe){var he=te[fe].charCode;3===Q&&he>=61440&&he<=61695&&(he&=255),V[he]=te[fe].glyphId}if(r.glyphNames&&(ne.length||this.differences.length))for(var de=0;de<256;++de)if(void 0===V[de]){var pe=this.differences[de]||ne[de];if(pe){var ge=r.glyphNames.indexOf(pe);ge>0&&K(ge)&&(V[de]=ge)}}}0===V.length&&(V[0]=0);var me=j-1;if(R||(me=0),!r.cssFontInfo){var ve=D(V,K,me);this.toFontChar=ve.toFontChar,w.cmap={tag:"cmap",data:L(ve.charCodeToGlyphId,j)},w["OS/2"]&&function(e,t){t.pos=(t.start||0)+e.offset;var r=t.getUint16();t.skip(60);var n=t.getUint16();return!(r<4&&768&n||t.getUint16()>t.getUint16()||(t.skip(6),0===t.getUint16()||(e.data[8]=e.data[9]=0,0)))}(w["OS/2"],t)||(w["OS/2"]={tag:"OS/2",data:U(r,ve.charCodeToGlyphId,W)})}if(!C)try{S=new m.Stream(w["CFF "].data),(k=new a.CFFParser(S,r,i.SEAC_ANALYSIS_ENABLED).parse()).duplicateFirstGlyph();var ye=new a.CFFCompiler(k);w["CFF "].data=ye.compile()}catch(e){(0,n.warn)("Failed to compile font "+r.loadedName)}if(w.name){var be=v(w.name);w.name.data=H(e,be)}else w.name={tag:"name",data:H(this.name)};var we=new p.OpenTypeFileBuilder(b.version);for(var ke in w)we.addTable(ke,w[ke].data);return we.toArray()}},{key:"convert",value:function(e,t,r){r.fixedPitch=!1,r.builtInEncoding&&function(e,t){if(!(e.hasIncludedToUnicodeMap||t===e.defaultEncoding||e.toUnicode instanceof l.IdentityToUnicodeMap)){var r=[],n=(0,o.getGlyphsUnicode)();for(var a in t)if(!e.hasEncoding||void 0===e.differences[a]){var i=t[a],s=(0,u.getUnicodeForGlyph)(i,n);-1!==s&&(r[a]=String.fromCharCode(s))}e.toUnicode.amend(r)}}(r,r.builtInEncoding);var a=1;t instanceof f.CFFFont&&(a=t.numGlyphs-1);var c=t.getGlyphMapping(r),h=null,d=c;r.cssFontInfo||(h=D(c,t.hasGlyphId.bind(t),a),this.toFontChar=h.toFontChar,d=h.charCodeToGlyphId);var g=t.numGlyphs;function m(e,t){var r=null;for(var n in e)t===e[n]&&(r||(r=[]),r.push(0|n));return r}function v(e,t){for(var r in e)if(t===e[r])return 0|r;return h.charCodeToGlyphId[h.nextAvailableFontCharCode]=t,h.nextAvailableFontCharCode++}var y=t.seacs;if(h&&i.SEAC_ANALYSIS_ENABLED&&y&&y.length){var b=r.fontMatrix||n.FONT_IDENTITY_MATRIX,w=t.getCharset(),k=Object.create(null);for(var S in y){var x=y[S|=0],A=s.StandardEncoding[x[2]],O=s.StandardEncoding[x[3]],C=w.indexOf(A),T=w.indexOf(O);if(!(C<0||T<0)){var F={x:x[0]*b[0]+x[1]*b[2]+b[4],y:x[0]*b[1]+x[1]*b[3]+b[5]},P=m(c,S);if(P)for(var _=0,I=P.length;_<I;_++){var E=P[_],M=h.charCodeToGlyphId,N=v(M,C),B=v(M,T);k[E]={baseFontCharCode:N,accentFontCharCode:B,accentOffset:F}}}}r.seacMap=k}var X=1/(r.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],$=new p.OpenTypeFileBuilder("OTTO");return $.addTable("CFF ",t.data),$.addTable("OS/2",U(r,d)),$.addTable("cmap",L(d,g)),$.addTable("head","\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0_<\xF5\\0\\0"+R(X)+"\\0\\0\\0\\0\x9E\\v~'\\0\\0\\0\\0\x9E\\v~'\\0\\0"+R(r.descent)+"\xFF"+R(r.ascent)+j(r.italicAngle?2:0)+"\\0\\0\\0\\0\\0\\0\\0"),$.addTable("hhea","\\0\\0\\0"+R(r.ascent)+R(r.descent)+"\\0\\0\xFF\xFF\\0\\0\\0\\0\\0\\0"+R(r.capHeight)+R(Math.tan(r.italicAngle)*r.xHeight)+"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0"+j(g)),$.addTable("hmtx",function(){for(var e=t.charstrings,r=t.cff?t.cff.widths:null,n="\\0\\0\\0\\0",a=1,i=g;a<i;a++){var o=0;if(e){var s=e[a-1];o="width"in s?s.width:0}else r&&(o=Math.ceil(r[a]||0));n+=j(o)+j(0)}return n}()),$.addTable("maxp","\\0\\0P\\0"+j(g)),$.addTable("name",H(e)),$.addTable("post",q(r)),$.toArray()}},{key:"spaceWidth",get:function(){for(var e,t=["space","minus","one","i","I"],r=0,a=t.length;r<a;r++){var i=t[r];if(i in this.widths){e=this.widths[i];break}var s=(0,o.getGlyphsUnicode)()[i],c=0;if(this.composite&&this.cMap.contains(s)&&(c=this.cMap.lookup(s)),!c&&this.toUnicode&&(c=this.toUnicode.charCodeOf(s)),c<=0&&(c=s),e=this.widths[c])break}return e=e||this.defaultWidth,(0,n.shadow)(this,"spaceWidth",e)}},{key:"_charToGlyph",value:function(e){var t,r,a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e;this.cMap&&this.cMap.contains(e)&&(o=this.cMap.lookup(e)),r=this.widths[o],r=(0,n.isNum)(r)?r:this.defaultWidth;var s=this.vmetrics&&this.vmetrics[o],c=this.toUnicode.get(e)||this.fallbackToUnicode.get(e)||e;"number"==typeof c&&(c=String.fromCharCode(c));var l=e in this.toFontChar;if(t=this.toFontChar[e]||e,this.missingFile){var f=this.differences[e]||this.defaultEncoding[e];".notdef"!==f&&""!==f||"Type1"!==this.type||(t=32),t=(0,u.mapSpecialUnicodeValues)(t)}this.isType3Font&&(a=t);var h=null;if(this.seacMap&&this.seacMap[e]){l=!0;var d=this.seacMap[e];t=d.baseFontCharCode,h={fontChar:String.fromCodePoint(d.accentFontCharCode),offset:d.accentOffset}}var p="";"number"==typeof t&&(t<=1114111?p=String.fromCodePoint(t):(0,n.warn)("charToGlyph - invalid fontCharCode: ".concat(t)));var g=this._glyphCache[e];return g&&g.matchesForCache(p,c,h,r,s,a,i,l)||(g=new _(p,c,h,r,s,a,i,l),this._glyphCache[e]=g),g}},{key:"charsToGlyphs",value:function(e){var t=this._charsCache[e];if(t)return t;if(t=[],this.cMap)for(var r=Object.create(null),n=e.length,a=0;a<n;){this.cMap.readCharCode(e,a,r);var i=r.charcode,o=r.length;a+=o;var s=this._charToGlyph(i,1===o&&32===e.charCodeAt(a-1));t.push(s)}else for(var c=0,u=e.length;c<u;++c){var l=e.charCodeAt(c),f=this._charToGlyph(l,32===l);t.push(f)}return this._charsCache[e]=t}},{key:"getCharPositions",value:function(e){var t=[];if(this.cMap)for(var r=Object.create(null),n=0;n<e.length;){this.cMap.readCharCode(e,n,r);var a=r.length;t.push([n,n+a]),n+=a}else for(var i=0,o=e.length;i<o;++i)t.push([i,i+1]);return t}},{key:"glyphCacheValues",get:function(){return Object.values(this._glyphCache)}},{key:"encodeString",value:function(e){for(var t=[],r=[],n=function(){return t.length%2==1},a=0,i=e.length;a<i;a++){var o=e.codePointAt(a);if(o>55295&&(o<57344||o>65533)&&a++,this.toUnicode){var s=String.fromCodePoint(o),c=this.toUnicode.charCodeOf(s);if(-1!==c){n()&&(t.push(r.join("")),r.length=0);for(var u=(this.cMap?this.cMap.getCharCodeLength(c):1)-1;u>=0;u--)r.push(String.fromCharCode(c>>8*u&255));continue}}n()||(t.push(r.join("")),r.length=0),r.push(String.fromCodePoint(o))}return t.push(r.join("")),t}}]),e}();t.Font=$;var z=function(){function e(t){S(this,e),this.error=t,this.loadedName="g_font_error",this.missingFile=!0}return A(e,[{key:"charsToGlyphs",value:function(){return[]}},{key:"encodeString",value:function(e){return[e]}},{key:"exportData",value:function(){return{error:this.error}}}]),e}();t.ErrorFont=z},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CFFTopDict=t.CFFStrings=t.CFFStandardStrings=t.CFFPrivateDict=t.CFFParser=t.CFFIndex=t.CFFHeader=t.CFFFDSelect=t.CFFCompiler=t.CFFCharset=t.CFF=void 0;var a=r(4),i=r(144),o=r(145);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}var g=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];t.CFFStandardStrings=g;var m,v,y=391,b=(m=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],v=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]+e[t-1]}},{id:"sub",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]-e[t-1]}},{id:"div",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]/e[t-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn:function(e,t){e[t-1]=-e[t-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]*e[t-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}],function(){function e(t,r,n){h(this,e),this.bytes=t.getBytes(),this.properties=r,this.seacAnalysisEnabled=!!n}return p(e,[{key:"parse",value:function(){var e=this.properties,t=new w;this.cff=t;var r=this.parseHeader(),n=this.parseIndex(r.endPos),a=this.parseIndex(n.endPos),i=this.parseIndex(a.endPos),o=this.parseIndex(i.endPos),s=this.parseDict(a.obj.get(0)),c=this.createDict(T,s,t.strings);t.header=r.obj,t.names=this.parseNameIndex(n.obj),t.strings=this.parseStringIndex(i.obj),t.topDict=c,t.globalSubrIndex=o.obj,this.parsePrivateDict(t.topDict),t.isCIDFont=c.hasName("ROS");var u=c.getByName("CharStrings"),l=this.parseIndex(u).obj,f=c.getByName("FontMatrix");f&&(e.fontMatrix=f);var h,d,p=c.getByName("FontBBox");if(p&&(e.ascent=Math.max(p[3],p[1]),e.descent=Math.min(p[1],p[3]),e.ascentScaled=!0),t.isCIDFont){for(var g=this.parseIndex(c.getByName("FDArray")).obj,m=0,v=g.count;m<v;++m){var y=g.get(m),b=this.createDict(T,this.parseDict(y),t.strings);this.parsePrivateDict(b),t.fdArray.push(b)}d=null,h=this.parseCharsets(c.getByName("charset"),l.count,t.strings,!0),t.fdSelect=this.parseFDSelect(c.getByName("FDSelect"),l.count)}else h=this.parseCharsets(c.getByName("charset"),l.count,t.strings,!1),d=this.parseEncoding(c.getByName("Encoding"),e,t.strings,h.charset);t.charset=h,t.encoding=d;var k=this.parseCharStrings({charStrings:l,localSubrIndex:c.privateDict.subrsIndex,globalSubrIndex:o.obj,fdSelect:t.fdSelect,fdArray:t.fdArray,privateDict:c.privateDict});return t.charStrings=k.charStrings,t.seacs=k.seacs,t.widths=k.widths,t}},{key:"parseHeader",value:function(){for(var e=this.bytes,t=e.length,r=0;r<t&&1!==e[r];)++r;if(r>=t)throw new a.FormatError("Invalid CFF header");0!==r&&((0,a.info)("cff data is shifted"),e=e.subarray(r),this.bytes=e);var n=e[0],i=e[1],o=e[2],s=e[3];return{obj:new k(n,i,o,s),endPos:o}}},{key:"parseDict",value:function(e){var t=0;function r(){var r=e[t++];return 30===r?function(){for(var r="",n=15,a=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],i=e.length;t<i;){var o=e[t++],s=o>>4,c=15&o;if(s===n)break;if(r+=a[s],c===n)break;r+=a[c]}return parseFloat(r)}():28===r?r=((r=e[t++])<<24|e[t++]<<16)>>16:29===r?r=(r=(r=(r=e[t++])<<8|e[t++])<<8|e[t++])<<8|e[t++]:r>=32&&r<=246?r-139:r>=247&&r<=250?256*(r-247)+e[t++]+108:r>=251&&r<=254?-256*(r-251)-e[t++]-108:((0,a.warn)('CFFParser_parseDict: "'+r+'" is a reserved command.'),NaN)}var n=[],i=[];t=0;for(var o=e.length;t<o;){var s=e[t];s<=21?(12===s&&(s=s<<8|e[++t]),i.push([s,n]),n=[],++t):n.push(r())}return i}},{key:"parseIndex",value:function(e){var t,r,n=new x,a=this.bytes,i=a[e++]<<8|a[e++],o=[],s=e;if(0!==i){var c=a[e++],u=e+(i+1)*c-1;for(t=0,r=i+1;t<r;++t){for(var l=0,f=0;f<c;++f)l<<=8,l+=a[e++];o.push(u+l)}s=o[i]}for(t=0,r=o.length-1;t<r;++t){var h=o[t],d=o[t+1];n.add(a.subarray(h,d))}return{obj:n,endPos:s}}},{key:"parseNameIndex",value:function(e){for(var t=[],r=0,n=e.count;r<n;++r){var i=e.get(r);t.push((0,a.bytesToString)(i))}return t}},{key:"parseStringIndex",value:function(e){for(var t=new S,r=0,n=e.count;r<n;++r){var i=e.get(r);t.add((0,a.bytesToString)(i))}return t}},{key:"createDict",value:function(e,t,r){for(var n=new e(r),a=0,i=t.length;a<i;++a){var o=t[a],s=o[0],c=o[1];n.setByKey(s,c)}return n}},{key:"parseCharString",value:function(e,t,r,n){if(!t||e.callDepth>10)return!1;for(var i=e.stackSize,o=e.stack,s=t.length,c=0;c<s;){var u=t[c++],l=null;if(12===u){var f=t[c++];0===f?(t[c-2]=139,t[c-1]=22,i=0):l=v[f]}else if(28===u)o[i]=(t[c]<<24|t[c+1]<<16)>>16,c+=2,i++;else if(14===u){if(i>=4&&(i-=4,this.seacAnalysisEnabled))return e.seac=o.slice(i,i+4),!1;l=m[u]}else if(u>=32&&u<=246)o[i]=u-139,i++;else if(u>=247&&u<=254)o[i]=u<251?(u-247<<8)+t[c]+108:-(u-251<<8)-t[c]-108,c++,i++;else if(255===u)o[i]=(t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3])/65536,c+=4,i++;else if(19===u||20===u)e.hints+=i>>1,c+=e.hints+7>>3,i%=2,l=m[u];else{if(10===u||29===u){var h=void 0;if(!(h=10===u?r:n))return l=m[u],(0,a.warn)("Missing subrsIndex for "+l.id),!1;var d=32768;h.count<1240?d=107:h.count<33900&&(d=1131);var p=o[--i]+d;if(p<0||p>=h.count||isNaN(p))return l=m[u],(0,a.warn)("Out of bounds subrIndex for "+l.id),!1;if(e.stackSize=i,e.callDepth++,!this.parseCharString(e,h.get(p),r,n))return!1;e.callDepth--,i=e.stackSize;continue}if(11===u)return e.stackSize=i,!0;l=m[u]}if(l){if(l.stem&&(e.hints+=i>>1,3===u||23===u?e.hasVStems=!0:!e.hasVStems||1!==u&&18!==u||((0,a.warn)("CFF stem hints are in wrong order"),t[c-1]=1===u?3:23)),"min"in l&&!e.undefStack&&i<l.min)return(0,a.warn)("Not enough parameters for "+l.id+"; actual: "+i+", expected: "+l.min),!1;e.firstStackClearing&&l.stackClearing&&(e.firstStackClearing=!1,(i-=l.min)>=2&&l.stem?i%=2:i>1&&(0,a.warn)("Found too many parameters for stack-clearing command"),i>0&&(e.width=o[i-1])),"stackDelta"in l?("stackFn"in l&&l.stackFn(o,i),i+=l.stackDelta):l.stackClearing?i=0:l.resetStack?(i=0,e.undefStack=!1):l.undefStack&&(i=0,e.undefStack=!0,e.firstStackClearing=!1)}}return e.stackSize=i,!0}},{key:"parseCharStrings",value:function(e){for(var t=e.charStrings,r=e.localSubrIndex,n=e.globalSubrIndex,i=e.fdSelect,o=e.fdArray,s=e.privateDict,c=[],u=[],l=t.count,f=0;f<l;f++){var h=t.get(f),d={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1},p=!0,g=null,m=s;if(i&&o.length){var v=i.getFDIndex(f);-1===v&&((0,a.warn)("Glyph index is not in fd select."),p=!1),v>=o.length&&((0,a.warn)("Invalid fd index for glyph index."),p=!1),p&&(g=(m=o[v].privateDict).subrsIndex)}else r&&(g=r);if(p&&(p=this.parseCharString(d,h,g,n)),null!==d.width){var y=m.getByName("nominalWidthX");u[f]=y+d.width}else{var b=m.getByName("defaultWidthX");u[f]=b}null!==d.seac&&(c[f]=d.seac),p||t.set(f,new Uint8Array([14]))}return{charStrings:t,seacs:c,widths:u}}},{key:"emptyPrivateDictionary",value:function(e){var t=this.createDict(F,[],e.strings);e.setByKey(18,[0,0]),e.privateDict=t}},{key:"parsePrivateDict",value:function(e){if(e.hasName("Private")){var t=e.getByName("Private");if(Array.isArray(t)&&2===t.length){var r=t[0],n=t[1];if(0===r||n>=this.bytes.length)this.emptyPrivateDictionary(e);else{var a=n+r,i=this.bytes.subarray(n,a),o=this.parseDict(i),s=this.createDict(F,o,e.strings);if(e.privateDict=s,s.getByName("Subrs")){var c=s.getByName("Subrs"),u=n+c;if(0===c||u>=this.bytes.length)this.emptyPrivateDictionary(e);else{var l=this.parseIndex(u);s.subrsIndex=l.obj}}}}else e.removeByName("Private")}else this.emptyPrivateDictionary(e)}},{key:"parseCharsets",value:function(e,t,r,n){if(0===e)return new _(!0,P.ISO_ADOBE,i.ISOAdobeCharset);if(1===e)return new _(!0,P.EXPERT,i.ExpertCharset);if(2===e)return new _(!0,P.EXPERT_SUBSET,i.ExpertSubsetCharset);var o,s,c,u=this.bytes,l=e,f=u[e++],h=[n?0:".notdef"];switch(t-=1,f){case 0:for(c=0;c<t;c++)o=u[e++]<<8|u[e++],h.push(n?o:r.get(o));break;case 1:for(;h.length<=t;)for(o=u[e++]<<8|u[e++],s=u[e++],c=0;c<=s;c++)h.push(n?o++:r.get(o++));break;case 2:for(;h.length<=t;)for(o=u[e++]<<8|u[e++],s=u[e++]<<8|u[e++],c=0;c<=s;c++)h.push(n?o++:r.get(o++));break;default:throw new a.FormatError("Unknown charset format")}var d=e,p=u.subarray(l,d);return new _(!1,f,h,p)}},{key:"parseEncoding",value:function(e,t,r,n){var i,s,c,u=Object.create(null),l=this.bytes,f=!1,h=null;if(0===e||1===e){f=!0,i=e;var d=e?o.ExpertEncoding:o.StandardEncoding;for(s=0,c=n.length;s<c;s++){var p=d.indexOf(n[s]);-1!==p&&(u[p]=s)}}else{var g=e;switch(127&(i=l[e++])){case 0:var m=l[e++];for(s=1;s<=m;s++)u[l[e++]]=s;break;case 1:var v=l[e++],y=1;for(s=0;s<v;s++)for(var b=l[e++],w=l[e++],k=b;k<=b+w;k++)u[k]=y++;break;default:throw new a.FormatError("Unknown encoding format: ".concat(i," in CFF"))}var S=e;128&i&&(l[g]&=127,function(){var t=l[e++];for(s=0;s<t;s++){var a=l[e++],i=(l[e++]<<8)+(255&l[e++]);u[a]=n.indexOf(r.get(i))}}()),h=l.subarray(g,S)}return new I(f,i&=127,u,h)}},{key:"parseFDSelect",value:function(e,t){var r,n=this.bytes,i=n[e++],o=[];switch(i){case 0:for(r=0;r<t;++r){var s=n[e++];o.push(s)}break;case 3:var c=n[e++]<<8|n[e++];for(r=0;r<c;++r){var u=n[e++]<<8|n[e++];0===r&&0!==u&&((0,a.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),u=0);for(var l=n[e++],f=n[e]<<8|n[e+1],h=u;h<f;++h)o.push(l)}e+=2;break;default:throw new a.FormatError('parseFDSelect: Unknown format "'.concat(i,'".'))}if(o.length!==t)throw new a.FormatError("parseFDSelect: Invalid font data.");return new E(i,o)}}]),e}());t.CFFParser=b;var w=function(){function e(){h(this,e),this.header=null,this.names=[],this.topDict=null,this.strings=new S,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}return p(e,[{key:"duplicateFirstGlyph",value:function(){if(this.charStrings.count>=65535)(0,a.warn)("Not enough space in charstrings to duplicate first glyph.");else{var e=this.charStrings.get(0);this.charStrings.add(e),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}}},{key:"hasGlyphId",value:function(e){return!(e<0||e>=this.charStrings.count)&&this.charStrings.get(e).length>0}}]),e}();t.CFF=w;var k=function e(t,r,n,a){h(this,e),this.major=t,this.minor=r,this.hdrSize=n,this.offSize=a};t.CFFHeader=k;var S=function(){function e(){h(this,e),this.strings=[]}return p(e,[{key:"get",value:function(e){return e>=0&&e<=390?g[e]:e-y<=this.strings.length?this.strings[e-y]:g[0]}},{key:"getSID",value:function(e){var t=g.indexOf(e);return-1!==t?t:-1!==(t=this.strings.indexOf(e))?t+y:-1}},{key:"add",value:function(e){this.strings.push(e)}},{key:"count",get:function(){return this.strings.length}}]),e}();t.CFFStrings=S;var x=function(){function e(){h(this,e),this.objects=[],this.length=0}return p(e,[{key:"add",value:function(e){this.length+=e.length,this.objects.push(e)}},{key:"set",value:function(e,t){this.length+=t.length-this.objects[e].length,this.objects[e]=t}},{key:"get",value:function(e){return this.objects[e]}},{key:"count",get:function(){return this.objects.length}}]),e}();t.CFFIndex=x;var A,O,C=function(){function e(t,r){h(this,e),this.keyToNameMap=t.keyToNameMap,this.nameToKeyMap=t.nameToKeyMap,this.defaults=t.defaults,this.types=t.types,this.opcodes=t.opcodes,this.order=t.order,this.strings=r,this.values=Object.create(null)}return p(e,[{key:"setByKey",value:function(e,t){if(!(e in this.keyToNameMap))return!1;var r=t.length;if(0===r)return!0;for(var n=0;n<r;n++)if(isNaN(t[n]))return(0,a.warn)('Invalid CFFDict value: "'+t+'" for key "'+e+'".'),!0;var i=this.types[e];return"num"!==i&&"sid"!==i&&"offset"!==i||(t=t[0]),this.values[e]=t,!0}},{key:"setByName",value:function(e,t){if(!(e in this.nameToKeyMap))throw new a.FormatError('Invalid dictionary name "'.concat(e,'"'));this.values[this.nameToKeyMap[e]]=t}},{key:"hasName",value:function(e){return this.nameToKeyMap[e]in this.values}},{key:"getByName",value:function(e){if(!(e in this.nameToKeyMap))throw new a.FormatError("Invalid dictionary name ".concat(e,'"'));var t=this.nameToKeyMap[e];return t in this.values?this.values[t]:this.defaults[t]}},{key:"removeByName",value:function(e){delete this.values[this.nameToKeyMap[e]]}}],[{key:"createTables",value:function(e){for(var t={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]},r=0,n=e.length;r<n;++r){var a=e[r],i=Array.isArray(a[0])?(a[0][0]<<8)+a[0][1]:a[0];t.keyToNameMap[i]=a[1],t.nameToKeyMap[a[1]]=i,t.types[i]=a[2],t.defaults[i]=a[3],t.opcodes[i]=Array.isArray(a[0])?a[0]:[a[0]],t.order.push(i)}return t}}]),e}(),T=(A=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]],O=null,function(e){s(r,e);var t=u(r);function r(e){var n;return h(this,r),null===O&&(O=C.createTables(A)),(n=t.call(this,O,e)).privateDict=null,n}return r}(C));t.CFFTopDict=T;var F=function(){var e=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]],t=null;return function(r){s(a,r);var n=u(a);function a(r){var i;return h(this,a),null===t&&(t=C.createTables(e)),(i=n.call(this,t,r)).subrsIndex=null,i}return a}(C)}();t.CFFPrivateDict=F;var P={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2},_=function e(t,r,n,a){h(this,e),this.predefined=t,this.format=r,this.charset=n,this.raw=a};t.CFFCharset=_;var I=function e(t,r,n,a){h(this,e),this.predefined=t,this.format=r,this.encoding=n,this.raw=a},E=function(){function e(t,r){h(this,e),this.format=t,this.fdSelect=r}return p(e,[{key:"getFDIndex",value:function(e){return e<0||e>=this.fdSelect.length?-1:this.fdSelect[e]}}]),e}();t.CFFFDSelect=E;var j=function(){function e(){h(this,e),this.offsets=Object.create(null)}return p(e,[{key:"isTracking",value:function(e){return e in this.offsets}},{key:"track",value:function(e,t){if(e in this.offsets)throw new a.FormatError("Already tracking location of ".concat(e));this.offsets[e]=t}},{key:"offset",value:function(e){for(var t in this.offsets)this.offsets[t]+=e}},{key:"setEntryLocation",value:function(e,t,r){if(!(e in this.offsets))throw new a.FormatError("Not tracking location of ".concat(e));for(var n=r.data,i=this.offsets[e],o=0,s=t.length;o<s;++o){var c=5*o+i,u=c+1,l=c+2,f=c+3,h=c+4;if(29!==n[c]||0!==n[u]||0!==n[l]||0!==n[f]||0!==n[h])throw new a.FormatError("writing to an offset that is not empty");var d=t[o];n[c]=29,n[u]=d>>24&255,n[l]=d>>16&255,n[f]=d>>8&255,n[h]=255&d}}}]),e}(),R=function(){function e(t){h(this,e),this.cff=t}return p(e,[{key:"compile",value:function(){var e=this.cff,t={data:[],length:0,add:function(e){this.data=this.data.concat(e),this.length=this.data.length}},r=this.compileHeader(e.header);t.add(r);var n=this.compileNameIndex(e.names);if(t.add(n),e.isCIDFont&&e.topDict.hasName("FontMatrix")){var i=e.topDict.getByName("FontMatrix");e.topDict.removeByName("FontMatrix");for(var o=0,s=e.fdArray.length;o<s;o++){var c=e.fdArray[o],u=i.slice(0);c.hasName("FontMatrix")&&(u=a.Util.transform(u,c.getByName("FontMatrix"))),c.setByName("FontMatrix",u)}}var l=e.topDict.getByName("XUID");l&&l.length>16&&e.topDict.removeByName("XUID"),e.topDict.setByName("charset",0);var f=this.compileTopDicts([e.topDict],t.length,e.isCIDFont);t.add(f.output);var h=f.trackers[0],d=this.compileStringIndex(e.strings.strings);t.add(d);var p=this.compileIndex(e.globalSubrIndex);if(t.add(p),e.encoding&&e.topDict.hasName("Encoding"))if(e.encoding.predefined)h.setEntryLocation("Encoding",[e.encoding.format],t);else{var g=this.compileEncoding(e.encoding);h.setEntryLocation("Encoding",[t.length],t),t.add(g)}var m=this.compileCharset(e.charset,e.charStrings.count,e.strings,e.isCIDFont);h.setEntryLocation("charset",[t.length],t),t.add(m);var v=this.compileCharStrings(e.charStrings);if(h.setEntryLocation("CharStrings",[t.length],t),t.add(v),e.isCIDFont){h.setEntryLocation("FDSelect",[t.length],t);var y=this.compileFDSelect(e.fdSelect);t.add(y),f=this.compileTopDicts(e.fdArray,t.length,!0),h.setEntryLocation("FDArray",[t.length],t),t.add(f.output);var b=f.trackers;this.compilePrivateDicts(e.fdArray,b,t)}return this.compilePrivateDicts([e.topDict],[h],t),t.add([0]),t.data}},{key:"encodeNumber",value:function(e){return Number.isInteger(e)?this.encodeInteger(e):this.encodeFloat(e)}},{key:"encodeFloat",value:function(t){var r=t.toString(),n=e.EncodeFloatRegExp.exec(r);if(n){var a=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));r=(Math.round(t*a)/a).toString()}var i,o,s="";for(i=0,o=r.length;i<o;++i){var c=r[i];s+="e"===c?"-"===r[++i]?"c":"b":"."===c?"a":"-"===c?"e":c}var u=[30];for(i=0,o=(s+=1&s.length?"f":"ff").length;i<o;i+=2)u.push(parseInt(s.substring(i,i+2),16));return u}},{key:"encodeInteger",value:function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?[28,e>>8&255,255&e]:[29,e>>24&255,e>>16&255,e>>8&255,255&e]}},{key:"compileHeader",value:function(e){return[e.major,e.minor,4,e.offSize]}},{key:"compileNameIndex",value:function(e){for(var t=new x,r=0,n=e.length;r<n;++r){for(var i=e[r],o=Math.min(i.length,127),s=new Array(o),c=0;c<o;c++){var u=i[c];(u<"!"||u>"~"||"["===u||"]"===u||"("===u||")"===u||"{"===u||"}"===u||"<"===u||">"===u||"/"===u||"%"===u)&&(u="_"),s[c]=u}""===(s=s.join(""))&&(s="Bad_Font_Name"),t.add((0,a.stringToBytes)(s))}return this.compileIndex(t)}},{key:"compileTopDicts",value:function(e,t,r){for(var n=[],a=new x,i=0,o=e.length;i<o;++i){var s=e[i];r&&(s.removeByName("CIDFontVersion"),s.removeByName("CIDFontRevision"),s.removeByName("CIDFontType"),s.removeByName("CIDCount"),s.removeByName("UIDBase"));var c=new j,u=this.compileDict(s,c);n.push(c),a.add(u),c.offset(t)}return{trackers:n,output:a=this.compileIndex(a,n)}}},{key:"compilePrivateDicts",value:function(e,t,r){for(var n=0,i=e.length;n<i;++n){var o=e[n],s=o.privateDict;if(!s||!o.hasName("Private"))throw new a.FormatError("There must be a private dictionary.");var c=new j,u=this.compileDict(s,c),l=r.length;if(c.offset(l),u.length||(l=0),t[n].setEntryLocation("Private",[u.length,l],r),r.add(u),s.subrsIndex&&s.hasName("Subrs")){var f=this.compileIndex(s.subrsIndex);c.setEntryLocation("Subrs",[u.length],r),r.add(f)}}}},{key:"compileDict",value:function(e,t){for(var r=[],n=e.order,i=0;i<n.length;++i){var o=n[i];if(o in e.values){var s=e.values[o],c=e.types[o];if(Array.isArray(c)||(c=[c]),Array.isArray(s)||(s=[s]),0!==s.length){for(var u=0,l=c.length;u<l;++u){var f=c[u],h=s[u];switch(f){case"num":case"sid":r=r.concat(this.encodeNumber(h));break;case"offset":var d=e.keyToNameMap[o];t.isTracking(d)||t.track(d,r.length),r=r.concat([29,0,0,0,0]);break;case"array":case"delta":r=r.concat(this.encodeNumber(h));for(var p=1,g=s.length;p<g;++p)r=r.concat(this.encodeNumber(s[p]));break;default:throw new a.FormatError("Unknown data type of ".concat(f))}}r=r.concat(e.opcodes[o])}}}return r}},{key:"compileStringIndex",value:function(e){for(var t=new x,r=0,n=e.length;r<n;++r)t.add((0,a.stringToBytes)(e[r]));return this.compileIndex(t)}},{key:"compileGlobalSubrIndex",value:function(){var e=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(e))}},{key:"compileCharStrings",value:function(e){for(var t=new x,r=0;r<e.count;r++){var n=e.get(r);0!==n.length?t.add(n):t.add(new Uint8Array([139,14]))}return this.compileIndex(t)}},{key:"compileCharset",value:function(e,t,r,n){var i,o=t-1;if(n)i=new Uint8Array([2,0,0,o>>8&255,255&o]);else{(i=new Uint8Array(1+2*o))[0]=0;for(var s=0,c=e.charset.length,u=!1,l=1;l<i.length;l+=2){var f=0;if(s<c){var h=e.charset[s++];-1===(f=r.getSID(h))&&(f=0,u||(u=!0,(0,a.warn)("Couldn't find ".concat(h," in CFF strings"))))}i[l]=f>>8&255,i[l+1]=255&f}}return this.compileTypedArray(i)}},{key:"compileEncoding",value:function(e){return this.compileTypedArray(e.raw)}},{key:"compileFDSelect",value:function(e){var t,r,n=e.format;switch(n){case 0:for((t=new Uint8Array(1+e.fdSelect.length))[0]=n,r=0;r<e.fdSelect.length;r++)t[r+1]=e.fdSelect[r];break;case 3:var a=e.fdSelect[0],i=[n,0,0,0,0,a];for(r=1;r<e.fdSelect.length;r++){var o=e.fdSelect[r];o!==a&&(i.push(r>>8&255,255&r,o),a=o)}var s=(i.length-3)/3;i[1]=s>>8&255,i[2]=255&s,i.push(r>>8&255,255&r),t=new Uint8Array(i)}return this.compileTypedArray(t)}},{key:"compileTypedArray",value:function(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e[r];return t}},{key:"compileIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.objects,n=r.length;if(0===n)return[0,0,0];var a,i,o=[n>>8&255,255&n],s=1;for(a=0;a<n;++a)s+=r[a].length;i=s<256?1:s<65536?2:s<16777216?3:4,o.push(i);var c=1;for(a=0;a<n+1;a++)1===i?o.push(255&c):2===i?o.push(c>>8&255,255&c):3===i?o.push(c>>16&255,c>>8&255,255&c):o.push(c>>>24&255,c>>16&255,c>>8&255,255&c),r[a]&&(c+=r[a].length);for(a=0;a<n;a++){t[a]&&t[a].offset(o.length);for(var u=0,l=r[a].length;u<l;u++)o.push(r[a][u])}return o}}],[{key:"EncodeFloatRegExp",get:function(){return(0,a.shadow)(this,"EncodeFloatRegExp",/\\.(\\d*?)(?:9{5,20}|0{5,20})\\d{0,2}(?:e(.+)|$)/)}}]),e}();t.CFFCompiler=R},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISOAdobeCharset=t.ExpertSubsetCharset=t.ExpertCharset=void 0,t.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],t.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],t.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEncoding=function(e){switch(e){case"WinAnsiEncoding":return o;case"StandardEncoding":return i;case"MacRomanEncoding":return a;case"SymbolSetEncoding":return s;case"ZapfDingbatsEncoding":return c;case"ExpertEncoding":return r;case"MacExpertEncoding":return n;default:return null}},t.ZapfDingbatsEncoding=t.WinAnsiEncoding=t.SymbolSetEncoding=t.StandardEncoding=t.MacRomanEncoding=t.ExpertEncoding=void 0;var r=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];t.ExpertEncoding=r;var n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],a=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];t.MacRomanEncoding=a;var i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];t.StandardEncoding=i;var o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];t.WinAnsiEncoding=o;var s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];t.SymbolSetEncoding=s;var c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];t.ZapfDingbatsEncoding=c},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFontType=function(e,t){switch(e){case"Type1":return"Type1C"===t?n.FontType.TYPE1C:n.FontType.TYPE1;case"CIDFontType0":return"CIDFontType0C"===t?n.FontType.CIDFONTTYPE0C:n.FontType.CIDFONTTYPE0;case"OpenType":return n.FontType.OPENTYPE;case"TrueType":return n.FontType.TRUETYPE;case"CIDFontType2":return n.FontType.CIDFONTTYPE2;case"MMType1":return n.FontType.MMTYPE1;case"Type0":return n.FontType.TYPE0;default:return n.FontType.UNKNOWN}},t.recoverGlyphName=c,t.type1FontGlyphMapping=function(e,t,r){var n,o,u,l=Object.create(null),f=!!(e.flags&s.Symbolic);if(e.baseEncodingName)for(u=(0,a.getEncoding)(e.baseEncodingName),o=0;o<u.length;o++)n=r.indexOf(u[o]),l[o]=n>=0?n:0;else if(f)for(o in t)l[o]=t[o];else for(u=a.StandardEncoding,o=0;o<u.length;o++)n=r.indexOf(u[o]),l[o]=n>=0?n:0;var h,d=e.differences;if(d)for(o in d){var p=d[o];if(-1===(n=r.indexOf(p))){h||(h=(0,i.getGlyphsUnicode)());var g=c(p,h);g!==p&&(n=r.indexOf(g))}l[o]=n>=0?n:0}return l},t.SEAC_ANALYSIS_ENABLED=t.MacStandardGlyphOrdering=t.FontFlags=void 0;var n=r(4),a=r(145),i=r(147),o=r(148);t.SEAC_ANALYSIS_ENABLED=!0;var s={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};function c(e,t){if(void 0!==t[e])return e;var r=(0,o.getUnicodeForGlyph)(e,t);if(-1!==r)for(var a in t)if(t[a]===r)return a;return(0,n.info)("Unable to recover a standard glyph name for: "+e),e}t.FontFlags=s,t.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"]},(e,t,r)=>{"use strict";r.r(t),r.d(t,{getDingbatsGlyphsUnicode:()=>i,getGlyphsUnicode:()=>a});var n=r(117);const a=(0,n.getArrayLookupTableFactory)((function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]})),i=(0,n.getArrayLookupTableFactory)((function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]}))},(e,t,r)=>{"use strict";r.r(t),r.d(t,{getNormalizedUnicodes:()=>u,getUnicodeForGlyph:()=>o,getUnicodeRangeFor:()=>c,mapSpecialUnicodeValues:()=>i,reverseIfRtl:()=>l});var n=r(117);const a=(0,n.getLookupTableFactory)((function(e){e[63721]=169,e[63193]=169,e[63720]=174,e[63194]=174,e[63722]=8482,e[63195]=8482,e[63729]=9127,e[63730]=9128,e[63731]=9129,e[63740]=9131,e[63741]=9132,e[63742]=9133,e[63726]=9121,e[63727]=9122,e[63728]=9123,e[63737]=9124,e[63738]=9125,e[63739]=9126,e[63723]=9115,e[63724]=9116,e[63725]=9117,e[63734]=9118,e[63735]=9119,e[63736]=9120}));function i(e){return e>=65520&&e<=65535?0:e>=62976&&e<=63743?a()[e]||e:173===e?45:e}function o(e,t){let r=t[e];if(void 0!==r)return r;if(!e)return-1;if("u"===e[0]){const t=e.length;let n;if(7===t&&"n"===e[1]&&"i"===e[2])n=e.substring(3);else{if(!(t>=5&&t<=7))return-1;n=e.substring(1)}if(n===n.toUpperCase()&&(r=parseInt(n,16),r>=0))return r}return-1}const s=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function c(e){for(let t=0,r=s.length;t<r;t++){const r=s[t];if(e>=r.begin&&e<r.end)return t}return-1}const u=(0,n.getArrayLookupTableFactory)((function(){return["\xA8"," \u0308","\xAF"," \u0304","\xB4"," \u0301","\xB5","\u03BC","\xB8"," \u0327","\u0132","IJ","\u0133","ij","\u013F","L\xB7","\u0140","l\xB7","\u0149","\u02BCn","\u017F","s","\u01C4","D\u017D","\u01C5","D\u017E","\u01C6","d\u017E","\u01C7","LJ","\u01C8","Lj","\u01C9","lj","\u01CA","NJ","\u01CB","Nj","\u01CC","nj","\u01F1","DZ","\u01F2","Dz","\u01F3","dz","\u02D8"," \u0306","\u02D9"," \u0307","\u02DA"," \u030A","\u02DB"," \u0328","\u02DC"," \u0303","\u02DD"," \u030B","\u037A"," \u0345","\u0384"," \u0301","\u03D0","\u03B2","\u03D1","\u03B8","\u03D2","\u03A5","\u03D5","\u03C6","\u03D6","\u03C0","\u03F0","\u03BA","\u03F1","\u03C1","\u03F2","\u03C2","\u03F4","\u0398","\u03F5","\u03B5","\u03F9","\u03A3","\u0587","\u0565\u0582","\u0675","\u0627\u0674","\u0676","\u0648\u0674","\u0677","\u06C7\u0674","\u0678","\u064A\u0674","\u0E33","\u0E4D\u0E32","\u0EB3","\u0ECD\u0EB2","\u0EDC","\u0EAB\u0E99","\u0EDD","\u0EAB\u0EA1","\u0F77","\u0FB2\u0F81","\u0F79","\u0FB3\u0F81","\u1E9A","a\u02BE","\u1FBD"," \u0313","\u1FBF"," \u0313","\u1FC0"," \u0342","\u1FFE"," \u0314","\u2002"," ","\u2003"," ","\u2004"," ","\u2005"," ","\u2006"," ","\u2008"," ","\u2009"," ","\u200A"," ","\u2017"," \u0333","\u2024",".","\u2025","..","\u2026","...","\u2033","\u2032\u2032","\u2034","\u2032\u2032\u2032","\u2036","\u2035\u2035","\u2037","\u2035\u2035\u2035","\u203C","!!","\u203E"," \u0305","\u2047","??","\u2048","?!","\u2049","!?","\u2057","\u2032\u2032\u2032\u2032","\u205F"," ","\u20A8","Rs","\u2100","a/c","\u2101","a/s","\u2103","\xB0C","\u2105","c/o","\u2106","c/u","\u2107","\u0190","\u2109","\xB0F","\u2116","No","\u2121","TEL","\u2135","\u05D0","\u2136","\u05D1","\u2137","\u05D2","\u2138","\u05D3","\u213B","FAX","\u2160","I","\u2161","II","\u2162","III","\u2163","IV","\u2164","V","\u2165","VI","\u2166","VII","\u2167","VIII","\u2168","IX","\u2169","X","\u216A","XI","\u216B","XII","\u216C","L","\u216D","C","\u216E","D","\u216F","M","\u2170","i","\u2171","ii","\u2172","iii","\u2173","iv","\u2174","v","\u2175","vi","\u2176","vii","\u2177","viii","\u2178","ix","\u2179","x","\u217A","xi","\u217B","xii","\u217C","l","\u217D","c","\u217E","d","\u217F","m","\u222C","\u222B\u222B","\u222D","\u222B\u222B\u222B","\u222F","\u222E\u222E","\u2230","\u222E\u222E\u222E","\u2474","(1)","\u2475","(2)","\u2476","(3)","\u2477","(4)","\u2478","(5)","\u2479","(6)","\u247A","(7)","\u247B","(8)","\u247C","(9)","\u247D","(10)","\u247E","(11)","\u247F","(12)","\u2480","(13)","\u2481","(14)","\u2482","(15)","\u2483","(16)","\u2484","(17)","\u2485","(18)","\u2486","(19)","\u2487","(20)","\u2488","1.","\u2489","2.","\u248A","3.","\u248B","4.","\u248C","5.","\u248D","6.","\u248E","7.","\u248F","8.","\u2490","9.","\u2491","10.","\u2492","11.","\u2493","12.","\u2494","13.","\u2495","14.","\u2496","15.","\u2497","16.","\u2498","17.","\u2499","18.","\u249A","19.","\u249B","20.","\u249C","(a)","\u249D","(b)","\u249E","(c)","\u249F","(d)","\u24A0","(e)","\u24A1","(f)","\u24A2","(g)","\u24A3","(h)","\u24A4","(i)","\u24A5","(j)","\u24A6","(k)","\u24A7","(l)","\u24A8","(m)","\u24A9","(n)","\u24AA","(o)","\u24AB","(p)","\u24AC","(q)","\u24AD","(r)","\u24AE","(s)","\u24AF","(t)","\u24B0","(u)","\u24B1","(v)","\u24B2","(w)","\u24B3","(x)","\u24B4","(y)","\u24B5","(z)","\u2A0C","\u222B\u222B\u222B\u222B","\u2A74","::=","\u2A75","==","\u2A76","===","\u2E9F","\u6BCD","\u2EF3","\u9F9F","\u2F00","\u4E00","\u2F01","\u4E28","\u2F02","\u4E36","\u2F03","\u4E3F","\u2F04","\u4E59","\u2F05","\u4E85","\u2F06","\u4E8C","\u2F07","\u4EA0","\u2F08","\u4EBA","\u2F09","\u513F","\u2F0A","\u5165","\u2F0B","\u516B","\u2F0C","\u5182","\u2F0D","\u5196","\u2F0E","\u51AB","\u2F0F","\u51E0","\u2F10","\u51F5","\u2F11","\u5200","\u2F12","\u529B","\u2F13","\u52F9","\u2F14","\u5315","\u2F15","\u531A","\u2F16","\u5338","\u2F17","\u5341","\u2F18","\u535C","\u2F19","\u5369","\u2F1A","\u5382","\u2F1B","\u53B6","\u2F1C","\u53C8","\u2F1D","\u53E3","\u2F1E","\u56D7","\u2F1F","\u571F","\u2F20","\u58EB","\u2F21","\u5902","\u2F22","\u590A","\u2F23","\u5915","\u2F24","\u5927","\u2F25","\u5973","\u2F26","\u5B50","\u2F27","\u5B80","\u2F28","\u5BF8","\u2F29","\u5C0F","\u2F2A","\u5C22","\u2F2B","\u5C38","\u2F2C","\u5C6E","\u2F2D","\u5C71","\u2F2E","\u5DDB","\u2F2F","\u5DE5","\u2F30","\u5DF1","\u2F31","\u5DFE","\u2F32","\u5E72","\u2F33","\u5E7A","\u2F34","\u5E7F","\u2F35","\u5EF4","\u2F36","\u5EFE","\u2F37","\u5F0B","\u2F38","\u5F13","\u2F39","\u5F50","\u2F3A","\u5F61","\u2F3B","\u5F73","\u2F3C","\u5FC3","\u2F3D","\u6208","\u2F3E","\u6236","\u2F3F","\u624B","\u2F40","\u652F","\u2F41","\u6534","\u2F42","\u6587","\u2F43","\u6597","\u2F44","\u65A4","\u2F45","\u65B9","\u2F46","\u65E0","\u2F47","\u65E5","\u2F48","\u66F0","\u2F49","\u6708","\u2F4A","\u6728","\u2F4B","\u6B20","\u2F4C","\u6B62","\u2F4D","\u6B79","\u2F4E","\u6BB3","\u2F4F","\u6BCB","\u2F50","\u6BD4","\u2F51","\u6BDB","\u2F52","\u6C0F","\u2F53","\u6C14","\u2F54","\u6C34","\u2F55","\u706B","\u2F56","\u722A","\u2F57","\u7236","\u2F58","\u723B","\u2F59","\u723F","\u2F5A","\u7247","\u2F5B","\u7259","\u2F5C","\u725B","\u2F5D","\u72AC","\u2F5E","\u7384","\u2F5F","\u7389","\u2F60","\u74DC","\u2F61","\u74E6","\u2F62","\u7518","\u2F63","\u751F","\u2F64","\u7528","\u2F65","\u7530","\u2F66","\u758B","\u2F67","\u7592","\u2F68","\u7676","\u2F69","\u767D","\u2F6A","\u76AE","\u2F6B","\u76BF","\u2F6C","\u76EE","\u2F6D","\u77DB","\u2F6E","\u77E2","\u2F6F","\u77F3","\u2F70","\u793A","\u2F71","\u79B8","\u2F72","\u79BE","\u2F73","\u7A74","\u2F74","\u7ACB","\u2F75","\u7AF9","\u2F76","\u7C73","\u2F77","\u7CF8","\u2F78","\u7F36","\u2F79","\u7F51","\u2F7A","\u7F8A","\u2F7B","\u7FBD","\u2F7C","\u8001","\u2F7D","\u800C","\u2F7E","\u8012","\u2F7F","\u8033","\u2F80","\u807F","\u2F81","\u8089","\u2F82","\u81E3","\u2F83","\u81EA","\u2F84","\u81F3","\u2F85","\u81FC","\u2F86","\u820C","\u2F87","\u821B","\u2F88","\u821F","\u2F89","\u826E","\u2F8A","\u8272","\u2F8B","\u8278","\u2F8C","\u864D","\u2F8D","\u866B","\u2F8E","\u8840","\u2F8F","\u884C","\u2F90","\u8863","\u2F91","\u897E","\u2F92","\u898B","\u2F93","\u89D2","\u2F94","\u8A00","\u2F95","\u8C37","\u2F96","\u8C46","\u2F97","\u8C55","\u2F98","\u8C78","\u2F99","\u8C9D","\u2F9A","\u8D64","\u2F9B","\u8D70","\u2F9C","\u8DB3","\u2F9D","\u8EAB","\u2F9E","\u8ECA","\u2F9F","\u8F9B","\u2FA0","\u8FB0","\u2FA1","\u8FB5","\u2FA2","\u9091","\u2FA3","\u9149","\u2FA4","\u91C6","\u2FA5","\u91CC","\u2FA6","\u91D1","\u2FA7","\u9577","\u2FA8","\u9580","\u2FA9","\u961C","\u2FAA","\u96B6","\u2FAB","\u96B9","\u2FAC","\u96E8","\u2FAD","\u9751","\u2FAE","\u975E","\u2FAF","\u9762","\u2FB0","\u9769","\u2FB1","\u97CB","\u2FB2","\u97ED","\u2FB3","\u97F3","\u2FB4","\u9801","\u2FB5","\u98A8","\u2FB6","\u98DB","\u2FB7","\u98DF","\u2FB8","\u9996","\u2FB9","\u9999","\u2FBA","\u99AC","\u2FBB","\u9AA8","\u2FBC","\u9AD8","\u2FBD","\u9ADF","\u2FBE","\u9B25","\u2FBF","\u9B2F","\u2FC0","\u9B32","\u2FC1","\u9B3C","\u2FC2","\u9B5A","\u2FC3","\u9CE5","\u2FC4","\u9E75","\u2FC5","\u9E7F","\u2FC6","\u9EA5","\u2FC7","\u9EBB","\u2FC8","\u9EC3","\u2FC9","\u9ECD","\u2FCA","\u9ED1","\u2FCB","\u9EF9","\u2FCC","\u9EFD","\u2FCD","\u9F0E","\u2FCE","\u9F13","\u2FCF","\u9F20","\u2FD0","\u9F3B","\u2FD1","\u9F4A","\u2FD2","\u9F52","\u2FD3","\u9F8D","\u2FD4","\u9F9C","\u2FD5","\u9FA0","\u3036","\u3012","\u3038","\u5341","\u3039","\u5344","\u303A","\u5345","\u309B"," \u3099","\u309C"," \u309A","\u3131","\u1100","\u3132","\u1101","\u3133","\u11AA","\u3134","\u1102","\u3135","\u11AC","\u3136","\u11AD","\u3137","\u1103","\u3138","\u1104","\u3139","\u1105","\u313A","\u11B0","\u313B","\u11B1","\u313C","\u11B2","\u313D","\u11B3","\u313E","\u11B4","\u313F","\u11B5","\u3140","\u111A","\u3141","\u1106","\u3142","\u1107","\u3143","\u1108","\u3144","\u1121","\u3145","\u1109","\u3146","\u110A","\u3147","\u110B","\u3148","\u110C","\u3149","\u110D","\u314A","\u110E","\u314B","\u110F","\u314C","\u1110","\u314D","\u1111","\u314E","\u1112","\u314F","\u1161","\u3150","\u1162","\u3151","\u1163","\u3152","\u1164","\u3153","\u1165","\u3154","\u1166","\u3155","\u1167","\u3156","\u1168","\u3157","\u1169","\u3158","\u116A","\u3159","\u116B","\u315A","\u116C","\u315B","\u116D","\u315C","\u116E","\u315D","\u116F","\u315E","\u1170","\u315F","\u1171","\u3160","\u1172","\u3161","\u1173","\u3162","\u1174","\u3163","\u1175","\u3164","\u1160","\u3165","\u1114","\u3166","\u1115","\u3167","\u11C7","\u3168","\u11C8","\u3169","\u11CC","\u316A","\u11CE","\u316B","\u11D3","\u316C","\u11D7","\u316D","\u11D9","\u316E","\u111C","\u316F","\u11DD","\u3170","\u11DF","\u3171","\u111D","\u3172","\u111E","\u3173","\u1120","\u3174","\u1122","\u3175","\u1123","\u3176","\u1127","\u3177","\u1129","\u3178","\u112B","\u3179","\u112C","\u317A","\u112D","\u317B","\u112E","\u317C","\u112F","\u317D","\u1132","\u317E","\u1136","\u317F","\u1140","\u3180","\u1147","\u3181","\u114C","\u3182","\u11F1","\u3183","\u11F2","\u3184","\u1157","\u3185","\u1158","\u3186","\u1159","\u3187","\u1184","\u3188","\u1185","\u3189","\u1188","\u318A","\u1191","\u318B","\u1192","\u318C","\u1194","\u318D","\u119E","\u318E","\u11A1","\u3200","(\u1100)","\u3201","(\u1102)","\u3202","(\u1103)","\u3203","(\u1105)","\u3204","(\u1106)","\u3205","(\u1107)","\u3206","(\u1109)","\u3207","(\u110B)","\u3208","(\u110C)","\u3209","(\u110E)","\u320A","(\u110F)","\u320B","(\u1110)","\u320C","(\u1111)","\u320D","(\u1112)","\u320E","(\u1100\u1161)","\u320F","(\u1102\u1161)","\u3210","(\u1103\u1161)","\u3211","(\u1105\u1161)","\u3212","(\u1106\u1161)","\u3213","(\u1107\u1161)","\u3214","(\u1109\u1161)","\u3215","(\u110B\u1161)","\u3216","(\u110C\u1161)","\u3217","(\u110E\u1161)","\u3218","(\u110F\u1161)","\u3219","(\u1110\u1161)","\u321A","(\u1111\u1161)","\u321B","(\u1112\u1161)","\u321C","(\u110C\u116E)","\u321D","(\u110B\u1169\u110C\u1165\u11AB)","\u321E","(\u110B\u1169\u1112\u116E)","\u3220","(\u4E00)","\u3221","(\u4E8C)","\u3222","(\u4E09)","\u3223","(\u56DB)","\u3224","(\u4E94)","\u3225","(\u516D)","\u3226","(\u4E03)","\u3227","(\u516B)","\u3228","(\u4E5D)","\u3229","(\u5341)","\u322A","(\u6708)","\u322B","(\u706B)","\u322C","(\u6C34)","\u322D","(\u6728)","\u322E","(\u91D1)","\u322F","(\u571F)","\u3230","(\u65E5)","\u3231","(\u682A)","\u3232","(\u6709)","\u3233","(\u793E)","\u3234","(\u540D)","\u3235","(\u7279)","\u3236","(\u8CA1)","\u3237","(\u795D)","\u3238","(\u52B4)","\u3239","(\u4EE3)","\u323A","(\u547C)","\u323B","(\u5B66)","\u323C","(\u76E3)","\u323D","(\u4F01)","\u323E","(\u8CC7)","\u323F","(\u5354)","\u3240","(\u796D)","\u3241","(\u4F11)","\u3242","(\u81EA)","\u3243","(\u81F3)","\u32C0","1\u6708","\u32C1","2\u6708","\u32C2","3\u6708","\u32C3","4\u6708","\u32C4","5\u6708","\u32C5","6\u6708","\u32C6","7\u6708","\u32C7","8\u6708","\u32C8","9\u6708","\u32C9","10\u6708","\u32CA","11\u6708","\u32CB","12\u6708","\u3358","0\u70B9","\u3359","1\u70B9","\u335A","2\u70B9","\u335B","3\u70B9","\u335C","4\u70B9","\u335D","5\u70B9","\u335E","6\u70B9","\u335F","7\u70B9","\u3360","8\u70B9","\u3361","9\u70B9","\u3362","10\u70B9","\u3363","11\u70B9","\u3364","12\u70B9","\u3365","13\u70B9","\u3366","14\u70B9","\u3367","15\u70B9","\u3368","16\u70B9","\u3369","17\u70B9","\u336A","18\u70B9","\u336B","19\u70B9","\u336C","20\u70B9","\u336D","21\u70B9","\u336E","22\u70B9","\u336F","23\u70B9","\u3370","24\u70B9","\u33E0","1\u65E5","\u33E1","2\u65E5","\u33E2","3\u65E5","\u33E3","4\u65E5","\u33E4","5\u65E5","\u33E5","6\u65E5","\u33E6","7\u65E5","\u33E7","8\u65E5","\u33E8","9\u65E5","\u33E9","10\u65E5","\u33EA","11\u65E5","\u33EB","12\u65E5","\u33EC","13\u65E5","\u33ED","14\u65E5","\u33EE","15\u65E5","\u33EF","16\u65E5","\u33F0","17\u65E5","\u33F1","18\u65E5","\u33F2","19\u65E5","\u33F3","20\u65E5","\u33F4","21\u65E5","\u33F5","22\u65E5","\u33F6","23\u65E5","\u33F7","24\u65E5","\u33F8","25\u65E5","\u33F9","26\u65E5","\u33FA","27\u65E5","\u33FB","28\u65E5","\u33FC","29\u65E5","\u33FD","30\u65E5","\u33FE","31\u65E5","\uFB00","ff","\uFB01","fi","\uFB02","fl","\uFB03","ffi","\uFB04","ffl","\uFB05","\u017Ft","\uFB06","st","\uFB13","\u0574\u0576","\uFB14","\u0574\u0565","\uFB15","\u0574\u056B","\uFB16","\u057E\u0576","\uFB17","\u0574\u056D","\uFB4F","\u05D0\u05DC","\uFB50","\u0671","\uFB51","\u0671","\uFB52","\u067B","\uFB53","\u067B","\uFB54","\u067B","\uFB55","\u067B","\uFB56","\u067E","\uFB57","\u067E","\uFB58","\u067E","\uFB59","\u067E","\uFB5A","\u0680","\uFB5B","\u0680","\uFB5C","\u0680","\uFB5D","\u0680","\uFB5E","\u067A","\uFB5F","\u067A","\uFB60","\u067A","\uFB61","\u067A","\uFB62","\u067F","\uFB63","\u067F","\uFB64","\u067F","\uFB65","\u067F","\uFB66","\u0679","\uFB67","\u0679","\uFB68","\u0679","\uFB69","\u0679","\uFB6A","\u06A4","\uFB6B","\u06A4","\uFB6C","\u06A4","\uFB6D","\u06A4","\uFB6E","\u06A6","\uFB6F","\u06A6","\uFB70","\u06A6","\uFB71","\u06A6","\uFB72","\u0684","\uFB73","\u0684","\uFB74","\u0684","\uFB75","\u0684","\uFB76","\u0683","\uFB77","\u0683","\uFB78","\u0683","\uFB79","\u0683","\uFB7A","\u0686","\uFB7B","\u0686","\uFB7C","\u0686","\uFB7D","\u0686","\uFB7E","\u0687","\uFB7F","\u0687","\uFB80","\u0687","\uFB81","\u0687","\uFB82","\u068D","\uFB83","\u068D","\uFB84","\u068C","\uFB85","\u068C","\uFB86","\u068E","\uFB87","\u068E","\uFB88","\u0688","\uFB89","\u0688","\uFB8A","\u0698","\uFB8B","\u0698","\uFB8C","\u0691","\uFB8D","\u0691","\uFB8E","\u06A9","\uFB8F","\u06A9","\uFB90","\u06A9","\uFB91","\u06A9","\uFB92","\u06AF","\uFB93","\u06AF","\uFB94","\u06AF","\uFB95","\u06AF","\uFB96","\u06B3","\uFB97","\u06B3","\uFB98","\u06B3","\uFB99","\u06B3","\uFB9A","\u06B1","\uFB9B","\u06B1","\uFB9C","\u06B1","\uFB9D","\u06B1","\uFB9E","\u06BA","\uFB9F","\u06BA","\uFBA0","\u06BB","\uFBA1","\u06BB","\uFBA2","\u06BB","\uFBA3","\u06BB","\uFBA4","\u06C0","\uFBA5","\u06C0","\uFBA6","\u06C1","\uFBA7","\u06C1","\uFBA8","\u06C1","\uFBA9","\u06C1","\uFBAA","\u06BE","\uFBAB","\u06BE","\uFBAC","\u06BE","\uFBAD","\u06BE","\uFBAE","\u06D2","\uFBAF","\u06D2","\uFBB0","\u06D3","\uFBB1","\u06D3","\uFBD3","\u06AD","\uFBD4","\u06AD","\uFBD5","\u06AD","\uFBD6","\u06AD","\uFBD7","\u06C7","\uFBD8","\u06C7","\uFBD9","\u06C6","\uFBDA","\u06C6","\uFBDB","\u06C8","\uFBDC","\u06C8","\uFBDD","\u0677","\uFBDE","\u06CB","\uFBDF","\u06CB","\uFBE0","\u06C5","\uFBE1","\u06C5","\uFBE2","\u06C9","\uFBE3","\u06C9","\uFBE4","\u06D0","\uFBE5","\u06D0","\uFBE6","\u06D0","\uFBE7","\u06D0","\uFBE8","\u0649","\uFBE9","\u0649","\uFBEA","\u0626\u0627","\uFBEB","\u0626\u0627","\uFBEC","\u0626\u06D5","\uFBED","\u0626\u06D5","\uFBEE","\u0626\u0648","\uFBEF","\u0626\u0648","\uFBF0","\u0626\u06C7","\uFBF1","\u0626\u06C7","\uFBF2","\u0626\u06C6","\uFBF3","\u0626\u06C6","\uFBF4","\u0626\u06C8","\uFBF5","\u0626\u06C8","\uFBF6","\u0626\u06D0","\uFBF7","\u0626\u06D0","\uFBF8","\u0626\u06D0","\uFBF9","\u0626\u0649","\uFBFA","\u0626\u0649","\uFBFB","\u0626\u0649","\uFBFC","\u06CC","\uFBFD","\u06CC","\uFBFE","\u06CC","\uFBFF","\u06CC","\uFC00","\u0626\u062C","\uFC01","\u0626\u062D","\uFC02","\u0626\u0645","\uFC03","\u0626\u0649","\uFC04","\u0626\u064A","\uFC05","\u0628\u062C","\uFC06","\u0628\u062D","\uFC07","\u0628\u062E","\uFC08","\u0628\u0645","\uFC09","\u0628\u0649","\uFC0A","\u0628\u064A","\uFC0B","\u062A\u062C","\uFC0C","\u062A\u062D","\uFC0D","\u062A\u062E","\uFC0E","\u062A\u0645","\uFC0F","\u062A\u0649","\uFC10","\u062A\u064A","\uFC11","\u062B\u062C","\uFC12","\u062B\u0645","\uFC13","\u062B\u0649","\uFC14","\u062B\u064A","\uFC15","\u062C\u062D","\uFC16","\u062C\u0645","\uFC17","\u062D\u062C","\uFC18","\u062D\u0645","\uFC19","\u062E\u062C","\uFC1A","\u062E\u062D","\uFC1B","\u062E\u0645","\uFC1C","\u0633\u062C","\uFC1D","\u0633\u062D","\uFC1E","\u0633\u062E","\uFC1F","\u0633\u0645","\uFC20","\u0635\u062D","\uFC21","\u0635\u0645","\uFC22","\u0636\u062C","\uFC23","\u0636\u062D","\uFC24","\u0636\u062E","\uFC25","\u0636\u0645","\uFC26","\u0637\u062D","\uFC27","\u0637\u0645","\uFC28","\u0638\u0645","\uFC29","\u0639\u062C","\uFC2A","\u0639\u0645","\uFC2B","\u063A\u062C","\uFC2C","\u063A\u0645","\uFC2D","\u0641\u062C","\uFC2E","\u0641\u062D","\uFC2F","\u0641\u062E","\uFC30","\u0641\u0645","\uFC31","\u0641\u0649","\uFC32","\u0641\u064A","\uFC33","\u0642\u062D","\uFC34","\u0642\u0645","\uFC35","\u0642\u0649","\uFC36","\u0642\u064A","\uFC37","\u0643\u0627","\uFC38","\u0643\u062C","\uFC39","\u0643\u062D","\uFC3A","\u0643\u062E","\uFC3B","\u0643\u0644","\uFC3C","\u0643\u0645","\uFC3D","\u0643\u0649","\uFC3E","\u0643\u064A","\uFC3F","\u0644\u062C","\uFC40","\u0644\u062D","\uFC41","\u0644\u062E","\uFC42","\u0644\u0645","\uFC43","\u0644\u0649","\uFC44","\u0644\u064A","\uFC45","\u0645\u062C","\uFC46","\u0645\u062D","\uFC47","\u0645\u062E","\uFC48","\u0645\u0645","\uFC49","\u0645\u0649","\uFC4A","\u0645\u064A","\uFC4B","\u0646\u062C","\uFC4C","\u0646\u062D","\uFC4D","\u0646\u062E","\uFC4E","\u0646\u0645","\uFC4F","\u0646\u0649","\uFC50","\u0646\u064A","\uFC51","\u0647\u062C","\uFC52","\u0647\u0645","\uFC53","\u0647\u0649","\uFC54","\u0647\u064A","\uFC55","\u064A\u062C","\uFC56","\u064A\u062D","\uFC57","\u064A\u062E","\uFC58","\u064A\u0645","\uFC59","\u064A\u0649","\uFC5A","\u064A\u064A","\uFC5B","\u0630\u0670","\uFC5C","\u0631\u0670","\uFC5D","\u0649\u0670","\uFC5E"," \u064C\u0651","\uFC5F"," \u064D\u0651","\uFC60"," \u064E\u0651","\uFC61"," \u064F\u0651","\uFC62"," \u0650\u0651","\uFC63"," \u0651\u0670","\uFC64","\u0626\u0631","\uFC65","\u0626\u0632","\uFC66","\u0626\u0645","\uFC67","\u0626\u0646","\uFC68","\u0626\u0649","\uFC69","\u0626\u064A","\uFC6A","\u0628\u0631","\uFC6B","\u0628\u0632","\uFC6C","\u0628\u0645","\uFC6D","\u0628\u0646","\uFC6E","\u0628\u0649","\uFC6F","\u0628\u064A","\uFC70","\u062A\u0631","\uFC71","\u062A\u0632","\uFC72","\u062A\u0645","\uFC73","\u062A\u0646","\uFC74","\u062A\u0649","\uFC75","\u062A\u064A","\uFC76","\u062B\u0631","\uFC77","\u062B\u0632","\uFC78","\u062B\u0645","\uFC79","\u062B\u0646","\uFC7A","\u062B\u0649","\uFC7B","\u062B\u064A","\uFC7C","\u0641\u0649","\uFC7D","\u0641\u064A","\uFC7E","\u0642\u0649","\uFC7F","\u0642\u064A","\uFC80","\u0643\u0627","\uFC81","\u0643\u0644","\uFC82","\u0643\u0645","\uFC83","\u0643\u0649","\uFC84","\u0643\u064A","\uFC85","\u0644\u0645","\uFC86","\u0644\u0649","\uFC87","\u0644\u064A","\uFC88","\u0645\u0627","\uFC89","\u0645\u0645","\uFC8A","\u0646\u0631","\uFC8B","\u0646\u0632","\uFC8C","\u0646\u0645","\uFC8D","\u0646\u0646","\uFC8E","\u0646\u0649","\uFC8F","\u0646\u064A","\uFC90","\u0649\u0670","\uFC91","\u064A\u0631","\uFC92","\u064A\u0632","\uFC93","\u064A\u0645","\uFC94","\u064A\u0646","\uFC95","\u064A\u0649","\uFC96","\u064A\u064A","\uFC97","\u0626\u062C","\uFC98","\u0626\u062D","\uFC99","\u0626\u062E","\uFC9A","\u0626\u0645","\uFC9B","\u0626\u0647","\uFC9C","\u0628\u062C","\uFC9D","\u0628\u062D","\uFC9E","\u0628\u062E","\uFC9F","\u0628\u0645","\uFCA0","\u0628\u0647","\uFCA1","\u062A\u062C","\uFCA2","\u062A\u062D","\uFCA3","\u062A\u062E","\uFCA4","\u062A\u0645","\uFCA5","\u062A\u0647","\uFCA6","\u062B\u0645","\uFCA7","\u062C\u062D","\uFCA8","\u062C\u0645","\uFCA9","\u062D\u062C","\uFCAA","\u062D\u0645","\uFCAB","\u062E\u062C","\uFCAC","\u062E\u0645","\uFCAD","\u0633\u062C","\uFCAE","\u0633\u062D","\uFCAF","\u0633\u062E","\uFCB0","\u0633\u0645","\uFCB1","\u0635\u062D","\uFCB2","\u0635\u062E","\uFCB3","\u0635\u0645","\uFCB4","\u0636\u062C","\uFCB5","\u0636\u062D","\uFCB6","\u0636\u062E","\uFCB7","\u0636\u0645","\uFCB8","\u0637\u062D","\uFCB9","\u0638\u0645","\uFCBA","\u0639\u062C","\uFCBB","\u0639\u0645","\uFCBC","\u063A\u062C","\uFCBD","\u063A\u0645","\uFCBE","\u0641\u062C","\uFCBF","\u0641\u062D","\uFCC0","\u0641\u062E","\uFCC1","\u0641\u0645","\uFCC2","\u0642\u062D","\uFCC3","\u0642\u0645","\uFCC4","\u0643\u062C","\uFCC5","\u0643\u062D","\uFCC6","\u0643\u062E","\uFCC7","\u0643\u0644","\uFCC8","\u0643\u0645","\uFCC9","\u0644\u062C","\uFCCA","\u0644\u062D","\uFCCB","\u0644\u062E","\uFCCC","\u0644\u0645","\uFCCD","\u0644\u0647","\uFCCE","\u0645\u062C","\uFCCF","\u0645\u062D","\uFCD0","\u0645\u062E","\uFCD1","\u0645\u0645","\uFCD2","\u0646\u062C","\uFCD3","\u0646\u062D","\uFCD4","\u0646\u062E","\uFCD5","\u0646\u0645","\uFCD6","\u0646\u0647","\uFCD7","\u0647\u062C","\uFCD8","\u0647\u0645","\uFCD9","\u0647\u0670","\uFCDA","\u064A\u062C","\uFCDB","\u064A\u062D","\uFCDC","\u064A\u062E","\uFCDD","\u064A\u0645","\uFCDE","\u064A\u0647","\uFCDF","\u0626\u0645","\uFCE0","\u0626\u0647","\uFCE1","\u0628\u0645","\uFCE2","\u0628\u0647","\uFCE3","\u062A\u0645","\uFCE4","\u062A\u0647","\uFCE5","\u062B\u0645","\uFCE6","\u062B\u0647","\uFCE7","\u0633\u0645","\uFCE8","\u0633\u0647","\uFCE9","\u0634\u0645","\uFCEA","\u0634\u0647","\uFCEB","\u0643\u0644","\uFCEC","\u0643\u0645","\uFCED","\u0644\u0645","\uFCEE","\u0646\u0645","\uFCEF","\u0646\u0647","\uFCF0","\u064A\u0645","\uFCF1","\u064A\u0647","\uFCF2","\u0640\u064E\u0651","\uFCF3","\u0640\u064F\u0651","\uFCF4","\u0640\u0650\u0651","\uFCF5","\u0637\u0649","\uFCF6","\u0637\u064A","\uFCF7","\u0639\u0649","\uFCF8","\u0639\u064A","\uFCF9","\u063A\u0649","\uFCFA","\u063A\u064A","\uFCFB","\u0633\u0649","\uFCFC","\u0633\u064A","\uFCFD","\u0634\u0649","\uFCFE","\u0634\u064A","\uFCFF","\u062D\u0649","\uFD00","\u062D\u064A","\uFD01","\u062C\u0649","\uFD02","\u062C\u064A","\uFD03","\u062E\u0649","\uFD04","\u062E\u064A","\uFD05","\u0635\u0649","\uFD06","\u0635\u064A","\uFD07","\u0636\u0649","\uFD08","\u0636\u064A","\uFD09","\u0634\u062C","\uFD0A","\u0634\u062D","\uFD0B","\u0634\u062E","\uFD0C","\u0634\u0645","\uFD0D","\u0634\u0631","\uFD0E","\u0633\u0631","\uFD0F","\u0635\u0631","\uFD10","\u0636\u0631","\uFD11","\u0637\u0649","\uFD12","\u0637\u064A","\uFD13","\u0639\u0649","\uFD14","\u0639\u064A","\uFD15","\u063A\u0649","\uFD16","\u063A\u064A","\uFD17","\u0633\u0649","\uFD18","\u0633\u064A","\uFD19","\u0634\u0649","\uFD1A","\u0634\u064A","\uFD1B","\u062D\u0649","\uFD1C","\u062D\u064A","\uFD1D","\u062C\u0649","\uFD1E","\u062C\u064A","\uFD1F","\u062E\u0649","\uFD20","\u062E\u064A","\uFD21","\u0635\u0649","\uFD22","\u0635\u064A","\uFD23","\u0636\u0649","\uFD24","\u0636\u064A","\uFD25","\u0634\u062C","\uFD26","\u0634\u062D","\uFD27","\u0634\u062E","\uFD28","\u0634\u0645","\uFD29","\u0634\u0631","\uFD2A","\u0633\u0631","\uFD2B","\u0635\u0631","\uFD2C","\u0636\u0631","\uFD2D","\u0634\u062C","\uFD2E","\u0634\u062D","\uFD2F","\u0634\u062E","\uFD30","\u0634\u0645","\uFD31","\u0633\u0647","\uFD32","\u0634\u0647","\uFD33","\u0637\u0645","\uFD34","\u0633\u062C","\uFD35","\u0633\u062D","\uFD36","\u0633\u062E","\uFD37","\u0634\u062C","\uFD38","\u0634\u062D","\uFD39","\u0634\u062E","\uFD3A","\u0637\u0645","\uFD3B","\u0638\u0645","\uFD3C","\u0627\u064B","\uFD3D","\u0627\u064B","\uFD50","\u062A\u062C\u0645","\uFD51","\u062A\u062D\u062C","\uFD52","\u062A\u062D\u062C","\uFD53","\u062A\u062D\u0645","\uFD54","\u062A\u062E\u0645","\uFD55","\u062A\u0645\u062C","\uFD56","\u062A\u0645\u062D","\uFD57","\u062A\u0645\u062E","\uFD58","\u062C\u0645\u062D","\uFD59","\u062C\u0645\u062D","\uFD5A","\u062D\u0645\u064A","\uFD5B","\u062D\u0645\u0649","\uFD5C","\u0633\u062D\u062C","\uFD5D","\u0633\u062C\u062D","\uFD5E","\u0633\u062C\u0649","\uFD5F","\u0633\u0645\u062D","\uFD60","\u0633\u0645\u062D","\uFD61","\u0633\u0645\u062C","\uFD62","\u0633\u0645\u0645","\uFD63","\u0633\u0645\u0645","\uFD64","\u0635\u062D\u062D","\uFD65","\u0635\u062D\u062D","\uFD66","\u0635\u0645\u0645","\uFD67","\u0634\u062D\u0645","\uFD68","\u0634\u062D\u0645","\uFD69","\u0634\u062C\u064A","\uFD6A","\u0634\u0645\u062E","\uFD6B","\u0634\u0645\u062E","\uFD6C","\u0634\u0645\u0645","\uFD6D","\u0634\u0645\u0645","\uFD6E","\u0636\u062D\u0649","\uFD6F","\u0636\u062E\u0645","\uFD70","\u0636\u062E\u0645","\uFD71","\u0637\u0645\u062D","\uFD72","\u0637\u0645\u062D","\uFD73","\u0637\u0645\u0645","\uFD74","\u0637\u0645\u064A","\uFD75","\u0639\u062C\u0645","\uFD76","\u0639\u0645\u0645","\uFD77","\u0639\u0645\u0645","\uFD78","\u0639\u0645\u0649","\uFD79","\u063A\u0645\u0645","\uFD7A","\u063A\u0645\u064A","\uFD7B","\u063A\u0645\u0649","\uFD7C","\u0641\u062E\u0645","\uFD7D","\u0641\u062E\u0645","\uFD7E","\u0642\u0645\u062D","\uFD7F","\u0642\u0645\u0645","\uFD80","\u0644\u062D\u0645","\uFD81","\u0644\u062D\u064A","\uFD82","\u0644\u062D\u0649","\uFD83","\u0644\u062C\u062C","\uFD84","\u0644\u062C\u062C","\uFD85","\u0644\u062E\u0645","\uFD86","\u0644\u062E\u0645","\uFD87","\u0644\u0645\u062D","\uFD88","\u0644\u0645\u062D","\uFD89","\u0645\u062D\u062C","\uFD8A","\u0645\u062D\u0645","\uFD8B","\u0645\u062D\u064A","\uFD8C","\u0645\u062C\u062D","\uFD8D","\u0645\u062C\u0645","\uFD8E","\u0645\u062E\u062C","\uFD8F","\u0645\u062E\u0645","\uFD92","\u0645\u062C\u062E","\uFD93","\u0647\u0645\u062C","\uFD94","\u0647\u0645\u0645","\uFD95","\u0646\u062D\u0645","\uFD96","\u0646\u062D\u0649","\uFD97","\u0646\u062C\u0645","\uFD98","\u0646\u062C\u0645","\uFD99","\u0646\u062C\u0649","\uFD9A","\u0646\u0645\u064A","\uFD9B","\u0646\u0645\u0649","\uFD9C","\u064A\u0645\u0645","\uFD9D","\u064A\u0645\u0645","\uFD9E","\u0628\u062E\u064A","\uFD9F","\u062A\u062C\u064A","\uFDA0","\u062A\u062C\u0649","\uFDA1","\u062A\u062E\u064A","\uFDA2","\u062A\u062E\u0649","\uFDA3","\u062A\u0645\u064A","\uFDA4","\u062A\u0645\u0649","\uFDA5","\u062C\u0645\u064A","\uFDA6","\u062C\u062D\u0649","\uFDA7","\u062C\u0645\u0649","\uFDA8","\u0633\u062E\u0649","\uFDA9","\u0635\u062D\u064A","\uFDAA","\u0634\u062D\u064A","\uFDAB","\u0636\u062D\u064A","\uFDAC","\u0644\u062C\u064A","\uFDAD","\u0644\u0645\u064A","\uFDAE","\u064A\u062D\u064A","\uFDAF","\u064A\u062C\u064A","\uFDB0","\u064A\u0645\u064A","\uFDB1","\u0645\u0645\u064A","\uFDB2","\u0642\u0645\u064A","\uFDB3","\u0646\u062D\u064A","\uFDB4","\u0642\u0645\u062D","\uFDB5","\u0644\u062D\u0645","\uFDB6","\u0639\u0645\u064A","\uFDB7","\u0643\u0645\u064A","\uFDB8","\u0646\u062C\u062D","\uFDB9","\u0645\u062E\u064A","\uFDBA","\u0644\u062C\u0645","\uFDBB","\u0643\u0645\u0645","\uFDBC","\u0644\u062C\u0645","\uFDBD","\u0646\u062C\u062D","\uFDBE","\u062C\u062D\u064A","\uFDBF","\u062D\u062C\u064A","\uFDC0","\u0645\u062C\u064A","\uFDC1","\u0641\u0645\u064A","\uFDC2","\u0628\u062D\u064A","\uFDC3","\u0643\u0645\u0645","\uFDC4","\u0639\u062C\u0645","\uFDC5","\u0635\u0645\u0645","\uFDC6","\u0633\u062E\u064A","\uFDC7","\u0646\u062C\u064A","\uFE49","\u203E","\uFE4A","\u203E","\uFE4B","\u203E","\uFE4C","\u203E","\uFE4D","_","\uFE4E","_","\uFE4F","_","\uFE80","\u0621","\uFE81","\u0622","\uFE82","\u0622","\uFE83","\u0623","\uFE84","\u0623","\uFE85","\u0624","\uFE86","\u0624","\uFE87","\u0625","\uFE88","\u0625","\uFE89","\u0626","\uFE8A","\u0626","\uFE8B","\u0626","\uFE8C","\u0626","\uFE8D","\u0627","\uFE8E","\u0627","\uFE8F","\u0628","\uFE90","\u0628","\uFE91","\u0628","\uFE92","\u0628","\uFE93","\u0629","\uFE94","\u0629","\uFE95","\u062A","\uFE96","\u062A","\uFE97","\u062A","\uFE98","\u062A","\uFE99","\u062B","\uFE9A","\u062B","\uFE9B","\u062B","\uFE9C","\u062B","\uFE9D","\u062C","\uFE9E","\u062C","\uFE9F","\u062C","\uFEA0","\u062C","\uFEA1","\u062D","\uFEA2","\u062D","\uFEA3","\u062D","\uFEA4","\u062D","\uFEA5","\u062E","\uFEA6","\u062E","\uFEA7","\u062E","\uFEA8","\u062E","\uFEA9","\u062F","\uFEAA","\u062F","\uFEAB","\u0630","\uFEAC","\u0630","\uFEAD","\u0631","\uFEAE","\u0631","\uFEAF","\u0632","\uFEB0","\u0632","\uFEB1","\u0633","\uFEB2","\u0633","\uFEB3","\u0633","\uFEB4","\u0633","\uFEB5","\u0634","\uFEB6","\u0634","\uFEB7","\u0634","\uFEB8","\u0634","\uFEB9","\u0635","\uFEBA","\u0635","\uFEBB","\u0635","\uFEBC","\u0635","\uFEBD","\u0636","\uFEBE","\u0636","\uFEBF","\u0636","\uFEC0","\u0636","\uFEC1","\u0637","\uFEC2","\u0637","\uFEC3","\u0637","\uFEC4","\u0637","\uFEC5","\u0638","\uFEC6","\u0638","\uFEC7","\u0638","\uFEC8","\u0638","\uFEC9","\u0639","\uFECA","\u0639","\uFECB","\u0639","\uFECC","\u0639","\uFECD","\u063A","\uFECE","\u063A","\uFECF","\u063A","\uFED0","\u063A","\uFED1","\u0641","\uFED2","\u0641","\uFED3","\u0641","\uFED4","\u0641","\uFED5","\u0642","\uFED6","\u0642","\uFED7","\u0642","\uFED8","\u0642","\uFED9","\u0643","\uFEDA","\u0643","\uFEDB","\u0643","\uFEDC","\u0643","\uFEDD","\u0644","\uFEDE","\u0644","\uFEDF","\u0644","\uFEE0","\u0644","\uFEE1","\u0645","\uFEE2","\u0645","\uFEE3","\u0645","\uFEE4","\u0645","\uFEE5","\u0646","\uFEE6","\u0646","\uFEE7","\u0646","\uFEE8","\u0646","\uFEE9","\u0647","\uFEEA","\u0647","\uFEEB","\u0647","\uFEEC","\u0647","\uFEED","\u0648","\uFEEE","\u0648","\uFEEF","\u0649","\uFEF0","\u0649","\uFEF1","\u064A","\uFEF2","\u064A","\uFEF3","\u064A","\uFEF4","\u064A","\uFEF5","\u0644\u0622","\uFEF6","\u0644\u0622","\uFEF7","\u0644\u0623","\uFEF8","\u0644\u0623","\uFEF9","\u0644\u0625","\uFEFA","\u0644\u0625","\uFEFB","\u0644\u0627","\uFEFC","\u0644\u0627"]}));function l(e){const t=e.length;if(t<=1||!function(e){let t=s[13];return e>=t.begin&&e<t.end||(t=s[11],e>=t.begin&&e<t.end)}(e.charCodeAt(0)))return e;const r=[];for(let n=t-1;n>=0;n--)r.push(e[n]);return r.join("")}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSymbolsFonts=t.getSupplementalGlyphMapForCalibri=t.getSupplementalGlyphMapForArialBlack=t.getStdFontMap=t.getSerifFonts=t.getNonStdFontMap=t.getGlyphMapForStandardFonts=void 0;var n=r(117),a=(0,n.getLookupTableFactory)((function(e){e.ArialNarrow="Helvetica",e["ArialNarrow-Bold"]="Helvetica-Bold",e["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",e["ArialNarrow-Italic"]="Helvetica-Oblique",e.ArialBlack="Helvetica",e["ArialBlack-Bold"]="Helvetica-Bold",e["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",e["ArialBlack-Italic"]="Helvetica-Oblique",e["Arial-Black"]="Helvetica",e["Arial-Black-Bold"]="Helvetica-Bold",e["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",e["Arial-Black-Italic"]="Helvetica-Oblique",e.Arial="Helvetica",e["Arial-Bold"]="Helvetica-Bold",e["Arial-BoldItalic"]="Helvetica-BoldOblique",e["Arial-Italic"]="Helvetica-Oblique",e["Arial-BoldItalicMT"]="Helvetica-BoldOblique",e["Arial-BoldMT"]="Helvetica-Bold",e["Arial-ItalicMT"]="Helvetica-Oblique",e.ArialMT="Helvetica",e["Courier-Bold"]="Courier-Bold",e["Courier-BoldItalic"]="Courier-BoldOblique",e["Courier-Italic"]="Courier-Oblique",e.CourierNew="Courier",e["CourierNew-Bold"]="Courier-Bold",e["CourierNew-BoldItalic"]="Courier-BoldOblique",e["CourierNew-Italic"]="Courier-Oblique",e["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",e["CourierNewPS-BoldMT"]="Courier-Bold",e["CourierNewPS-ItalicMT"]="Courier-Oblique",e.CourierNewPSMT="Courier",e.Helvetica="Helvetica",e["Helvetica-Bold"]="Helvetica-Bold",e["Helvetica-BoldItalic"]="Helvetica-BoldOblique",e["Helvetica-BoldOblique"]="Helvetica-BoldOblique",e["Helvetica-Italic"]="Helvetica-Oblique",e["Helvetica-Oblique"]="Helvetica-Oblique",e["Symbol-Bold"]="Symbol",e["Symbol-BoldItalic"]="Symbol",e["Symbol-Italic"]="Symbol",e.TimesNewRoman="Times-Roman",e["TimesNewRoman-Bold"]="Times-Bold",e["TimesNewRoman-BoldItalic"]="Times-BoldItalic",e["TimesNewRoman-Italic"]="Times-Italic",e.TimesNewRomanPS="Times-Roman",e["TimesNewRomanPS-Bold"]="Times-Bold",e["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",e["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",e["TimesNewRomanPS-BoldMT"]="Times-Bold",e["TimesNewRomanPS-Italic"]="Times-Italic",e["TimesNewRomanPS-ItalicMT"]="Times-Italic",e.TimesNewRomanPSMT="Times-Roman",e["TimesNewRomanPSMT-Bold"]="Times-Bold",e["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",e["TimesNewRomanPSMT-Italic"]="Times-Italic"}));t.getStdFontMap=a;var i=(0,n.getLookupTableFactory)((function(e){e.Calibri="Helvetica",e["Calibri-Bold"]="Helvetica-Bold",e["Calibri-BoldItalic"]="Helvetica-BoldOblique",e["Calibri-Italic"]="Helvetica-Oblique",e.CenturyGothic="Helvetica",e["CenturyGothic-Bold"]="Helvetica-Bold",e["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",e["CenturyGothic-Italic"]="Helvetica-Oblique",e.ComicSansMS="Comic Sans MS",e["ComicSansMS-Bold"]="Comic Sans MS-Bold",e["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",e["ComicSansMS-Italic"]="Comic Sans MS-Italic",e.LucidaConsole="Courier",e["LucidaConsole-Bold"]="Courier-Bold",e["LucidaConsole-BoldItalic"]="Courier-BoldOblique",e["LucidaConsole-Italic"]="Courier-Oblique",e["LucidaSans-Demi"]="Helvetica-Bold",e["MS-Gothic"]="MS Gothic",e["MS-Gothic-Bold"]="MS Gothic-Bold",e["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",e["MS-Gothic-Italic"]="MS Gothic-Italic",e["MS-Mincho"]="MS Mincho",e["MS-Mincho-Bold"]="MS Mincho-Bold",e["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",e["MS-Mincho-Italic"]="MS Mincho-Italic",e["MS-PGothic"]="MS PGothic",e["MS-PGothic-Bold"]="MS PGothic-Bold",e["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",e["MS-PGothic-Italic"]="MS PGothic-Italic",e["MS-PMincho"]="MS PMincho",e["MS-PMincho-Bold"]="MS PMincho-Bold",e["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",e["MS-PMincho-Italic"]="MS PMincho-Italic",e.NuptialScript="Times-Italic",e.SegoeUISymbol="Helvetica",e.Wingdings="ZapfDingbats",e["Wingdings-Regular"]="ZapfDingbats"}));t.getNonStdFontMap=i;var o=(0,n.getLookupTableFactory)((function(e){e["Adobe Jenson"]=!0,e["Adobe Text"]=!0,e.Albertus=!0,e.Aldus=!0,e.Alexandria=!0,e.Algerian=!0,e["American Typewriter"]=!0,e.Antiqua=!0,e.Apex=!0,e.Arno=!0,e.Aster=!0,e.Aurora=!0,e.Baskerville=!0,e.Bell=!0,e.Bembo=!0,e["Bembo Schoolbook"]=!0,e.Benguiat=!0,e["Berkeley Old Style"]=!0,e["Bernhard Modern"]=!0,e["Berthold City"]=!0,e.Bodoni=!0,e["Bauer Bodoni"]=!0,e["Book Antiqua"]=!0,e.Bookman=!0,e["Bordeaux Roman"]=!0,e["Californian FB"]=!0,e.Calisto=!0,e.Calvert=!0,e.Capitals=!0,e.Cambria=!0,e.Cartier=!0,e.Caslon=!0,e.Catull=!0,e.Centaur=!0,e["Century Old Style"]=!0,e["Century Schoolbook"]=!0,e.Chaparral=!0,e["Charis SIL"]=!0,e.Cheltenham=!0,e["Cholla Slab"]=!0,e.Clarendon=!0,e.Clearface=!0,e.Cochin=!0,e.Colonna=!0,e["Computer Modern"]=!0,e["Concrete Roman"]=!0,e.Constantia=!0,e["Cooper Black"]=!0,e.Corona=!0,e.Ecotype=!0,e.Egyptienne=!0,e.Elephant=!0,e.Excelsior=!0,e.Fairfield=!0,e["FF Scala"]=!0,e.Folkard=!0,e.Footlight=!0,e.FreeSerif=!0,e["Friz Quadrata"]=!0,e.Garamond=!0,e.Gentium=!0,e.Georgia=!0,e.Gloucester=!0,e["Goudy Old Style"]=!0,e["Goudy Schoolbook"]=!0,e["Goudy Pro Font"]=!0,e.Granjon=!0,e["Guardian Egyptian"]=!0,e.Heather=!0,e.Hercules=!0,e["High Tower Text"]=!0,e.Hiroshige=!0,e["Hoefler Text"]=!0,e["Humana Serif"]=!0,e.Imprint=!0,e["Ionic No. 5"]=!0,e.Janson=!0,e.Joanna=!0,e.Korinna=!0,e.Lexicon=!0,e["Liberation Serif"]=!0,e["Linux Libertine"]=!0,e.Literaturnaya=!0,e.Lucida=!0,e["Lucida Bright"]=!0,e.Melior=!0,e.Memphis=!0,e.Miller=!0,e.Minion=!0,e.Modern=!0,e["Mona Lisa"]=!0,e["Mrs Eaves"]=!0,e["MS Serif"]=!0,e["Museo Slab"]=!0,e["New York"]=!0,e["Nimbus Roman"]=!0,e["NPS Rawlinson Roadway"]=!0,e.NuptialScript=!0,e.Palatino=!0,e.Perpetua=!0,e.Plantin=!0,e["Plantin Schoolbook"]=!0,e.Playbill=!0,e["Poor Richard"]=!0,e["Rawlinson Roadway"]=!0,e.Renault=!0,e.Requiem=!0,e.Rockwell=!0,e.Roman=!0,e["Rotis Serif"]=!0,e.Sabon=!0,e.Scala=!0,e.Seagull=!0,e.Sistina=!0,e.Souvenir=!0,e.STIX=!0,e["Stone Informal"]=!0,e["Stone Serif"]=!0,e.Sylfaen=!0,e.Times=!0,e.Trajan=!0,e["Trinit\xE9"]=!0,e["Trump Mediaeval"]=!0,e.Utopia=!0,e["Vale Type"]=!0,e["Bitstream Vera"]=!0,e["Vera Serif"]=!0,e.Versailles=!0,e.Wanted=!0,e.Weiss=!0,e["Wide Latin"]=!0,e.Windsor=!0,e.XITS=!0}));t.getSerifFonts=o;var s=(0,n.getLookupTableFactory)((function(e){e.Dingbats=!0,e.Symbol=!0,e.ZapfDingbats=!0}));t.getSymbolsFonts=s;var c=(0,n.getLookupTableFactory)((function(e){e[2]=10,e[3]=32,e[4]=33,e[5]=34,e[6]=35,e[7]=36,e[8]=37,e[9]=38,e[10]=39,e[11]=40,e[12]=41,e[13]=42,e[14]=43,e[15]=44,e[16]=45,e[17]=46,e[18]=47,e[19]=48,e[20]=49,e[21]=50,e[22]=51,e[23]=52,e[24]=53,e[25]=54,e[26]=55,e[27]=56,e[28]=57,e[29]=58,e[30]=894,e[31]=60,e[32]=61,e[33]=62,e[34]=63,e[35]=64,e[36]=65,e[37]=66,e[38]=67,e[39]=68,e[40]=69,e[41]=70,e[42]=71,e[43]=72,e[44]=73,e[45]=74,e[46]=75,e[47]=76,e[48]=77,e[49]=78,e[50]=79,e[51]=80,e[52]=81,e[53]=82,e[54]=83,e[55]=84,e[56]=85,e[57]=86,e[58]=87,e[59]=88,e[60]=89,e[61]=90,e[62]=91,e[63]=92,e[64]=93,e[65]=94,e[66]=95,e[67]=96,e[68]=97,e[69]=98,e[70]=99,e[71]=100,e[72]=101,e[73]=102,e[74]=103,e[75]=104,e[76]=105,e[77]=106,e[78]=107,e[79]=108,e[80]=109,e[81]=110,e[82]=111,e[83]=112,e[84]=113,e[85]=114,e[86]=115,e[87]=116,e[88]=117,e[89]=118,e[90]=119,e[91]=120,e[92]=121,e[93]=122,e[94]=123,e[95]=124,e[96]=125,e[97]=126,e[98]=196,e[99]=197,e[100]=199,e[101]=201,e[102]=209,e[103]=214,e[104]=220,e[105]=225,e[106]=224,e[107]=226,e[108]=228,e[109]=227,e[110]=229,e[111]=231,e[112]=233,e[113]=232,e[114]=234,e[115]=235,e[116]=237,e[117]=236,e[118]=238,e[119]=239,e[120]=241,e[121]=243,e[122]=242,e[123]=244,e[124]=246,e[125]=245,e[126]=250,e[127]=249,e[128]=251,e[129]=252,e[130]=8224,e[131]=176,e[132]=162,e[133]=163,e[134]=167,e[135]=8226,e[136]=182,e[137]=223,e[138]=174,e[139]=169,e[140]=8482,e[141]=180,e[142]=168,e[143]=8800,e[144]=198,e[145]=216,e[146]=8734,e[147]=177,e[148]=8804,e[149]=8805,e[150]=165,e[151]=181,e[152]=8706,e[153]=8721,e[154]=8719,e[156]=8747,e[157]=170,e[158]=186,e[159]=8486,e[160]=230,e[161]=248,e[162]=191,e[163]=161,e[164]=172,e[165]=8730,e[166]=402,e[167]=8776,e[168]=8710,e[169]=171,e[170]=187,e[171]=8230,e[210]=218,e[223]=711,e[224]=321,e[225]=322,e[227]=353,e[229]=382,e[234]=253,e[252]=263,e[253]=268,e[254]=269,e[258]=258,e[260]=260,e[261]=261,e[265]=280,e[266]=281,e[268]=283,e[269]=313,e[275]=323,e[276]=324,e[278]=328,e[284]=345,e[285]=346,e[286]=347,e[292]=367,e[295]=377,e[296]=378,e[298]=380,e[305]=963,e[306]=964,e[307]=966,e[308]=8215,e[309]=8252,e[310]=8319,e[311]=8359,e[312]=8592,e[313]=8593,e[337]=9552,e[493]=1039,e[494]=1040,e[705]=1524,e[706]=8362,e[710]=64288,e[711]=64298,e[759]=1617,e[761]=1776,e[763]=1778,e[775]=1652,e[777]=1764,e[778]=1780,e[779]=1781,e[780]=1782,e[782]=771,e[783]=64726,e[786]=8363,e[788]=8532,e[790]=768,e[791]=769,e[792]=768,e[795]=803,e[797]=64336,e[798]=64337,e[799]=64342,e[800]=64343,e[801]=64344,e[802]=64345,e[803]=64362,e[804]=64363,e[805]=64364,e[2424]=7821,e[2425]=7822,e[2426]=7823,e[2427]=7824,e[2428]=7825,e[2429]=7826,e[2430]=7827,e[2433]=7682,e[2678]=8045,e[2679]=8046,e[2830]=1552,e[2838]=686,e[2840]=751,e[2842]=753,e[2843]=754,e[2844]=755,e[2846]=757,e[2856]=767,e[2857]=848,e[2858]=849,e[2862]=853,e[2863]=854,e[2864]=855,e[2865]=861,e[2866]=862,e[2906]=7460,e[2908]=7462,e[2909]=7463,e[2910]=7464,e[2912]=7466,e[2913]=7467,e[2914]=7468,e[2916]=7470,e[2917]=7471,e[2918]=7472,e[2920]=7474,e[2921]=7475,e[2922]=7476,e[2924]=7478,e[2925]=7479,e[2926]=7480,e[2928]=7482,e[2929]=7483,e[2930]=7484,e[2932]=7486,e[2933]=7487,e[2934]=7488,e[2936]=7490,e[2937]=7491,e[2938]=7492,e[2940]=7494,e[2941]=7495,e[2942]=7496,e[2944]=7498,e[2946]=7500,e[2948]=7502,e[2950]=7504,e[2951]=7505,e[2952]=7506,e[2954]=7508,e[2955]=7509,e[2956]=7510,e[2958]=7512,e[2959]=7513,e[2960]=7514,e[2962]=7516,e[2963]=7517,e[2964]=7518,e[2966]=7520,e[2967]=7521,e[2968]=7522,e[2970]=7524,e[2971]=7525,e[2972]=7526,e[2974]=7528,e[2975]=7529,e[2976]=7530,e[2978]=1537,e[2979]=1538,e[2980]=1539,e[2982]=1549,e[2983]=1551,e[2984]=1552,e[2986]=1554,e[2987]=1555,e[2988]=1556,e[2990]=1623,e[2991]=1624,e[2995]=1775,e[2999]=1791,e[3002]=64290,e[3003]=64291,e[3004]=64292,e[3006]=64294,e[3007]=64295,e[3008]=64296,e[3011]=1900,e[3014]=8223,e[3015]=8244,e[3017]=7532,e[3018]=7533,e[3019]=7534,e[3075]=7590,e[3076]=7591,e[3079]=7594,e[3080]=7595,e[3083]=7598,e[3084]=7599,e[3087]=7602,e[3088]=7603,e[3091]=7606,e[3092]=7607,e[3095]=7610,e[3096]=7611,e[3099]=7614,e[3100]=7615,e[3103]=7618,e[3104]=7619,e[3107]=8337,e[3108]=8338,e[3116]=1884,e[3119]=1885,e[3120]=1885,e[3123]=1886,e[3124]=1886,e[3127]=1887,e[3128]=1887,e[3131]=1888,e[3132]=1888,e[3135]=1889,e[3136]=1889,e[3139]=1890,e[3140]=1890,e[3143]=1891,e[3144]=1891,e[3147]=1892,e[3148]=1892,e[3153]=580,e[3154]=581,e[3157]=584,e[3158]=585,e[3161]=588,e[3162]=589,e[3165]=891,e[3166]=892,e[3169]=1274,e[3170]=1275,e[3173]=1278,e[3174]=1279,e[3181]=7622,e[3182]=7623,e[3282]=11799,e[3316]=578,e[3379]=42785,e[3393]=1159,e[3416]=8377}));t.getGlyphMapForStandardFonts=c;var u=(0,n.getLookupTableFactory)((function(e){e[227]=322,e[264]=261,e[291]=346}));t.getSupplementalGlyphMapForArialBlack=u;var l=(0,n.getLookupTableFactory)((function(e){e[1]=32,e[4]=65,e[17]=66,e[18]=67,e[24]=68,e[28]=69,e[38]=70,e[39]=71,e[44]=72,e[47]=73,e[58]=74,e[60]=75,e[62]=76,e[68]=77,e[69]=78,e[75]=79,e[87]=80,e[89]=81,e[90]=82,e[94]=83,e[100]=84,e[104]=85,e[115]=86,e[116]=87,e[121]=88,e[122]=89,e[127]=90,e[258]=97,e[268]=261,e[271]=98,e[272]=99,e[273]=263,e[282]=100,e[286]=101,e[295]=281,e[296]=102,e[336]=103,e[346]=104,e[349]=105,e[361]=106,e[364]=107,e[367]=108,e[371]=322,e[373]=109,e[374]=110,e[381]=111,e[383]=243,e[393]=112,e[395]=113,e[396]=114,e[400]=115,e[401]=347,e[410]=116,e[437]=117,e[448]=118,e[449]=119,e[454]=120,e[455]=121,e[460]=122,e[463]=380,e[853]=44,e[855]=58,e[856]=46,e[876]=47,e[878]=45,e[882]=45,e[894]=40,e[895]=41,e[896]=91,e[897]=93,e[923]=64,e[1004]=48,e[1005]=49,e[1006]=50,e[1007]=51,e[1008]=52,e[1009]=53,e[1010]=54,e[1011]=55,e[1012]=56,e[1013]=57,e[1081]=37,e[1085]=43,e[1086]=45}));t.getSupplementalGlyphMapForCalibri=l},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToUnicodeMap=t.IdentityToUnicodeMap=void 0;var n=r(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,e),this._map=t}return o(e,[{key:"length",get:function(){return this._map.length}},{key:"forEach",value:function(e){for(var t in this._map)e(t,this._map[t].charCodeAt(0))}},{key:"has",value:function(e){return void 0!==this._map[e]}},{key:"get",value:function(e){return this._map[e]}},{key:"charCodeOf",value:function(e){var t=this._map;if(t.length<=65536)return t.indexOf(e);for(var r in t)if(t[r]===e)return 0|r;return-1}},{key:"amend",value:function(e){for(var t in e)this._map[t]=e[t]}}]),e}();t.ToUnicodeMap=s;var c=function(){function e(t,r){a(this,e),this.firstChar=t,this.lastChar=r}return o(e,[{key:"length",get:function(){return this.lastChar+1-this.firstChar}},{key:"forEach",value:function(e){for(var t=this.firstChar,r=this.lastChar;t<=r;t++)e(t,t)}},{key:"has",value:function(e){return this.firstChar<=e&&e<=this.lastChar}},{key:"get",value:function(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)}},{key:"charCodeOf",value:function(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1}},{key:"amend",value:function(e){(0,n.unreachable)("Should not call amend()")}}]),e}();t.IdentityToUnicodeMap=c},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CFFFont=void 0;var n=r(143),a=r(146),i=r(4);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.properties=r;var o=new n.CFFParser(t,r,a.SEAC_ANALYSIS_ENABLED);this.cff=o.parse(),this.cff.duplicateFirstGlyph();var s=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=s.compile()}catch(e){(0,i.warn)("Failed to compile font "+r.loadedName),this.data=t}this._createBuiltInEncoding()}var t,r,s;return t=e,(r=[{key:"numGlyphs",get:function(){return this.cff.charStrings.count}},{key:"getCharset",value:function(){return this.cff.charset.charset}},{key:"getGlyphMapping",value:function(){var e,t,r=this.cff,n=this.properties,i=r.charset.charset;if(n.composite){if(e=Object.create(null),r.isCIDFont)for(t=0;t<i.length;t++){var o=i[t];e[n.cMap.charCodeOf(o)]=t}else for(t=0;t<r.charStrings.count;t++)e[n.cMap.charCodeOf(t)]=t;return e}var s=r.encoding?r.encoding.encoding:null;return e=(0,a.type1FontGlyphMapping)(n,s,i)}},{key:"hasGlyphId",value:function(e){return this.cff.hasGlyphId(e)}},{key:"_createBuiltInEncoding",value:function(){var e=this.cff,t=e.charset,r=e.encoding;if(t&&r){var n=t.charset,a=r.encoding,i=[];for(var o in a){var s=a[o];if(s>=0){var c=n[s];c&&(i[o]=c)}}i.length>0&&(this.properties.builtInEncoding=i)}}}])&&o(t.prototype,r),s&&o(t,s),e}();t.CFFFont=s},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontRendererFactory=void 0;var a=r(4),i=r(143),o=r(147),s=r(145),c=r(118);function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}function v(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function y(e,t){return e[t]<<8|e[t+1]}function b(e){var t=e.length,r=32768;return t<1240?r=107:t<33900&&(r=1131),r}function w(e,t,r){var n,i,o,s=1===y(e,t+2)?v(e,t+8):v(e,t+16),c=y(e,t+s);if(4===c){y(e,t+s+2);var u=y(e,t+s+6)>>1;for(i=t+s+14,n=[],o=0;o<u;o++,i+=2)n[o]={end:y(e,i)};for(i+=2,o=0;o<u;o++,i+=2)n[o].start=y(e,i);for(o=0;o<u;o++,i+=2)n[o].idDelta=y(e,i);for(o=0;o<u;o++,i+=2){var l=y(e,i);if(0!==l){n[o].ids=[];for(var f=0,h=n[o].end-n[o].start+1;f<h;f++)n[o].ids[f]=y(e,i+l),l+=2}}return n}if(12===c){v(e,t+s+4);var d=v(e,t+s+12);for(i=t+s+16,n=[],o=0;o<d;o++)n.push({start:v(e,i),end:v(e,i+4),idDelta:v(e,i+8)-v(e,i)}),i+=12;return n}throw new a.FormatError("unsupported cmap: ".concat(c))}function k(e,t,r,n){var a=new i.CFFParser(new c.Stream(e,t,r-t),{},n).parse();return{glyphs:a.charStrings.objects,subrs:a.topDict.privateDict&&a.topDict.privateDict.subrsIndex&&a.topDict.privateDict.subrsIndex.objects,gsubrs:a.globalSubrIndex&&a.globalSubrIndex.objects,isCFFCIDFont:a.isCIDFont,fdSelect:a.fdSelect,fdArray:a.fdArray}}function S(e,t){for(var r=t.codePointAt(0),n=0,a=0,i=e.length-1;a<i;){var o=a+i+1>>1;r<e[o].start?i=o-1:a=o}return e[a].start<=r&&r<=e[a].end&&(n=e[a].idDelta+(e[a].ids?e[a].ids[r-e[a].start]:r)&65535),{charCode:r,glyphId:n}}function x(e,t,r){function n(e,r){t.push({cmd:"moveTo",args:[e,r]})}function a(e,r){t.push({cmd:"lineTo",args:[e,r]})}function i(e,r,n,a){t.push({cmd:"quadraticCurveTo",args:[e,r,n,a]})}var o,s=0,c=(e[s]<<24|e[s+1]<<16)>>16,u=0,l=0;if(s+=10,c<0)do{o=e[s]<<8|e[s+1];var f=e[s+2]<<8|e[s+3];s+=4;var h=void 0,d=void 0;1&o?(h=(e[s]<<24|e[s+1]<<16)>>16,d=(e[s+2]<<24|e[s+3]<<16)>>16,s+=4):(h=e[s++],d=e[s++]),2&o?(u=h,l=d):(u=0,l=0);var p=1,g=1,m=0,v=0;8&o?(p=g=(e[s]<<24|e[s+1]<<16)/1073741824,s+=2):64&o?(p=(e[s]<<24|e[s+1]<<16)/1073741824,g=(e[s+2]<<24|e[s+3]<<16)/1073741824,s+=4):128&o&&(p=(e[s]<<24|e[s+1]<<16)/1073741824,m=(e[s+2]<<24|e[s+3]<<16)/1073741824,v=(e[s+4]<<24|e[s+5]<<16)/1073741824,g=(e[s+6]<<24|e[s+7]<<16)/1073741824,s+=8);var y=r.glyphs[f];y&&(t.push({cmd:"save"},{cmd:"transform",args:[p,m,v,g,u,l]}),x(y,t,r),t.push({cmd:"restore"}))}while(32&o);else{var b,w,k=[];for(b=0;b<c;b++)k.push(e[s]<<8|e[s+1]),s+=2;s+=2+(e[s]<<8|e[s+1]);for(var S=k[k.length-1]+1,A=[];A.length<S;){var O=1;for(8&(o=e[s++])&&(O+=e[s++]);O-- >0;)A.push({flags:o})}for(b=0;b<S;b++){switch(18&A[b].flags){case 0:u+=(e[s]<<24|e[s+1]<<16)>>16,s+=2;break;case 2:u-=e[s++];break;case 18:u+=e[s++]}A[b].x=u}for(b=0;b<S;b++){switch(36&A[b].flags){case 0:l+=(e[s]<<24|e[s+1]<<16)>>16,s+=2;break;case 4:l-=e[s++];break;case 36:l+=e[s++]}A[b].y=l}var C=0;for(s=0;s<c;s++){var T=k[s],F=A.slice(C,T+1);if(1&F[0].flags)F.push(F[0]);else if(1&F[F.length-1].flags)F.unshift(F[F.length-1]);else{var P={flags:1,x:(F[0].x+F[F.length-1].x)/2,y:(F[0].y+F[F.length-1].y)/2};F.unshift(P),F.push(P)}for(n(F[0].x,F[0].y),b=1,w=F.length;b<w;b++)1&F[b].flags?a(F[b].x,F[b].y):1&F[b+1].flags?(i(F[b].x,F[b].y,F[b+1].x,F[b+1].y),b++):i(F[b].x,F[b].y,(F[b].x+F[b+1].x)/2,(F[b].y+F[b+1].y)/2);C=T+1}}}function A(e,t,r,n){function i(e,r){t.push({cmd:"moveTo",args:[e,r]})}function o(e,r){t.push({cmd:"lineTo",args:[e,r]})}function c(e,r,n,a,i,o){t.push({cmd:"bezierCurveTo",args:[e,r,n,a,i,o]})}var u=[],l=0,f=0,h=0;!function e(d){for(var p=0;p<d.length;){var g=!1,m=d[p++],v=void 0,y=void 0,w=void 0,k=void 0,x=void 0,O=void 0,C=void 0,T=void 0;switch(m){case 1:case 3:case 18:case 23:h+=u.length>>1,g=!0;break;case 4:f+=u.pop(),i(l,f),g=!0;break;case 5:for(;u.length>0;)l+=u.shift(),f+=u.shift(),o(l,f);break;case 6:for(;u.length>0&&(o(l+=u.shift(),f),0!==u.length);)f+=u.shift(),o(l,f);break;case 7:for(;u.length>0&&(f+=u.shift(),o(l,f),0!==u.length);)o(l+=u.shift(),f);break;case 8:for(;u.length>0;)v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f);break;case 10:if(C=u.pop(),T=null,r.isCFFCIDFont){var F=r.fdSelect.getFDIndex(n);if(F>=0&&F<r.fdArray.length){var P=r.fdArray[F],_=void 0;P.privateDict&&P.privateDict.subrsIndex&&(_=P.privateDict.subrsIndex.objects),_&&(T=_[C+=b(_)])}else(0,a.warn)("Invalid fd index for glyph index.")}else T=r.subrs[C+r.subrsBias];T&&e(T);break;case 11:return;case 12:switch(m=d[p++]){case 34:y=(v=l+u.shift())+u.shift(),x=f+u.shift(),l=y+u.shift(),c(v,f,y,x,l,x),y=(v=l+u.shift())+u.shift(),l=y+u.shift(),c(v,x,y,f,l,f);break;case 35:v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f),v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f),u.pop();break;case 36:c(v=l+u.shift(),x=f+u.shift(),y=v+u.shift(),O=x+u.shift(),l=y+u.shift(),O),c(v=l+u.shift(),O,y=v+u.shift(),O+u.shift(),l=y+u.shift(),f);break;case 37:var I=l,E=f;v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f),v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y,f=k,Math.abs(l-I)>Math.abs(f-E)?l+=u.shift():f+=u.shift(),c(v,w,y,k,l,f);break;default:throw new a.FormatError("unknown operator: 12 ".concat(m))}break;case 14:if(u.length>=4){var j=u.pop(),R=u.pop();f=u.pop(),l=u.pop(),t.push({cmd:"save"},{cmd:"translate",args:[l,f]});var M=S(r.cmap,String.fromCharCode(r.glyphNameMap[s.StandardEncoding[j]]));A(r.glyphs[M.glyphId],t,r,M.glyphId),t.push({cmd:"restore"}),M=S(r.cmap,String.fromCharCode(r.glyphNameMap[s.StandardEncoding[R]])),A(r.glyphs[M.glyphId],t,r,M.glyphId)}return;case 19:case 20:p+=(h+=u.length>>1)+7>>3,g=!0;break;case 21:f+=u.pop(),i(l+=u.pop(),f),g=!0;break;case 22:i(l+=u.pop(),f),g=!0;break;case 24:for(;u.length>2;)v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f);l+=u.shift(),f+=u.shift(),o(l,f);break;case 25:for(;u.length>6;)l+=u.shift(),f+=u.shift(),o(l,f);v=l+u.shift(),w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+u.shift(),c(v,w,y,k,l,f);break;case 26:for(u.length%2&&(l+=u.shift());u.length>0;)v=l,w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y,f=k+u.shift(),c(v,w,y,k,l,f);break;case 27:for(u.length%2&&(f+=u.shift());u.length>0;)c(v=l+u.shift(),w=f,y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k);break;case 28:u.push((d[p]<<24|d[p+1]<<16)>>16),p+=2;break;case 29:C=u.pop()+r.gsubrsBias,(T=r.gsubrs[C])&&e(T);break;case 30:for(;u.length>0&&(v=l,w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+(1===u.length?u.shift():0),c(v,w,y,k,l,f),0!==u.length);)v=l+u.shift(),w=f,y=v+u.shift(),k=w+u.shift(),f=k+u.shift(),c(v,w,y,k,l=y+(1===u.length?u.shift():0),f);break;case 31:for(;u.length>0&&(v=l+u.shift(),w=f,y=v+u.shift(),k=w+u.shift(),f=k+u.shift(),c(v,w,y,k,l=y+(1===u.length?u.shift():0),f),0!==u.length);)v=l,w=f+u.shift(),y=v+u.shift(),k=w+u.shift(),l=y+u.shift(),f=k+(1===u.length?u.shift():0),c(v,w,y,k,l,f);break;default:if(m<32)throw new a.FormatError("unknown operator: ".concat(m));m<247?u.push(m-139):m<251?u.push(256*(m-247)+d[p++]+108):m<255?u.push(256*-(m-251)-d[p++]-108):(u.push((d[p]<<24|d[p+1]<<16|d[p+2]<<8|d[p+3])/65536),p+=4)}g&&(u.length=0)}}(e)}var O=[],C=function(){function e(t){p(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=t,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}return m(e,[{key:"getPathJs",value:function(e){var t=S(this.cmap,e),r=t.charCode,n=t.glyphId,a=this.compiledGlyphs[n];if(!a)try{a=this.compileGlyph(this.glyphs[n],n),this.compiledGlyphs[n]=a}catch(e){throw this.compiledGlyphs[n]=O,void 0===this.compiledCharCodeToGlyphId[r]&&(this.compiledCharCodeToGlyphId[r]=n),e}return void 0===this.compiledCharCodeToGlyphId[r]&&(this.compiledCharCodeToGlyphId[r]=n),a}},{key:"compileGlyph",value:function(e,t){if(!e||0===e.length||14===e[0])return O;var r=this.fontMatrix;if(this.isCFFCIDFont){var n=this.fdSelect.getFDIndex(t);n>=0&&n<this.fdArray.length?r=this.fdArray[n].getByName("FontMatrix")||a.FONT_IDENTITY_MATRIX:(0,a.warn)("Invalid fd index for glyph index.")}var i=[{cmd:"save"},{cmd:"transform",args:r.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(e,i,t),i.push({cmd:"restore"}),i}},{key:"compileGlyphImpl",value:function(){(0,a.unreachable)("Children classes should implement this.")}},{key:"hasBuiltPath",value:function(e){var t=S(this.cmap,e),r=t.charCode,n=t.glyphId;return void 0!==this.compiledGlyphs[n]&&void 0!==this.compiledCharCodeToGlyphId[r]}}]),e}(),T=function(e){u(r,e);var t=f(r);function r(e,n,a){var i;return p(this,r),(i=t.call(this,a||[488e-6,0,0,488e-6,0,0])).glyphs=e,i.cmap=n,i}return m(r,[{key:"compileGlyphImpl",value:function(e,t){x(e,t,this)}}]),r}(C),F=function(e){u(r,e);var t=f(r);function r(e,n,a,i){var s;return p(this,r),(s=t.call(this,a||[.001,0,0,.001,0,0])).glyphs=e.glyphs,s.gsubrs=e.gsubrs||[],s.subrs=e.subrs||[],s.cmap=n,s.glyphNameMap=i||(0,o.getGlyphsUnicode)(),s.gsubrsBias=b(s.gsubrs),s.subrsBias=b(s.subrs),s.isCFFCIDFont=e.isCFFCIDFont,s.fdSelect=e.fdSelect,s.fdArray=e.fdArray,s}return m(r,[{key:"compileGlyphImpl",value:function(e,t,r){A(e,t,this,r)}}]),r}(C),P=function(){function e(){p(this,e)}return m(e,null,[{key:"create",value:function(e,t){for(var r,n,i,o,s,c,u=new Uint8Array(e.data),l=y(u,4),f=0,h=12;f<l;f++,h+=16){var d=(0,a.bytesToString)(u.subarray(h,h+4)),p=v(u,h+8),g=v(u,h+12);switch(d){case"cmap":r=w(u,p);break;case"glyf":n=u.subarray(p,p+g);break;case"loca":i=u.subarray(p,p+g);break;case"head":c=y(u,p+18),s=y(u,p+50);break;case"CFF ":o=k(u,p,p+g,t)}}if(n){var m=c?[1/c,0,0,1/c,0,0]:e.fontMatrix;return new T(function(e,t,r){var n,a;r?(n=4,a=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}):(n=2,a=function(e,t){return e[t]<<9|e[t+1]<<1});for(var i=[],o=a(t,0),s=n;s<t.length;s+=n){var c=a(t,s);i.push(e.subarray(o,c)),o=c}return i}(n,i,s),r,m)}return new F(o,r,e.fontMatrix,e.glyphNameMap)}}]),e}();t.FontRendererFactory=P},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenTypeFileBuilder=void 0;var n=r(117),a=r(4);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){e[t]=r>>8&255,e[t+1]=255&r}function s(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function c(e,t,r){if(r instanceof Uint8Array)e.set(r,t);else if("string"==typeof r)for(var n=0,a=r.length;n<a;n++)e[t++]=255&r.charCodeAt(n);else for(var i=0,o=r.length;i<o;i++)e[t++]=255&r[i]}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sfnt=t,this.tables=Object.create(null)}var t,r,u;return t=e,u=[{key:"getSearchParams",value:function(e,t){for(var r=1,n=0;(r^e)>r;)r<<=1,n++;var a=r*t;return{range:a,entry:n,rangeShift:t*e-a}}}],(r=[{key:"toArray",value:function(){var t=this.sfnt,r=this.tables,i=Object.keys(r);i.sort();var u,l,f,h,d,p=i.length,g=12+16*p,m=[g];for(u=0;u<p;u++)g+=((h=r[i[u]]).length+3&-4)>>>0,m.push(g);var v=new Uint8Array(g);for(u=0;u<p;u++)h=r[i[u]],c(v,m[u],h);"true"===t&&(t=(0,a.string32)(65536)),v[0]=255&t.charCodeAt(0),v[1]=255&t.charCodeAt(1),v[2]=255&t.charCodeAt(2),v[3]=255&t.charCodeAt(3),o(v,4,p);var y=e.getSearchParams(p,16);for(o(v,6,y.range),o(v,8,y.entry),o(v,10,y.rangeShift),g=12,u=0;u<p;u++){d=i[u],v[g]=255&d.charCodeAt(0),v[g+1]=255&d.charCodeAt(1),v[g+2]=255&d.charCodeAt(2),v[g+3]=255&d.charCodeAt(3);var b=0;for(l=m[u],f=m[u+1];l<f;l+=4)b=b+(0,n.readUint32)(v,l)>>>0;s(v,g+4,b),s(v,g+8,m[u]),s(v,g+12,r[d].length),g+=16}return v}},{key:"addTable",value:function(e,t){if(e in this.tables)throw new Error("Table "+e+" already exists");this.tables[e]=t}}])&&i(t.prototype,r),u&&i(t,u),e}();t.OpenTypeFileBuilder=u},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type1Font=void 0;var n=r(143),a=r(146),i=r(117),o=r(118),s=r(155),c=r(4);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){for(var n=e.length,a=t.length,o=n-a,s=r,c=!1;s<o;){for(var u=0;u<a&&e[s+u]===t[u];)u++;if(u>=a){for(s+=u;s<n&&(0,i.isWhiteSpace)(e[s]);)s++;c=!0;break}s++}return{found:c,length:s}}var f=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n.length1,u=(n.length2,r.peekBytes(6)),f=128===u[0]&&1===u[1];f&&(r.skip(6),i=u[5]<<24|u[4]<<16|u[3]<<8|u[2]);var h=function(e,t){var r,n,a,i,s=[101,101,120,101,99],u=e.pos;try{n=(r=e.getBytes(t)).length}catch(e){}if(n===t&&(a=l(r,s,t-2*s.length)).found&&a.length===t)return{stream:new o.Stream(r),length:t};for((0,c.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),e.pos=u;0!==(a=l(e.peekBytes(2048),s,0)).length;)if(e.pos+=a.length,a.found){i=e.pos-u;break}return e.pos=u,i?{stream:new o.Stream(e.getBytes(i)),length:i}:((0,c.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new o.Stream(e.getBytes(t)),length:t})}(r,i);new s.Type1Parser(h.stream,!1,a.SEAC_ANALYSIS_ENABLED).extractFontHeader(n),f&&((u=r.getBytes(6))[5],u[4],u[3],u[2]);var d,p=(d=r.getBytes(),{stream:new o.Stream(d),length:d.length}),g=new s.Type1Parser(p.stream,!0,a.SEAC_ANALYSIS_ENABLED).extractFontProgram(n);for(var m in g.properties)n[m]=g.properties[m];var v=g.charstrings,y=this.getType2Charstrings(v),b=this.getType2Subrs(g.subrs);this.charstrings=v,this.data=this.wrap(t,y,this.charstrings,b,n),this.seacs=this.getSeacs(g.charstrings)}var t,r,i;return t=e,(r=[{key:"numGlyphs",get:function(){return this.charstrings.length+1}},{key:"getCharset",value:function(){for(var e=[".notdef"],t=this.charstrings,r=0;r<t.length;r++)e.push(t[r].glyphName);return e}},{key:"getGlyphMapping",value:function(e){var t=this.charstrings;if(e.composite){for(var r=Object.create(null),n=0,i=t.length;n<i;n++)r[e.cMap.charCodeOf(n)]=n+1;return r}var o,s,c=[".notdef"];for(s=0;s<t.length;s++)c.push(t[s].glyphName);var u=e.builtInEncoding;if(u)for(var l in o=Object.create(null),u)(s=c.indexOf(u[l]))>=0&&(o[l]=s);return(0,a.type1FontGlyphMapping)(e,o,c)}},{key:"hasGlyphId",value:function(e){return!(e<0||e>=this.numGlyphs)&&(0===e||this.charstrings[e-1].charstring.length>0)}},{key:"getSeacs",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e[r];a.seac&&(t[r+1]=a.seac)}return t}},{key:"getType2Charstrings",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++)t.push(e[r].charstring);return t}},{key:"getType2Subrs",value:function(e){var t=0,r=e.length;t=r<1133?107:r<33769?1131:32768;var n,a=[];for(n=0;n<t;n++)a.push([11]);for(n=0;n<r;n++)a.push(e[n]);return a}},{key:"wrap",value:function(e,t,r,a,i){var o=new n.CFF;o.header=new n.CFFHeader(1,0,4,4),o.names=[e];var s=new n.CFFTopDict;s.setByName("version",391),s.setByName("Notice",392),s.setByName("FullName",393),s.setByName("FamilyName",394),s.setByName("Weight",395),s.setByName("Encoding",null),s.setByName("FontMatrix",i.fontMatrix),s.setByName("FontBBox",i.bbox),s.setByName("charset",null),s.setByName("CharStrings",null),s.setByName("Private",null),o.topDict=s;var c=new n.CFFStrings;c.add("Version 0.11"),c.add("See original notice"),c.add(e),c.add(e),c.add("Medium"),o.strings=c,o.globalSubrIndex=new n.CFFIndex;var u,l,f=t.length,h=[".notdef"];for(u=0;u<f;u++){var d=r[u].glyphName;-1===n.CFFStandardStrings.indexOf(d)&&c.add(d),h.push(d)}o.charset=new n.CFFCharset(!1,0,h);var p=new n.CFFIndex;for(p.add([139,14]),u=0;u<f;u++)p.add(t[u]);o.charStrings=p;var g=new n.CFFPrivateDict;g.setByName("Subrs",null);var m=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(u=0,l=m.length;u<l;u++){var v=m[u];if(v in i.privateData){var y=i.privateData[v];if(Array.isArray(y))for(var b=y.length-1;b>0;b--)y[b]-=y[b-1];g.setByName(v,y)}}o.topDict.privateDict=g;var w=new n.CFFIndex;for(u=0,l=a.length;u<l;u++)w.add(a[u]);return g.subrsIndex=w,new n.CFFCompiler(o).compile()}}])&&u(t.prototype,r),i&&u(t,i),e}();t.Type1Font=f},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type1Parser=void 0;var n=r(145),a=r(117),i=r(118),o=r(4);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}var l,f,h,d,p,g,m,v,y,b,w,k=(l=[4],f=[5],h=[6],d=[7],p=[8],g=[12,35],m=[14],v=[21],y=[22],b=[30],w=[31],function(){function e(){s(this,e),this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}return u(e,[{key:"convert",value:function(e,t,r){for(var n,a,i,s=e.length,c=!1,u=0;u<s;u++){var k=e[u];if(k<32){switch(12===k&&(k=(k<<8)+e[++u]),k){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){c=!0;break}var S=this.stack.pop();this.stack.push(0,S);break}c=this.executeCommand(1,l);break;case 5:c=this.executeCommand(2,f);break;case 6:c=this.executeCommand(1,h);break;case 7:c=this.executeCommand(1,d);break;case 8:c=this.executeCommand(6,p);break;case 10:if(this.stack.length<1){c=!0;break}if(!t[i=this.stack.pop()]){c=!0;break}c=this.convert(t[i],t,r);break;case 11:return c;case 13:if(this.stack.length<2){c=!0;break}n=this.stack.pop(),a=this.stack.pop(),this.lsb=a,this.width=n,this.stack.push(n,a),c=this.executeCommand(2,y);break;case 14:this.output.push(m[0]);break;case 21:if(this.flexing)break;c=this.executeCommand(2,v);break;case 22:if(this.flexing){this.stack.push(0);break}c=this.executeCommand(1,y);break;case 30:c=this.executeCommand(4,b);break;case 31:c=this.executeCommand(4,w);break;case 3078:if(r){var x=this.stack[this.stack.length-5];this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-x,c=this.executeCommand(0,m)}else c=this.executeCommand(4,m);break;case 3079:if(this.stack.length<4){c=!0;break}this.stack.pop(),n=this.stack.pop();var A=this.stack.pop();a=this.stack.pop(),this.lsb=a,this.width=n,this.stack.push(n,a,A),c=this.executeCommand(3,v);break;case 3084:if(this.stack.length<2){c=!0;break}var O=this.stack.pop(),C=this.stack.pop();this.stack.push(C/O);break;case 3088:if(this.stack.length<2){c=!0;break}i=this.stack.pop();var T=this.stack.pop();if(0===i&&3===T){var F=this.stack.splice(this.stack.length-17,17);this.stack.push(F[2]+F[0],F[3]+F[1],F[4],F[5],F[6],F[7],F[8],F[9],F[10],F[11],F[12],F[13],F[14]),c=this.executeCommand(13,g,!0),this.flexing=!1,this.stack.push(F[15],F[16])}else 1===i&&0===T&&(this.flexing=!0);break;case 3089:break;default:(0,o.warn)('Unknown type 1 charstring command of "'+k+'"')}if(c)break}else k<=246?k-=139:k=k<=250?256*(k-247)+e[++u]+108:k<=254?-256*(k-251)-e[++u]-108:(255&e[++u])<<24|(255&e[++u])<<16|(255&e[++u])<<8|(255&e[++u])<<0,this.stack.push(k)}return c}},{key:"executeCommand",value:function(e,t,r){var n=this.stack.length;if(e>n)return!0;for(var a=n-e,i=a;i<n;i++){var o=this.stack[i];Number.isInteger(o)?this.output.push(28,o>>8&255,255&o):(o=65536*o|0,this.output.push(255,o>>24&255,o>>16&255,o>>8&255,255&o))}return this.output.push.apply(this.output,t),r?this.stack.splice(a,e):this.stack.length=0,!1}}]),e}()),S=function(){function e(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function t(e,t,r){if(r>=e.length)return new Uint8Array(0);var n,a,i=0|t;for(n=0;n<r;n++)i=52845*(e[n]+i)+22719&65535;var o=e.length-r,s=new Uint8Array(o);for(n=r,a=0;a<o;n++,a++){var c=e[n];s[a]=c^i>>8,i=52845*(c+i)+22719&65535}return s}function r(e){return 47===e||91===e||93===e||123===e||125===e||40===e||41===e}return function(){function o(r,n,c){if(s(this,o),n){var u=r.getBytes(),l=!((e(u[0])||(0,a.isWhiteSpace)(u[0]))&&e(u[1])&&e(u[2])&&e(u[3])&&e(u[4])&&e(u[5])&&e(u[6])&&e(u[7]));r=new i.Stream(l?t(u,55665,4):function(t,r,n){var a,i,o=0|r,s=t.length,c=new Uint8Array(s>>>1);for(a=0,i=0;a<s;a++){var u=t[a];if(e(u)){a++;for(var l=void 0;a<s&&!e(l=t[a]);)a++;if(a<s){var f=parseInt(String.fromCharCode(u,l),16);c[i++]=f^o>>8,o=52845*(f+o)+22719&65535}}}return c.slice(n,i)}(u,55665,4))}this.seacAnalysisEnabled=!!c,this.stream=r,this.nextChar()}return u(o,[{key:"readNumberArray",value:function(){this.getToken();for(var e=[];;){var t=this.getToken();if(null===t||"]"===t||"}"===t)break;e.push(parseFloat(t||0))}return e}},{key:"readNumber",value:function(){var e=this.getToken();return parseFloat(e||0)}},{key:"readInt",value:function(){var e=this.getToken();return 0|parseInt(e||0,10)}},{key:"readBoolean",value:function(){return"true"===this.getToken()?1:0}},{key:"nextChar",value:function(){return this.currentChar=this.stream.getByte()}},{key:"getToken",value:function(){for(var e=!1,t=this.currentChar;;){if(-1===t)return null;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(!(0,a.isWhiteSpace)(t))break;t=this.nextChar()}if(r(t))return this.nextChar(),String.fromCharCode(t);var n="";do{n+=String.fromCharCode(t),t=this.nextChar()}while(t>=0&&!(0,a.isWhiteSpace)(t)&&!r(t));return n}},{key:"readCharStrings",value:function(e,r){return-1===r?e:t(e,4330,r)}},{key:"extractFontProgram",value:function(e){var t=this.stream,r=[],n=[],a=Object.create(null);a.lenIV=4;for(var i,o,s,c,u,l={subrs:[],charstrings:[],properties:{privateData:a}};null!==(i=this.getToken());)if("/"===i)switch(i=this.getToken()){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();null!==(i=this.getToken())&&"end"!==i;)if("/"===i){var f=this.getToken();o=this.readInt(),this.getToken(),s=o>0?t.getBytes(o):new Uint8Array(0),c=l.properties.privateData.lenIV,u=this.readCharStrings(s,c),this.nextChar(),"noaccess"===(i=this.getToken())&&this.getToken(),n.push({glyph:f,encoded:u})}break;case"Subrs":for(this.readInt(),this.getToken();"dup"===this.getToken();){var h=this.readInt();o=this.readInt(),this.getToken(),s=o>0?t.getBytes(o):new Uint8Array(0),c=l.properties.privateData.lenIV,u=this.readCharStrings(s,c),this.nextChar(),"noaccess"===(i=this.getToken())&&this.getToken(),r[h]=u}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":var d=this.readNumberArray();d.length>0&&d.length;break;case"StemSnapH":case"StemSnapV":l.properties.privateData[i]=this.readNumberArray();break;case"StdHW":case"StdVW":l.properties.privateData[i]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":l.properties.privateData[i]=this.readNumber();break;case"ForceBold":l.properties.privateData[i]=this.readBoolean()}for(var p=0;p<n.length;p++){var g=n[p].glyph;u=n[p].encoded;var m=new k,v=m.convert(u,r,this.seacAnalysisEnabled),y=m.output;v&&(y=[14]);var b={glyphName:g,charstring:y,width:m.width,lsb:m.lsb,seac:m.seac};if(".notdef"===g?l.charstrings.unshift(b):l.charstrings.push(b),e.builtInEncoding){var w=e.builtInEncoding.indexOf(g);w>-1&&void 0===e.widths[w]&&w>=e.firstChar&&w<=e.lastChar&&(e.widths[w]=m.width)}}return l}},{key:"extractFontHeader",value:function(e){for(var t;null!==(t=this.getToken());)if("/"===t)switch(t=this.getToken()){case"FontMatrix":var r=this.readNumberArray();e.fontMatrix=r;break;case"Encoding":var a=this.getToken(),i=void 0;if(/^\\d+$/.test(a)){i=[];var o=0|parseInt(a,10);this.getToken();for(var s=0;s<o;s++){for(t=this.getToken();"dup"!==t&&"def"!==t;)if(null===(t=this.getToken()))return;if("def"===t)break;var c=this.readInt();this.getToken();var u=this.getToken();i[c]=u,this.getToken()}}else i=(0,n.getEncoding)(a);e.builtInEncoding=i;break;case"FontBBox":var l=this.readNumberArray();e.ascent=Math.max(l[3],l[1]),e.descent=Math.min(l[1],l[3]),e.ascentScaled=!0}}}]),o}()}();t.Type1Parser=S},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getTilingPatternIR=function(e,t,r){var n=t.getArray("Matrix"),i=a.Util.normalizeRect(t.getArray("BBox")),o=t.get("XStep"),s=t.get("YStep"),c=t.get("PaintType"),u=t.get("TilingType");if(i[2]-i[0]==0||i[3]-i[1]==0)throw new a.FormatError("Invalid getTilingPatternIR /BBox array: [".concat(i,"]."));return["TilingPattern",r,e,n,i,o,s,c,u]},t.Pattern=void 0;var a=r(4),i=r(122),o=r(113),s=r(117);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}var y=2,b=3,w=4,k=5,S=6,x=7,A=function(){function e(){g(this,e),(0,a.unreachable)("Cannot initialize Pattern.")}return v(e,null,[{key:"parseShading",value:function(e,t,r,n,i,c,u){var l=(0,o.isStream)(e)?e.dict:e,f=l.get("ShadingType");try{switch(f){case y:case b:return new T(l,t,r,n,c,u);case w:case k:case S:case x:return new _(e,t,r,n,c,u);default:throw new a.FormatError("Unsupported ShadingType: "+f)}}catch(e){if(e instanceof s.MissingDataException)throw e;return i.send("UnsupportedFeature",{featureId:a.UNSUPPORTED_FEATURES.shadingPattern}),(0,a.warn)(e),new I}}}]),e}();t.Pattern=A;var O,C=function(){function e(){g(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseShading.")}return v(e,[{key:"getIR",value:function(){(0,a.unreachable)("Abstract method \`getIR\` called.")}}],[{key:"SMALL_NUMBER",get:function(){return(0,a.shadow)(this,"SMALL_NUMBER",1e-6)}}]),e}(),T=function(e){l(r,e);var t=h(r);function r(e,n,o,s,u,l){var f;g(this,r),(f=t.call(this)).matrix=n,f.coordsArr=e.getArray("Coords"),f.shadingType=e.get("ShadingType");var h=i.ColorSpace.parse({cs:e.getRaw("ColorSpace")||e.getRaw("CS"),xref:o,resources:s,pdfFunctionFactory:u,localColorSpaceCache:l}),p=e.getArray("BBox");Array.isArray(p)&&4===p.length?f.bbox=a.Util.normalizeRect(p):f.bbox=null;var m=0,v=1;if(e.has("Domain")){var y=e.getArray("Domain");m=y[0],v=y[1]}var w=!1,k=!1;if(e.has("Extend")){var S=e.getArray("Extend");w=S[0],k=S[1]}if(!(f.shadingType!==b||w&&k)){var x=c(f.coordsArr,6),A=x[0],O=x[1],T=x[2],F=x[3],P=x[4],_=x[5],I=Math.hypot(A-F,O-P);T<=_+I&&_<=T+I&&(0,a.warn)("Unsupported radial gradient.")}f.extendStart=w,f.extendEnd=k;var E=e.getRaw("Function"),j=u.createFromArray(E),R=(v-m)/10,M=f.colorStops=[];if(m>=v||R<=0)return(0,a.info)("Bad shading domain."),d(f);for(var N,B=new Float32Array(h.numComps),D=new Float32Array(1),L=0;L<=10;L++){D[0]=m+L*R,j(D,0,B,0),N=h.getRgb(B,0);var U=a.Util.makeHexColor(N[0],N[1],N[2]);M.push([L/10,U])}var q="transparent";return e.has("Background")&&(N=h.getRgb(e.get("Background"),0),q=a.Util.makeHexColor(N[0],N[1],N[2])),w||(M.unshift([0,q]),M[1][0]+=C.SMALL_NUMBER),k||(M[M.length-1][0]-=C.SMALL_NUMBER,M.push([1,q])),f.colorStops=M,f}return v(r,[{key:"getIR",value:function(){var e,t,r,n,i,o=this.coordsArr,s=this.shadingType;return s===y?(t=[o[0],o[1]],r=[o[2],o[3]],n=null,i=null,e="axial"):s===b?(t=[o[0],o[1]],r=[o[3],o[4]],n=o[2],i=o[5],e="radial"):(0,a.unreachable)("getPattern type unknown: ".concat(s)),["RadialAxial",e,this.bbox,this.colorStops,t,r,n,i,this.matrix]}}]),r}(C),F=function(){function e(t,r){g(this,e),this.stream=t,this.context=r,this.buffer=0,this.bufferLength=0;var n=r.numComps;this.tmpCompsBuf=new Float32Array(n);var a=r.colorSpace.numComps;this.tmpCsCompsBuf=r.colorFn?new Float32Array(a):this.tmpCompsBuf}return v(e,[{key:"hasData",get:function(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;var e=this.stream.getByte();return!(e<0||(this.buffer=e,this.bufferLength=8,0))}},{key:"readBits",value:function(e){var t=this.buffer,r=this.bufferLength;if(32===e){if(0===r)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;t=t<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();var n=this.stream.getByte();return this.buffer=n&(1<<r)-1,(t<<8-r|(255&n)>>r)>>>0}if(8===e&&0===r)return this.stream.getByte();for(;r<e;)t=t<<8|this.stream.getByte(),r+=8;return r-=e,this.bufferLength=r,this.buffer=t&(1<<r)-1,t>>r}},{key:"align",value:function(){this.buffer=0,this.bufferLength=0}},{key:"readFlag",value:function(){return this.readBits(this.context.bitsPerFlag)}},{key:"readCoordinate",value:function(){var e=this.context.bitsPerCoordinate,t=this.readBits(e),r=this.readBits(e),n=this.context.decode,a=e<32?1/((1<<e)-1):2.3283064365386963e-10;return[t*a*(n[1]-n[0])+n[0],r*a*(n[3]-n[2])+n[2]]}},{key:"readComponents",value:function(){for(var e=this.context.numComps,t=this.context.bitsPerComponent,r=t<32?1/((1<<t)-1):2.3283064365386963e-10,n=this.context.decode,a=this.tmpCompsBuf,i=0,o=4;i<e;i++,o+=2){var s=this.readBits(t);a[i]=s*r*(n[o+1]-n[o])+n[o]}var c=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(a,0,c,0),this.context.colorSpace.getRgb(c,0)}}]),e}(),P=(O=[],function(e){return O[e]||(O[e]=function(e){for(var t=[],r=0;r<=e;r++){var n=r/e,a=1-n;t.push(new Float32Array([a*a*a,3*n*a*a,3*n*n*a,n*n*n]))}return t}(e)),O[e]}),_=function(e){l(r,e);var t=h(r);function r(e,n,s,c,u,l){var f;if(g(this,r),f=t.call(this),!(0,o.isStream)(e))throw new a.FormatError("Mesh data is not a stream");var h=e.dict;f.matrix=n,f.shadingType=h.get("ShadingType");var d=h.getArray("BBox");Array.isArray(d)&&4===d.length?f.bbox=a.Util.normalizeRect(d):f.bbox=null;var p=i.ColorSpace.parse({cs:h.getRaw("ColorSpace")||h.getRaw("CS"),xref:s,resources:c,pdfFunctionFactory:u,localColorSpaceCache:l});f.background=h.has("Background")?p.getRgb(h.get("Background"),0):null;var m=h.getRaw("Function"),v=m?u.createFromArray(m):null;f.coords=[],f.colors=[],f.figures=[];var y={bitsPerCoordinate:h.get("BitsPerCoordinate"),bitsPerComponent:h.get("BitsPerComponent"),bitsPerFlag:h.get("BitsPerFlag"),decode:h.getArray("Decode"),colorFn:v,colorSpace:p,numComps:v?1:p.numComps},b=new F(e,y),A=!1;switch(f.shadingType){case w:f._decodeType4Shading(b);break;case k:var O=0|h.get("VerticesPerRow");if(O<2)throw new a.FormatError("Invalid VerticesPerRow");f._decodeType5Shading(b,O);break;case S:f._decodeType6Shading(b),A=!0;break;case x:f._decodeType7Shading(b),A=!0;break;default:(0,a.unreachable)("Unsupported mesh type.")}if(A){f._updateBounds();for(var C=0,T=f.figures.length;C<T;C++)f._buildFigureFromPatch(C)}return f._updateBounds(),f._packData(),f}return v(r,[{key:"_decodeType4Shading",value:function(e){for(var t=this.coords,r=this.colors,n=[],i=[],o=0;e.hasData;){var s=e.readFlag(),c=e.readCoordinate(),u=e.readComponents();if(0===o){if(!(0<=s&&s<=2))throw new a.FormatError("Unknown type4 flag");switch(s){case 0:o=3;break;case 1:i.push(i[i.length-2],i[i.length-1]),o=1;break;case 2:i.push(i[i.length-3],i[i.length-1]),o=1}n.push(s)}i.push(t.length),t.push(c),r.push(u),o--,e.align()}this.figures.push({type:"triangles",coords:new Int32Array(i),colors:new Int32Array(i)})}},{key:"_decodeType5Shading",value:function(e,t){for(var r=this.coords,n=this.colors,a=[];e.hasData;){var i=e.readCoordinate(),o=e.readComponents();a.push(r.length),r.push(i),n.push(o)}this.figures.push({type:"lattice",coords:new Int32Array(a),colors:new Int32Array(a),verticesPerRow:t})}},{key:"_decodeType6Shading",value:function(e){for(var t=this.coords,r=this.colors,n=new Int32Array(16),i=new Int32Array(4);e.hasData;){var o=e.readFlag();if(!(0<=o&&o<=3))throw new a.FormatError("Unknown type6 flag");for(var s=t.length,c=0,u=0!==o?8:12;c<u;c++)t.push(e.readCoordinate());for(var l=r.length,f=0,h=0!==o?2:4;f<h;f++)r.push(e.readComponents());var d=void 0,p=void 0,g=void 0,m=void 0;switch(o){case 0:n[12]=s+3,n[13]=s+4,n[14]=s+5,n[15]=s+6,n[8]=s+2,n[11]=s+7,n[4]=s+1,n[7]=s+8,n[0]=s,n[1]=s+11,n[2]=s+10,n[3]=s+9,i[2]=l+1,i[3]=l+2,i[0]=l,i[1]=l+3;break;case 1:d=n[12],p=n[13],g=n[14],m=n[15],n[12]=m,n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=g,n[11]=s+3,n[4]=p,n[7]=s+4,n[0]=d,n[1]=s+7,n[2]=s+6,n[3]=s+5,d=i[2],p=i[3],i[2]=p,i[3]=l,i[0]=d,i[1]=l+1;break;case 2:d=n[15],p=n[11],n[12]=n[3],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[7],n[11]=s+3,n[4]=p,n[7]=s+4,n[0]=d,n[1]=s+7,n[2]=s+6,n[3]=s+5,d=i[3],i[2]=i[1],i[3]=l,i[0]=d,i[1]=l+1;break;case 3:n[12]=n[0],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[1],n[11]=s+3,n[4]=n[2],n[7]=s+4,n[0]=n[3],n[1]=s+7,n[2]=s+6,n[3]=s+5,i[2]=i[0],i[3]=l,i[0]=i[1],i[1]=l+1}n[5]=t.length,t.push([(-4*t[n[0]][0]-t[n[15]][0]+6*(t[n[4]][0]+t[n[1]][0])-2*(t[n[12]][0]+t[n[3]][0])+3*(t[n[13]][0]+t[n[7]][0]))/9,(-4*t[n[0]][1]-t[n[15]][1]+6*(t[n[4]][1]+t[n[1]][1])-2*(t[n[12]][1]+t[n[3]][1])+3*(t[n[13]][1]+t[n[7]][1]))/9]),n[6]=t.length,t.push([(-4*t[n[3]][0]-t[n[12]][0]+6*(t[n[2]][0]+t[n[7]][0])-2*(t[n[0]][0]+t[n[15]][0])+3*(t[n[4]][0]+t[n[14]][0]))/9,(-4*t[n[3]][1]-t[n[12]][1]+6*(t[n[2]][1]+t[n[7]][1])-2*(t[n[0]][1]+t[n[15]][1])+3*(t[n[4]][1]+t[n[14]][1]))/9]),n[9]=t.length,t.push([(-4*t[n[12]][0]-t[n[3]][0]+6*(t[n[8]][0]+t[n[13]][0])-2*(t[n[0]][0]+t[n[15]][0])+3*(t[n[11]][0]+t[n[1]][0]))/9,(-4*t[n[12]][1]-t[n[3]][1]+6*(t[n[8]][1]+t[n[13]][1])-2*(t[n[0]][1]+t[n[15]][1])+3*(t[n[11]][1]+t[n[1]][1]))/9]),n[10]=t.length,t.push([(-4*t[n[15]][0]-t[n[0]][0]+6*(t[n[11]][0]+t[n[14]][0])-2*(t[n[12]][0]+t[n[3]][0])+3*(t[n[2]][0]+t[n[8]][0]))/9,(-4*t[n[15]][1]-t[n[0]][1]+6*(t[n[11]][1]+t[n[14]][1])-2*(t[n[12]][1]+t[n[3]][1])+3*(t[n[2]][1]+t[n[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(n),colors:new Int32Array(i)})}}},{key:"_decodeType7Shading",value:function(e){for(var t=this.coords,r=this.colors,n=new Int32Array(16),i=new Int32Array(4);e.hasData;){var o=e.readFlag();if(!(0<=o&&o<=3))throw new a.FormatError("Unknown type7 flag");for(var s=t.length,c=0,u=0!==o?12:16;c<u;c++)t.push(e.readCoordinate());for(var l=r.length,f=0,h=0!==o?2:4;f<h;f++)r.push(e.readComponents());var d=void 0,p=void 0,g=void 0,m=void 0;switch(o){case 0:n[12]=s+3,n[13]=s+4,n[14]=s+5,n[15]=s+6,n[8]=s+2,n[9]=s+13,n[10]=s+14,n[11]=s+7,n[4]=s+1,n[5]=s+12,n[6]=s+15,n[7]=s+8,n[0]=s,n[1]=s+11,n[2]=s+10,n[3]=s+9,i[2]=l+1,i[3]=l+2,i[0]=l,i[1]=l+3;break;case 1:d=n[12],p=n[13],g=n[14],m=n[15],n[12]=m,n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=g,n[9]=s+9,n[10]=s+10,n[11]=s+3,n[4]=p,n[5]=s+8,n[6]=s+11,n[7]=s+4,n[0]=d,n[1]=s+7,n[2]=s+6,n[3]=s+5,d=i[2],p=i[3],i[2]=p,i[3]=l,i[0]=d,i[1]=l+1;break;case 2:d=n[15],p=n[11],n[12]=n[3],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[7],n[9]=s+9,n[10]=s+10,n[11]=s+3,n[4]=p,n[5]=s+8,n[6]=s+11,n[7]=s+4,n[0]=d,n[1]=s+7,n[2]=s+6,n[3]=s+5,d=i[3],i[2]=i[1],i[3]=l,i[0]=d,i[1]=l+1;break;case 3:n[12]=n[0],n[13]=s+0,n[14]=s+1,n[15]=s+2,n[8]=n[1],n[9]=s+9,n[10]=s+10,n[11]=s+3,n[4]=n[2],n[5]=s+8,n[6]=s+11,n[7]=s+4,n[0]=n[3],n[1]=s+7,n[2]=s+6,n[3]=s+5,i[2]=i[0],i[3]=l,i[0]=i[1],i[1]=l+1}this.figures.push({type:"patch",coords:new Int32Array(n),colors:new Int32Array(i)})}}},{key:"_buildFigureFromPatch",value:function(e){var t=this.figures[e];(0,a.assert)("patch"===t.type,"Unexpected patch mesh figure");var n=this.coords,i=this.colors,o=t.coords,s=t.colors,c=Math.min(n[o[0]][0],n[o[3]][0],n[o[12]][0],n[o[15]][0]),u=Math.min(n[o[0]][1],n[o[3]][1],n[o[12]][1],n[o[15]][1]),l=Math.max(n[o[0]][0],n[o[3]][0],n[o[12]][0],n[o[15]][0]),f=Math.max(n[o[0]][1],n[o[3]][1],n[o[12]][1],n[o[15]][1]),h=Math.ceil((l-c)*r.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));h=Math.max(r.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(r.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,h));var d=Math.ceil((f-u)*r.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));d=Math.max(r.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(r.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,d));for(var p=h+1,g=new Int32Array((d+1)*p),m=new Int32Array((d+1)*p),v=0,y=new Uint8Array(3),b=new Uint8Array(3),w=i[s[0]],k=i[s[1]],S=i[s[2]],x=i[s[3]],A=P(d),O=P(h),C=0;C<=d;C++){y[0]=(w[0]*(d-C)+S[0]*C)/d|0,y[1]=(w[1]*(d-C)+S[1]*C)/d|0,y[2]=(w[2]*(d-C)+S[2]*C)/d|0,b[0]=(k[0]*(d-C)+x[0]*C)/d|0,b[1]=(k[1]*(d-C)+x[1]*C)/d|0,b[2]=(k[2]*(d-C)+x[2]*C)/d|0;for(var T=0;T<=h;T++,v++)if(0!==C&&C!==d||0!==T&&T!==h){for(var F=0,_=0,I=0,E=0;E<=3;E++)for(var j=0;j<=3;j++,I++){var R=A[C][E]*O[T][j];F+=n[o[I]][0]*R,_+=n[o[I]][1]*R}g[v]=n.length,n.push([F,_]),m[v]=i.length;var M=new Uint8Array(3);M[0]=(y[0]*(h-T)+b[0]*T)/h|0,M[1]=(y[1]*(h-T)+b[1]*T)/h|0,M[2]=(y[2]*(h-T)+b[2]*T)/h|0,i.push(M)}}g[0]=o[0],m[0]=s[0],g[h]=o[3],m[h]=s[1],g[p*d]=o[12],m[p*d]=s[2],g[p*d+h]=o[15],m[p*d+h]=s[3],this.figures[e]={type:"lattice",coords:g,colors:m,verticesPerRow:p}}},{key:"_updateBounds",value:function(){for(var e=this.coords[0][0],t=this.coords[0][1],r=e,n=t,a=1,i=this.coords.length;a<i;a++){var o=this.coords[a][0],s=this.coords[a][1];e=e>o?o:e,t=t>s?s:t,r=r<o?o:r,n=n<s?s:n}this.bounds=[e,t,r,n]}},{key:"_packData",value:function(){var e,t,r,n,a=this.coords,i=new Float32Array(2*a.length);for(e=0,r=0,t=a.length;e<t;e++){var o=a[e];i[r++]=o[0],i[r++]=o[1]}this.coords=i;var s=this.colors,c=new Uint8Array(3*s.length);for(e=0,r=0,t=s.length;e<t;e++){var u=s[e];c[r++]=u[0],c[r++]=u[1],c[r++]=u[2]}this.colors=c;var l=this.figures;for(e=0,t=l.length;e<t;e++){var f=l[e],h=f.coords,d=f.colors;for(r=0,n=h.length;r<n;r++)h[r]*=2,d[r]*=3}}},{key:"getIR",value:function(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.matrix,this.bbox,this.background]}}],[{key:"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",get:function(){return(0,a.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}},{key:"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",get:function(){return(0,a.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}},{key:"TRIANGLE_DENSITY",get:function(){return(0,a.shadow)(this,"TRIANGLE_DENSITY",20)}}]),r}(C),I=function(e){l(r,e);var t=h(r);function r(){return g(this,r),t.apply(this,arguments)}return v(r,[{key:"getIR",value:function(){return["Dummy"]}}]),r}(C)},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPDFFunction=function(e){var t;if("object"!==h(e))return!1;if((0,n.isDict)(e))t=e;else{if(!(0,n.isStream)(e))return!1;t=e.dict}return t.has("FunctionType")},t.PostScriptEvaluator=t.PostScriptCompiler=t.PDFFunctionFactory=void 0;var n=r(113),a=r(4),i=r(158),o=r(159);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var m=function(){function e(t){var r=t.xref,n=t.isEvalSupported,a=void 0===n||n;d(this,e),this.xref=r,this.isEvalSupported=!1!==a}return g(e,[{key:"create",value:function(e){var t=this.getCached(e);if(t)return t;var r=y.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:e instanceof n.Ref?this.xref.fetch(e):e});return this._cache(e,r),r}},{key:"createFromArray",value:function(e){var t=this.getCached(e);if(t)return t;var r=y.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:e instanceof n.Ref?this.xref.fetch(e):e});return this._cache(e,r),r}},{key:"getCached",value:function(e){var t;if(e instanceof n.Ref?t=e:e instanceof n.Dict?t=e.objId:(0,n.isStream)(e)&&(t=e.dict&&e.dict.objId),t){var r=this._localFunctionCache.getByRef(t);if(r)return r}return null}},{key:"_cache",value:function(e,t){if(!t)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');var r;e instanceof n.Ref?r=e:e instanceof n.Dict?r=e.objId:(0,n.isStream)(e)&&(r=e.dict&&e.dict.objId),r&&this._localFunctionCache.set(null,r,t)}},{key:"_localFunctionCache",get:function(){return(0,a.shadow)(this,"_localFunctionCache",new o.LocalFunctionCache)}}]),e}();function v(e){if(!Array.isArray(e))return null;for(var t=e.length,r=0;r<t;r++)if("number"!=typeof e[r]){for(var n=new Array(t),a=0;a<t;a++)n[a]=+e[a];return n}return e}t.PDFFunctionFactory=m;var y={getSampleArray:function(e,t,r,n){var a,i,o=1;for(a=0,i=e.length;a<i;a++)o*=e[a];o*=t;var s=new Array(o),c=0,u=0,l=1/(Math.pow(2,r)-1),f=n.getBytes((o*r+7)/8),h=0;for(a=0;a<o;a++){for(;c<r;)u<<=8,u|=f[h++],c+=8;c-=r,s[a]=(u>>c)*l,u&=(1<<c)-1}return s},getIR:function(e){var t=e.xref,r=e.isEvalSupported,n=e.fn,i=n.dict;i||(i=n);var o=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript][i.get("FunctionType")];if(!o)throw new a.FormatError("Unknown type of function");return o.call(this,{xref:t,isEvalSupported:r,fn:n,dict:i})},fromIR:function(e){var t=e.xref,r=e.isEvalSupported,n=e.IR;switch(n[0]){case 0:return this.constructSampledFromIR({xref:t,isEvalSupported:r,IR:n});case 2:return this.constructInterpolatedFromIR({xref:t,isEvalSupported:r,IR:n});case 3:return this.constructStichedFromIR({xref:t,isEvalSupported:r,IR:n});default:return this.constructPostScriptFromIR({xref:t,isEvalSupported:r,IR:n})}},parse:function(e){var t=e.xref,r=e.isEvalSupported,n=e.fn,a=this.getIR({xref:t,isEvalSupported:r,fn:n});return this.fromIR({xref:t,isEvalSupported:r,IR:a})},parseArray:function(e){var t=e.xref,r=e.isEvalSupported,n=e.fnObj;if(!Array.isArray(n))return this.parse({xref:t,isEvalSupported:r,fn:n});for(var a=[],i=0,o=n.length;i<o;i++)a.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(n[i])}));return function(e,t,r,n){for(var i=0,o=a.length;i<o;i++)a[i](e,t,r,n+i)}},constructSampled:function(e){e.xref,e.isEvalSupported;var t=e.fn,r=e.dict;function n(e){for(var t=e.length,r=[],n=0,a=0;a<t;a+=2)r[n]=[e[a],e[a+1]],++n;return r}var i=v(r.getArray("Domain")),o=v(r.getArray("Range"));if(!i||!o)throw new a.FormatError("No domain or range");var s=i.length/2,c=o.length/2;i=n(i),o=n(o);var u=v(r.getArray("Size")),l=r.get("BitsPerSample"),f=r.get("Order")||1;1!==f&&(0,a.info)("No support for cubic spline interpolation: "+f);var h=v(r.getArray("Encode"));if(h)h=n(h);else{h=[];for(var d=0;d<s;++d)h.push([0,u[d]-1])}var p=v(r.getArray("Decode"));return[0,s,i,h,p=p?n(p):o,this.getSampleArray(u,c,l,t),u,c,Math.pow(2,l)-1,o]},constructSampledFromIR:function(e){e.xref,e.isEvalSupported;var t=e.IR;function r(e,t,r,n,a){return n+(a-n)/(r-t)*(e-t)}return function(e,n,a,i){var o,s,c=t[1],u=t[2],l=t[3],f=t[4],h=t[5],d=t[6],p=t[7],g=t[9],m=1<<c,v=new Float64Array(m),y=new Uint32Array(m);for(s=0;s<m;s++)v[s]=1;var b=p,w=1;for(o=0;o<c;++o){var k=u[o][0],S=u[o][1],x=r(Math.min(Math.max(e[n+o],k),S),k,S,l[o][0],l[o][1]),A=d[o],O=(x=Math.min(Math.max(x,0),A-1))<A-1?Math.floor(x):x-1,C=O+1-x,T=x-O,F=O*b,P=F+b;for(s=0;s<m;s++)s&w?(v[s]*=T,y[s]+=P):(v[s]*=C,y[s]+=F);b*=A,w<<=1}for(s=0;s<p;++s){var _=0;for(o=0;o<m;o++)_+=h[y[o]+s]*v[o];_=r(_,0,1,f[s][0],f[s][1]),a[i+s]=Math.min(Math.max(_,g[s][0]),g[s][1])}}},constructInterpolated:function(e){e.xref,e.isEvalSupported,e.fn;for(var t=e.dict,r=v(t.getArray("C0"))||[0],n=v(t.getArray("C1"))||[1],a=t.get("N"),i=r.length,o=[],s=0;s<i;++s)o.push(n[s]-r[s]);return[2,r,o,a]},constructInterpolatedFromIR:function(e){e.xref,e.isEvalSupported;var t=e.IR,r=t[1],n=t[2],a=t[3],i=n.length;return function(e,t,o,s){for(var c=1===a?e[t]:Math.pow(e[t],a),u=0;u<i;++u)o[s+u]=r[u]+c*n[u]}},constructStiched:function(e){var t=e.xref,r=e.isEvalSupported,n=(e.fn,e.dict),i=v(n.getArray("Domain"));if(!i)throw new a.FormatError("No domain");if(1!=i.length/2)throw new a.FormatError("Bad domain for stiched function");for(var o=n.get("Functions"),s=[],c=0,u=o.length;c<u;++c)s.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(o[c])}));return[3,i,v(n.getArray("Bounds")),v(n.getArray("Encode")),s]},constructStichedFromIR:function(e){e.xref,e.isEvalSupported;var t=e.IR,r=t[1],n=t[2],a=t[3],i=t[4],o=new Float32Array(1);return function(e,t,s,c){var u,l=function(e,t,r){return e>r?e=r:e<t&&(e=t),e}(e[t],r[0],r[1]),f=n.length;for(u=0;u<f&&!(l<n[u]);++u);var h=r[0];u>0&&(h=n[u-1]);var d=r[1];u<n.length&&(d=n[u]);var p=a[2*u],g=a[2*u+1];o[0]=h===d?p:p+(l-h)*(g-p)/(d-h),i[u](o,0,s,c)}},constructPostScript:function(e){e.xref,e.isEvalSupported;var t=e.fn,r=e.dict,n=v(r.getArray("Domain")),o=v(r.getArray("Range"));if(!n)throw new a.FormatError("No domain.");if(!o)throw new a.FormatError("No range.");var s=new i.PostScriptLexer(t);return[4,n,o,new i.PostScriptParser(s).parse()]},constructPostScriptFromIR:function(e){e.xref;var t=e.isEvalSupported,r=e.IR,n=r[1],i=r[2],o=r[3];if(t&&a.IsEvalSupportedCached.value){var s=(new k).compile(o,n,i);if(s)return new Function("src","srcOffset","dest","destOffset",s)}(0,a.info)("Unable to compile PS function");var c=i.length>>1,u=n.length>>1,l=new w(o),f=Object.create(null),h=8192,d=new Float32Array(u);return function(e,t,r,n){var a,o,s="",p=d;for(a=0;a<u;a++)o=e[t+a],p[a]=o,s+=o+"_";var g=f[s];if(void 0===g){var m=new Float32Array(c),v=l.execute(p),y=v.length-c;for(a=0;a<c;a++){o=v[y+a];var b=i[2*a];(o<b||o>(b=i[2*a+1]))&&(o=b),m[a]=o}h>0&&(h--,f[s]=m),r.set(m,n)}else r.set(g,n)}}},b=function(){function e(t){d(this,e),this.stack=t?Array.prototype.slice.call(t,0):[]}return g(e,[{key:"push",value:function(e){if(this.stack.length>=100)throw new Error("PostScript function stack overflow.");this.stack.push(e)}},{key:"pop",value:function(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}},{key:"copy",value:function(e){if(this.stack.length+e>=100)throw new Error("PostScript function stack overflow.");for(var t=this.stack,r=t.length-e,n=e-1;n>=0;n--,r++)t.push(t[r])}},{key:"index",value:function(e){this.push(this.stack[this.stack.length-e-1])}},{key:"roll",value:function(e,t){for(var r=this.stack,n=r.length-e,a=r.length-1,i=n+(t-Math.floor(t/e)*e),o=n,s=a;o<s;o++,s--){var c=r[o];r[o]=r[s],r[s]=c}for(var u=n,l=i-1;u<l;u++,l--){var f=r[u];r[u]=r[l],r[l]=f}for(var h=i,d=a;h<d;h++,d--){var p=r[h];r[h]=r[d],r[d]=p}}}]),e}(),w=function(){function e(t){d(this,e),this.operators=t}return g(e,[{key:"execute",value:function(e){for(var t,r,n,i=new b(e),o=0,s=this.operators,c=s.length;o<c;)if("number"!=typeof(t=s[o++]))switch(t){case"jz":n=i.pop(),(r=i.pop())||(o=n);break;case"j":o=r=i.pop();break;case"abs":r=i.pop(),i.push(Math.abs(r));break;case"add":n=i.pop(),r=i.pop(),i.push(r+n);break;case"and":n=i.pop(),r=i.pop(),(0,a.isBool)(r)&&(0,a.isBool)(n)?i.push(r&&n):i.push(r&n);break;case"atan":r=i.pop(),i.push(Math.atan(r));break;case"bitshift":n=i.pop(),(r=i.pop())>0?i.push(r<<n):i.push(r>>n);break;case"ceiling":r=i.pop(),i.push(Math.ceil(r));break;case"copy":r=i.pop(),i.copy(r);break;case"cos":r=i.pop(),i.push(Math.cos(r));break;case"cvi":r=0|i.pop(),i.push(r);break;case"cvr":break;case"div":n=i.pop(),r=i.pop(),i.push(r/n);break;case"dup":i.copy(1);break;case"eq":n=i.pop(),r=i.pop(),i.push(r===n);break;case"exch":i.roll(2,1);break;case"exp":n=i.pop(),r=i.pop(),i.push(Math.pow(r,n));break;case"false":i.push(!1);break;case"floor":r=i.pop(),i.push(Math.floor(r));break;case"ge":n=i.pop(),r=i.pop(),i.push(r>=n);break;case"gt":n=i.pop(),r=i.pop(),i.push(r>n);break;case"idiv":n=i.pop(),r=i.pop(),i.push(r/n|0);break;case"index":r=i.pop(),i.index(r);break;case"le":n=i.pop(),r=i.pop(),i.push(r<=n);break;case"ln":r=i.pop(),i.push(Math.log(r));break;case"log":r=i.pop(),i.push(Math.log(r)/Math.LN10);break;case"lt":n=i.pop(),r=i.pop(),i.push(r<n);break;case"mod":n=i.pop(),r=i.pop(),i.push(r%n);break;case"mul":n=i.pop(),r=i.pop(),i.push(r*n);break;case"ne":n=i.pop(),r=i.pop(),i.push(r!==n);break;case"neg":r=i.pop(),i.push(-r);break;case"not":r=i.pop(),(0,a.isBool)(r)?i.push(!r):i.push(~r);break;case"or":n=i.pop(),r=i.pop(),(0,a.isBool)(r)&&(0,a.isBool)(n)?i.push(r||n):i.push(r|n);break;case"pop":i.pop();break;case"roll":n=i.pop(),r=i.pop(),i.roll(r,n);break;case"round":r=i.pop(),i.push(Math.round(r));break;case"sin":r=i.pop(),i.push(Math.sin(r));break;case"sqrt":r=i.pop(),i.push(Math.sqrt(r));break;case"sub":n=i.pop(),r=i.pop(),i.push(r-n);break;case"true":i.push(!0);break;case"truncate":r=(r=i.pop())<0?Math.ceil(r):Math.floor(r),i.push(r);break;case"xor":n=i.pop(),r=i.pop(),(0,a.isBool)(r)&&(0,a.isBool)(n)?i.push(r!==n):i.push(r^n);break;default:throw new a.FormatError("Unknown operator ".concat(t))}else i.push(t);return i.stack}}]),e}();t.PostScriptEvaluator=w;var k=function(){var e=function(){function e(t){d(this,e),this.type=t}return g(e,[{key:"visit",value:function(e){(0,a.unreachable)("abstract method")}}]),e}(),t=function(e){s(r,e);var t=u(r);function r(e,n,a){var i;return d(this,r),(i=t.call(this,"args")).index=e,i.min=n,i.max=a,i}return g(r,[{key:"visit",value:function(e){e.visitArgument(this)}}]),r}(e),r=function(e){s(r,e);var t=u(r);function r(e){var n;return d(this,r),(n=t.call(this,"literal")).number=e,n.min=e,n.max=e,n}return g(r,[{key:"visit",value:function(e){e.visitLiteral(this)}}]),r}(e),n=function(e){s(r,e);var t=u(r);function r(e,n,a,i,o){var s;return d(this,r),(s=t.call(this,"binary")).op=e,s.arg1=n,s.arg2=a,s.min=i,s.max=o,s}return g(r,[{key:"visit",value:function(e){e.visitBinaryOperation(this)}}]),r}(e),i=function(e){s(r,e);var t=u(r);function r(e,n){var a;return d(this,r),(a=t.call(this,"max")).arg=e,a.min=e.min,a.max=n,a}return g(r,[{key:"visit",value:function(e){e.visitMin(this)}}]),r}(e),o=function(e){s(r,e);var t=u(r);function r(e,n,a){var i;return d(this,r),(i=t.call(this,"var")).index=e,i.min=n,i.max=a,i}return g(r,[{key:"visit",value:function(e){e.visitVariable(this)}}]),r}(e),c=function(e){s(r,e);var t=u(r);function r(e,n){var a;return d(this,r),(a=t.call(this,"definition")).variable=e,a.arg=n,a}return g(r,[{key:"visit",value:function(e){e.visitVariableDefinition(this)}}]),r}(e),l=function(){function e(){d(this,e),this.parts=[]}return g(e,[{key:"visitArgument",value:function(e){this.parts.push("Math.max(",e.min,", Math.min(",e.max,", src[srcOffset + ",e.index,"]))")}},{key:"visitVariable",value:function(e){this.parts.push("v",e.index)}},{key:"visitLiteral",value:function(e){this.parts.push(e.number)}},{key:"visitBinaryOperation",value:function(e){this.parts.push("("),e.arg1.visit(this),this.parts.push(" ",e.op," "),e.arg2.visit(this),this.parts.push(")")}},{key:"visitVariableDefinition",value:function(e){this.parts.push("var "),e.variable.visit(this),this.parts.push(" = "),e.arg.visit(this),this.parts.push(";")}},{key:"visitMin",value:function(e){this.parts.push("Math.min("),e.arg.visit(this),this.parts.push(", ",e.max,")")}},{key:"toString",value:function(){return this.parts.join("")}}]),e}();function f(e,t){return"literal"===t.type&&0===t.number?e:"literal"===e.type&&0===e.number?t:"literal"===t.type&&"literal"===e.type?new r(e.number+t.number):new n("+",e,t,e.min+t.min,e.max+t.max)}function h(e,t){if("literal"===t.type){if(0===t.number)return new r(0);if(1===t.number)return e;if("literal"===e.type)return new r(e.number*t.number)}if("literal"===e.type){if(0===e.number)return new r(0);if(1===e.number)return t}var a=Math.min(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max),i=Math.max(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max);return new n("*",e,t,a,i)}function p(e,t){if("literal"===t.type){if(0===t.number)return e;if("literal"===e.type)return new r(e.number-t.number)}return"binary"===t.type&&"-"===t.op&&"literal"===e.type&&1===e.number&&"literal"===t.arg1.type&&1===t.arg1.number?t.arg2:new n("-",e,t,e.min-t.max,e.max-t.min)}function m(e,t){return e.min>=t?new r(t):e.max<=t?e:new i(e,t)}return function(){function e(){d(this,e)}return g(e,[{key:"compile",value:function(e,n,a){for(var i,s,u,d,g,v,y,b,w=[],k=[],S=n.length>>1,x=a.length>>1,A=0,O=0;O<S;O++)w.push(new t(O,n[2*O],n[2*O+1]));for(var C=0,T=e.length;C<T;C++)if("number"!=typeof(b=e[C]))switch(b){case"add":if(w.length<2)return null;d=w.pop(),u=w.pop(),w.push(f(u,d));break;case"cvr":if(w.length<1)return null;break;case"mul":if(w.length<2)return null;d=w.pop(),u=w.pop(),w.push(h(u,d));break;case"sub":if(w.length<2)return null;d=w.pop(),u=w.pop(),w.push(p(u,d));break;case"exch":if(w.length<2)return null;g=w.pop(),v=w.pop(),w.push(g,v);break;case"pop":if(w.length<1)return null;w.pop();break;case"index":if(w.length<1)return null;if("literal"!==(u=w.pop()).type)return null;if((i=u.number)<0||!Number.isInteger(i)||w.length<i)return null;if("literal"===(g=w[w.length-i-1]).type||"var"===g.type){w.push(g);break}y=new o(A++,g.min,g.max),w[w.length-i-1]=y,w.push(y),k.push(new c(y,g));break;case"dup":if(w.length<1)return null;if("number"==typeof e[C+1]&&"gt"===e[C+2]&&e[C+3]===C+7&&"jz"===e[C+4]&&"pop"===e[C+5]&&e[C+6]===e[C+1]){u=w.pop(),w.push(m(u,e[C+1])),C+=6;break}if("literal"===(g=w[w.length-1]).type||"var"===g.type){w.push(g);break}y=new o(A++,g.min,g.max),w[w.length-1]=y,w.push(y),k.push(new c(y,g));break;case"roll":if(w.length<2)return null;if(d=w.pop(),u=w.pop(),"literal"!==d.type||"literal"!==u.type)return null;if(s=d.number,(i=u.number)<=0||!Number.isInteger(i)||!Number.isInteger(s)||w.length<i)return null;if(0==(s=(s%i+i)%i))break;Array.prototype.push.apply(w,w.splice(w.length-i,i-s));break;default:return null}else w.push(new r(b));if(w.length!==x)return null;for(var F=[],P=0,_=k;P<_.length;P++){var I=_[P],E=new l;I.visit(E),F.push(E.toString())}for(var j=0,R=w.length;j<R;j++){var M=w[j],N=new l;M.visit(N);var B=a[2*j],D=a[2*j+1],L=[N.toString()];B>M.min&&(L.unshift("Math.max(",B,", "),L.push(")")),D<M.max&&(L.unshift("Math.min(",D,", "),L.push(")")),L.unshift("dest[destOffset + ",j,"] = "),L.push(";"),F.push(L.join(""))}return F.join("\\n")}}]),e}()}();t.PostScriptCompiler=k},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostScriptParser=t.PostScriptLexer=void 0;var n=r(4),a=r(113),i=r(117);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var u=function(){function e(t){o(this,e),this.lexer=t,this.operators=[],this.token=null,this.prev=null}return c(e,[{key:"nextToken",value:function(){this.prev=this.token,this.token=this.lexer.getToken()}},{key:"accept",value:function(e){return this.token.type===e&&(this.nextToken(),!0)}},{key:"expect",value:function(e){if(this.accept(e))return!0;throw new n.FormatError("Unexpected symbol: found ".concat(this.token.type," expected ").concat(e,"."))}},{key:"parse",value:function(){return this.nextToken(),this.expect(f.LBRACE),this.parseBlock(),this.expect(f.RBRACE),this.operators}},{key:"parseBlock",value:function(){for(;;)if(this.accept(f.NUMBER))this.operators.push(this.prev.value);else if(this.accept(f.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(f.LBRACE))return;this.parseCondition()}}},{key:"parseCondition",value:function(){var e=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(f.RBRACE),this.accept(f.IF))this.operators[e]=this.operators.length,this.operators[e+1]="jz";else{if(!this.accept(f.LBRACE))throw new n.FormatError("PS Function: error parsing conditional.");var t=this.operators.length;this.operators.push(null,null);var r=this.operators.length;this.parseBlock(),this.expect(f.RBRACE),this.expect(f.IFELSE),this.operators[t]=this.operators.length,this.operators[t+1]="j",this.operators[e]=r,this.operators[e+1]="jz"}}}]),e}();t.PostScriptParser=u;var l,f={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},h=(l=Object.create(null),function(){function e(t,r){o(this,e),this.type=t,this.value=r}return c(e,null,[{key:"getOperator",value:function(t){var r=l[t];return r||(l[t]=new e(f.OPERATOR,t))}},{key:"LBRACE",get:function(){return(0,n.shadow)(this,"LBRACE",new e(f.LBRACE,"{"))}},{key:"RBRACE",get:function(){return(0,n.shadow)(this,"RBRACE",new e(f.RBRACE,"}"))}},{key:"IF",get:function(){return(0,n.shadow)(this,"IF",new e(f.IF,"IF"))}},{key:"IFELSE",get:function(){return(0,n.shadow)(this,"IFELSE",new e(f.IFELSE,"IFELSE"))}}]),e}()),d=function(){function e(t){o(this,e),this.stream=t,this.nextChar(),this.strBuf=[]}return c(e,[{key:"nextChar",value:function(){return this.currentChar=this.stream.getByte()}},{key:"getToken",value:function(){for(var e=!1,t=this.currentChar;;){if(t<0)return a.EOF;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(!(0,i.isWhiteSpace)(t))break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new h(f.NUMBER,this.getNumber());case 123:return this.nextChar(),h.LBRACE;case 125:return this.nextChar(),h.RBRACE}var r=this.strBuf;for(r.length=0,r[0]=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=65&&t<=90||t>=97&&t<=122);)r.push(String.fromCharCode(t));var n=r.join("");switch(n.toLowerCase()){case"if":return h.IF;case"ifelse":return h.IFELSE;default:return h.getOperator(n)}}},{key:"getNumber",value:function(){var e=this.currentChar,t=this.strBuf;for(t.length=0,t[0]=String.fromCharCode(e);(e=this.nextChar())>=0&&(e>=48&&e<=57||45===e||46===e);)t.push(String.fromCharCode(e));var r=parseFloat(t.join(""));if(isNaN(r))throw new n.FormatError("Invalid floating point number: ".concat(r));return r}}]),e}();t.PostScriptLexer=d},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalTilingPatternCache=t.LocalImageCache=t.LocalGStateCache=t.LocalFunctionCache=t.LocalColorSpaceCache=t.GlobalImageCache=void 0;var a=r(4),i=r(113);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}var p=function(){function e(t){f(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseLocalCache."),t&&t.onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new i.RefSetCache}return d(e,[{key:"getByName",value:function(e){var t=this._nameRefMap.get(e);return t?this.getByRef(t):this._imageMap.get(e)||null}},{key:"getByRef",value:function(e){return this._imageCache.get(e)||null}},{key:"set",value:function(e,t,r){(0,a.unreachable)("Abstract method \`set\` called.")}}]),e}(),g=function(e){o(r,e);var t=c(r);function r(){return f(this,r),t.apply(this,arguments)}return d(r,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!e)throw new Error('LocalImageCache.set - expected "name" argument.');if(t){if(this._imageCache.has(t))return;return this._nameRefMap.set(e,t),void this._imageCache.put(t,r)}this._imageMap.has(e)||this._imageMap.set(e,r)}}]),r}(p);t.LocalImageCache=g;var m=function(e){o(r,e);var t=c(r);function r(){return f(this,r),t.apply(this,arguments)}return d(r,[{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!e&&!t)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(t){if(this._imageCache.has(t))return;return e&&this._nameRefMap.set(e,t),void this._imageCache.put(t,r)}this._imageMap.has(e)||this._imageMap.set(e,r)}}]),r}(p);t.LocalColorSpaceCache=m;var v=function(e){o(r,e);var t=c(r);function r(e){return f(this,r),t.call(this,{onlyRefs:!0})}return d(r,[{key:"getByName",value:function(e){(0,a.unreachable)("Should not call \`getByName\` method.")}},{key:"set",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;if(!e)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(e)||this._imageCache.put(e,t)}}]),r}(p);t.LocalFunctionCache=v;var y=function(e){o(r,e);var t=c(r);function r(){return f(this,r),t.apply(this,arguments)}return d(r,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!e)throw new Error('LocalGStateCache.set - expected "name" argument.');if(t){if(this._imageCache.has(t))return;return this._nameRefMap.set(e,t),void this._imageCache.put(t,r)}this._imageMap.has(e)||this._imageMap.set(e,r)}}]),r}(p);t.LocalGStateCache=y;var b=function(e){o(r,e);var t=c(r);function r(){return f(this,r),t.apply(this,arguments)}return d(r,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!e)throw new Error('LocalTilingPatternCache.set - expected "name" argument.');if(t){if(this._imageCache.has(t))return;return this._nameRefMap.set(e,t),void this._imageCache.put(t,r)}this._imageMap.has(e)||this._imageMap.set(e,r)}}]),r}(p);t.LocalTilingPatternCache=b;var w=function(){function e(){f(this,e),this._refCache=new i.RefSetCache,this._imageCache=new i.RefSetCache}return d(e,[{key:"_byteSize",get:function(){var e=0;return this._imageCache.forEach((function(t){e+=t.byteSize})),e}},{key:"_cacheLimitReached",get:function(){return!(this._imageCache.size<e.MIN_IMAGES_TO_CACHE||this._byteSize<e.MAX_BYTE_SIZE)}},{key:"shouldCache",value:function(t,r){var n=this._refCache.get(t);return!((n?n.size+(n.has(r)?0:1):1)<e.NUM_PAGES_THRESHOLD||!this._imageCache.has(t)&&this._cacheLimitReached)}},{key:"addPageIndex",value:function(e,t){var r=this._refCache.get(e);r||(r=new Set,this._refCache.put(e,r)),r.add(t)}},{key:"addByteSize",value:function(e,t){var r=this._imageCache.get(e);r&&(r.byteSize||(r.byteSize=t))}},{key:"getData",value:function(t,r){var n=this._refCache.get(t);if(!n)return null;if(n.size<e.NUM_PAGES_THRESHOLD)return null;var a=this._imageCache.get(t);return a?(n.add(r),a):null}},{key:"setData",value:function(e,t){if(!this._refCache.has(e))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');this._imageCache.has(e)||(this._cacheLimitReached?(0,a.warn)("GlobalImageCache.setData - cache limit reached."):this._imageCache.put(e,t))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||this._refCache.clear(),this._imageCache.clear()}}],[{key:"NUM_PAGES_THRESHOLD",get:function(){return(0,a.shadow)(this,"NUM_PAGES_THRESHOLD",2)}},{key:"MIN_IMAGES_TO_CACHE",get:function(){return(0,a.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}},{key:"MAX_BYTE_SIZE",get:function(){return(0,a.shadow)(this,"MAX_BYTE_SIZE",4e7)}}]),e}();t.GlobalImageCache=w},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidi=function(e,t,r){var p=!0,g=e.length;if(0===g||r)return f(e,p,r);h.length=g,d.length=g;var m,v,y=0;for(m=0;m<g;++m){h[m]=e.charAt(m);var b=e.charCodeAt(m),w="L";b<=255?w=a[b]:1424<=b&&b<=1524?w="R":1536<=b&&b<=1791?(w=i[255&b])||(0,n.warn)("Bidi: invalid Unicode character "+b.toString(16)):1792<=b&&b<=2220&&(w="AL"),"R"!==w&&"AL"!==w&&"AN"!==w||y++,d[m]=w}if(0===y)return f(e,p=!0);-1===t&&(y/g<.3?(p=!0,t=0):(p=!1,t=1));var k=[];for(m=0;m<g;++m)k[m]=t;var S,x=o(t)?"R":"L",A=x,O=A,C=A;for(m=0;m<g;++m)"NSM"===d[m]?d[m]=C:C=d[m];for(C=A,m=0;m<g;++m)"EN"===(S=d[m])?d[m]="AL"===C?"AN":"EN":"R"!==S&&"L"!==S&&"AL"!==S||(C=S);for(m=0;m<g;++m)"AL"===(S=d[m])&&(d[m]="R");for(m=1;m<g-1;++m)"ES"===d[m]&&"EN"===d[m-1]&&"EN"===d[m+1]&&(d[m]="EN"),"CS"!==d[m]||"EN"!==d[m-1]&&"AN"!==d[m-1]||d[m+1]!==d[m-1]||(d[m]=d[m-1]);for(m=0;m<g;++m)if("EN"===d[m]){for(var T=m-1;T>=0&&"ET"===d[T];--T)d[T]="EN";for(var F=m+1;F<g&&"ET"===d[F];++F)d[F]="EN"}for(m=0;m<g;++m)"WS"!==(S=d[m])&&"ES"!==S&&"ET"!==S&&"CS"!==S||(d[m]="ON");for(C=A,m=0;m<g;++m)"EN"===(S=d[m])?d[m]="L"===C?"L":"EN":"R"!==S&&"L"!==S||(C=S);for(m=0;m<g;++m)if("ON"===d[m]){var P=c(d,m+1,"ON"),_=A;m>0&&(_=d[m-1]);var I=O;P+1<g&&(I=d[P+1]),"L"!==_&&(_="R"),"L"!==I&&(I="R"),_===I&&u(d,m,P,_),m=P-1}for(m=0;m<g;++m)"ON"===d[m]&&(d[m]=x);for(m=0;m<g;++m)S=d[m],s(k[m])?"R"===S?k[m]+=1:"AN"!==S&&"EN"!==S||(k[m]+=2):"L"!==S&&"AN"!==S&&"EN"!==S||(k[m]+=1);var E,j=-1,R=99;for(m=0,v=k.length;m<v;++m)E=k[m],j<E&&(j=E),R>E&&o(E)&&(R=E);for(E=j;E>=R;--E){var M=-1;for(m=0,v=k.length;m<v;++m)k[m]<E?M>=0&&(l(h,M,m),M=-1):M<0&&(M=m);M>=0&&l(h,M,k.length)}for(m=0,v=h.length;m<v;++m){var N=h[m];"<"!==N&&">"!==N||(h[m]="")}return f(h.join(""),p)};var n=r(4),a=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],i=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function o(e){return 0!=(1&e)}function s(e){return 0==(1&e)}function c(e,t,r){var n,a;for(n=t,a=e.length;n<a;++n)if(e[n]!==r)return n;return n}function u(e,t,r,n){for(var a=t;a<r;++a)e[a]=n}function l(e,t,r){for(var n=t,a=r-1;n<a;++n,--a){var i=e[n];e[n]=e[a],e[a]=i}}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="ltr";return r?n="ttb":t||(n="rtl"),{str:e,dir:n}}var h=[],d=[]},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetrics=void 0;var n=r(117),a=(0,n.getLookupTableFactory)((function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,n.getLookupTableFactory)((function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556})),e["Helvetica-Bold"]=(0,n.getLookupTableFactory)((function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556})),e["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)((function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556})),e["Helvetica-Oblique"]=(0,n.getLookupTableFactory)((function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556})),e.Symbol=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790})),e["Times-Roman"]=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500})),e["Times-Bold"]=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500})),e["Times-BoldItalic"]=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500})),e["Times-Italic"]=(0,n.getLookupTableFactory)((function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500})),e.ZapfDingbats=(0,n.getLookupTableFactory)((function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918}))}));t.getMetrics=a},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var n=r(4);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=3285377520,o=4294901760,s=65535,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}var t,r,c;return t=e,(r=[{key:"update",value:function(e){var t,r;if((0,n.isString)(e)){t=new Uint8Array(2*e.length),r=0;for(var a=0,i=e.length;a<i;a++){var c=e.charCodeAt(a);c<=255?t[r++]=c:(t[r++]=c>>>8,t[r++]=255&c)}}else{if(!(0,n.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");r=(t=e.slice()).byteLength}for(var u=r>>2,l=r-4*u,f=new Uint32Array(t.buffer,0,u),h=0,d=0,p=this.h1,g=this.h2,m=3432918353,v=461845907,y=11601,b=13715,w=0;w<u;w++)1&w?p=5*(p=(p^=h=(h=(h=(h=f[w])*m&o|h*y&s)<<15|h>>>17)*v&o|h*b&s)<<13|p>>>19)+3864292196:g=5*(g=(g^=d=(d=(d=(d=f[w])*m&o|d*y&s)<<15|d>>>17)*v&o|d*b&s)<<13|g>>>19)+3864292196;switch(h=0,l){case 3:h^=t[4*u+2]<<16;case 2:h^=t[4*u+1]<<8;case 1:h=(h=(h=(h^=t[4*u])*m&o|h*y&s)<<15|h>>>17)*v&o|h*b&s,1&u?p^=h:g^=h}this.h1=p,this.h2=g}},{key:"hexdigest",value:function(){var e=this.h1,t=this.h2;e=3981806797*(e^=t>>>1)&o|36045*e&s,e=444984403*(e^=(t=4283543511*t&o|(2950163797*(t<<16|e>>>16)&o)>>>16)>>>1)&o|60499*e&s;var r=((e^=(t=3301882366*t&o|(3120437893*(t<<16|e>>>16)&o)>>>16)>>>1)>>>0).toString(16),n=(t>>>0).toString(16);return r.padStart(8,"0")+n.padStart(8,"0")}}])&&a(t.prototype,r),c&&a(t,c),e}();t.MurmurHash3_64=c},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorList=void 0;var a=r(4);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}function p(e,t,r,n,a){for(var i=e,o=0,s=t.length-1;o<s;o++){var c=t[o];i=i[c]||(i[c]=[])}i[t[t.length-1]]={checkFn:r,iterateFn:n,processFn:a}}var g=[];p(g,[a.OPS.save,a.OPS.transform,a.OPS.paintInlineImageXObject,a.OPS.restore],null,(function(e,t){var r=e.fnArray,n=(t-(e.iCurr-3))%4;switch(n){case 0:return r[t]===a.OPS.save;case 1:return r[t]===a.OPS.transform;case 2:return r[t]===a.OPS.paintInlineImageXObject;case 3:return r[t]===a.OPS.restore}throw new Error("iterateInlineImageGroup - invalid pos: ".concat(n))}),(function(e,t){var r=e.fnArray,n=e.argsArray,i=e.iCurr,o=i-3,s=i-2,c=i-1,u=Math.min(Math.floor((t-o)/4),200);if(u<10)return t-(t-o)%4;for(var l=0,f=[],h=0,d=1,p=1,g=0;g<u;g++){var m=n[s+(g<<2)],v=n[c+(g<<2)][0];d+v.width>1e3&&(l=Math.max(l,d),p+=h+2,d=0,h=0),f.push({transform:m,x:d,y:p,w:v.width,h:v.height}),d+=v.width+2,h=Math.max(h,v.height)}for(var y=Math.max(l,d)+1,b=p+h+1,w=new Uint8ClampedArray(y*b*4),k=y<<2,S=0;S<u;S++){var x=n[c+(S<<2)][0].data,A=f[S].w<<2,O=0,C=f[S].x+f[S].y*y<<2;w.set(x.subarray(0,A),C-k);for(var T=0,F=f[S].h;T<F;T++)w.set(x.subarray(O,O+A),C),O+=A,C+=k;for(w.set(x.subarray(O-A,O),C);C>=0;)x[C-4]=x[C],x[C-3]=x[C+1],x[C-2]=x[C+2],x[C-1]=x[C+3],x[C+A]=x[C+A-4],x[C+A+1]=x[C+A-3],x[C+A+2]=x[C+A-2],x[C+A+3]=x[C+A-1],C-=k}return r.splice(o,4*u,a.OPS.paintInlineImageXObjectGroup),n.splice(o,4*u,[{width:y,height:b,kind:a.ImageKind.RGBA_32BPP,data:w},f]),o+1})),p(g,[a.OPS.save,a.OPS.transform,a.OPS.paintImageMaskXObject,a.OPS.restore],null,(function(e,t){var r=e.fnArray,n=(t-(e.iCurr-3))%4;switch(n){case 0:return r[t]===a.OPS.save;case 1:return r[t]===a.OPS.transform;case 2:return r[t]===a.OPS.paintImageMaskXObject;case 3:return r[t]===a.OPS.restore}throw new Error("iterateImageMaskGroup - invalid pos: ".concat(n))}),(function(e,t){var r=e.fnArray,n=e.argsArray,i=e.iCurr,o=i-3,s=i-2,c=i-1,u=Math.floor((t-o)/4);if(u=function(e,t,r,n){var i,o=e+2;for(i=0;i<t;i++){var s=n[o+4*i],c=1===s.length&&s[0];if(!c||1!==c.width||1!==c.height||c.data.length&&(1!==c.data.length||0!==c.data[0]))break;r[o+4*i]=a.OPS.paintSolidColorImageMask}return t-i}(o,u,r,n),u<10)return t-(t-o)%4;var l,f,h=!1,d=n[c][0],p=n[s][0],g=n[s][1],m=n[s][2],v=n[s][3];if(g===m){h=!0,l=s+4;for(var y=c+4,b=1;b<u;b++,l+=4,y+=4)if(f=n[l],n[y][0]!==d||f[0]!==p||f[1]!==g||f[2]!==m||f[3]!==v){b<10?h=!1:u=b;break}}if(h){u=Math.min(u,1e3);var w=new Float32Array(2*u);l=s;for(var k=0;k<u;k++,l+=4)f=n[l],w[k<<1]=f[4],w[1+(k<<1)]=f[5];r.splice(o,4*u,a.OPS.paintImageMaskXObjectRepeat),n.splice(o,4*u,[d,p,g,m,v,w])}else{u=Math.min(u,100);for(var S=[],x=0;x<u;x++){f=n[s+(x<<2)];var A=n[c+(x<<2)][0];S.push({data:A.data,width:A.width,height:A.height,transform:f})}r.splice(o,4*u,a.OPS.paintImageMaskXObjectGroup),n.splice(o,4*u,[S])}return o+1})),p(g,[a.OPS.save,a.OPS.transform,a.OPS.paintImageXObject,a.OPS.restore],(function(e){var t=e.argsArray,r=e.iCurr-2;return 0===t[r][1]&&0===t[r][2]}),(function(e,t){var r=e.fnArray,n=e.argsArray,i=(t-(e.iCurr-3))%4;switch(i){case 0:return r[t]===a.OPS.save;case 1:if(r[t]!==a.OPS.transform)return!1;var o=e.iCurr-2,s=n[o][0],c=n[o][3];return n[t][0]===s&&0===n[t][1]&&0===n[t][2]&&n[t][3]===c;case 2:if(r[t]!==a.OPS.paintImageXObject)return!1;var u=n[e.iCurr-1][0];return n[t][0]===u;case 3:return r[t]===a.OPS.restore}throw new Error("iterateImageGroup - invalid pos: ".concat(i))}),(function(e,t){var r=e.fnArray,n=e.argsArray,i=e.iCurr,o=i-3,s=i-2,c=n[i-1][0],u=n[s][0],l=n[s][3],f=Math.min(Math.floor((t-o)/4),1e3);if(f<3)return t-(t-o)%4;for(var h=new Float32Array(2*f),d=s,p=0;p<f;p++,d+=4){var g=n[d];h[p<<1]=g[4],h[1+(p<<1)]=g[5]}var m=[c,u,l,h];return r.splice(o,4*f,a.OPS.paintImageXObjectRepeat),n.splice(o,4*f,m),o+1})),p(g,[a.OPS.beginText,a.OPS.setFont,a.OPS.setTextMatrix,a.OPS.showText,a.OPS.endText],null,(function(e,t){var r=e.fnArray,n=e.argsArray,i=(t-(e.iCurr-4))%5;switch(i){case 0:return r[t]===a.OPS.beginText;case 1:return r[t]===a.OPS.setFont;case 2:return r[t]===a.OPS.setTextMatrix;case 3:if(r[t]!==a.OPS.showText)return!1;var o=e.iCurr-3,s=n[o][0],c=n[o][1];return n[t][0]===s&&n[t][1]===c;case 4:return r[t]===a.OPS.endText}throw new Error("iterateShowTextGroup - invalid pos: ".concat(i))}),(function(e,t){var r=e.fnArray,n=e.argsArray,a=e.iCurr,i=a-4,o=a-3,s=a-2,c=a-1,u=a,l=n[o][0],f=n[o][1],h=Math.min(Math.floor((t-i)/5),1e3);if(h<3)return t-(t-i)%5;var d=i;i>=4&&r[i-4]===r[o]&&r[i-3]===r[s]&&r[i-2]===r[c]&&r[i-1]===r[u]&&n[i-4][0]===l&&n[i-4][1]===f&&(h++,d-=5);for(var p=d+4,g=1;g<h;g++)r.splice(p,3),n.splice(p,3),p+=2;return p+1}));var m=function(){function e(t){f(this,e),this.queue=t}return d(e,[{key:"_optimize",value:function(){}},{key:"push",value:function(e,t){this.queue.fnArray.push(e),this.queue.argsArray.push(t),this._optimize()}},{key:"flush",value:function(){}},{key:"reset",value:function(){}}]),e}(),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e);var t=c(r);function r(e){var n;return f(this,r),(n=t.call(this,e)).state=null,n.context={iCurr:0,fnArray:e.fnArray,argsArray:e.argsArray},n.match=null,n.lastProcessed=0,n}return d(r,[{key:"_optimize",value:function(){var e=this.queue.fnArray,t=this.lastProcessed,r=e.length,n=this.state,a=this.match;if(n||a||t+1!==r||g[e[t]]){for(var i=this.context;t<r;){if(a){if((0,a.iterateFn)(i,t)){t++;continue}if(t=(0,a.processFn)(i,t+1),a=null,n=null,t>=(r=e.length))break}(n=(n||g)[e[t]])&&!Array.isArray(n)?(i.iCurr=t,t++,!n.checkFn||(0,n.checkFn)(i)?(a=n,n=null):n=null):t++}this.state=n,this.match=a,this.lastProcessed=t}else this.lastProcessed=r}},{key:"flush",value:function(){for(;this.match;){var e=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,e),this.match=null,this.state=null,this._optimize()}}},{key:"reset",value:function(){this.state=null,this.match=null,this.lastProcessed=0}}]),r}(m),y=function(){function e(t,r){f(this,e),this._streamSink=r,this.fnArray=[],this.argsArray=[],this.optimizer=r&&"oplist"!==t?new v(this):new m(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=r?null:Promise.resolve()}return d(e,[{key:"length",get:function(){return this.argsArray.length}},{key:"ready",get:function(){return this._resolved||this._streamSink.ready}},{key:"totalLength",get:function(){return this._totalLength+this.length}},{key:"addOp",value:function(t,r){this.optimizer.push(t,r),this.weight++,this._streamSink&&(this.weight>=e.CHUNK_SIZE||this.weight>=e.CHUNK_SIZE_ABOUT&&(t===a.OPS.restore||t===a.OPS.endText))&&this.flush()}},{key:"addDependency",value:function(e){this.dependencies.has(e)||(this.dependencies.add(e),this.addOp(a.OPS.dependency,[e]))}},{key:"addDependencies",value:function(e){var t,r=i(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.addDependency(n)}}catch(e){r.e(e)}finally{r.f()}}},{key:"addOpList",value:function(t){if(t instanceof e){var r,n=i(t.dependencies);try{for(n.s();!(r=n.n()).done;){var o=r.value;this.dependencies.add(o)}}catch(e){n.e(e)}finally{n.f()}for(var s=0,c=t.length;s<c;s++)this.addOp(t.fnArray[s],t.argsArray[s])}else(0,a.warn)('addOpList - ignoring invalid "opList" parameter.')}},{key:"getIR",value:function(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}},{key:"_transfers",get:function(){for(var e=[],t=this.fnArray,r=this.argsArray,n=this.length,i=0;i<n;i++)switch(t[i]){case a.OPS.paintInlineImageXObject:case a.OPS.paintInlineImageXObjectGroup:case a.OPS.paintImageMaskXObject:var o=r[i][0];o.cached||e.push(o.data.buffer)}return e}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.optimizer.flush();var t=this.length;this._totalLength+=t,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:e,length:t},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}],[{key:"CHUNK_SIZE",get:function(){return(0,a.shadow)(this,"CHUNK_SIZE",1e3)}},{key:"CHUNK_SIZE_ABOUT",get:function(){return(0,a.shadow)(this,"CHUNK_SIZE_ABOUT",e.CHUNK_SIZE-5)}}]),e}();t.OperatorList=y},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFImage=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(113),s=r(122),c=r(127),u=r(135),l=r(138);function f(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r,n){return(e=t+e*r)<0?e=0:e>n&&(e=n),e}function p(e,t,r,n,a,i){var o,s=a*i;o=t<=8?new Uint8Array(s):t<=16?new Uint16Array(s):new Uint32Array(s);var c,u,l,f,h=r/a,d=n/i,p=0,g=new Uint16Array(a),m=r;for(c=0;c<a;c++)g[c]=Math.floor(c*h);for(c=0;c<i;c++)for(l=Math.floor(c*d)*m,u=0;u<a;u++)f=l+g[u],o[p++]=e[f];return o}var g=function(){function e(t){var r=t.xref,n=t.res,a=t.image,c=t.isInline,u=void 0!==c&&c,f=t.smask,h=void 0===f?null:f,d=t.mask,p=void 0===d?null:d,g=t.isMask,m=void 0!==g&&g,v=t.pdfFunctionFactory,y=t.localColorSpaceCache;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=a;var b=a.dict,w=b.get("Filter");if((0,o.isName)(w))switch(w.name){case"JPXDecode":var k=new l.JpxImage;k.parseImageProperties(a.stream),a.stream.reset(),a.width=k.width,a.height=k.height,a.bitsPerComponent=k.bitsPerComponent,a.numComps=k.componentsCount;break;case"JBIG2Decode":a.bitsPerComponent=1,a.numComps=1}var S=b.get("Width","W"),x=b.get("Height","H");if(Number.isInteger(a.width)&&a.width>0&&Number.isInteger(a.height)&&a.height>0&&(a.width!==S||a.height!==x)&&((0,i.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),S=a.width,x=a.height),S<1||x<1)throw new i.FormatError("Invalid image width: ".concat(S," or height: ").concat(x));this.width=S,this.height=x,this.interpolate=b.get("Interpolate","I")||!1,this.imageMask=b.get("ImageMask","IM")||!1,this.matte=b.get("Matte")||!1;var A=a.bitsPerComponent;if(!A&&!(A=b.get("BitsPerComponent","BPC"))){if(!this.imageMask)throw new i.FormatError("Bits per component missing in image: ".concat(this.imageMask));A=1}if(this.bpc=A,!this.imageMask){var O=b.getRaw("ColorSpace")||b.getRaw("CS");if(!O)switch((0,i.info)("JPX images (which do not require color spaces)"),a.numComps){case 1:O=o.Name.get("DeviceGray");break;case 3:O=o.Name.get("DeviceRGB");break;case 4:O=o.Name.get("DeviceCMYK");break;default:throw new Error("JPX images with ".concat(a.numComps," ")+"color components not supported.")}this.colorSpace=s.ColorSpace.parse({cs:O,xref:r,resources:u?n:null,pdfFunctionFactory:v,localColorSpaceCache:y}),this.numComps=this.colorSpace.numComps}if(this.decode=b.getArray("Decode","D"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,A)||m&&!s.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;var C=(1<<A)-1;this.decodeCoefficients=[],this.decodeAddends=[];for(var T=this.colorSpace&&"Indexed"===this.colorSpace.name,F=0,P=0;F<this.decode.length;F+=2,++P){var _=this.decode[F],I=this.decode[F+1];this.decodeCoefficients[P]=T?(I-_)/C:I-_,this.decodeAddends[P]=T?_:C*_}}h?this.smask=new e({xref:r,res:n,image:h,isInline:u,pdfFunctionFactory:v,localColorSpaceCache:y}):p&&((0,o.isStream)(p)?p.dict.get("ImageMask","IM")?this.mask=new e({xref:r,res:n,image:p,isInline:u,isMask:!0,pdfFunctionFactory:v,localColorSpaceCache:y}):(0,i.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=p)}var t,r,n,g,m;return t=e,r=[{key:"drawWidth",get:function(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}},{key:"drawHeight",get:function(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}},{key:"decodeBuffer",value:function(e){var t,r,n=this.bpc,a=this.numComps,i=this.decodeAddends,o=this.decodeCoefficients,s=(1<<n)-1;if(1!==n){var c=0;for(t=0,r=this.width*this.height;t<r;t++)for(var u=0;u<a;u++)e[c]=d(e[c],i[u],o[u],s),c++}else for(t=0,r=e.length;t<r;t++)e[t]=+!e[t]}},{key:"getComponents",value:function(e){var t=this.bpc;if(8===t)return e;var r,n=this.width,a=this.height,i=this.numComps,o=n*a*i,s=0;r=t<=8?new Uint8Array(o):t<=16?new Uint16Array(o):new Uint32Array(o);var c,u,l=n*i,f=(1<<t)-1,h=0;if(1===t)for(var d,p,g,m=0;m<a;m++){for(p=h+(-8&l),g=h+l;h<p;)u=e[s++],r[h]=u>>7&1,r[h+1]=u>>6&1,r[h+2]=u>>5&1,r[h+3]=u>>4&1,r[h+4]=u>>3&1,r[h+5]=u>>2&1,r[h+6]=u>>1&1,r[h+7]=1&u,h+=8;if(h<g)for(u=e[s++],d=128;h<g;)r[h++]=+!!(u&d),d>>=1}else{var v=0;for(u=0,h=0,c=o;h<c;++h){for(h%l==0&&(u=0,v=0);v<t;)u=u<<8|e[s++],v+=8;var y=v-t,b=u>>y;b<0?b=0:b>f&&(b=f),r[h]=b,u&=(1<<y)-1,v=y}}return r}},{key:"fillOpacity",value:function(t,r,n,a,o){var s,c,u,l,f,h,d=this.smask,g=this.mask;if(d)c=d.width,u=d.height,s=new Uint8ClampedArray(c*u),d.fillGrayBuffer(s),c===r&&u===n||(s=p(s,d.bpc,c,u,r,n));else if(g)if(g instanceof e){for(c=g.width,u=g.height,s=new Uint8ClampedArray(c*u),g.numComps=1,g.fillGrayBuffer(s),l=0,f=c*u;l<f;++l)s[l]=255-s[l];c===r&&u===n||(s=p(s,g.bpc,c,u,r,n))}else{if(!Array.isArray(g))throw new i.FormatError("Unknown mask format.");s=new Uint8ClampedArray(r*n);var m=this.numComps;for(l=0,f=r*n;l<f;++l){var v=0,y=l*m;for(h=0;h<m;++h){var b=o[y+h],w=2*h;if(b<g[w]||b>g[w+1]){v=255;break}}s[l]=v}}if(s)for(l=0,h=3,f=r*a;l<f;++l,h+=4)t[h]=s[l];else for(l=0,h=3,f=r*a;l<f;++l,h+=4)t[h]=255}},{key:"undoPreblend",value:function(e,t,r){var n=this.smask&&this.smask.matte;if(n)for(var a=this.colorSpace.getRgb(n,0),i=a[0],o=a[1],s=a[2],c=t*r*4,u=0;u<c;u+=4){var l=e[u+3];if(0!==l){var f=255/l;e[u]=(e[u]-i)*f+i,e[u+1]=(e[u+1]-o)*f+o,e[u+2]=(e[u+2]-s)*f+s}else e[u]=255,e[u+1]=255,e[u+2]=255}}},{key:"createImageData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.drawWidth,n=this.drawHeight,a={width:r,height:n,kind:0,data:null},o=this.numComps,s=this.width,l=this.height,f=this.bpc,h=s*o*f+7>>3;if(!t){var d;if("DeviceGray"===this.colorSpace.name&&1===f?d=i.ImageKind.GRAYSCALE_1BPP:"DeviceRGB"!==this.colorSpace.name||8!==f||this.needsDecode||(d=i.ImageKind.RGB_24BPP),d&&!this.smask&&!this.mask&&r===s&&n===l){if(a.kind=d,e=this.getImageBytes(l*h),this.image instanceof c.DecodeStream)a.data=e;else{var p=new Uint8ClampedArray(e.length);p.set(e),a.data=p}if(this.needsDecode){(0,i.assert)(d===i.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");for(var g=a.data,m=0,v=g.length;m<v;m++)g[m]^=255}return a}if(this.image instanceof u.JpegStream&&!this.smask&&!this.mask){var y=l*h;switch(this.colorSpace.name){case"DeviceGray":y*=3;case"DeviceRGB":case"DeviceCMYK":return a.kind=i.ImageKind.RGB_24BPP,a.data=this.getImageBytes(y,r,n,!0),a}}}var b,w,k=0|(e=this.getImageBytes(l*h)).length/h*n/l,S=this.getComponents(e);return t||this.smask||this.mask?(a.kind=i.ImageKind.RGBA_32BPP,a.data=new Uint8ClampedArray(r*n*4),b=1,w=!0,this.fillOpacity(a.data,r,n,k,S)):(a.kind=i.ImageKind.RGB_24BPP,a.data=new Uint8ClampedArray(r*n*3),b=0,w=!1),this.needsDecode&&this.decodeBuffer(S),this.colorSpace.fillRgb(a.data,s,l,r,n,k,f,S,b),w&&this.undoPreblend(a.data,r,k),a}},{key:"fillGrayBuffer",value:function(e){var t=this.numComps;if(1!==t)throw new i.FormatError("Reading gray scale from a color image: ".concat(t));var r,n,a=this.width,o=this.height,s=this.bpc,c=a*t*s+7>>3,u=this.getImageBytes(o*c),l=this.getComponents(u);if(1!==s){this.needsDecode&&this.decodeBuffer(l),n=a*o;var f=255/((1<<s)-1);for(r=0;r<n;++r)e[r]=f*l[r]}else if(n=a*o,this.needsDecode)for(r=0;r<n;++r)e[r]=l[r]-1&255;else for(r=0;r<n;++r)e[r]=255&-l[r]}},{key:"getImageBytes",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.image.reset(),this.image.drawWidth=t||this.width,this.image.drawHeight=r||this.height,this.image.forceRGB=!!n,this.image.getBytes(e,!0)}}],n=[{key:"buildImage",value:(g=a.default.mark((function t(r){var n,s,c,u,l,f,h,d,p,g,m,v;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.xref,s=r.res,c=r.image,u=r.isInline,l=void 0!==u&&u,f=r.pdfFunctionFactory,h=r.localColorSpaceCache,d=c,p=null,g=null,m=c.dict.get("SMask"),v=c.dict.get("Mask"),m?p=m:v&&((0,o.isStream)(v)||Array.isArray(v)?g=v:(0,i.warn)("Unsupported mask format.")),t.abrupt("return",new e({xref:n,res:s,image:d,isInline:l,smask:p,mask:g,pdfFunctionFactory:f,localColorSpaceCache:h}));case 8:case"end":return t.stop()}}),t)})),m=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=g.apply(e,t);function i(e){f(a,r,n,i,o,"next",e)}function o(e){f(a,r,n,i,o,"throw",e)}i(void 0)}))},function(e){return m.apply(this,arguments)})},{key:"createMask",value:function(e){var t,r,n=e.imgArray,a=e.width,i=e.height,o=e.imageIsFromDecodeStream,s=e.inverseDecode,c=(a+7>>3)*i,u=n.byteLength;if(!o||s&&c!==u)if(s)for((t=new Uint8ClampedArray(c)).set(n),r=u;r<c;r++)t[r]=255;else(t=new Uint8ClampedArray(u)).set(n);else t=n;if(s)for(r=0;r<u;r++)t[r]^=255;return{data:t,width:a,height:i}}}],r&&h(t.prototype,r),n&&h(t,n),e}();t.PDFImage=g},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Catalog=void 0;var n=r(113),a=r(117),i=r(4),o=r(166),s=r(122),c=r(167),u=r(159),l=r(168),f=r(170);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return e instanceof n.Dict&&(e=e.get("D")),Array.isArray(e)?e:null}var w=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfManager=t,this.xref=r,this._catDict=r.getCatalogObj(),!(0,n.isDict)(this._catDict))throw new i.FormatError("Catalog object is not a dictionary.");this.fontCache=new n.RefSetCache,this.builtInCMapCache=new Map,this.globalImageCache=new u.GlobalImageCache,this.pageKidsCountCache=new n.RefSetCache,this.pageIndexCache=new n.RefSetCache,this.nonBlendModesSet=new n.RefSet}var t,r,m;return t=e,r=[{key:"version",get:function(){var e=this._catDict.get("Version");return(0,n.isName)(e)?(0,i.shadow)(this,"version",e.name):(0,i.shadow)(this,"version",null)}},{key:"collection",get:function(){var e=null;try{var t=this._catDict.get("Collection");(0,n.isDict)(t)&&t.size>0&&(e=t)}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,i.shadow)(this,"collection",e)}},{key:"acroForm",get:function(){var e=null;try{var t=this._catDict.get("AcroForm");(0,n.isDict)(t)&&t.size>0&&(e=t)}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,i.shadow)(this,"acroForm",e)}},{key:"metadata",get:function(){var e=this._catDict.getRaw("Metadata");if(!(0,n.isRef)(e))return(0,i.shadow)(this,"metadata",null);var t=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),r=this.xref.fetch(e,t),o=null;if((0,n.isStream)(r)&&(0,n.isDict)(r.dict)){var s=r.dict.get("Type"),c=r.dict.get("Subtype");if((0,n.isName)(s,"Metadata")&&(0,n.isName)(c,"XML"))try{var u=(0,i.stringToUTF8String)(r.getString());u&&(o=new l.MetadataParser(u).serializable)}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.info)("Skipping invalid metadata.")}}return(0,i.shadow)(this,"metadata",o)}},{key:"markInfo",get:function(){var e=null;try{e=this._readMarkInfo()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read mark info.")}return(0,i.shadow)(this,"markInfo",e)}},{key:"_readMarkInfo",value:function(){var e=this._catDict.get("MarkInfo");if(!(0,n.isDict)(e))return null;var t=Object.assign(Object.create(null),{Marked:!1,UserProperties:!1,Suspects:!1});for(var r in t)if(e.has(r)){var a=e.get(r);(0,i.isBool)(a)&&(t[r]=a)}return t}},{key:"structTreeRoot",get:function(){var e=null;try{e=this._readStructTreeRoot()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable read to structTreeRoot info.")}return(0,i.shadow)(this,"structTreeRoot",e)}},{key:"_readStructTreeRoot",value:function(){var e=this._catDict.get("StructTreeRoot");if(!(0,n.isDict)(e))return null;var t=new f.StructTreeRoot(e);return t.init(),t}},{key:"toplevelPagesDict",get:function(){var e=this._catDict.get("Pages");if(!(0,n.isDict)(e))throw new i.FormatError("Invalid top-level pages dictionary.");return(0,i.shadow)(this,"toplevelPagesDict",e)}},{key:"documentOutline",get:function(){var e=null;try{e=this._readDocumentOutline()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read document outline.")}return(0,i.shadow)(this,"documentOutline",e)}},{key:"_readDocumentOutline",value:function(){var t=this._catDict.get("Outlines");if(!(0,n.isDict)(t))return null;if(t=t.getRaw("First"),!(0,n.isRef)(t))return null;var r={items:[]},a=[{obj:t,parent:r}],o=new n.RefSet;o.put(t);for(var c=this.xref,u=new Uint8ClampedArray(3);a.length>0;){var l=a.shift(),f=c.fetchIfRef(l.obj);if(null!==f){if(!f.has("Title"))throw new i.FormatError("Invalid outline item encountered.");var h={url:null,dest:null};e.parseDestDictionary({destDict:f,resultObj:h,docBaseUrl:this.pdfManager.docBaseUrl});var d=f.get("Title"),p=f.get("F")||0,g=f.getArray("C"),m=f.get("Count"),v=u;!Array.isArray(g)||3!==g.length||0===g[0]&&0===g[1]&&0===g[2]||(v=s.ColorSpace.singletons.rgb.getRgb(g,0));var y={dest:h.dest,url:h.url,unsafeUrl:h.unsafeUrl,newWindow:h.newWindow,title:(0,i.stringToPDFString)(d),color:v,count:Number.isInteger(m)?m:void 0,bold:!!(2&p),italic:!!(1&p),items:[]};l.parent.items.push(y),t=f.getRaw("First"),(0,n.isRef)(t)&&!o.has(t)&&(a.push({obj:t,parent:y}),o.put(t)),t=f.getRaw("Next"),(0,n.isRef)(t)&&!o.has(t)&&(a.push({obj:t,parent:l.parent}),o.put(t))}}return r.items.length>0?r.items:null}},{key:"permissions",get:function(){var e=null;try{e=this._readPermissions()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read permissions.")}return(0,i.shadow)(this,"permissions",e)}},{key:"_readPermissions",value:function(){var e=this.xref.trailer.get("Encrypt");if(!(0,n.isDict)(e))return null;var t=e.get("P");if(!(0,i.isNum)(t))return null;t+=Math.pow(2,32);var r=[];for(var a in i.PermissionFlag){var o=i.PermissionFlag[a];t&o&&r.push(o)}return r}},{key:"optionalContentConfig",get:function(){var e=null;try{var t=this._catDict.get("OCProperties");if(!t)return(0,i.shadow)(this,"optionalContentConfig",null);var r=t.get("D");if(!r)return(0,i.shadow)(this,"optionalContentConfig",null);var o=t.get("OCGs");if(!Array.isArray(o))return(0,i.shadow)(this,"optionalContentConfig",null);var s,c=[],u=[],l=g(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;if((0,n.isRef)(f)){u.push(f);var h=this.xref.fetchIfRef(f);c.push({id:f.toString(),name:(0,i.isString)(h.get("Name"))?(0,i.stringToPDFString)(h.get("Name")):null,intent:(0,i.isString)(h.get("Intent"))?(0,i.stringToPDFString)(h.get("Intent")):null})}}}catch(e){l.e(e)}finally{l.f()}(e=this._readOptionalContentConfig(r,u)).groups=c}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read optional content config: ".concat(e))}return(0,i.shadow)(this,"optionalContentConfig",e)}},{key:"_readOptionalContentConfig",value:function(e,t){function r(e){var r=[];if(Array.isArray(e)){var a,i=g(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;(0,n.isRef)(o)&&t.includes(o)&&r.push(o.toString())}}catch(e){i.e(e)}finally{i.f()}}return r}function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(e))return null;var a,i=[],s=g(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;if((0,n.isRef)(u)&&t.includes(u))c.put(u),i.push(u.toString());else{var l=o(u,r);l&&i.push(l)}}}catch(e){s.e(e)}finally{s.f()}if(r>0)return i;var f,h=[],d=g(t);try{for(d.s();!(f=d.n()).done;){var p=f.value;c.has(p)||h.push(p.toString())}}catch(e){d.e(e)}finally{d.f()}return h.length&&i.push({name:null,order:h}),i}function o(e,t){if(++t>u)return(0,i.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;var r=s.fetchIfRef(e);if(!Array.isArray(r))return null;var n=s.fetchIfRef(r[0]);if("string"!=typeof n)return null;var o=a(r.slice(1),t);return o&&o.length?{name:(0,i.stringToPDFString)(n),order:o}:null}var s=this.xref,c=new n.RefSet,u=10;return{name:(0,i.isString)(e.get("Name"))?(0,i.stringToPDFString)(e.get("Name")):null,creator:(0,i.isString)(e.get("Creator"))?(0,i.stringToPDFString)(e.get("Creator")):null,baseState:(0,n.isName)(e.get("BaseState"))?e.get("BaseState").name:null,on:r(e.get("ON")),off:r(e.get("OFF")),order:a(e.get("Order")),groups:null}}},{key:"numPages",get:function(){var e=this.toplevelPagesDict.get("Count");if(!Number.isInteger(e))throw new i.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,i.shadow)(this,"numPages",e)}},{key:"destinations",get:function(){var e=this._readDests(),t=Object.create(null);if(e instanceof o.NameTree){var r,a=g(e.getAll());try{for(a.s();!(r=a.n()).done;){var s=p(r.value,2),c=s[0],u=b(s[1]);u&&(t[c]=u)}}catch(e){a.e(e)}finally{a.f()}}else e instanceof n.Dict&&e.forEach((function(e,r){var n=b(r);n&&(t[e]=n)}));return(0,i.shadow)(this,"destinations",t)}},{key:"getDestination",value:function(e){var t=this._readDests();if(t instanceof o.NameTree){var r=b(t.get(e));if(r)return r;var a=this.destinations[e];if(a)return(0,i.warn)('Found "'.concat(e,'" at an incorrect position in the NameTree.')),a}else if(t instanceof n.Dict){var s=b(t.get(e));if(s)return s}return null}},{key:"_readDests",value:function(){var e=this._catDict.get("Names");return e&&e.has("Dests")?new o.NameTree(e.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}},{key:"pageLabels",get:function(){var e=null;try{e=this._readPageLabels()}catch(e){if(e instanceof a.MissingDataException)throw e;(0,i.warn)("Unable to read page labels.")}return(0,i.shadow)(this,"pageLabels",e)}},{key:"_readPageLabels",value:function(){var e=this._catDict.getRaw("PageLabels");if(!e)return null;for(var t=new Array(this.numPages),r=null,s="",c=new o.NumberTree(e,this.xref).getAll(),u="",l=1,f=0,h=this.numPages;f<h;f++){var d=c.get(f);if(void 0!==d){if(!(0,n.isDict)(d))throw new i.FormatError("PageLabel is not a dictionary.");if(d.has("Type")&&!(0,n.isName)(d.get("Type"),"PageLabel"))throw new i.FormatError("Invalid type in PageLabel dictionary.");if(d.has("S")){var p=d.get("S");if(!(0,n.isName)(p))throw new i.FormatError("Invalid style in PageLabel dictionary.");r=p.name}else r=null;if(d.has("P")){var g=d.get("P");if(!(0,i.isString)(g))throw new i.FormatError("Invalid prefix in PageLabel dictionary.");s=(0,i.stringToPDFString)(g)}else s="";if(d.has("St")){var m=d.get("St");if(!(Number.isInteger(m)&&m>=1))throw new i.FormatError("Invalid start in PageLabel dictionary.");l=m}else l=1}switch(r){case"D":u=l;break;case"R":case"r":u=(0,a.toRomanNumerals)(l,"r"===r);break;case"A":case"a":for(var v="a"===r?97:65,y=l-1,b=String.fromCharCode(v+y%26),w=[],k=0,S=y/26|0;k<=S;k++)w.push(b);u=w.join("");break;default:if(r)throw new i.FormatError('Invalid style "'.concat(r,'" in PageLabel dictionary.'));u=""}t[f]=s+u,l++}return t}},{key:"pageLayout",get:function(){var e=this._catDict.get("PageLayout"),t="";if((0,n.isName)(e))switch(e.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":t=e.name}return(0,i.shadow)(this,"pageLayout",t)}},{key:"pageMode",get:function(){var e=this._catDict.get("PageMode"),t="UseNone";if((0,n.isName)(e))switch(e.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":t=e.name}return(0,i.shadow)(this,"pageMode",t)}},{key:"viewerPreferences",get:function(){var e=this,t={HideToolbar:i.isBool,HideMenubar:i.isBool,HideWindowUI:i.isBool,FitWindow:i.isBool,CenterWindow:i.isBool,DisplayDocTitle:i.isBool,NonFullScreenPageMode:n.isName,Direction:n.isName,ViewArea:n.isName,ViewClip:n.isName,PrintArea:n.isName,PrintClip:n.isName,PrintScaling:n.isName,Duplex:n.isName,PickTrayByPDFSize:i.isBool,PrintPageRange:Array.isArray,NumCopies:Number.isInteger},r=this._catDict.get("ViewerPreferences"),a=null;if((0,n.isDict)(r))for(var o in t)if(r.has(o)){var s=r.get(o);if(t[o](s)){var c=void 0;switch(o){case"NonFullScreenPageMode":switch(s.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":c=s.name;break;default:c="UseNone"}break;case"Direction":switch(s.name){case"L2R":case"R2L":c=s.name;break;default:c="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":switch(s.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":c=s.name;break;default:c="CropBox"}break;case"PrintScaling":switch(s.name){case"None":case"AppDefault":c=s.name;break;default:c="AppDefault"}break;case"Duplex":switch(s.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":c=s.name;break;default:c="None"}break;case"PrintPageRange":if(s.length%2!=0)break;s.every((function(t,r,n){return Number.isInteger(t)&&t>0&&(0===r||t>=n[r-1])&&t<=e.numPages}))&&(c=s);break;case"NumCopies":s>0&&(c=s);break;default:if("boolean"!=typeof s)throw new i.FormatError("viewerPreferences - expected a boolean value for: ".concat(o));c=s}void 0!==c?(a||(a=Object.create(null)),a[o]=c):(0,i.info)('Bad value in ViewerPreferences for "'.concat(o,'".'))}else(0,i.info)('Bad value in ViewerPreferences for "'.concat(o,'".'))}return(0,i.shadow)(this,"viewerPreferences",a)}},{key:"openAction",get:function(){var t=this._catDict.get("OpenAction"),r=Object.create(null);if((0,n.isDict)(t)){var a=new n.Dict(this.xref);a.set("A",t);var o={url:null,dest:null,action:null};e.parseDestDictionary({destDict:a,resultObj:o}),Array.isArray(o.dest)?r.dest=o.dest:o.action&&(r.action=o.action)}else Array.isArray(t)&&(r.dest=t);return(0,i.shadow)(this,"openAction",(0,i.objectSize)(r)>0?r:null)}},{key:"attachments",get:function(){var e=this._catDict.get("Names"),t=null;if(e instanceof n.Dict&&e.has("EmbeddedFiles")){var r,a=g(new o.NameTree(e.getRaw("EmbeddedFiles"),this.xref).getAll());try{for(a.s();!(r=a.n()).done;){var s=p(r.value,2),u=s[0],l=s[1],f=new c.FileSpec(l,this.xref);t||(t=Object.create(null)),t[(0,i.stringToPDFString)(u)]=f.serializable}}catch(e){a.e(e)}finally{a.f()}}return(0,i.shadow)(this,"attachments",t)}},{key:"_collectJavaScript",value:function(){var e=this._catDict.get("Names"),t=null;function r(e,r){if(r instanceof n.Dict&&(0,n.isName)(r.get("S"),"JavaScript")){var a=r.get("JS");if((0,n.isStream)(a))a=a.getString();else if("string"!=typeof a)return;null===t&&(t=new Map),t.set(e,(0,i.stringToPDFString)(a))}}if(e instanceof n.Dict&&e.has("JavaScript")){var a,s=g(new o.NameTree(e.getRaw("JavaScript"),this.xref).getAll());try{for(s.s();!(a=s.n()).done;){var c=p(a.value,2);r(c[0],c[1])}}catch(e){s.e(e)}finally{s.f()}}var u=this._catDict.get("OpenAction");return u&&r("OpenAction",u),t}},{key:"javaScript",get:function(){var e=this._collectJavaScript();return(0,i.shadow)(this,"javaScript",e?d(e.values()):null)}},{key:"jsActions",get:function(){var e=this._collectJavaScript(),t=(0,a.collectActions)(this.xref,this._catDict,i.DocumentActionEventType);if(e){t||(t=Object.create(null));var r,n=g(e);try{for(n.s();!(r=n.n()).done;){var o=p(r.value,2),s=o[0],c=o[1];s in t?t[s].push(c):t[s]=[c]}}catch(e){n.e(e)}finally{n.f()}}return(0,i.shadow)(this,"jsActions",t)}},{key:"fontFallback",value:function(e,t){var r=[];return this.fontCache.forEach((function(e){r.push(e)})),Promise.all(r).then((function(r){var n,a=g(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.loadedName===e)return void i.fallback(t)}}catch(e){a.e(e)}finally{a.f()}}))}},{key:"cleanup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,n.clearPrimitiveCaches)(),this.globalImageCache.clear(t),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();var r=[];return this.fontCache.forEach((function(e){r.push(e)})),Promise.all(r).then((function(t){var r,n=g(t);try{for(n.s();!(r=n.n()).done;)delete r.value.dict.cacheKey}catch(e){n.e(e)}finally{n.f()}e.fontCache.clear(),e.builtInCMapCache.clear()}))}},{key:"getPageDict",value:function(e){var t,r=(0,i.createPromiseCapability)(),a=[this._catDict.getRaw("Pages")],o=new n.RefSet,s=this.xref,c=this.pageKidsCountCache,u=0;return function l(){for(var f=function(){var f=a.pop();if((0,n.isRef)(f))return(t=c.get(f))>0&&u+t<e?(u+=t,"continue"):o.has(f)?(r.reject(new i.FormatError("Pages tree contains circular reference.")),{v:void 0}):(o.put(f),s.fetchAsync(f).then((function(t){(0,n.isDict)(t,"Page")||(0,n.isDict)(t)&&!t.has("Kids")?e===u?(f&&!c.has(f)&&c.put(f,1),r.resolve([t,f])):(u++,l()):(a.push(t),l())}),r.reject),{v:void 0});if(!(0,n.isDict)(f))return r.reject(new i.FormatError("Page dictionary kid reference points to wrong type of object.")),{v:void 0};if(t=f.get("Count"),Number.isInteger(t)&&t>=0){var h=f.objId;if(h&&!c.has(h)&&c.put(h,t),u+t<=e)return u+=t,"continue"}var d=f.get("Kids");if(!Array.isArray(d))return(0,n.isName)(f.get("Type"),"Page")||!f.has("Type")&&f.has("Contents")?u===e?(r.resolve([f,null]),{v:void 0}):(u++,"continue"):(r.reject(new i.FormatError("Page dictionary kids object is not an array.")),{v:void 0});for(var p=d.length-1;p>=0;p--)a.push(d[p])};a.length;){var d=f();if("continue"!==d&&"object"===h(d))return d.v}r.reject(new Error("Page index ".concat(e," not found.")))}(),r.promise}},{key:"getPageIndex",value:function(e){var t=this,r=this.pageIndexCache.get(e);if(void 0!==r)return Promise.resolve(r);var a=this.xref,o=0;return function r(s){return function(t){var r,o=0;return a.fetchAsync(t).then((function(a){if((0,n.isRefsEqual)(t,e)&&!(0,n.isDict)(a,"Page")&&(!(0,n.isDict)(a)||a.has("Type")||!a.has("Contents")))throw new i.FormatError("The reference does not point to a /Page dictionary.");if(!a)return null;if(!(0,n.isDict)(a))throw new i.FormatError("Node must be a dictionary.");return r=a.getRaw("Parent"),a.getAsync("Parent")})).then((function(e){if(!e)return null;if(!(0,n.isDict)(e))throw new i.FormatError("Parent must be a dictionary.");return e.getAsync("Kids")})).then((function(e){if(!e)return null;for(var s=[],c=!1,u=0,l=e.length;u<l;u++){var f=e[u];if(!(0,n.isRef)(f))throw new i.FormatError("Kid must be a reference.");if((0,n.isRefsEqual)(f,t)){c=!0;break}s.push(a.fetchAsync(f).then((function(e){if(!(0,n.isDict)(e))throw new i.FormatError("Kid node must be a dictionary.");e.has("Count")?o+=e.get("Count"):o++})))}if(!c)throw new i.FormatError("Kid reference not found in parent's kids.");return Promise.all(s).then((function(){return[o,r]}))}))}(s).then((function(n){if(!n)return t.pageIndexCache.put(e,o),o;var a=p(n,2),i=a[0],s=a[1];return o+=i,r(s)}))}(e)}}],m=[{key:"parseDestDictionary",value:function(e){var t=e.destDict;if((0,n.isDict)(t)){var r=e.resultObj;if("object"===h(r)){var a,o,s=e.docBaseUrl||null,c=t.get("A");if((0,n.isDict)(c)||(t.has("Dest")?c=t.get("Dest"):(c=t.get("AA"),(0,n.isDict)(c)&&(c.has("D")?c=c.get("D"):c.has("U")&&(c=c.get("U"))))),(0,n.isDict)(c)){var u=c.get("S");if(!(0,n.isName)(u))return void(0,i.warn)("parseDestDictionary: Invalid type in Action dictionary.");var l=u.name;switch(l){case"URI":a=c.get("URI"),(0,n.isName)(a)?a="/"+a.name:(0,i.isString)(a)&&(a=function(e){return e.startsWith("www.")?"http://".concat(e):e}(a));break;case"GoTo":o=c.get("D");break;case"Launch":case"GoToR":var f=c.get("F");(0,n.isDict)(f)?a=f.get("F")||null:(0,i.isString)(f)&&(a=f);var d=c.get("D");if(d&&((0,n.isName)(d)&&(d=d.name),(0,i.isString)(a))){var p=a.split("#")[0];(0,i.isString)(d)?a=p+"#"+d:Array.isArray(d)&&(a=p+"#"+JSON.stringify(d))}var g=c.get("NewWindow");(0,i.isBool)(g)&&(r.newWindow=g);break;case"Named":var m=c.get("N");(0,n.isName)(m)&&(r.action=m.name);break;case"JavaScript":var v,y=c.get("JS");if((0,n.isStream)(y)?v=y.getString():(0,i.isString)(y)&&(v=y),v){var b=new RegExp("^\\\\s*("+["app.launchURL","window.open"].join("|").split(".").join("\\\\.")+")\\\\((?:'|\\")([^'\\"]*)(?:'|\\")(?:,\\\\s*(\\\\w+)\\\\)|\\\\))","i").exec((0,i.stringToPDFString)(v));if(b&&b[2]){a=b[2],"true"===b[3]&&"app.launchURL"===b[1]&&(r.newWindow=!0);break}}default:if("JavaScript"===l||"ResetForm"===l||"SubmitForm"===l)break;(0,i.warn)('parseDestDictionary - unsupported action: "'.concat(l,'".'))}}else t.has("Dest")&&(o=t.get("Dest"));if((0,i.isString)(a)){a=function(e){try{return(0,i.stringToUTF8String)(e)}catch(t){return e}}(a);var w=(0,i.createValidAbsoluteUrl)(a,s);w&&(r.url=w.href),r.unsafeUrl=a}o&&((0,n.isName)(o)&&(o=o.name),((0,i.isString)(o)||Array.isArray(o))&&(r.dest=o))}else(0,i.warn)("parseDestDictionary: \`resultObj\` must be an object.")}else(0,i.warn)("parseDestDictionary: \`destDict\` must be a dictionary.")}}],r&&y(t.prototype,r),m&&y(t,m),e}();t.Catalog=w},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NumberTree=t.NameTree=void 0;var a=r(4),i=r(113);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(t,r,n){f(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize NameOrNumberTree."),this.root=t,this.xref=r,this._type=n}var t,r,n;return t=e,(r=[{key:"getAll",value:function(){var e=new Map;if(!this.root)return e;var t=this.xref,r=new i.RefSet;r.put(this.root);for(var n=[this.root];n.length>0;){var o=t.fetchIfRef(n.shift());if((0,i.isDict)(o))if(o.has("Kids"))for(var s=o.get("Kids"),c=0,u=s.length;c<u;c++){var l=s[c];if(r.has(l))throw new a.FormatError('Duplicate entry in "'.concat(this._type,'" tree.'));n.push(l),r.put(l)}else{var f=o.get(this._type);if(Array.isArray(f))for(var h=0,d=f.length;h<d;h+=2)e.set(t.fetchIfRef(f[h]),t.fetchIfRef(f[h+1]))}}return e}},{key:"get",value:function(e){if(!this.root)return null;for(var t=this.xref,r=t.fetchIfRef(this.root),n=0;r.has("Kids");){if(++n>10)return(0,a.warn)('Search depth limit reached for "'.concat(this._type,'" tree.')),null;var i=r.get("Kids");if(!Array.isArray(i))return null;for(var o=0,s=i.length-1;o<=s;){var c=o+s>>1,u=t.fetchIfRef(i[c]).get("Limits");if(e<t.fetchIfRef(u[0]))s=c-1;else{if(!(e>t.fetchIfRef(u[1]))){r=t.fetchIfRef(i[c]);break}o=c+1}}if(o>s)return null}var l=r.get(this._type);if(Array.isArray(l))for(var f=0,h=l.length-2;f<=h;){var d=f+h>>1,p=d+(1&d),g=t.fetchIfRef(l[p]);if(e<g)h=p-2;else{if(!(e>g))return t.fetchIfRef(l[p+1]);f=p+2}}return null}}])&&h(t.prototype,r),n&&h(t,n),e}(),p=function(e){o(r,e);var t=c(r);function r(e,n){return f(this,r),t.call(this,e,n,"Names")}return r}(d);t.NameTree=p;var g=function(e){o(r,e);var t=c(r);function r(e,n){return f(this,r),t.call(this,e,n,"Nums")}return r}(d);t.NumberTree=g},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSpec=void 0;var n=r(113),a=r(4);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return e.has("UF")?e.get("UF"):e.has("F")?e.get("F"):e.has("Unix")?e.get("Unix"):e.has("Mac")?e.get("Mac"):e.has("DOS")?e.get("DOS"):null}var s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(0,n.isDict)(t)&&(this.xref=r,this.root=t,t.has("FS")&&(this.fs=t.get("FS")),this.description=t.has("Desc")?(0,a.stringToPDFString)(t.get("Desc")):"",t.has("RF")&&(0,a.warn)("Related file specifications are not supported"),this.contentAvailable=!0,t.has("EF")||(this.contentAvailable=!1,(0,a.warn)("Non-embedded file specifications are not supported")))}var t,r,s;return t=e,(r=[{key:"filename",get:function(){if(!this._filename&&this.root){var e=o(this.root)||"unnamed";this._filename=(0,a.stringToPDFString)(e).replace(/\\\\\\\\/g,"\\\\").replace(/\\\\\\//g,"/").replace(/\\\\/g,"/")}return this._filename}},{key:"content",get:function(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=o(this.root.get("EF")));var e=null;if(this.contentRef){var t=this.xref.fetchIfRef(this.contentRef);t&&(0,n.isStream)(t)?e=t.getBytes():(0,a.warn)("Embedded file specification points to non-existing/invalid content")}else(0,a.warn)("Embedded file specification does not have a content");return e}},{key:"serializable",get:function(){return{filename:this.filename,content:this.content}}}])&&i(t.prototype,r),s&&i(t,s),e}();t.FileSpec=s},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataParser=void 0;var n=r(169);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this._repair(t);var r=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(t);this._metadataMap=new Map,this._data=t,r&&this._parse(r)}var t,r,o;return t=e,(r=[{key:"_repair",value:function(e){return e.replace(/^[^<]+/,"").replace(/>\\\\376\\\\377([^<]+)/g,(function(e,t){for(var r=t.replace(/\\\\([0-3])([0-7])([0-7])/g,(function(e,t,r,n){return String.fromCharCode(64*t+8*r+1*n)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))})),n=[],a=0,i=r.length;a<i;a+=2){var o=256*r.charCodeAt(a)+r.charCodeAt(a+1);o>=32&&o<127&&60!==o&&62!==o&&38!==o?n.push(String.fromCharCode(o)):n.push("&#x"+(65536+o).toString(16).substring(1)+";")}return">"+n.join("")}))}},{key:"_getSequence",value:function(e){var t=e.nodeName;return"rdf:bag"!==t&&"rdf:seq"!==t&&"rdf:alt"!==t?null:e.childNodes.filter((function(e){return"rdf:li"===e.nodeName}))}},{key:"_parseArray",value:function(e){if(e.hasChildNodes()){var t=i(e.childNodes,1)[0],r=this._getSequence(t)||[];this._metadataMap.set(e.nodeName,r.map((function(e){return e.textContent.trim()})))}}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName)for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName;)t=t.nextSibling;if(t&&"rdf:rdf"===t.nodeName&&t.hasChildNodes()){var r,n=a(t.childNodes);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("rdf:description"===i.nodeName){var o,s=a(i.childNodes);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=c.nodeName;switch(u){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(c);continue}this._metadataMap.set(u,c.textContent.trim())}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){n.e(e)}finally{n.f()}}}},{key:"serializable",get:function(){return{parsedData:this._metadataMap,rawData:this._data}}}])&&c(t.prototype,r),o&&c(t,o),e}();t.MetadataParser=u},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XMLParserErrorCode=t.XMLParserBase=t.SimpleXMLParser=t.SimpleDOMNode=void 0;var a=r(117);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var m={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function v(e,t){var r=e[t];return" "===r||"\\n"===r||"\\r"===r||"\\t"===r}t.XMLParserErrorCode=m;var y=function(){function e(){d(this,e)}return g(e,[{key:"_resolveEntities",value:function(e){var t=this;return e.replace(/&([^;]+);/g,(function(e,r){if("#x"===r.substring(0,2))return String.fromCodePoint(parseInt(r.substring(2),16));if("#"===r.substring(0,1))return String.fromCodePoint(parseInt(r.substring(1),10));switch(r){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return t.onResolveEntity(r)}))}},{key:"_parseContent",value:function(e,t){var r=[],n=t;function a(){for(;n<e.length&&v(e,n);)++n}for(;n<e.length&&!v(e,n)&&">"!==e[n]&&"/"!==e[n];)++n;var i=e.substring(t,n);for(a();n<e.length&&">"!==e[n]&&"/"!==e[n]&&"?"!==e[n];){a();for(var o,s="";n<e.length&&!v(e,n)&&"="!==e[n];)s+=e[n],++n;if(a(),"="!==e[n])return null;++n,a();var c=e[n];if('"'!==c&&"'"!==c)return null;var u=e.indexOf(c,++n);if(u<0)return null;o=e.substring(n,u),r.push({name:s,value:this._resolveEntities(o)}),n=u+1,a()}return{name:i,attributes:r,parsed:n-t}}},{key:"_parseProcessingInstruction",value:function(e,t){for(var r=t;r<e.length&&!v(e,r)&&">"!==e[r]&&"?"!==e[r]&&"/"!==e[r];)++r;var n=e.substring(t,r);!function(){for(;r<e.length&&v(e,r);)++r}();for(var a=r;r<e.length&&("?"!==e[r]||">"!==e[r+1]);)++r;return{name:n,value:e.substring(a,r),parsed:r-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var r=t;if("<"===e[t]){var n=void 0;switch(e[++r]){case"/":if(++r,(n=e.indexOf(">",r))<0)return void this.onError(m.UnterminatedElement);this.onEndElement(e.substring(r,n)),r=n+1;break;case"?":++r;var a=this._parseProcessingInstruction(e,r);if("?>"!==e.substring(r+a.parsed,r+a.parsed+2))return void this.onError(m.UnterminatedXmlDeclaration);this.onPi(a.name,a.value),r+=a.parsed+2;break;case"!":if("--"===e.substring(r+1,r+3)){if((n=e.indexOf("--\\x3e",r+3))<0)return void this.onError(m.UnterminatedComment);this.onComment(e.substring(r+3,n)),r=n+3}else if("[CDATA["===e.substring(r+1,r+8)){if((n=e.indexOf("]]>",r+8))<0)return void this.onError(m.UnterminatedCdat);this.onCdata(e.substring(r+8,n)),r=n+3}else{if("DOCTYPE"!==e.substring(r+1,r+8))return void this.onError(m.MalformedElement);var i=e.indexOf("[",r+8),o=!1;if((n=e.indexOf(">",r+8))<0)return void this.onError(m.UnterminatedDoctypeDeclaration);if(i>0&&n>i){if((n=e.indexOf("]>",r+8))<0)return void this.onError(m.UnterminatedDoctypeDeclaration);o=!0}var s=e.substring(r+8,n+(o?1:0));this.onDoctype(s),r=n+(o?2:1)}break;default:var c=this._parseContent(e,r);if(null===c)return void this.onError(m.MalformedElement);var u=!1;if("/>"===e.substring(r+c.parsed,r+c.parsed+2))u=!0;else if(">"!==e.substring(r+c.parsed,r+c.parsed+1))return void this.onError(m.UnterminatedElement);this.onBeginElement(c.name,c.attributes,u),r+=c.parsed+(u?2:1)}}else{for(;r<e.length&&"<"!==e[r];)r++;var l=e.substring(t,r);this.onText(this._resolveEntities(l))}t=r}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,r){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}();t.XMLParserBase=y;var b=function(){function e(t,r){d(this,e),this.nodeName=t,this.nodeValue=r,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return g(e,[{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);if(-1!==t)return e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}},{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"searchNode",value:function(e,t){if(t>=e.length)return this;for(var r=e[t],n=[],a=this;;){if(r.name===a.nodeName){if(0!==r.pos){if(0===n.length)return null;var i,o=0,s=u(l(n.pop(),1)[0].childNodes);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(r.name===c.nodeName){if(o===r.pos)return c.searchNode(e,t+1);o++}}}catch(e){s.e(e)}finally{s.f()}return a.searchNode(e,t+1)}var f=a.searchNode(e,t+1);if(null!==f)return f}if(a.childNodes&&0!==a.childNodes.length)n.push([a,0]),a=a.childNodes[0];else{if(0===n.length)return null;for(;0!==n.length;){var h=l(n.pop(),2),d=h[0],p=h[1]+1;if(p<d.childNodes.length){n.push([d,p]),a=d.childNodes[p];break}}if(0===n.length)return null}}}},{key:"dump",value:function(e){if("#text"!==this.nodeName){if(e.push("<".concat(this.nodeName)),this.attributes){var t,r=u(this.attributes);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(" ".concat(n.name,'="').concat((0,a.encodeToXmlString)(n.value),'"'))}}catch(e){r.e(e)}finally{r.f()}}if(this.hasChildNodes()){e.push(">");var i,o=u(this.childNodes);try{for(o.s();!(i=o.n()).done;)i.value.dump(e)}catch(e){o.e(e)}finally{o.f()}e.push("</".concat(this.nodeName,">"))}else this.nodeValue?e.push(">".concat((0,a.encodeToXmlString)(this.nodeValue),"</").concat(this.nodeName,">")):e.push("/>")}else e.push((0,a.encodeToXmlString)(this.nodeValue))}}]),e}();t.SimpleDOMNode=b;var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,e);var t=o(r);function r(e){var n,a=e.hasAttributes,i=void 0!==a&&a,o=e.lowerCaseName,s=void 0!==o&&o;return d(this,r),(n=t.call(this))._currentFragment=null,n._stack=null,n._errorCode=m.NoError,n._hasAttributes=i,n._lowerCaseName=s,n}return g(r,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=m.NoError,this.parseXml(e),this._errorCode===m.NoError){var t=l(this._currentFragment,1)[0];if(t)return{documentElement:t}}}},{key:"onText",value:function(e){if(!function(e){for(var t=0,r=e.length;t<r;t++)if(!v(e,t))return!1;return!0}(e)){var t=new b("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new b("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,r){this._lowerCaseName&&(e=e.toLowerCase());var n=new b(e);n.childNodes=[],this._hasAttributes&&(n.attributes=t),this._currentFragment.push(n),r||(this._stack.push(this._currentFragment),this._currentFragment=n.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop()||[];var t=this._currentFragment[this._currentFragment.length-1];if(t)for(var r=0,n=t.childNodes.length;r<n;r++)t.childNodes[r].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),r}(y);t.SimpleXMLParser=w},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StructTreeRoot=t.StructTreePage=void 0;var n=r(113),a=r(4),i=r(166);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var f="PAGE_CONTENT",h="STREAM_CONTENT",d="OBJECT",p="ELEMENT",g=function(){function e(t){c(this,e),this.dict=t,this.roleMap=new Map}return l(e,[{key:"init",value:function(){this.readRoleMap()}},{key:"readRoleMap",value:function(){var e=this,t=this.dict.get("RoleMap");(0,n.isDict)(t)&&t.forEach((function(t,r){(0,n.isName)(r)&&e.roleMap.set(t,r.name)}))}}]),e}();t.StructTreeRoot=g;var m=function(){function e(t,r){c(this,e),this.tree=t,this.dict=r,this.kids=[],this.parseKids()}return l(e,[{key:"role",get:function(){var e=this.dict.get("S"),t=(0,n.isName)(e)?e.name:"",r=this.tree.root;return r.roleMap.has(t)?r.roleMap.get(t):t}},{key:"parseKids",value:function(){var e=null,t=this.dict.getRaw("Pg");(0,n.isRef)(t)&&(e=t.toString());var r=this.dict.get("K");if(Array.isArray(r)){var a,i=o(r);try{for(i.s();!(a=i.n()).done;){var s=a.value,c=this.parseKid(e,s);c&&this.kids.push(c)}}catch(e){i.e(e)}finally{i.f()}}else{var u=this.parseKid(e,r);u&&this.kids.push(u)}}},{key:"parseKid",value:function(e,t){if(Number.isInteger(t))return this.tree.pageDict.objId!==e?null:new v({type:f,mcid:t,pageObjId:e});var r=null;if((0,n.isRef)(t)?r=this.dict.xref.fetch(t):(0,n.isDict)(t)&&(r=t),!r)return null;var a=r.getRaw("Pg");(0,n.isRef)(a)&&(e=a.toString());var i=(0,n.isName)(r.get("Type"))?r.get("Type").name:null;return"MCR"===i?this.tree.pageDict.objId!==e?null:new v({type:h,refObjId:(0,n.isRef)(r.getRaw("Stm"))?r.getRaw("Stm").toString():null,pageObjId:e,mcid:r.get("MCID")}):"OBJR"===i?this.tree.pageDict.objId!==e?null:new v({type:d,refObjId:(0,n.isRef)(r.getRaw("Obj"))?r.getRaw("Obj").toString():null,pageObjId:e}):new v({type:p,dict:r})}}]),e}(),v=function e(t){var r=t.type,n=t.dict,a=void 0===n?null:n,i=t.mcid,o=void 0===i?null:i,s=t.pageObjId,u=void 0===s?null:s,l=t.refObjId,f=void 0===l?null:l;c(this,e),this.type=r,this.dict=a,this.mcid=o,this.pageObjId=u,this.refObjId=f,this.parentNode=null},y=function(){function e(t,r){c(this,e),this.root=t,this.rootDict=t?t.dict:null,this.pageDict=r,this.nodes=[]}return l(e,[{key:"parse",value:function(){if(this.root&&this.rootDict){var e=this.rootDict.get("ParentTree");if(e){var t=this.pageDict.get("StructParents");if(Number.isInteger(t)){var r=new i.NumberTree(e,this.rootDict.xref).get(t);if(Array.isArray(r)){var a,s=new Map,c=o(r);try{for(c.s();!(a=c.n()).done;){var u=a.value;(0,n.isRef)(u)&&this.addNode(this.rootDict.xref.fetch(u),s)}}catch(e){c.e(e)}finally{c.f()}}}}}}},{key:"addNode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r>40)return(0,a.warn)("StructTree MAX_DEPTH reached."),null;if(t.has(e))return t.get(e);var i=new m(this,e);t.set(e,i);var s=e.get("P");if(!s||(0,n.isName)(s.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(e,i)||t.delete(e),i;var c=this.addNode(s,t,r+1);if(!c)return i;var u,l=!1,f=o(c.kids);try{for(f.s();!(u=f.n()).done;){var h=u.value;h.type===p&&h.dict===e&&(h.parentNode=i,l=!0)}}catch(e){f.e(e)}finally{f.f()}return l||t.delete(e),i}},{key:"addTopLevelNode",value:function(e,t){var r=this.rootDict.get("K");if(!r)return!1;if((0,n.isDict)(r))return r.objId===e.objId&&(this.nodes[0]=t,!0);if(!Array.isArray(r))return!0;for(var a=!1,i=0;i<r.length;i++){var o=r[i];o&&o.toString()===e.objId&&(this.nodes[i]=t,a=!0)}return a}},{key:"serializable",get:function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>40)(0,a.warn)("StructTree too deep to be fully serialized.");else{var i=Object.create(null);i.role=t.role,i.children=[],r.children.push(i);var s=t.dict.get("Alt");(0,a.isString)(s)&&(i.alt=(0,a.stringToPDFString)(s));var c,u=o(t.kids);try{for(u.s();!(c=u.n()).done;){var l=c.value,g=l.type===p?l.parentNode:null;g?e(g,i,n+1):l.type===f||l.type===h?i.children.push({type:"content",id:"page".concat(l.pageObjId,"_mcid").concat(l.mcid)}):l.type===d&&i.children.push({type:"object",id:l.refObjId})}}catch(e){u.e(e)}finally{u.f()}}}var t=Object.create(null);t.children=[],t.role="Root";var r,n=o(this.nodes);try{for(n.s();!(r=n.n()).done;){var i=r.value;i&&e(i,t)}}catch(e){n.e(e)}finally{n.f()}return t}}]),e}();t.StructTreePage=y},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectLoader=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(113),o=r(117),s=r(4);function c(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){c(i,n,a,o,s,"next",e)}function s(e){c(i,n,a,o,s,"throw",e)}o(void 0)}))}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(e instanceof i.Dict)e=e.getRawValues();else if((0,i.isStream)(e))e=e.dict.getRawValues();else if(!Array.isArray(e))return;var r,n,a=f(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;((n=o)instanceof i.Ref||n instanceof i.Dict||Array.isArray(n)||(0,i.isStream)(n))&&t.push(o)}}catch(e){a.e(e)}finally{a.f()}}var p=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dict=t,this.keys=r,this.xref=n,this.refSet=null}var t,r,n,c,h;return t=e,r=[{key:"load",value:(h=u(a.default.mark((function e(){var t,r,n,o,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xref.stream.isDataLoaded){e.next=2;break}return e.abrupt("return",void 0);case 2:for(t=this.keys,r=this.dict,this.refSet=new i.RefSet,n=[],o=0,s=t.length;o<s;o++)void 0!==(c=r.getRaw(t[o]))&&n.push(c);return e.abrupt("return",this._walk(n));case 7:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"_walk",value:(c=u(a.default.mark((function e(t){var r,n,c,u,l,h,p,g,m,v,y,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=[];case 2:if(!t.length){e.next=48;break}if(!((c=t.pop())instanceof i.Ref)){e.next=21;break}if(!this.refSet.has(c)){e.next=7;break}return e.abrupt("continue",2);case 7:e.prev=7,this.refSet.put(c),c=this.xref.fetch(c),e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(7),e.t0 instanceof o.MissingDataException){e.next=19;break}return(0,s.warn)('ObjectLoader._walk - requesting all data: "'.concat(e.t0,'".')),this.refSet=null,u=this.xref.stream.manager,e.abrupt("return",u.requestAllChunks());case 19:r.push(c),n.push({begin:e.t0.begin,end:e.t0.end});case 21:if(!(0,i.isStream)(c)){e.next=45;break}if(!(l=c.getBaseStreams())){e.next=45;break}h=!1,p=f(l),e.prev=26,p.s();case 28:if((g=p.n()).done){e.next=36;break}if(!(m=g.value).isDataLoaded){e.next=32;break}return e.abrupt("continue",34);case 32:h=!0,n.push({begin:m.start,end:m.end});case 34:e.next=28;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(26),p.e(e.t1);case 41:return e.prev=41,p.f(),e.finish(41);case 44:h&&r.push(c);case 45:d(c,t),e.next=2;break;case 48:if(!n.length){e.next=54;break}return e.next=51,this.xref.stream.manager.requestRanges(n);case 51:v=f(r);try{for(v.s();!(y=v.n()).done;)(b=y.value)instanceof i.Ref&&this.refSet.remove(b)}catch(e){v.e(e)}finally{v.f()}return e.abrupt("return",this._walk(r));case 54:return this.refSet=null,e.abrupt("return",void 0);case 56:case"end":return e.stop()}}),e,this,[[7,12],[26,38,41,44]])}))),function(e){return c.apply(this,arguments)})}],r&&l(t.prototype,r),n&&l(t,n),e}();t.ObjectLoader=p},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.incrementalUpdate=function(e){var t=e.originalData,r=e.xrefInfo,l=e.newRefs,h=e.xref,g=void 0===h?null:h,m=e.datasetsRef;!function(e,t,r){if(null!==e&&null!==r){var a,s=r.fetchIfRef(e).getString(),u=new o.SimpleXMLParser({hasAttributes:!0}).parseFromString(s),l=c(t);try{for(l.s();!(a=l.n()).done;){var f=a.value.xfa;if(f){var h=f.path,d=f.value;if(h){var p=u.documentElement.searchNode((0,i.parseXFAPath)(h),0);p?p.childNodes=[new o.SimpleDOMNode("#text",d)]:(0,n.warn)("Node not found for path: ".concat(h))}}}}catch(e){l.e(e)}finally{l.f()}var g=[];u.documentElement.dump(g);var m=g.join(""),v=r.encrypt;v&&(m=v.createCipherTransform(e.num,e.gen).encryptString(m));var y="".concat(e.num," ").concat(e.gen," obj\\n")+"<< /Type /EmbeddedFile /Length ".concat(m.length,">>\\nstream\\n")+m+"\\nendstream\\nendobj\\n";t.push({ref:e,data:y})}}(void 0===m?null:m,l,g);var v,y,b=new a.Dict(null),w=r.newRef,k=t[t.length-1];10===k||13===k?(v=[],y=t.length):(v=["\\n"],y=t.length+1),b.set("Size",w.num+1),b.set("Prev",r.startXRef),b.set("Type",a.Name.get("XRef")),null!==r.rootRef&&b.set("Root",r.rootRef),null!==r.infoRef&&b.set("Info",r.infoRef),null!==r.encryptRef&&b.set("Encrypt",r.encryptRef),l.push({ref:w,data:""}),l=l.sort((function(e,t){return e.ref.num-t.ref.num}));var S,x=[[0,1,65535]],A=[0,1],O=0,C=c(l);try{for(C.s();!(S=C.n()).done;){var T=S.value,F=T.ref,P=T.data;O=Math.max(O,y),x.push([1,y,Math.min(F.gen,65535)]),y+=P.length,A.push(F.num,1),v.push(P)}}catch(e){C.e(e)}finally{C.f()}if(b.set("Index",A),Array.isArray(r.fileIds)&&r.fileIds.length>0){var _=function(e,t){for(var r=Math.floor(Date.now()/1e3),a=t.filename||"",i=[r.toString(),a,e.toString()],o=i.reduce((function(e,t){return e+t.length}),0),c=0,u=Object.values(t.info);c<u.length;c++){var l=u[c];i.push(l),o+=l.length}for(var f=new Uint8Array(o),h=0,d=0,g=i;d<g.length;d++){var m=g[d];p(m,h,f),h+=m.length}return(0,n.bytesToString)((0,s.calculateMD5)(f))}(y,r);b.set("ID",[r.fileIds[0],_])}var I=[1,Math.ceil(Math.log2(O)/8),2],E=(I[0]+I[1]+I[2])*x.length;b.set("W",I),b.set("Length",E),v.push("".concat(w.num," ").concat(w.gen," obj\\n")),f(b,v,null),v.push(" stream\\n");var j=v.reduce((function(e,t){return e+t.length}),0),R="\\nendstream\\nendobj\\nstartxref\\n".concat(y,"\\n%%EOF\\n"),M=new Uint8Array(t.length+j+E+R.length);M.set(t);var N,B,D,L=t.length,U=c(v);try{for(U.s();!(N=U.n()).done;){var q=N.value;p(q,L,M),L+=q.length}}catch(e){U.e(e)}finally{U.f()}for(var X=0,H=x;X<H.length;X++){var $=(B=H[X],D=3,function(e){if(Array.isArray(e))return e}(B)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(B,D)||u(B,D)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),z=$[0],G=$[1],W=$[2];L=d(z,I[0],L,M),L=d(G,I[1],L,M),L=d(W,I[2],L,M)}return p(R,L,M),M},t.writeDict=f;var n=r(4),a=r(113),i=r(117),o=r(169),s=r(173);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r){t.push("<<");var n,a=c(e.getKeys());try{for(a.s();!(n=a.n()).done;){var o=n.value;t.push(" /".concat((0,i.escapePDFName)(o)," ")),h(e.getRaw(o),t,r)}}catch(e){a.e(e)}finally{a.f()}t.push(">>")}function h(e,t,r){(0,a.isName)(e)?t.push("/".concat((0,i.escapePDFName)(e.name))):(0,a.isRef)(e)?t.push("".concat(e.num," ").concat(e.gen," R")):Array.isArray(e)?function(e,t,r){t.push("[");var n,a=!0,i=c(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;a?a=!1:t.push(" "),h(o,t,r)}}catch(e){i.e(e)}finally{i.f()}t.push("]")}(e,t,r):"string"==typeof e?(null!==r&&(e=r.encryptString(e)),t.push("(".concat((0,n.escapeString)(e),")"))):"number"==typeof e?t.push(function(e){if(Number.isInteger(e))return e.toString();var t=Math.round(100*e);return t%100==0?(t/100).toString():t%10==0?e.toFixed(1):e.toFixed(2)}(e)):(0,a.isDict)(e)?f(e,t,r):(0,a.isStream)(e)&&function(e,t,r){f(e.dict,t,r),t.push(" stream\\n");var n=e.getString();null!==r&&(n=r.encryptString(n)),t.push(n,"\\nendstream\\n")}(e,t,r)}function d(e,t,r,n){for(var a=t+r-1;a>r-1;a--)n[a]=255&e,e>>=8;return r+t}function p(e,t,r){for(var n=0,a=e.length;n<a;n++)r[t+n]=255&e.charCodeAt(n)}},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateSHA384=S,t.PDF20=t.PDF17=t.CipherTransformFactory=t.calculateSHA512=t.calculateSHA256=t.calculateMD5=t.ARCFourCipher=t.AES256Cipher=t.AES128Cipher=void 0;var a=r(4),i=r(113),o=r(174);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}var g=function(){function e(t){h(this,e),this.a=0,this.b=0;for(var r=new Uint8Array(256),n=t.length,a=0;a<256;++a)r[a]=a;for(var i=0,o=0;i<256;++i){var s=r[i];o=o+s+t[i%n]&255,r[i]=r[o],r[o]=s}this.s=r}return p(e,[{key:"encryptBlock",value:function(e){for(var t=this.a,r=this.b,n=this.s,a=e.length,i=new Uint8Array(a),o=0;o<a;++o){var s=n[t=t+1&255],c=n[r=r+s&255];n[t]=c,n[r]=s,i[o]=e[o]^n[s+c&255]}return this.a=t,this.b=r,i}},{key:"decryptBlock",value:function(e){return this.encryptBlock(e)}},{key:"encrypt",value:function(e){return this.encryptBlock(e)}}]),e}();t.ARCFourCipher=g;var m,v,y=(m=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),v=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]),function(e,t,r){var n,a,i=1732584193,o=-271733879,s=-1732584194,c=271733878,u=r+72&-64,l=new Uint8Array(u);for(n=0;n<r;++n)l[n]=e[t++];l[n++]=128;for(var f=u-8;n<f;)l[n++]=0;l[n++]=r<<3&255,l[n++]=r>>5&255,l[n++]=r>>13&255,l[n++]=r>>21&255,l[n++]=r>>>29&255,l[n++]=0,l[n++]=0,l[n++]=0;var h=new Int32Array(16);for(n=0;n<u;){for(a=0;a<16;++a,n+=4)h[a]=l[n]|l[n+1]<<8|l[n+2]<<16|l[n+3]<<24;var d=i,p=o,g=s,y=c,b=void 0,w=void 0;for(a=0;a<64;++a){a<16?(b=p&g|~p&y,w=a):a<32?(b=y&p|~y&g,w=5*a+1&15):a<48?(b=p^g^y,w=3*a+5&15):(b=g^(p|~y),w=7*a&15);var k=y,S=d+b+v[a]+h[w]|0,x=m[a];y=g,g=p,p=p+(S<<x|S>>>32-x)|0,d=k}i=i+d|0,o=o+p|0,s=s+g|0,c=c+y|0}return new Uint8Array([255&i,i>>8&255,i>>16&255,i>>>24&255,255&o,o>>8&255,o>>16&255,o>>>24&255,255&s,s>>8&255,s>>16&255,s>>>24&255,255&c,c>>8&255,c>>16&255,c>>>24&255])});t.calculateMD5=y;var b=function(){function e(t,r){h(this,e),this.high=0|t,this.low=0|r}return p(e,[{key:"and",value:function(e){this.high&=e.high,this.low&=e.low}},{key:"xor",value:function(e){this.high^=e.high,this.low^=e.low}},{key:"or",value:function(e){this.high|=e.high,this.low|=e.low}},{key:"shiftRight",value:function(e){e>=32?(this.low=this.high>>>e-32|0,this.high=0):(this.low=this.low>>>e|this.high<<32-e,this.high=this.high>>>e|0)}},{key:"shiftLeft",value:function(e){e>=32?(this.high=this.low<<e-32,this.low=0):(this.high=this.high<<e|this.low>>>32-e,this.low=this.low<<e)}},{key:"rotateRight",value:function(e){var t,r;32&e?(r=this.low,t=this.high):(t=this.low,r=this.high),e&=31,this.low=t>>>e|r<<32-e,this.high=r>>>e|t<<32-e}},{key:"not",value:function(){this.high=~this.high,this.low=~this.low}},{key:"add",value:function(e){var t=(this.low>>>0)+(e.low>>>0),r=(this.high>>>0)+(e.high>>>0);t>4294967295&&(r+=1),this.low=0|t,this.high=0|r}},{key:"copyTo",value:function(e,t){e[t]=this.high>>>24&255,e[t+1]=this.high>>16&255,e[t+2]=this.high>>8&255,e[t+3]=255&this.high,e[t+4]=this.low>>>24&255,e[t+5]=this.low>>16&255,e[t+6]=this.low>>8&255,e[t+7]=255&this.low}},{key:"assign",value:function(e){this.high=e.high,this.low=e.low}}]),e}(),w=function(){function e(e,t){return e>>>t|e<<32-t}function t(e,t,r){return e&t^~e&r}function r(e,t,r){return e&t^e&r^t&r}function n(t){return e(t,2)^e(t,13)^e(t,22)}function a(t){return e(t,6)^e(t,11)^e(t,25)}function i(t){return e(t,7)^e(t,18)^t>>>3}var o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(s,c,u){var l,f,h=1779033703,d=3144134277,p=1013904242,g=2773480762,m=1359893119,v=2600822924,y=528734635,b=1541459225,w=64*Math.ceil((u+9)/64),k=new Uint8Array(w);for(l=0;l<u;++l)k[l]=s[c++];k[l++]=128;for(var S=w-8;l<S;)k[l++]=0;k[l++]=0,k[l++]=0,k[l++]=0,k[l++]=u>>>29&255,k[l++]=u>>21&255,k[l++]=u>>13&255,k[l++]=u>>5&255,k[l++]=u<<3&255;var x,A=new Uint32Array(64);for(l=0;l<w;){for(f=0;f<16;++f)A[f]=k[l]<<24|k[l+1]<<16|k[l+2]<<8|k[l+3],l+=4;for(f=16;f<64;++f)A[f]=0|(e(x=A[f-2],17)^e(x,19)^x>>>10)+A[f-7]+i(A[f-15])+A[f-16];var O=h,C=d,T=p,F=g,P=m,_=v,I=y,E=b,j=void 0,R=void 0;for(f=0;f<64;++f)j=E+a(P)+t(P,_,I)+o[f]+A[f],R=n(O)+r(O,C,T),E=I,I=_,_=P,P=F+j|0,F=T,T=C,C=O,O=j+R|0;h=h+O|0,d=d+C|0,p=p+T|0,g=g+F|0,m=m+P|0,v=v+_|0,y=y+I|0,b=b+E|0}return new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,d>>24&255,d>>16&255,d>>8&255,255&d,p>>24&255,p>>16&255,p>>8&255,255&p,g>>24&255,g>>16&255,g>>8&255,255&g,m>>24&255,m>>16&255,m>>8&255,255&m,v>>24&255,v>>16&255,v>>8&255,255&v,y>>24&255,y>>16&255,y>>8&255,255&y,b>>24&255,b>>16&255,b>>8&255,255&b])}}();t.calculateSHA256=w;var k=function(){function e(e,t,r,n,a){e.assign(t),e.and(r),a.assign(t),a.not(),a.and(n),e.xor(a)}function t(e,t,r,n,a){e.assign(t),e.and(r),a.assign(t),a.and(n),e.xor(a),a.assign(r),a.and(n),e.xor(a)}function r(e,t,r){e.assign(t),e.rotateRight(28),r.assign(t),r.rotateRight(34),e.xor(r),r.assign(t),r.rotateRight(39),e.xor(r)}function n(e,t,r){e.assign(t),e.rotateRight(14),r.assign(t),r.rotateRight(18),e.xor(r),r.assign(t),r.rotateRight(41),e.xor(r)}function a(e,t,r){e.assign(t),e.rotateRight(1),r.assign(t),r.rotateRight(8),e.xor(r),r.assign(t),r.shiftRight(7),e.xor(r)}function i(e,t,r){e.assign(t),e.rotateRight(19),r.assign(t),r.rotateRight(61),e.xor(r),r.assign(t),r.shiftRight(6),e.xor(r)}var o=[new b(1116352408,3609767458),new b(1899447441,602891725),new b(3049323471,3964484399),new b(3921009573,2173295548),new b(961987163,4081628472),new b(1508970993,3053834265),new b(2453635748,2937671579),new b(2870763221,3664609560),new b(3624381080,2734883394),new b(310598401,1164996542),new b(607225278,1323610764),new b(1426881987,3590304994),new b(1925078388,4068182383),new b(2162078206,991336113),new b(2614888103,633803317),new b(3248222580,3479774868),new b(3835390401,2666613458),new b(4022224774,944711139),new b(264347078,2341262773),new b(604807628,2007800933),new b(770255983,1495990901),new b(1249150122,1856431235),new b(1555081692,3175218132),new b(1996064986,2198950837),new b(2554220882,3999719339),new b(2821834349,766784016),new b(2952996808,2566594879),new b(3210313671,3203337956),new b(3336571891,1034457026),new b(3584528711,2466948901),new b(113926993,3758326383),new b(338241895,168717936),new b(666307205,1188179964),new b(773529912,1546045734),new b(1294757372,1522805485),new b(1396182291,2643833823),new b(1695183700,2343527390),new b(1986661051,1014477480),new b(2177026350,1206759142),new b(2456956037,344077627),new b(2730485921,1290863460),new b(2820302411,3158454273),new b(3259730800,3505952657),new b(3345764771,106217008),new b(3516065817,3606008344),new b(3600352804,1432725776),new b(4094571909,1467031594),new b(275423344,851169720),new b(430227734,3100823752),new b(506948616,1363258195),new b(659060556,3750685593),new b(883997877,3785050280),new b(958139571,3318307427),new b(1322822218,3812723403),new b(1537002063,2003034995),new b(1747873779,3602036899),new b(1955562222,1575990012),new b(2024104815,1125592928),new b(2227730452,2716904306),new b(2361852424,442776044),new b(2428436474,593698344),new b(2756734187,3733110249),new b(3204031479,2999351573),new b(3329325298,3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];return function(s,c,u){var l,f,h,d,p,g,m,v,y=arguments.length>3&&void 0!==arguments[3]&&arguments[3];y?(l=new b(3418070365,3238371032),f=new b(1654270250,914150663),h=new b(2438529370,812702999),d=new b(355462360,4144912697),p=new b(1731405415,4290775857),g=new b(2394180231,1750603025),m=new b(3675008525,1694076839),v=new b(1203062813,3204075428)):(l=new b(1779033703,4089235720),f=new b(3144134277,2227873595),h=new b(1013904242,4271175723),d=new b(2773480762,1595750129),p=new b(1359893119,2917565137),g=new b(2600822924,725511199),m=new b(528734635,4215389547),v=new b(1541459225,327033209));var w,k,S=128*Math.ceil((u+17)/128),x=new Uint8Array(S);for(w=0;w<u;++w)x[w]=s[c++];x[w++]=128;for(var A=S-16;w<A;)x[w++]=0;x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=0,x[w++]=u>>>29&255,x[w++]=u>>21&255,x[w++]=u>>13&255,x[w++]=u>>5&255,x[w++]=u<<3&255;var O=new Array(80);for(w=0;w<80;w++)O[w]=new b(0,0);var C,T,F=new b(0,0),P=new b(0,0),_=new b(0,0),I=new b(0,0),E=new b(0,0),j=new b(0,0),R=new b(0,0),M=new b(0,0),N=new b(0,0),B=new b(0,0),D=new b(0,0),L=new b(0,0);for(w=0;w<S;){for(k=0;k<16;++k)O[k].high=x[w]<<24|x[w+1]<<16|x[w+2]<<8|x[w+3],O[k].low=x[w+4]<<24|x[w+5]<<16|x[w+6]<<8|x[w+7],w+=8;for(k=16;k<80;++k)i(C=O[k],O[k-2],L),C.add(O[k-7]),a(D,O[k-15],L),C.add(D),C.add(O[k-16]);for(F.assign(l),P.assign(f),_.assign(h),I.assign(d),E.assign(p),j.assign(g),R.assign(m),M.assign(v),k=0;k<80;++k)N.assign(M),n(D,E,L),N.add(D),e(D,E,j,R,L),N.add(D),N.add(o[k]),N.add(O[k]),r(B,F,L),t(D,F,P,_,L),B.add(D),C=M,M=R,R=j,j=E,I.add(N),E=I,I=_,_=P,P=F,C.assign(N),C.add(B),F=C;l.add(F),f.add(P),h.add(_),d.add(I),p.add(E),g.add(j),m.add(R),v.add(M)}return y?(T=new Uint8Array(48),l.copyTo(T,0),f.copyTo(T,8),h.copyTo(T,16),d.copyTo(T,24),p.copyTo(T,32),g.copyTo(T,40)):(T=new Uint8Array(64),l.copyTo(T,0),f.copyTo(T,8),h.copyTo(T,16),d.copyTo(T,24),p.copyTo(T,32),g.copyTo(T,40),m.copyTo(T,48),v.copyTo(T,56)),T}}();function S(e,t,r){return k(e,t,r,!0)}t.calculateSHA512=k;var x=function(){function e(){h(this,e)}return p(e,[{key:"decryptBlock",value:function(e){return e}},{key:"encrypt",value:function(e){return e}}]),e}(),A=function(){function e(){h(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(var t=0;t<256;t++)this._mixCol[t]=t<128?t<<1:t<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}return p(e,[{key:"_expandKey",value:function(e){(0,a.unreachable)("Cannot call \`_expandKey\` on the base class")}},{key:"_decrypt",value:function(e,t){var r,n,a,i=new Uint8Array(16);i.set(e);for(var o=0,s=this._keySize;o<16;++o,++s)i[o]^=t[s];for(var c=this._cyclesOfRepetition-1;c>=1;--c){r=i[13],i[13]=i[9],i[9]=i[5],i[5]=i[1],i[1]=r,r=i[14],n=i[10],i[14]=i[6],i[10]=i[2],i[6]=r,i[2]=n,r=i[15],n=i[11],a=i[7],i[15]=i[3],i[11]=r,i[7]=n,i[3]=a;for(var u=0;u<16;++u)i[u]=this._inv_s[i[u]];for(var l=0,f=16*c;l<16;++l,++f)i[l]^=t[f];for(var h=0;h<16;h+=4){var d=this._mix[i[h]],p=this._mix[i[h+1]],g=this._mix[i[h+2]],m=this._mix[i[h+3]];r=d^p>>>8^p<<24^g>>>16^g<<16^m>>>24^m<<8,i[h]=r>>>24&255,i[h+1]=r>>16&255,i[h+2]=r>>8&255,i[h+3]=255&r}}r=i[13],i[13]=i[9],i[9]=i[5],i[5]=i[1],i[1]=r,r=i[14],n=i[10],i[14]=i[6],i[10]=i[2],i[6]=r,i[2]=n,r=i[15],n=i[11],a=i[7],i[15]=i[3],i[11]=r,i[7]=n,i[3]=a;for(var v=0;v<16;++v)i[v]=this._inv_s[i[v]],i[v]^=t[v];return i}},{key:"_encrypt",value:function(e,t){var r,n,a,i=this._s,o=new Uint8Array(16);o.set(e);for(var s=0;s<16;++s)o[s]^=t[s];for(var c=1;c<this._cyclesOfRepetition;c++){for(var u=0;u<16;++u)o[u]=i[o[u]];a=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=a,a=o[2],n=o[6],o[2]=o[10],o[6]=o[14],o[10]=a,o[14]=n,a=o[3],n=o[7],r=o[11],o[3]=o[15],o[7]=a,o[11]=n,o[15]=r;for(var l=0;l<16;l+=4){var f=o[l+0],h=o[l+1],d=o[l+2],p=o[l+3];r=f^h^d^p,o[l+0]^=r^this._mixCol[f^h],o[l+1]^=r^this._mixCol[h^d],o[l+2]^=r^this._mixCol[d^p],o[l+3]^=r^this._mixCol[p^f]}for(var g=0,m=16*c;g<16;++g,++m)o[g]^=t[m]}for(var v=0;v<16;++v)o[v]=i[o[v]];a=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=a,a=o[2],n=o[6],o[2]=o[10],o[6]=o[14],o[10]=a,o[14]=n,a=o[3],n=o[7],r=o[11],o[3]=o[15],o[7]=a,o[11]=n,o[15]=r;for(var y=0,b=this._keySize;y<16;++y,++b)o[y]^=t[b];return o}},{key:"_decryptBlock2",value:function(e,t){for(var r=e.length,n=this.buffer,a=this.bufferPosition,i=[],o=this.iv,s=0;s<r;++s)if(n[a]=e[s],!(++a<16)){for(var c=this._decrypt(n,this._key),u=0;u<16;++u)c[u]^=o[u];o=n,i.push(c),n=new Uint8Array(16),a=0}if(this.buffer=n,this.bufferLength=a,this.iv=o,0===i.length)return new Uint8Array(0);var l=16*i.length;if(t){var f=i[i.length-1],h=f[15];if(h<=16){for(var d=15,p=16-h;d>=p;--d)if(f[d]!==h){h=0;break}l-=h,i[i.length-1]=f.subarray(0,16-h)}}for(var g=new Uint8Array(l),m=0,v=0,y=i.length;m<y;++m,v+=16)g.set(i[m],v);return g}},{key:"decryptBlock",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.length,a=this.buffer,i=this.bufferPosition;if(r)this.iv=r;else{for(var o=0;i<16&&o<n;++o,++i)a[i]=e[o];if(i<16)return this.bufferLength=i,new Uint8Array(0);this.iv=a,e=e.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(e,t)}},{key:"encrypt",value:function(e,t){var r=e.length,n=this.buffer,a=this.bufferPosition,i=[];t||(t=new Uint8Array(16));for(var o=0;o<r;++o)if(n[a]=e[o],!(++a<16)){for(var s=0;s<16;++s)n[s]^=t[s];var c=this._encrypt(n,this._key);t=c,i.push(c),n=new Uint8Array(16),a=0}if(this.buffer=n,this.bufferLength=a,this.iv=t,0===i.length)return new Uint8Array(0);for(var u=16*i.length,l=new Uint8Array(u),f=0,h=0,d=i.length;f<d;++f,h+=16)l.set(i[f],h);return l}}]),e}(),O=function(e){s(r,e);var t=u(r);function r(e){var n;return h(this,r),(n=t.call(this))._cyclesOfRepetition=10,n._keySize=160,n._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),n._key=n._expandKey(e),n}return p(r,[{key:"_expandKey",value:function(e){var t=this._s,r=this._rcon,n=new Uint8Array(176);n.set(e);for(var a=16,i=1;a<176;++i){var o=n[a-3],s=n[a-2],c=n[a-1],u=n[a-4];o=t[o],s=t[s],c=t[c],u=t[u],o^=r[i];for(var l=0;l<4;++l)n[a]=o^=n[a-16],n[++a]=s^=n[a-16],n[++a]=c^=n[a-16],n[++a]=u^=n[a-16],a++}return n}}]),r}(A);t.AES128Cipher=O;var C=function(e){s(r,e);var t=u(r);function r(e){var n;return h(this,r),(n=t.call(this))._cyclesOfRepetition=14,n._keySize=224,n._key=n._expandKey(e),n}return p(r,[{key:"_expandKey",value:function(e){var t=this._s,r=new Uint8Array(240);r.set(e);for(var n,a,i,o,s=1,c=32,u=1;c<240;++u){c%32==16?(n=t[n],a=t[a],i=t[i],o=t[o]):c%32==0&&(n=r[c-3],a=r[c-2],i=r[c-1],o=r[c-4],n=t[n],a=t[a],i=t[i],o=t[o],n^=s,(s<<=1)>=256&&(s=255&(27^s)));for(var l=0;l<4;++l)r[c]=n^=r[c-32],r[++c]=a^=r[c-32],r[++c]=i^=r[c-32],r[++c]=o^=r[c-32],c++}return r}}]),r}(A);t.AES256Cipher=C;var T=function(){function e(){h(this,e)}return p(e,[{key:"checkOwnerPassword",value:function(e,t,r,n){var i=new Uint8Array(e.length+56);i.set(e,0),i.set(t,e.length),i.set(r,e.length+t.length);var o=w(i,0,i.length);return(0,a.isArrayEqual)(o,n)}},{key:"checkUserPassword",value:function(e,t,r){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(t,e.length);var i=w(n,0,n.length);return(0,a.isArrayEqual)(i,r)}},{key:"getOwnerKey",value:function(e,t,r,n){var a=new Uint8Array(e.length+56);a.set(e,0),a.set(t,e.length),a.set(r,e.length+t.length);var i=w(a,0,a.length);return new C(i).decryptBlock(n,!1,new Uint8Array(16))}},{key:"getUserKey",value:function(e,t,r){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(t,e.length);var a=w(n,0,n.length);return new C(a).decryptBlock(r,!1,new Uint8Array(16))}}]),e}();t.PDF17=T;var F=function(){function e(e,t,r){for(var n=w(t,0,t.length).subarray(0,32),a=[0],i=0;i<64||a[a.length-1]>i-32;){var o=e.length+n.length+r.length,s=new Uint8Array(o),c=0;s.set(e,c),c+=e.length,s.set(n,c),c+=n.length,s.set(r,c);for(var u=new Uint8Array(64*o),l=0,f=0;l<64;l++,f+=o)u.set(s,f);a=new O(n.subarray(0,16)).encrypt(u,n.subarray(16,32));for(var h=0,d=0;d<16;d++)h*=1,h%=3,h+=(a[d]>>>0)%3,h%=3;0===h?n=w(a,0,a.length):1===h?n=S(a,0,a.length):2===h&&(n=k(a,0,a.length)),i++}return n.subarray(0,32)}return function(){function t(){h(this,t)}return p(t,[{key:"hash",value:function(t,r,n){return e(t,r,n)}},{key:"checkOwnerPassword",value:function(t,r,n,i){var o=new Uint8Array(t.length+56);o.set(t,0),o.set(r,t.length),o.set(n,t.length+r.length);var s=e(t,o,n);return(0,a.isArrayEqual)(s,i)}},{key:"checkUserPassword",value:function(t,r,n){var i=new Uint8Array(t.length+8);i.set(t,0),i.set(r,t.length);var o=e(t,i,[]);return(0,a.isArrayEqual)(o,n)}},{key:"getOwnerKey",value:function(t,r,n,a){var i=new Uint8Array(t.length+56);i.set(t,0),i.set(r,t.length),i.set(n,t.length+r.length);var o=e(t,i,n);return new C(o).decryptBlock(a,!1,new Uint8Array(16))}},{key:"getUserKey",value:function(t,r,n){var a=new Uint8Array(t.length+8);a.set(t,0),a.set(r,t.length);var i=e(t,a,[]);return new C(i).decryptBlock(n,!1,new Uint8Array(16))}}]),t}()}();t.PDF20=F;var P=function(){function e(t,r){h(this,e),this.StringCipherConstructor=t,this.StreamCipherConstructor=r}return p(e,[{key:"createStream",value:function(e,t){var r=new this.StreamCipherConstructor;return new o.DecryptStream(e,t,(function(e,t){return r.decryptBlock(e,t)}))}},{key:"decryptString",value:function(e){var t=new this.StringCipherConstructor,r=(0,a.stringToBytes)(e);return r=t.decryptBlock(r,!0),(0,a.bytesToString)(r)}},{key:"encryptString",value:function(e){var t=new this.StringCipherConstructor;if(t instanceof A){var r=e.length,n=16-r%16;16!==n&&(e=e.padEnd(16*Math.ceil(r/16),String.fromCharCode(n)));var i=new Uint8Array(16);if("undefined"!=typeof crypto)crypto.getRandomValues(i);else for(var o=0;o<16;o++)i[o]=Math.floor(256*Math.random());var s=(0,a.stringToBytes)(e);s=t.encrypt(s,i);var c=new Uint8Array(16+s.length);return c.set(i),c.set(s,16),(0,a.bytesToString)(c)}var u=(0,a.stringToBytes)(e);return u=t.encrypt(u),(0,a.bytesToString)(u)}}]),e}(),_=function(){var e=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function t(t,r,n,a,i,o,s,c){var u,l,f=40+n.length+t.length,h=new Uint8Array(f),d=0;if(r)for(l=Math.min(32,r.length);d<l;++d)h[d]=r[d];for(u=0;d<32;)h[d++]=e[u++];for(u=0,l=n.length;u<l;++u)h[d++]=n[u];for(h[d++]=255&i,h[d++]=i>>8&255,h[d++]=i>>16&255,h[d++]=i>>>24&255,u=0,l=t.length;u<l;++u)h[d++]=t[u];o>=4&&!c&&(h[d++]=255,h[d++]=255,h[d++]=255,h[d++]=255);var p=y(h,0,d),m=s>>3;if(o>=3)for(u=0;u<50;++u)p=y(p,0,m);var v,b=p.subarray(0,m);if(o>=3){for(d=0;d<32;++d)h[d]=e[d];for(u=0,l=t.length;u<l;++u)h[d++]=t[u];v=new g(b).encryptBlock(y(h,0,d)),l=b.length;var w=new Uint8Array(l);for(u=1;u<=19;++u){for(var k=0;k<l;++k)w[k]=b[k]^u;v=new g(w).encryptBlock(v)}for(u=0,l=v.length;u<l;++u)if(a[u]!==v[u])return null}else for(u=0,l=(v=new g(b).encryptBlock(e)).length;u<l;++u)if(a[u]!==v[u])return null;return b}var r=i.Name.get("Identity");function n(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Uint8Array(r.length+9),o=r.length;for(n=0;n<o;++n)i[n]=r[n];i[n++]=255&e,i[n++]=e>>8&255,i[n++]=e>>16&255,i[n++]=255&t,i[n++]=t>>8&255,a&&(i[n++]=115,i[n++]=65,i[n++]=108,i[n++]=84);var s=y(i,0,n);return s.subarray(0,Math.min(r.length+5,16))}function o(e,t,r,o,s){if(!(0,i.isName)(t))throw new a.FormatError("Invalid crypt filter name.");var c,u=e.get(t.name);if(null!=u&&(c=u.get("CFM")),!c||"None"===c.name)return function(){return new x};if("V2"===c.name)return function(){return new g(n(r,o,s,!1))};if("AESV2"===c.name)return function(){return new O(n(r,o,s,!0))};if("AESV3"===c.name)return function(){return new C(s)};throw new a.FormatError("Unknown crypto method")}var s=function(){function s(n,o,c){h(this,s);var u=n.get("Filter");if(!(0,i.isName)(u,"Standard"))throw new a.FormatError("unknown encryption method");this.dict=n;var l=n.get("V");if(!Number.isInteger(l)||1!==l&&2!==l&&4!==l&&5!==l)throw new a.FormatError("unsupported encryption algorithm");this.algorithm=l;var f=n.get("Length");if(!f)if(l<=3)f=40;else{var d=n.get("CF"),p=n.get("StmF");if((0,i.isDict)(d)&&(0,i.isName)(p)){d.suppressEncryption=!0;var m=d.get(p.name);(f=m&&m.get("Length")||128)<40&&(f<<=3)}}if(!Number.isInteger(f)||f<40||f%8!=0)throw new a.FormatError("invalid key length");var v=(0,a.stringToBytes)(n.get("O")).subarray(0,32),b=(0,a.stringToBytes)(n.get("U")).subarray(0,32),w=n.get("P"),k=n.get("R"),S=(4===l||5===l)&&!1!==n.get("EncryptMetadata");this.encryptMetadata=S;var x,A,O=(0,a.stringToBytes)(o);if(c){if(6===k)try{c=(0,a.utf8StringToString)(c)}catch(e){(0,a.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}x=(0,a.stringToBytes)(c)}if(5!==l)A=t(O,x,v,b,w,k,f,S);else{var C=(0,a.stringToBytes)(n.get("O")).subarray(32,40),P=(0,a.stringToBytes)(n.get("O")).subarray(40,48),_=(0,a.stringToBytes)(n.get("U")).subarray(0,48),I=(0,a.stringToBytes)(n.get("U")).subarray(32,40),E=(0,a.stringToBytes)(n.get("U")).subarray(40,48),j=(0,a.stringToBytes)(n.get("OE")),R=(0,a.stringToBytes)(n.get("UE"));(0,a.stringToBytes)(n.get("Perms")),A=function(e,t,r,n,a,i,o,s,c,u,l,f){if(t){var h=Math.min(127,t.length);t=t.subarray(0,h)}else t=[];var d;return(d=6===e?new F:new T).checkUserPassword(t,s,o)?d.getUserKey(t,c,l):t.length&&d.checkOwnerPassword(t,n,i,r)?d.getOwnerKey(t,a,i,u):null}(k,x,v,C,P,_,b,I,E,j,R)}if(!A&&!c)throw new a.PasswordException("No password given",a.PasswordResponses.NEED_PASSWORD);if(!A&&c){var M=function(t,r,n,a){for(var i=new Uint8Array(32),o=0,s=Math.min(32,t.length);o<s;++o)i[o]=t[o];for(var c=0;o<32;)i[o++]=e[c++];var u,l=y(i,0,o),f=a>>3;if(n>=3)for(c=0;c<50;++c)l=y(l,0,l.length);if(n>=3){u=r;var h=new Uint8Array(f);for(c=19;c>=0;c--){for(var d=0;d<f;++d)h[d]=l[d]^c;u=new g(h).encryptBlock(u)}}else u=new g(l.subarray(0,f)).encryptBlock(r);return u}(x,v,k,f);A=t(O,M,v,b,w,k,f,S)}if(!A)throw new a.PasswordException("Incorrect Password",a.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=A,l>=4){var N=n.get("CF");(0,i.isDict)(N)&&(N.suppressEncryption=!0),this.cf=N,this.stmf=n.get("StmF")||r,this.strf=n.get("StrF")||r,this.eff=n.get("EFF")||this.stmf}}return p(s,[{key:"createCipherTransform",value:function(e,t){if(4===this.algorithm||5===this.algorithm)return new P(o(this.cf,this.stmf,e,t,this.encryptionKey),o(this.cf,this.strf,e,t,this.encryptionKey));var r=n(e,t,this.encryptionKey,!1),a=function(){return new g(r)};return new P(a,a)}}]),s}();return s}();t.CipherTransformFactory=_},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DecryptStream=void 0;var a=r(127);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,r,n,a=s(c);function c(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,t)).str=e,n.dict=e.dict,n.decrypt=r,n.nextChunk=null,n.initialized=!1,n}return t=c,(r=[{key:"readBlock",value:function(){var e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(512),this.initialized=!0),e&&0!==e.length){this.nextChunk=this.str.getBytes(512);var t=this.nextChunk&&this.nextChunk.length>0;e=(0,this.decrypt)(e,!t);for(var r=this.bufferLength,n=e.length,a=this.ensureBuffer(r+n),i=0;i<n;i++)a[r++]=e[i];this.bufferLength=r}else this.eof=!0}}])&&i(t.prototype,r),n&&i(t,n),c}(a.DecodeStream);t.DecryptStream=l},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XFAFactory=void 0;var n=r(176),a=r(179),i=r(184);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{this.root=(new i.XFAParser).parse(e._createDocument(t)),this.form=new a.Binder(this.root).bind(),this.pages=this.form[n.$toHTML]()}catch(e){console.log(e)}}var t,r,s;return t=e,s=[{key:"_createDocument",value:function(e){return e["/xdp:xdp"]?Object.values(e).join(""):e["xdp:xdp"]}}],(r=[{key:"getPage",value:function(e){return this.pages.children[e]}},{key:"numberPages",get:function(){return this.pages.children.length}}])&&o(t.prototype,r),s&&o(t,s),e}();t.XFAFactory=s},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XmlObject=t.XFAObjectArray=t.XFAObject=t.XFAAttribute=t.StringObject=t.OptionObject=t.Option10=t.Option01=t.IntegerObject=t.ContentObject=t.$uid=t.$toStyle=t.$toHTML=t.$text=t.$setValue=t.$setSetAttributes=t.$setId=t.$searchNode=t.$resolvePrototypes=t.$removeChild=t.$onText=t.$onChildCheck=t.$onChild=t.$nsAttributes=t.$nodeName=t.$namespaceId=t.$isTransparent=t.$isDescendent=t.$isDataValue=t.$insertAt=t.$indexOf=t.$ids=t.$hasSettableValue=t.$hasItem=t.$global=t.$getRealChildrenByNameIt=t.$getParent=t.$getNextPage=t.$getDataValue=t.$getChildrenByNameIt=t.$getChildrenByName=t.$getChildrenByClass=t.$getChildren=t.$getAvailableSpace=t.$getAttributeIt=t.$flushHTML=t.$finalize=t.$extra=t.$dump=t.$data=t.$content=t.$consumed=t.$clone=t.$cleanup=t.$clean=t.$childrenToHTML=t.$break=t.$appendChild=t.$addHTML=t.$acceptWhitespace=void 0;var a,i=(a=r(2))&&a.__esModule?a:{default:a},o=r(177),s=r(4),c=r(178);function u(e,t,r){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}},u(e,t,r||e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),e}var A=Symbol();t.$acceptWhitespace=A;var O=Symbol();t.$addHTML=O;var C=Symbol();t.$appendChild=C;var T=Symbol();t.$break=T;var F=Symbol();t.$childrenToHTML=F;var P=Symbol();t.$clean=P;var _=Symbol();t.$cleanup=_;var I=Symbol();t.$clone=I;var E=Symbol();t.$consumed=E;var j=Symbol("content");t.$content=j;var R=Symbol("data");t.$data=R;var M=Symbol();t.$dump=M;var N=Symbol("extra");t.$extra=N;var B=Symbol();t.$finalize=B;var D=Symbol();t.$flushHTML=D;var L=Symbol();t.$getAttributeIt=L;var U=Symbol();t.$getAvailableSpace=U;var q=Symbol();t.$getChildrenByClass=q;var X=Symbol();t.$getChildrenByName=X;var H=Symbol();t.$getChildrenByNameIt=H;var $=Symbol();t.$getDataValue=$;var z=Symbol();t.$getRealChildrenByNameIt=z;var G=Symbol();t.$getChildren=G;var W=Symbol();t.$getNextPage=W;var V=Symbol();t.$getParent=V;var K=Symbol();t.$global=K;var Y=Symbol();t.$hasItem=Y;var J=Symbol();t.$hasSettableValue=J;var Z=Symbol();t.$ids=Z;var Q=Symbol();t.$indexOf=Q;var ee=Symbol();t.$insertAt=ee;var te=Symbol();t.$isDataValue=te;var re=Symbol();t.$isDescendent=re;var ne=Symbol();t.$isTransparent=ne;var ae=Symbol(),ie=Symbol("namespaceId");t.$namespaceId=ie;var oe=Symbol("nodeName");t.$nodeName=oe;var se=Symbol();t.$nsAttributes=se;var ce=Symbol();t.$onChild=ce;var ue=Symbol();t.$onChildCheck=ue;var le=Symbol();t.$onText=le;var fe=Symbol();t.$removeChild=fe;var he=Symbol();t.$resolvePrototypes=he;var de=Symbol();t.$searchNode=de;var pe=Symbol();t.$setId=pe;var ge=Symbol();t.$setSetAttributes=ge;var me=Symbol();t.$setValue=me;var ve=Symbol();t.$text=ve;var ye=Symbol();t.$toHTML=ye;var be=Symbol();t.$toStyle=be;var we=Symbol("uid");t.$uid=we;var ke=Symbol(),Se=Symbol(),xe=Symbol(),Ae=Symbol("_children"),Oe=Symbol(),Ce=Symbol(),Te=Symbol(),Fe=Symbol(),Pe=Symbol(),_e=Symbol(),Ie=Symbol(),Ee=Symbol(),je=Symbol(),Re=Symbol("parent"),Me=Symbol(),Ne=Symbol(),Be=0,De=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];k(this,e),this[ie]=t,this[oe]=r,this[Ie]=n,this[Re]=null,this[Ae]=[],this[we]="".concat(r).concat(Be++)}return x(e,[{key:ce,value:function(e){if(!this[Ie]||!this[ue](e))return!1;var t=e[oe],r=this[t];if(!(r instanceof Le))return null!==r&&this[fe](r),this[t]=e,this[C](e),!0;if(r.push(e))return this[C](e),!0;var n="";return this.id?n=" (id: ".concat(this.id,")"):this.name&&(n=" (name: ".concat(this.name," ").concat(this.h.value,")")),(0,s.warn)('XFA - node "'.concat(this[oe],'"').concat(n,' has already enough "').concat(t,'"!')),!1}},{key:ue,value:function(e){return this.hasOwnProperty(e[oe])&&e[ie]===this[ie]}},{key:A,value:function(){return!1}},{key:pe,value:function(e){this.id&&this[ie]===c.NamespaceIds.template.id&&e.set(this.id,this)}},{key:C,value:function(e){e[Re]=this,this[Ae].push(e)}},{key:fe,value:function(e){var t=this[Ae].indexOf(e);this[Ae].splice(t,1)}},{key:J,value:function(){return this.hasOwnProperty("value")}},{key:me,value:function(e){}},{key:le,value:function(e){}},{key:B,value:function(){}},{key:P,value:function(e){delete this[Ie],this[_]&&(e.clean(this[_]),delete this[_])}},{key:Y,value:function(){return!1}},{key:Q,value:function(e){return this[Ae].indexOf(e)}},{key:ee,value:function(e,t){t[Re]=this,this[Ae].splice(e,0,t)}},{key:ne,value:function(){return""===this.name}},{key:ae,value:function(){return""}},{key:ve,value:function(){return 0===this[Ae].length?this[j]:this[Ae].map((function(e){return e[ve]()})).join("")}},{key:xe,get:function(){var t=Object.getPrototypeOf(this);if(!t._attributes){var r,n=t._attributes=new Set,a=y(Object.getOwnPropertyNames(this));try{for(a.s();!(r=a.n()).done;){var i=r.value;if(null===this[i]||this[i]instanceof e||this[i]instanceof Le)break;n.add(i)}}catch(e){a.e(e)}finally{a.f()}}return(0,s.shadow)(this,xe,t._attributes)}},{key:re,value:function(e){for(var t=this;t;){if(t===e)return!0;t=t[V]()}return!1}},{key:V,value:function(){return this[Re]}},{key:G,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this[e]:this[Ae]}},{key:M,value:function(){var t=Object.create(null);this[j]&&(t.$content=this[j]);var r,n=y(Object.getOwnPropertyNames(this));try{for(n.s();!(r=n.n()).done;){var a=r.value,i=this[a];null!==i&&(i instanceof e?t[a]=i[M]():i instanceof Le?i.isEmpty()||(t[a]=i.dump()):t[a]=i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:be,value:function(){return null}},{key:ye,value:function(){return o.HTMLResult.EMPTY}},{key:Fe,value:i.default.mark((function e(t,r){var n,a,o,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=y(this[G]()),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=13;break}if(o=a.value,t&&r!==t.has(o[oe])){e.next=11;break}return s=this[U](),(c=o[ye](s)).success||(this[N].failingNode=o),e.next=11,c;case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[1,15,18,21]])}))},{key:D,value:function(){return null}},{key:O,value:function(e,t){this[N].children.push(e)}},{key:U,value:function(){}},{key:F,value:function(e){var t=e.filter,r=void 0===t?null:t,n=e.include,a=void 0===n||n;if(this[N].generator){var i=this[U](),o=this[N].failingNode[ye](i);if(!o.success)return!1;o.html&&this[O](o.html,o.bbox),delete this[N].failingNode}else this[N].generator=this[Fe](r,a);for(;;){var s=this[N].generator.next();if(s.done)break;var c=s.value;if(!c.success)return!1;c.html&&this[O](c.html,c.bbox)}return this[N].generator=null,!0}},{key:ge,value:function(e){(e.use||e.id)&&(this[Me]=new Set(Object.keys(e)))}},{key:_e,value:function(e){var t=this[xe],r=this[Me];return v(e).filter((function(e){return t.has(e)&&!r.has(e)}))}},{key:he,value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=y(this[Ae]);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a[Pe](e,r);i?a[ke](i,e,r):a[he](e,r)}}catch(e){n.e(e)}finally{n.f()}}},{key:Pe,value:function(e,t){var r=this.use;if(r&&r.startsWith("#")){var n=r.slice(1),a=e.get(n);if(this.use="",!a)return(0,s.warn)("XFA - Invalid prototype id: ".concat(n,".")),null;if(a[oe]!==this[oe])return(0,s.warn)("XFA - Incompatible prototype: ".concat(a[oe]," !== ").concat(this[oe],".")),null;if(t.has(a))return(0,s.warn)("XFA - Cycle detected in prototypes use."),null;t.add(a);var i=a[Pe](e,t);return i?(a[ke](i,e,t),t.delete(a),a):(t.delete(a),a)}return null}},{key:ke,value:function(e,t,r){if(r.has(e))(0,s.warn)("XFA - Cycle detected in prototypes use.");else{!this[j]&&e[j]&&(this[j]=e[j]);var n=new Set(r);n.add(e);var a,i=y(this[_e](e[Me]));try{for(i.s();!(a=i.n()).done;){var o=a.value;this[o]=e[o],this[Me]&&this[Me].add(o)}}catch(e){i.e(e)}finally{i.f()}var c,u=y(Object.getOwnPropertyNames(this));try{for(u.s();!(c=u.n()).done;){var l=c.value;if(!this[xe].has(l)){var f=this[l],h=e[l];if(f instanceof Le){var d,p=y(f[Ae]);try{for(p.s();!(d=p.n()).done;)d.value[he](t,r)}catch(e){p.e(e)}finally{p.f()}for(var g=f[Ae].length,m=h[Ae].length;g<m;g++){var v=e[Ae][g][I]();if(!f.push(v))break;v[Re]=this,this[Ae].push(v),v[he](t,n)}}else if(null===f){if(null!==h){var b=h[I]();b[Re]=this,this[l]=b,this[Ae].push(b),b[he](t,n)}}else f[he](t,r)}}}catch(e){u.e(e)}finally{u.f()}}}},{key:I,value:function(){var t,r=Object.create(Object.getPrototypeOf(this)),n=y(Object.getOwnPropertySymbols(this));try{for(n.s();!(t=n.n()).done;){var a=t.value;try{r[a]=this[a]}catch(e){(0,s.shadow)(r,a,this[a])}}}catch(e){n.e(e)}finally{n.f()}r[Ae]=[];var i,o=y(Object.getOwnPropertyNames(this));try{for(o.s();!(i=o.n()).done;){var c=i.value;if(this[xe].has(c))r[c]=e[Oe](this[c]);else{var u=this[c];r[c]=u instanceof Le?new Le(u[Ee]):null}}}catch(e){o.e(e)}finally{o.f()}var l,f=y(this[Ae]);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h[oe],p=h[I]();r[Ae].push(p),p[Re]=r,null===r[d]?r[d]=p:r[d][Ae].push(p)}}catch(e){f.e(e)}finally{f.f()}return r}},{key:G,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this[Ae].filter((function(t){return t[oe]===e})):this[Ae]}},{key:q,value:function(e){return this[e]}},{key:X,value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Array.from(this[H](e,t,r))}},{key:H,value:i.default.mark((function e(t,r){var n,a,o,s,c=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>2&&void 0!==c[2])||c[2],"parent"!==t){e.next=5;break}return e.next=4,this[Re];case 4:return e.abrupt("return");case 5:a=y(this[Ae]),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=20;break}if((s=o.value)[oe]!==t){e.next=13;break}return e.next=13,s;case 13:if(s.name!==t){e.next=16;break}return e.next=16,s;case 16:if(!r&&!s[ne]()){e.next=18;break}return e.delegateYield(s[H](t,r,!1),"t0",18);case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(6),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:if(!n||!this[xe].has(t)){e.next=31;break}return e.next=31,new Ue(this,t,this[t]);case 31:case"end":return e.stop()}}),e,this,[[6,22,25,28]])}))}],[{key:Oe,value:function(t){return Array.isArray(t)?t.map((function(t){return e[Oe](t)})):t instanceof Object?Object.assign({},t):t}}]),e}();t.XFAObject=De;var Le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;k(this,e),this[Ee]=t,this[Ae]=[]}return x(e,[{key:"push",value:function(e){return this[Ae].length<=this[Ee]?(this[Ae].push(e),!0):((0,s.warn)('XFA - node "'.concat(e[oe],'" accepts no more than ').concat(this[Ee]," children")),!1)}},{key:"isEmpty",value:function(){return 0===this[Ae].length}},{key:"dump",value:function(){return 1===this[Ae].length?this[Ae][0][M]():this[Ae].map((function(e){return e[M]()}))}},{key:I,value:function(){var t=new e(this[Ee]);return t[Ae]=this[Ae].map((function(e){return e[I]()})),t}},{key:"children",get:function(){return this[Ae]}},{key:"clear",value:function(){this[Ae].length=0}}]),e}();t.XFAObjectArray=Le;var Ue=function(){function e(t,r,n){k(this,e),this[Re]=t,this[oe]=r,this[j]=n,this[E]=!1}return x(e,[{key:V,value:function(){return this[Re]}},{key:te,value:function(){return!0}},{key:ve,value:function(){return this[j]}},{key:re,value:function(e){return this[Re]===e||this[Re][re](e)}}]),e}();t.XFAAttribute=Ue;var qe=function(e){f(r,e);var t=d(r);function r(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(k(this,r),(a=t.call(this,e,n))[j]="",a[Ce]=null,"#text"!==n){var o=new Map;a[Se]=o;for(var s=0,c=Object.entries(i);s<c.length;s++){var u=l(c[s],2),f=u[0],h=u[1];o.set(f,new Ue(g(a),f,h))}if(i.hasOwnProperty(se)){var d=i[se].xfa.dataNode;void 0!==d&&("dataGroup"===d?a[Ce]=!1:"dataValue"===d&&(a[Ce]=!0))}}return a[E]=!1,a}return x(r,[{key:ce,value:function(e){if(this[j]){var t=new r(this[ie],"#text");this[C](t),t[j]=this[j],this[j]=""}return this[C](e),!0}},{key:le,value:function(e){this[j]+=e}},{key:B,value:function(){if(this[j]&&this[Ae].length>0){var e=new r(this[ie],"#text");this[C](e),e[j]=this[j],delete this[j]}}},{key:ye,value:function(){return"#text"===this[oe]?o.HTMLResult.success({name:"#text",value:this[j]}):o.HTMLResult.EMPTY}},{key:G,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this[Ae].filter((function(t){return t[oe]===e})):this[Ae]}},{key:q,value:function(e){var t=this[Se].get(e);return void 0!==t?t:this[G](e)}},{key:H,value:i.default.mark((function(e,t){var r,n,a,o;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=this[Se].get(e),!r){i.next=4;break}return i.next=4,r;case 4:n=y(this[Ae]),i.prev=5,n.s();case 7:if((a=n.n()).done){i.next=16;break}if((o=a.value)[oe]!==e){i.next=12;break}return i.next=12,o;case 12:if(!t){i.next=14;break}return i.delegateYield(o[H](e,t),"t0",14);case 14:i.next=7;break;case 16:i.next=21;break;case 18:i.prev=18,i.t1=i.catch(5),n.e(i.t1);case 21:return i.prev=21,n.f(),i.finish(21);case 24:case"end":return i.stop()}}),r,this,[[5,18,21,24]])}))},{key:L,value:i.default.mark((function(e,t){var r,n,a,o;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=this[Se].get(e),!r||t&&r[E]){i.next=4;break}return i.next=4,r;case 4:n=y(this[Ae]),i.prev=5,n.s();case 7:if((a=n.n()).done){i.next=12;break}return o=a.value,i.delegateYield(o[L](e,t),"t0",10);case 10:i.next=7;break;case 12:i.next=17;break;case 14:i.prev=14,i.t1=i.catch(5),n.e(i.t1);case 17:return i.prev=17,n.f(),i.finish(17);case 20:case"end":return i.stop()}}),r,this,[[5,14,17,20]])}))},{key:z,value:i.default.mark((function e(t,r,n){var a,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=y(this[Ae]),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=12;break}if((s=o.value)[oe]!==t||n&&s[E]){e.next=8;break}return e.next=8,s;case 8:if(!r){e.next=10;break}return e.delegateYield(s[z](t,r,n),"t0",10);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(1),a.e(e.t1);case 17:return e.prev=17,a.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))},{key:te,value:function(){return null===this[Ce]?0===this[Ae].length||this[Ae][0][ie]===c.NamespaceIds.xhtml.id:this[Ce]}},{key:$,value:function(){return null===this[Ce]?0===this[Ae].length?this[j].trim():this[Ae][0][ie]===c.NamespaceIds.xhtml.id?this[Ae][0][ve]().trim():null:this[j].trim()}},{key:M,value:function(){var e=Object.create(null);this[j]&&(e.$content=this[j]),e.$name=this[oe],e.children=[];var t,r=y(this[Ae]);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.children.push(n[M]())}}catch(e){r.e(e)}finally{r.f()}e.attributes=Object.create(null);var a,i=y(this[Se]);try{for(i.s();!(a=i.n()).done;){var o=l(a.value,2),s=o[0],c=o[1];e.attributes[s]=c[j]}}catch(e){i.e(e)}finally{i.f()}return e}}]),r}(De);t.XmlObject=qe;var Xe=function(e){f(r,e);var t=d(r);function r(e,n){var a;return k(this,r),(a=t.call(this,e,n))[j]="",a}return x(r,[{key:le,value:function(e){this[j]+=e}},{key:B,value:function(){}}]),r}(De);t.ContentObject=Xe;var He=function(e){f(r,e);var t=d(r);function r(e,n,a){var i;return k(this,r),(i=t.call(this,e,n))[je]=a,i}return x(r,[{key:B,value:function(){var e=this;this[j]=(0,o.getKeyword)({data:this[j],defaultValue:this[je][0],validate:function(t){return e[je].includes(t)}})}},{key:P,value:function(e){u(m(r.prototype),P,this).call(this,e),delete this[je]}}]),r}(Xe);t.OptionObject=He;var $e=function(e){f(r,e);var t=d(r);function r(){return k(this,r),t.apply(this,arguments)}return x(r,[{key:B,value:function(){this[j]=this[j].trim()}}]),r}(Xe);t.StringObject=$e;var ze=function(e){f(r,e);var t=d(r);function r(e,n,a,i){var o;return k(this,r),(o=t.call(this,e,n))[Te]=a,o[Ne]=i,o}return x(r,[{key:B,value:function(){this[j]=(0,o.getInteger)({data:this[j],defaultValue:this[Te],validate:this[Ne]})}},{key:P,value:function(e){u(m(r.prototype),P,this).call(this,e),delete this[Te],delete this[Ne]}}]),r}(Xe);t.IntegerObject=ze;var Ge=function(e){f(r,e);var t=d(r);function r(e,n){return k(this,r),t.call(this,e,n,0,(function(e){return 1===e}))}return r}(ze);t.Option01=Ge;var We=function(e){f(r,e);var t=d(r);function r(e,n){return k(this,r),t.call(this,e,n,1,(function(e){return 0===e}))}return r}(ze);t.Option10=We},(e,t)=>{"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.getBBox=function(e){var t=-1;if(!e)return{x:t,y:t,width:t,height:t};var r=e.trim().split(/\\s*,\\s*/).map((function(e){return c(e,"-1")}));if(r.length<4||r[2]<0||r[3]<0)return{x:t,y:t,width:t,height:t};var a=n(r,4),i=a[0],o=a[1],s=a[2],u=a[3];return{x:i,y:o,width:s,height:u}},t.getColor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=n(t,3),a=r[0],i=r[1],o=r[2];if(!e)return{r:a,g:i,b:o};var s=e.trim().split(/\\s*,\\s*/).map((function(e){return Math.min(Math.max(0,parseInt(e.trim(),10)),255)})).map((function(e){return isNaN(e)?0:e}));if(s.length<3)return{r:a,g:i,b:o};var c=n(s,3);return a=c[0],i=c[1],o=c[2],{r:a,g:i,b:o}},t.getFloat=function(e){var t=e.data,r=e.defaultValue,n=e.validate;if(!t)return r;t=t.trim();var a=parseFloat(t);return!isNaN(a)&&n(a)?a:r},t.getInteger=function(e){var t=e.data,r=e.defaultValue,n=e.validate;if(!t)return r;t=t.trim();var a=parseInt(t,10);return!isNaN(a)&&n(a)?a:r},t.getKeyword=s,t.getMeasurement=c,t.getRatio=function(e){if(!e)return{num:1,den:1};var t=e.trim().split(/\\s*:\\s*/).map((function(e){return parseFloat(e)})).filter((function(e){return!isNaN(e)}));if(1===t.length&&t.push(1),0===t.length)return{num:1,den:1};var r=n(t,2),a=r[0],i=r[1];return{num:a,den:i}},t.getRelevant=function(e){return e?e.trim().split(/\\s+/).map((function(e){return{excluded:"-"===e[0],viewname:e.substring(1)}})):[]},t.getStringOption=function(e,t){return s({data:e,defaultValue:t[0],validate:function(e){return t.includes(e)}})},t.HTMLResult=void 0;var i={pt:function(e){return e},cm:function(e){return e/2.54*72},mm:function(e){return e/25.4*72},in:function(e){return 72*e},px:function(e){return e}},o=/([+-]?[0-9]+\\.?[0-9]*)(.*)/;function s(e){var t=e.data,r=e.defaultValue,n=e.validate;return t&&n(t=t.trim())?t:r}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(t=t||"0",!e)return c(t);var r=e.trim().match(o);if(!r)return c(t);var a=n(r,3),s=a[1],u=a[2],l=parseFloat(s);if(isNaN(l))return c(t);if(0===l)return 0;var f=i[u];return f?f(l):l}var u=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.success=t,this.html=r,this.bbox=n}var t,n,a;return t=e,a=[{key:"success",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new e(!0,t,r)}}],(n=null)&&r(t.prototype,n),a&&r(t,a),e}();t.HTMLResult=u,u.FAILURE=new u(!1,null,null),u.EMPTY=new u(!0,null,null)},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamespaceIds=t.$buildXFAObject=void 0;var r=Symbol();t.$buildXFAObject=r,t.NamespaceIds={config:{id:0,check:function(e){return e.startsWith("http://www.xfa.org/schema/xci/")}},connectionSet:{id:1,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-connection-set/")}},datasets:{id:2,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-data/")}},form:{id:3,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-form/")}},localeSet:{id:4,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-locale-set/")}},pdf:{id:5,check:function(e){return"http://ns.adobe.com/xdp/pdf/"===e}},signature:{id:6,check:function(e){return"http://www.w3.org/2000/09/xmldsig#"===e}},sourceSet:{id:7,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-source-set/")}},stylesheet:{id:8,check:function(e){return"http://www.w3.org/1999/XSL/Transform"===e}},template:{id:9,check:function(e){return e.startsWith("http://www.xfa.org/schema/xfa-template/")}},xdc:{id:10,check:function(e){return e.startsWith("http://www.xfa.org/schema/xdc/")}},xdp:{id:11,check:function(e){return"http://ns.adobe.com/xdp/"===e}},xfdf:{id:12,check:function(e){return"http://ns.adobe.com/xfdf/"===e}},xhtml:{id:13,check:function(e){return"http://www.w3.org/1999/xhtml"===e}},xmpmeta:{id:14,check:function(e){return"http://ns.adobe.com/xmpmeta/"===e}}}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binder=void 0;var n=r(176),a=r(180),i=r(183),o=r(178),s=r(4);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){var t=new a.Text({});return t[n.$content]=e,t}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=t,this.datasets=t.datasets,t.datasets&&t.datasets.data?(this.emptyMerge=!1,this.data=t.datasets.data):(this.emptyMerge=!0,this.data=new n.XmlObject(o.NamespaceIds.datasets.id,"data")),this.root.form=this.form=t.template[n.$clone]()}var t,r,l;return t=e,(r=[{key:"_isConsumeData",value:function(){return!this.emptyMerge&&this._mergeMode}},{key:"_isMatchTemplate",value:function(){return!this._isConsumeData()}},{key:"bind",value:function(){return this._bindElement(this.form,this.data),this.form}},{key:"getData",value:function(){return this.data}},{key:"_bindValue",value:function(e,t,r){if(e[n.$hasSettableValue]())if(t[n.$isDataValue]()){var i=t[n.$getDataValue]();e[n.$setValue](d(i)),e[n.$data]=t}else if(e instanceof a.Field&&e.ui&&e.ui.choiceList&&"multiSelect"===e.ui.choiceList.open){var o=t[n.$getChildren]().map((function(e){return e[n.$content].trim()})).join("\\n");e[n.$setValue](d(o)),e[n.$data]=t}else this._isConsumeData()&&(0,s.warn)("XFA - Nodes haven't the same type.");else!t[n.$isDataValue]()||this._isMatchTemplate()?(this._bindElement(e,t),e[n.$data]=t):(0,s.warn)("XFA - Nodes haven't the same type.")}},{key:"_findDataByNameToConsume",value:function(e,t,r,a){if(!e)return null;for(var i,s,c=0;c<3;c++){for(i=r[n.$getRealChildrenByNameIt](e,!1,!0);s=i.next().value;)if(t===s[n.$isDataValue]())return s;if(r[n.$namespaceId]===o.NamespaceIds.datasets.id&&"data"===r[n.$nodeName])break;r=r[n.$getParent]()}if(!a)return null;for(i=this.data[n.$getRealChildrenByNameIt](e,!1,!1);s=i.next().value;)if(s[n.$global])return s;return(s=(i=this.data[n.$getAttributeIt](e,!0)).next().value)&&s[n.$isDataValue]()?s:null}},{key:"_setProperties",value:function(e,t){if(e.hasOwnProperty("setProperty")){var r,o=u(e.setProperty.children);try{for(o.s();!(r=o.n()).done;){var l=r.value,f=l.ref,h=l.target;if(!l.connection&&f){var d=c((0,i.searchNode)(this.root,t,f,!1,!1),1)[0];if(d)if(d[n.$isDescendent](this.data)){var p=c((0,i.searchNode)(this.root,e,h,!1,!1),1)[0];if(p)if(p[n.$isDescendent](e)){var g=p[n.$getParent]();if(p instanceof a.SetProperty||g instanceof a.SetProperty)(0,s.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");else if(p instanceof a.BindItems||g instanceof a.BindItems)(0,s.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");else{var m=d[n.$text](),v=p[n.$nodeName];if(p instanceof n.XFAAttribute){var y=Object.create(null);y[v]=m;var b=Reflect.construct(Object.getPrototypeOf(g).constructor,[y]);g[v]=b[v]}else p.hasOwnProperty(n.$content)?(p[n.$data]=d,p[n.$content]=m,p[n.$finalize]()):(0,s.warn)("XFA - Invalid node to use in setProperty")}}else(0,s.warn)("XFA - Invalid target: must be a property or subproperty.");else(0,s.warn)("XFA - Invalid target: ".concat(h,"."))}else(0,s.warn)("XFA - Invalid node: must be a data node.");else(0,s.warn)("XFA - Invalid reference: ".concat(f,"."))}}}catch(e){o.e(e)}finally{o.f()}}}},{key:"_bindItems",value:function(e,t){if(e.hasOwnProperty("items")&&e.hasOwnProperty("bindItems")&&!e.bindItems.isEmpty()){var r,o=u(e.items.children);try{for(o.s();!(r=o.n()).done;){var l=r.value;e[n.$removeChild](l)}}catch(e){o.e(e)}finally{o.f()}e.items.clear();var f=new a.Items({}),h=new a.Items({});e[n.$appendChild](f),e.items.push(f),e[n.$appendChild](h),e.items.push(h);var p,g=u(e.bindItems.children);try{for(g.s();!(p=g.n()).done;){var m=p.value,v=m.ref,y=m.labelRef,b=m.valueRef;if(!m.connection&&v){var w=(0,i.searchNode)(this.root,t,v,!1,!1);if(w){var k,S=u(w);try{for(S.s();!(k=S.n()).done;){var x=k.value;if(x[n.$isDescendent](this.datasets)){var A=c((0,i.searchNode)(this.root,x,y,!0,!1),1)[0];if(A)if(A[n.$isDescendent](this.datasets)){var O=c((0,i.searchNode)(this.root,x,b,!0,!1),1)[0];if(O)if(O[n.$isDescendent](this.datasets)){var C=d(A[n.$text]()),T=d(O[n.$text]());f[n.$appendChild](C),f.text.push(C),h[n.$appendChild](T),h.text.push(T)}else(0,s.warn)("XFA - Invalid value: must be a datasets child.");else(0,s.warn)("XFA - Invalid value: ".concat(b,"."))}else(0,s.warn)("XFA - Invalid label: must be a datasets child.");else(0,s.warn)("XFA - Invalid label: ".concat(y,"."))}else(0,s.warn)("XFA - Invalid ref (".concat(v,"): must be a datasets child."))}}catch(e){S.e(e)}finally{S.f()}}else(0,s.warn)("XFA - Invalid reference: ".concat(v,"."))}}}catch(e){g.e(e)}finally{g.f()}}}},{key:"_bindOccurrences",value:function(e,t,r){var a;if(t.length>1&&(a=e[n.$clone]()),this._bindValue(e,t[0],r),this._setProperties(e,t[0]),this._bindItems(e,t[0]),1!==t.length)for(var i=e[n.$getParent](),o=e[n.$nodeName],s=i[n.$indexOf](e),c=1,u=t.length;c<u;c++){var l=t[c],f=a[n.$clone]();f.occur.min=1,f.occur.max=1,f.occur.initial=1,i[o].push(f),i[n.$insertAt](s+c,f),this._bindValue(f,l,r),this._setProperties(f,l),this._bindItems(f,l)}}},{key:"_createOccurrences",value:function(e){if(this.emptyMerge){var t=e.occur;if(t&&!(t.initial<=1))for(var r=e[n.$getParent](),a=e[n.$nodeName],i=0,o=t.initial;i<o;i++){var s=e[n.$clone]();s.occur.min=1,s.occur.max=1,s.occur.initial=1,r[a].push(s),r[n.$appendChild](s)}}}},{key:"_getOccurInfo",value:function(e){var t=e.occur,r=e.name;if(!t||!r)return[1,1];var n=-1===t.max?1/0:t.max;return[t.min,n]}},{key:"_bindElement",value:function(e,t){var r=[];this._createOccurrences(e);var a,o=u(e[n.$getChildren]());try{for(o.s();!(a=o.n()).done;){var l=a.value;if(!l[n.$data]){void 0===this._mergeMode&&"subform"===l[n.$nodeName]&&(this._mergeMode="consumeData"===l.mergeMode);var f=!1,h=null,d=null,p=null;if(l.bind){switch(l.bind.match){case"none":this._bindElement(l,t);continue;case"global":f=!0;break;case"dataRef":if(!l.bind.ref){(0,s.warn)("XFA - ref is empty in node ".concat(l[n.$nodeName],".")),this._bindElement(l,t);continue}d=l.bind.ref}l.bind.picture&&(h=l.bind.picture[n.$content])}var g=c(this._getOccurInfo(l),2),m=g[0],v=g[1];if(d)null===(p=(0,i.searchNode)(this.root,t,d,!0,!1))?(p=(0,i.createDataNode)(this.data,t,d),this._isConsumeData()&&(p[n.$consumed]=!0),p=[p]):(this._isConsumeData()&&(p=p.filter((function(e){return!e[n.$consumed]}))),p.length>v?p=p.slice(0,v):0===p.length&&(p=null),p&&this._isConsumeData()&&p.forEach((function(e){e[n.$consumed]=!0})));else{if(!l.name){this._bindElement(l,t);continue}if(this._isConsumeData()){for(var y=[];y.length<v;){var b=this._findDataByNameToConsume(l.name,l[n.$hasSettableValue](),t,f);if(!b)break;b[n.$consumed]=!0,y.push(b)}p=y.length>0?y:null}else(p=t[n.$getRealChildrenByNameIt](l.name,!1,!1).next().value)||(p=new n.XmlObject(t[n.$namespaceId],l.name),t[n.$appendChild](p)),p=[p]}if(p){if(p.length<m){(0,s.warn)("XFA - Must have at least ".concat(m," occurrences: ").concat(e[n.$nodeName],"."));continue}this._bindOccurrences(l,p,h)}else m>0?(this._setProperties(l,t),this._bindItems(l,t),this._bindElement(l,t)):r.push(l)}}}catch(e){o.e(e)}finally{o.f()}r.forEach((function(e){return e[n.$getParent]()[n.$removeChild](e)}))}}])&&h(t.prototype,r),l&&h(t,l),e}();t.Binder=p},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Value=t.Text=t.TemplateNamespace=t.Template=t.SetProperty=t.Items=t.Field=t.BindItems=void 0;var a=r(176),i=r(178),o=r(181),s=r(182),c=r(177),u=r(4),l=r(183);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var a=S(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var x=i.NamespaceIds.template.id;function A(e,t){if(!e.value){var r=new _t({});e[a.$appendChild](r),e.value=r}e.value[a.$setValue](t)}function O(e){for(var t=e[a.$getParent]();!(t instanceof wt);)t=t[a.$getParent]();return t}function C(e,t){if(""!==e.w&&Math.round(e.w+e.x-t.width)>1){var r=O(e)[a.$extra].currentContentArea;return e.w+e.x>r.w?0:1}if(""!==e.h&&Math.round(e.h+e.y-t.height)>1){var n=O(e)[a.$extra].currentContentArea;return e.h+e.y>n.h?0:1}return 2}var T=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"appearanceFilter")).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),F=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"arc",!0)).circular=(0,c.getInteger)({data:e.circular,defaultValue:0,validate:function(e){return 1===e}}),n.hand=(0,c.getStringOption)(e.hand,["even","left","right"]),n.id=e.id||"",n.startAngle=(0,c.getFloat)({data:e.startAngle,defaultValue:0,validate:function(e){return!0}}),n.sweepAngle=(0,c.getFloat)({data:e.sweepAngle,defaultValue:360,validate:function(e){return!0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.edge=null,n.fill=null,n}return r}(a.XFAObject),P=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"area",!0)).colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.id=e.id||"",n.name=e.name||"",n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.desc=null,n.extras=null,n.area=new a.XFAObjectArray,n.draw=new a.XFAObjectArray,n.exObject=new a.XFAObjectArray,n.exclGroup=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n.subformSet=new a.XFAObjectArray,n}return m(r,[{key:a.$isTransparent,value:function(){return!0}},{key:a.$addHTML,value:function(e,t){var r=h(t,4),n=r[0],i=r[1],o=r[2],s=r[3];this[a.$extra].width=Math.max(this[a.$extra].width,n+o),this[a.$extra].height=Math.max(this[a.$extra].height,i+s),this[a.$extra].children.push(e)}},{key:a.$getAvailableSpace,value:function(){return this[a.$extra].availableSpace}},{key:a.$toHTML,value:function(e){var t=(0,o.toStyle)(this,"position"),r={style:t,id:this[a.$uid],class:"xfaArea"};this.name&&(r.xfaName=this.name);var n=[];if(this[a.$extra]={children:n,width:0,height:0,availableSpace:e},!this[a.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0}))return delete this[a.$extra],c.HTMLResult.empty;t.width=(0,o.measureToString)(this[a.$extra].width),t.height=(0,o.measureToString)(this[a.$extra].height);var i={name:"div",attributes:r,children:n},s=[this.x,this.y,this[a.$extra].width,this[a.$extra].height];return delete this[a.$extra],c.HTMLResult.success(i,s)}}]),r}(a.XFAObject),_=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"assist",!0)).id=e.id||"",n.role=e.role||"",n.use=e.use||"",n.usehref=e.usehref||"",n.speak=null,n.toolTip=null,n}return r}(a.XFAObject),I=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"barcode",!0)).charEncoding=(0,c.getKeyword)({data:e.charEncoding?e.charEncoding.toLowerCase():"",defaultValue:"",validate:function(e){return["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(e)||e.match(/iso-8859-[0-9]{2}/)}}),n.checksum=(0,c.getStringOption)(e.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),n.dataColumnCount=(0,c.getInteger)({data:e.dataColumnCount,defaultValue:-1,validate:function(e){return e>=0}}),n.dataLength=(0,c.getInteger)({data:e.dataLength,defaultValue:-1,validate:function(e){return e>=0}}),n.dataPrep=(0,c.getStringOption)(e.dataPrep,["none","flateCompress"]),n.dataRowCount=(0,c.getInteger)({data:e.dataRowCount,defaultValue:-1,validate:function(e){return e>=0}}),n.endChar=e.endChar||"",n.errorCorrectionLevel=(0,c.getInteger)({data:e.errorCorrectionLevel,defaultValue:-1,validate:function(e){return e>=0&&e<=8}}),n.id=e.id||"",n.moduleHeight=(0,c.getMeasurement)(e.moduleHeight,"5mm"),n.moduleWidth=(0,c.getMeasurement)(e.moduleWidth,"0.25mm"),n.printCheckDigit=(0,c.getInteger)({data:e.printCheckDigit,defaultValue:0,validate:function(e){return 1===e}}),n.rowColumnRatio=(0,c.getRatio)(e.rowColumnRatio),n.startChar=e.startChar||"",n.textLocation=(0,c.getStringOption)(e.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),n.truncate=(0,c.getInteger)({data:e.truncate,defaultValue:0,validate:function(e){return 1===e}}),n.type=(0,c.getStringOption)(e.type?e.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),n.upsMode=(0,c.getStringOption)(e.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),n.use=e.use||"",n.usehref=e.usehref||"",n.wideNarrowRatio=(0,c.getRatio)(e.wideNarrowRatio),n.encrypt=null,n.extras=null,n}return r}(a.XFAObject),E=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"bind",!0)).match=(0,c.getStringOption)(e.match,["once","dataRef","global","none"]),n.ref=e.ref||"",n.picture=null,n}return r}(a.XFAObject),j=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"bindItems")).connection=e.connection||"",n.labelRef=e.labelRef||"",n.ref=e.ref||"",n.valueRef=e.valueRef||"",n}return r}(a.XFAObject);t.BindItems=j;var R=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"bookend")).id=e.id||"",n.leader=e.leader||"",n.trailer=e.trailer||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),M=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"boolean")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$toHTML,value:function(e){return c.HTMLResult.success(1===this[a.$content])}}]),r}(a.Option01),N=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"border",!0)).break=(0,c.getStringOption)(e.break,["close","open"]),n.hand=(0,c.getStringOption)(e.hand,["even","left","right"]),n.id=e.id||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.corner=new a.XFAObjectArray(4),n.edge=new a.XFAObjectArray(4),n.extras=null,n.fill=null,n.margin=null,n}return m(r,[{key:a.$toStyle,value:function(e,t){var r=this.edge.children.slice();if(r.length<4)for(var n=r[r.length-1]||new se({}),i=r.length;i<4;i++)r.push(n);e=e||[0,0,0,0];for(var s=0;s<4;s++)e[s]=r[s].thickness;t=t||[0,0,0,0];var c,u=r.map((function(e){var t=e[a.$toStyle]();return t.color=t.color||"#000000",t}));this.margin?(c=this.margin[a.$toStyle](),t[0]=this.margin.topInset,t[1]=this.margin.rightInset,t[2]=this.margin.bottomInset,t[3]=this.margin.leftInset):c=Object.create(null);var l=!1,f=this[a.$getParent]();(f?f[a.$getParent]():null)instanceof Ft&&(l=!0),this.fill&&Object.assign(c,this.fill[a.$toStyle]());var h=!1;if(this.corner.children.some((function(e){return 0!==e.radius}))){var d=this.corner.children.map((function(e){return e[a.$toStyle]()}));if(2===d.length||3===d.length)for(var p=d[d.length-1],g=d.length;g<4;g++)d.push(p);c.borderRadius=d.map((function(e){return e.radius})).join(" "),h=!0}var m=u[0];if(!h&&(this.edge.children.length<=1||u.every((function(e){return e.style===m.style&&e.width===m.width&&e.color===m.color}))&&t.every((function(e){return e===t[0]})))){var v;switch(this.presence){case"invisible":case"hidden":v="";break;case"inactive":v="none";break;default:v=m.style}c.outline="".concat(m.width," ").concat(m.color," ").concat(v);var y=r[0].thickness+t[0];c.outlineOffset="-".concat((0,o.measureToString)(y)),l&&(c.padding="".concat((0,o.measureToString)(y+1)))}else{switch(this.presence){case"invisible":case"hidden":c.borderStyle="";break;case"inactive":c.borderStyle="none";break;default:c.borderStyle=u.map((function(e){return e.style})).join(" ")}c.borderWidth=u.map((function(e){return e.width})).join(" "),c.borderColor=u.map((function(e){return e.color})).join(" ")}return c}}]),r}(a.XFAObject),B=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"break",!0)).after=(0,c.getStringOption)(e.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),n.afterTarget=e.afterTarget||"",n.before=(0,c.getStringOption)(e.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),n.beforeTarget=e.beforeTarget||"",n.bookendLeader=e.bookendLeader||"",n.bookendTrailer=e.bookendTrailer||"",n.id=e.id||"",n.overflowLeader=e.overflowLeader||"",n.overflowTarget=e.overflowTarget||"",n.overflowTrailer=e.overflowTrailer||"",n.startNew=(0,c.getInteger)({data:e.startNew,defaultValue:0,validate:function(e){return 1===e}}),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return r}(a.XFAObject),D=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"breakAfter",!0)).id=e.id||"",n.leader=e.leader||"",n.startNew=(0,c.getInteger)({data:e.startNew,defaultValue:0,validate:function(e){return 1===e}}),n.target=e.target||"",n.targetType=(0,c.getStringOption)(e.targetType,["auto","contentArea","pageArea","pageEven","pageOdd"]),n.trailer=e.trailer||"",n.use=e.use||"",n.usehref=e.usehref||"",n.script=null,n}return r}(a.XFAObject),L=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"breakBefore",!0)).id=e.id||"",n.leader=e.leader||"",n.startNew=(0,c.getInteger)({data:e.startNew,defaultValue:0,validate:function(e){return 1===e}}),n.target=e.target||"",n.targetType=(0,c.getStringOption)(e.targetType,["auto","contentArea","pageArea","pageEven","pageOdd"]),n.trailer=e.trailer||"",n.use=e.use||"",n.usehref=e.usehref||"",n.script=null,n}return m(r,[{key:a.$toHTML,value:function(e){return this[a.$extra]={},c.HTMLResult.FAILURE}}]),r}(a.XFAObject),U=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"button",!0)).highlight=(0,c.getStringOption)(e.highlight,["inverted","none","outline","push"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return m(r,[{key:a.$toHTML,value:function(e){return c.HTMLResult.success({name:"button",attributes:{class:"xfaButton",style:{}},children:[]})}}]),r}(a.XFAObject),q=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"calculate",!0)).id=e.id||"",n.override=(0,c.getStringOption)(e.override,["disabled","error","ignore","warning"]),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.message=null,n.script=null,n}return r}(a.XFAObject),X=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"caption",!0)).id=e.id||"",n.placement=(0,c.getStringOption)(e.placement,["left","bottom","inline","right","top"]),n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.reserve=(0,c.getMeasurement)(e.reserve),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.font=null,n.margin=null,n.para=null,n.value=null,n}return m(r,[{key:a.$setValue,value:function(e){A(this,e)}},{key:a.$toHTML,value:function(e){if(!this.value)return c.HTMLResult.EMPTY;var t=this.value[a.$toHTML](e).html;if(!t)return c.HTMLResult.EMPTY;var r=[];"string"==typeof t?r.push({name:"#text",value:t}):r.push(t);var n=(0,o.toStyle)(this,"font","margin","para","visibility");switch(this.placement){case"left":case"right":this.reserve>0?n.width=(0,o.measureToString)(this.reserve):n.minWidth=(0,o.measureToString)(this.reserve);break;case"top":case"bottom":this.reserve>0?n.height=(0,o.measureToString)(this.reserve):n.minHeight=(0,o.measureToString)(this.reserve)}return c.HTMLResult.success({name:"div",attributes:{style:n,class:"xfaCaption"},children:r})}}]),r}(a.XFAObject),H=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"certificate")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),$=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"certificates",!0)).credentialServerPolicy=(0,c.getStringOption)(e.credentialServerPolicy,["optional","required"]),n.id=e.id||"",n.url=e.url||"",n.urlPolicy=e.urlPolicy||"",n.use=e.use||"",n.usehref=e.usehref||"",n.encryption=null,n.issuers=null,n.keyUsage=null,n.oids=null,n.signing=null,n.subjectDNs=null,n}return r}(a.XFAObject),z=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"checkButton",!0)).id=e.id||"",n.mark=(0,c.getStringOption)(e.mark,["default","check","circle","cross","diamond","square","star"]),n.shape=(0,c.getStringOption)(e.shape,["square","round"]),n.size=(0,c.getMeasurement)(e.size,"10pt"),n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t,r,n=(0,o.toStyle)(this,"border","margin"),i=(0,o.measureToString)(this.size);if(n.width=n.height=i,"square"===this.shape?(t="\u25AA",r="10%"):(t="\u25CF",r="50%"),n.borderRadius||(n.borderRadius=r),"default"!==this.mark)switch(this.mark){case"check":t="\u2713";break;case"circle":t="\u25CF";break;case"cross":t="\u2715";break;case"diamond":t="\u2666";break;case"square":t="\u25AA";break;case"star":t="\u2605"}"10px"!==i&&(n.fontSize=i,n.lineHeight=i,n.width=i,n.height=i);var s=this[a.$getParent]()[a.$getParent]()[a.$uid],u={name:"input",attributes:{class:"xfaCheckbox",fieldId:s,type:"radio",id:"".concat(s,"-radio")}},l=this[a.$getParent]()[a.$getParent]()[a.$getParent]();return l instanceof ye&&(u.attributes.name=l[a.$uid]),c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[u,{name:"span",attributes:{class:"xfaCheckboxMark",mark:t,style:n}}]})}}]),r}(a.XFAObject),G=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"choiceList",!0)).commitOn=(0,c.getStringOption)(e.commitOn,["select","exit"]),n.id=e.id||"",n.open=(0,c.getStringOption)(e.open,["userControl","always","multiSelect","onEntry"]),n.textEntry=(0,c.getInteger)({data:e.textEntry,defaultValue:0,validate:function(e){return 1===e}}),n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t=(0,o.toStyle)(this,"border","margin"),r=this[a.$getParent]()[a.$getParent](),n=[];if(r.items.children.length>0)for(var i=r.items.children[0][a.$toHTML]().html,s=r.items.children[1]?r.items.children[1][a.$toHTML]().html:[],u=0,l=i.length;u<l;u++)n.push({name:"option",attributes:{value:s[u]||i[u]},value:i[u]});var f={class:"xfaSelect",fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],style:t};return"multiSelect"===this.open&&(f.multiple=!0),c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[{name:"select",children:n,attributes:f}]})}}]),r}(a.XFAObject),W=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"color",!0)).cSpace=(0,c.getStringOption)(e.cSpace,["SRGB"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.value=e.value?(0,c.getColor)(e.value):"",n.extras=null,n}return m(r,[{key:a.$hasSettableValue,value:function(){return!1}},{key:a.$toStyle,value:function(){return this.value?u.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}]),r}(a.XFAObject),V=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"comb")).id=e.id||"",n.numberOfCells=(0,c.getInteger)({data:e.numberOfCells,defaultValue:0,validate:function(e){return e>=0}}),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),K=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"connect",!0)).connection=e.connection||"",n.id=e.id||"",n.ref=e.ref||"",n.usage=(0,c.getStringOption)(e.usage,["exportAndImport","exportOnly","importOnly"]),n.use=e.use||"",n.usehref=e.usehref||"",n.picture=null,n}return r}(a.XFAObject),Y=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"contentArea",!0)).h=(0,c.getMeasurement)(e.h),n.id=e.id||"",n.name=e.name||"",n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.w=(0,c.getMeasurement)(e.w),n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.desc=null,n.extras=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t={position:"absolute",left:(0,o.measureToString)(this.x),top:(0,o.measureToString)(this.y),width:(0,o.measureToString)(this.w),height:(0,o.measureToString)(this.h)};return c.HTMLResult.success({name:"div",children:[],attributes:{style:t,class:"xfaContentarea",id:this[a.$uid]}})}}]),r}(a.XFAObject),J=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"corner",!0)).id=e.id||"",n.inverted=(0,c.getInteger)({data:e.inverted,defaultValue:0,validate:function(e){return 1===e}}),n.join=(0,c.getStringOption)(e.join,["square","round"]),n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.radius=(0,c.getMeasurement)(e.radius),n.stroke=(0,c.getStringOption)(e.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),n.thickness=(0,c.getMeasurement)(e.thickness,"0.5pt"),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(){var e=(0,o.toStyle)(this,"visibility");return e.radius=(0,o.measureToString)(this.radius),e}}]),r}(a.XFAObject),Z=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"date")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=new Date(this[a.$content].trim())}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(this[a.$content].toString())}}]),r}(a.ContentObject),Q=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"dateTime")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=new Date(this[a.$content].trim())}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(this[a.$content].toString())}}]),r}(a.ContentObject),ee=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"dateTimeEdit",!0)).hScrollPolicy=(0,c.getStringOption)(e.hScrollPolicy,["auto","off","on"]),n.id=e.id||"",n.picker=(0,c.getStringOption)(e.picker,["host","none"]),n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.comb=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t=(0,o.toStyle)(this,"border","font","margin"),r={name:"input",attributes:{type:"text",fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],class:"xfaTextfield",style:t}};return c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[r]})}}]),r}(a.XFAObject),te=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"decimal")).fracDigits=(0,c.getInteger)({data:e.fracDigits,defaultValue:2,validate:function(e){return!0}}),n.id=e.id||"",n.leadDigits=(0,c.getInteger)({data:e.leadDigits,defaultValue:-1,validate:function(e){return!0}}),n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){var e=parseFloat(this[a.$content].trim());this[a.$content]=isNaN(e)?null:e}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(null!==this[a.$content]?this[a.$content].toString():"")}}]),r}(a.ContentObject),re=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"defaultUi",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return r}(a.XFAObject),ne=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"desc",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return r}(a.XFAObject),ae=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"])).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.OptionObject),ie=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"digestMethods",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.digestMethod=new a.XFAObjectArray,n}return r}(a.XFAObject),oe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"draw",!0)).anchorType=(0,c.getStringOption)(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),n.colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.h=e.h?(0,c.getMeasurement)(e.h):"",n.hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.locale=e.locale||"",n.maxH=(0,c.getMeasurement)(e.maxH,"0pt"),n.maxW=(0,c.getMeasurement)(e.maxW,"0pt"),n.minH=(0,c.getMeasurement)(e.minH,"0pt"),n.minW=(0,c.getMeasurement)(e.minW,"0pt"),n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.rotate=(0,c.getInteger)({data:e.rotate,defaultValue:0,validate:function(e){return e%90==0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.w=e.w?(0,c.getMeasurement)(e.w):"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.assist=null,n.border=null,n.caption=null,n.desc=null,n.extras=null,n.font=null,n.keep=null,n.margin=null,n.para=null,n.traversal=null,n.ui=null,n.value=null,n.setProperty=new a.XFAObjectArray,n}return m(r,[{key:a.$setValue,value:function(e){A(this,e)}},{key:a.$toHTML,value:function(e){if("hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return c.HTMLResult.EMPTY;if((0,o.fixDimensions)(this),""!==this.w&&""===this.h&&this.value){var t=this.value[a.$text]();if(t){var r=(0,o.layoutText)(t,this.font.size,{width:this.w,height:1/0}).height;this.h=r||""}}switch(C(this,e)){case 0:return c.HTMLResult.EMPTY;case 1:return c.HTMLResult.FAILURE}var n=(0,o.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","borderMarginPadding"),i=["xfaDraw"];this.font&&i.push("xfaFont");var s={style:n,id:this[a.$uid],class:i.join(" ")};this.name&&(s.xfaName=this.name);var u={name:"div",attributes:s,children:[]},l=(0,o.addExtraDivForBorder)(u),f=(0,o.computeBbox)(this,u,e),d=this.value?this.value[a.$toHTML](e).html:null;if(null===d)return c.HTMLResult.success(l,f);if(u.children.push(d),"xfaRich"===d.attributes.class&&(""===this.h&&(n.height="auto"),""===this.w&&(n.width="auto"),this.para)){switch(s.style.display="flex",s.style.flexDirection="column",this.para.vAlign){case"top":s.style.justifyContent="start";break;case"bottom":s.style.justifyContent="end";break;case"middle":s.style.justifyContent="center"}var p=this.para[a.$toStyle]();if(d.attributes.style)for(var g=0,m=Object.entries(p);g<m.length;g++){var v=h(m[g],2),y=v[0],b=v[1];y in d.attributes.style||(d.attributes.style[y]=b)}else d.attributes.style=p}return c.HTMLResult.success(l,f)}}]),r}(a.XFAObject),se=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"edge",!0)).cap=(0,c.getStringOption)(e.cap,["square","butt","round"]),n.id=e.id||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.stroke=(0,c.getStringOption)(e.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),n.thickness=Math.max(1,Math.round((0,c.getMeasurement)(e.thickness,"0.5pt"))),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(){var e=(0,o.toStyle)(this,"visibility");if(Object.assign(e,{linecap:this.cap,width:(0,o.measureToString)(Math.max(1,Math.round(this.thickness))),color:this.color?this.color[a.$toStyle]():"#000000",style:""}),"visible"!==this.presence)e.style="none";else switch(this.stroke){case"solid":e.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":e.style="dashed";break;case"dotted":e.style="dotted";break;case"embossed":e.style="ridge";break;case"etched":e.style="groove";break;case"lowered":e.style="inset";break;case"raised":e.style="outset"}return e}}]),r}(a.XFAObject),ce=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"])).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.OptionObject),ue=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encodings",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.encoding=new a.XFAObjectArray,n}return r}(a.XFAObject),le=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encrypt",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.certificate=null,n}return r}(a.XFAObject),fe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encryptData",!0)).id=e.id||"",n.operation=(0,c.getStringOption)(e.operation,["encrypt","decrypt"]),n.target=e.target||"",n.use=e.use||"",n.usehref=e.usehref||"",n.filter=null,n.manifest=null,n}return r}(a.XFAObject),he=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encryption",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.certificate=new a.XFAObjectArray,n}return r}(a.XFAObject),de=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"])).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.OptionObject),pe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"encryptionMethods",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.encryptionMethod=new a.XFAObjectArray,n}return r}(a.XFAObject),ge=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"event",!0)).activity=(0,c.getStringOption)(e.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),n.id=e.id||"",n.listen=(0,c.getStringOption)(e.listen,["refOnly","refAndDescendents"]),n.name=e.name||"",n.ref=e.ref||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.encryptData=null,n.execute=null,n.script=null,n.signData=null,n.submit=null,n}return r}(a.XFAObject),me=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"exData")).contentType=e.contentType||"",n.href=e.href||"",n.id=e.id||"",n.maxLength=(0,c.getInteger)({data:e.maxLength,defaultValue:-1,validate:function(e){return e>=-1}}),n.name=e.name||"",n.rid=e.rid||"",n.transferEncoding=(0,c.getStringOption)(e.transferEncoding,["none","base64","package"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$onChild,value:function(e){return("text/html"===this.contentType&&e[a.$namespaceId]===i.NamespaceIds.xhtml.id||"text/xml"===this.contentType)&&(this[a.$content]=e,!0)}},{key:a.$toHTML,value:function(e){return"text/html"===this.contentType&&this[a.$content]?this[a.$content][a.$toHTML](e):c.HTMLResult.EMPTY}}]),r}(a.ContentObject),ve=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"exObject",!0)).archive=e.archive||"",n.classId=e.classId||"",n.codeBase=e.codeBase||"",n.codeType=e.codeType||"",n.id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.exObject=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return r}(a.XFAObject),ye=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"exclGroup",!0)).access=(0,c.getStringOption)(e.access,["open","nonInteractive","protected","readOnly"]),n.accessKey=e.accessKey||"",n.anchorType=(0,c.getStringOption)(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),n.colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.h=e.h?(0,c.getMeasurement)(e.h):"",n.hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.layout=(0,c.getStringOption)(e.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),n.maxH=(0,c.getMeasurement)(e.maxH,"0pt"),n.maxW=(0,c.getMeasurement)(e.maxW,"0pt"),n.minH=(0,c.getMeasurement)(e.minH,"0pt"),n.minW=(0,c.getMeasurement)(e.minW,"0pt"),n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.w=e.w?(0,c.getMeasurement)(e.w):"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.assist=null,n.bind=null,n.border=null,n.calculate=null,n.caption=null,n.desc=null,n.extras=null,n.margin=null,n.para=null,n.traversal=null,n.validate=null,n.connect=new a.XFAObjectArray,n.event=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.setProperty=new a.XFAObjectArray,n}return m(r,[{key:a.$hasSettableValue,value:function(){return!0}},{key:a.$setValue,value:function(e){var t,r=f(this.field.children);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!n.value){var i=new _t({});n[a.$appendChild](i),n.value=i}var o=new M({});o[a.$content]=0;var s,c=f(n.items.children);try{for(c.s();!(s=c.n()).done;)if(s.value[a.$hasItem](e)){o[a.$content]=1;break}}catch(e){c.e(e)}finally{c.f()}n.value[a.$setValue](o)}}catch(e){r.e(e)}finally{r.f()}}},{key:a.$flushHTML,value:function(){return(0,s.flushHTML)(this)}},{key:a.$addHTML,value:function(e,t){(0,s.addHTML)(this,e,t)}},{key:a.$getAvailableSpace,value:function(){return(0,s.getAvailableSpace)(this)}},{key:a.$toHTML,value:function(e){if("hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return c.HTMLResult.EMPTY;(0,o.fixDimensions)(this);var t=[],r={id:this[a.$uid]};switch(this[a.$extra]||(this[a.$extra]=Object.create(null)),Object.assign(this[a.$extra],{children:t,attributes:r,attempt:0,availableSpace:e,width:0,height:0,prevHeight:0,currentWidth:0}),C(this,e)){case 0:return c.HTMLResult.EMPTY;case 1:return c.HTMLResult.FAILURE}e={width:""===this.w?e.width:this.w,height:""===this.h?e.height:this.h};var n=new Set(["field"]);if("row"===this.layout){var i=this[a.$getParent]().columnWidths;Array.isArray(i)&&i.length>0&&(this[a.$extra].columnWidths=i,this[a.$extra].currentColumn=0)}var s,u=(0,o.toStyle)(this,"anchorType","dimensions","position","presence","borderMarginPadding","hAlign"),l=["xfaExclgroup"],f=(0,o.layoutClass)(this);if(f&&l.push(f),r.style=u,r.class=l.join(" "),this.name&&(r.xfaName=this.name),"lr-tb"===this.layout||"rl-tb"===this.layout){for(;this[a.$extra].attempt<2&&!this[a.$childrenToHTML]({filter:n,include:!0});this[a.$extra].attempt++);s=2===this[a.$extra].attempt}else s=!this[a.$childrenToHTML]({filter:n,include:!0});if(s)return c.HTMLResult.FAILURE;var h=0,d=0;this.margin&&(h=this.margin.leftInset+this.margin.rightInset,d=this.margin.topInset+this.margin.bottomInset),""===this.w&&(u.width=(0,o.measureToString)(this[a.$extra].width+h)),""===this.h&&(u.height=(0,o.measureToString)(this[a.$extra].height+d));var p,g={name:"div",attributes:r,children:t};if(g=(0,o.addExtraDivForBorder)(g),""!==this.w&&""!==this.h)p=[this.x,this.y,this.w,this.h];else{var m=""===this.w?h+this[a.$extra].width:this.w,v=""===this.h?d+this[a.$extra].height:this.h;p=[this.x,this.y,m,v]}return delete this[a.$extra],c.HTMLResult.success(g,p)}}]),r}(a.XFAObject),be=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"execute")).connection=e.connection||"",n.executeType=(0,c.getStringOption)(e.executeType,["import","remerge"]),n.id=e.id||"",n.runAt=(0,c.getStringOption)(e.runAt,["client","both","server"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),we=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"extras",!0)).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.extras=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return r}(a.XFAObject),ke=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"field",!0)).access=(0,c.getStringOption)(e.access,["open","nonInteractive","protected","readOnly"]),n.accessKey=e.accessKey||"",n.anchorType=(0,c.getStringOption)(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),n.colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.h=e.h?(0,c.getMeasurement)(e.h):"",n.hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.locale=e.locale||"",n.maxH=(0,c.getMeasurement)(e.maxH,"0pt"),n.maxW=(0,c.getMeasurement)(e.maxW,"0pt"),n.minH=(0,c.getMeasurement)(e.minH,"0pt"),n.minW=(0,c.getMeasurement)(e.minW,"0pt"),n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.rotate=(0,c.getInteger)({data:e.rotate,defaultValue:0,validate:function(e){return e%90==0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.w=e.w?(0,c.getMeasurement)(e.w):"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.assist=null,n.bind=null,n.border=null,n.calculate=null,n.caption=null,n.desc=null,n.extras=null,n.font=null,n.format=null,n.items=new a.XFAObjectArray(2),n.keep=null,n.margin=null,n.para=null,n.traversal=null,n.ui=null,n.validate=null,n.value=null,n.bindItems=new a.XFAObjectArray,n.connect=new a.XFAObjectArray,n.event=new a.XFAObjectArray,n.setProperty=new a.XFAObjectArray,n}return m(r,[{key:a.$setValue,value:function(e){A(this,e)}},{key:a.$toHTML,value:function(e){if(!this.ui||"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return c.HTMLResult.EMPTY;switch((0,o.fixDimensions)(this),C(this,e)){case 0:return c.HTMLResult.EMPTY;case 1:return c.HTMLResult.FAILURE}var t=(0,o.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","borderMarginPadding","hAlign"),r=["xfaField"];this.font&&r.push("xfaFont");var n={style:t,id:this[a.$uid],class:r.join(" ")};this.name&&(n.xfaName=this.name);var i=[],s={name:"div",attributes:n,children:i},u=(0,o.computeBbox)(this,s,e);s=(0,o.addExtraDivForBorder)(s);var l=this.ui?this.ui[a.$toHTML]().html:null;if(!l)return c.HTMLResult.success(s,u);if(l.attributes.style||(l.attributes.style=Object.create(null)),i.push(l),this.value)if(this.ui.imageEdit)l.children.push(this.value[a.$toHTML]().html);else if("button"!==l.name){var f=this.value[a.$toHTML]().html;f&&("textarea"===l.children[0].name?l.children[0].attributes.textContent=f.value:l.children[0].attributes.value=f.value)}var h=this.caption?this.caption[a.$toHTML]().html:null;if(!h)return c.HTMLResult.success(s,u);if("button"===l.name)return l.attributes.style.background=t.background,delete t.background,"div"===h.name&&(h.name="span"),l.children.push(h),c.HTMLResult.success(s,u);switch(l.children.splice(0,0,h),this.caption.placement){case"left":l.attributes.style.flexDirection="row";break;case"right":l.attributes.style.flexDirection="row-reverse";break;case"top":l.attributes.style.alignItems="start",l.attributes.style.flexDirection="column";break;case"bottom":l.attributes.style.alignItems="start",l.attributes.style.flexDirection="column-reverse";break;case"inline":delete l.attributes.class,h.attributes.style.float="left"}return c.HTMLResult.success(s,u)}}]),r}(a.XFAObject);t.Field=ke;var Se=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"fill",!0)).id=e.id||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n.linear=null,n.pattern=null,n.radial=null,n.solid=null,n.stipple=null,n}return m(r,[{key:a.$toStyle,value:function(){var e="color";this[a.$getParent]()instanceof N&&(e="background");var t,r=Object.create(null),n=f(Object.getOwnPropertyNames(this));try{for(n.s();!(t=n.n()).done;){var i=t.value;if("extras"!==i&&"color"!==i){var o=this[i];if(o instanceof a.XFAObject)return r[e]=o[a.$toStyle](this.color),r}}}catch(e){n.e(e)}finally{n.f()}return this.color&&(r[e]=this.color[a.$toStyle]()),r}}]),r}(a.XFAObject),xe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"filter",!0)).addRevocationInfo=(0,c.getStringOption)(e.addRevocationInfo,["","required","optional","none"]),n.id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n.version=(0,c.getInteger)({data:n.version,defaultValue:5,validate:function(e){return e>=1&&e<=5}}),n.appearanceFilter=null,n.certificates=null,n.digestMethods=null,n.encodings=null,n.encryptionMethods=null,n.handler=null,n.lockDocument=null,n.mdp=null,n.reasons=null,n.timeStamp=null,n}return r}(a.XFAObject),Ae=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"float")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){var e=parseFloat(this[a.$content].trim());this[a.$content]=isNaN(e)?null:e}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(null!==this[a.$content]?this[a.$content].toString():"")}}]),r}(a.ContentObject),Oe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"font",!0)).baselineShift=(0,c.getMeasurement)(e.baselineShift),n.fontHorizontalScale=(0,c.getFloat)({data:e.fontHorizontalScale,defaultValue:100,validate:function(e){return e>=0}}),n.fontVerticalScale=(0,c.getFloat)({data:e.fontVerticalScale,defaultValue:100,validate:function(e){return e>=0}}),n.id=e.id||"",n.kerningMode=(0,c.getStringOption)(e.kerningMode,["none","pair"]),n.letterSpacing=(0,c.getMeasurement)(e.letterSpacing,"0"),n.lineThrough=(0,c.getInteger)({data:e.lineThrough,defaultValue:0,validate:function(e){return 1===e||2===e}}),n.lineThroughPeriod=(0,c.getStringOption)(e.lineThroughPeriod,["all","word"]),n.overline=(0,c.getInteger)({data:e.overline,defaultValue:0,validate:function(e){return 1===e||2===e}}),n.overlinePeriod=(0,c.getStringOption)(e.overlinePeriod,["all","word"]),n.posture=(0,c.getStringOption)(e.posture,["normal","italic"]),n.size=(0,c.getMeasurement)(e.size,"10pt"),n.typeface=e.typeface||"",n.underline=(0,c.getInteger)({data:e.underline,defaultValue:0,validate:function(e){return 1===e||2===e}}),n.underlinePeriod=(0,c.getStringOption)(e.underlinePeriod,["all","word"]),n.use=e.use||"",n.usehref=e.usehref||"",n.weight=(0,c.getStringOption)(e.weight,["normal","bold"]),n.extras=null,n.fill=null,n}return m(r,[{key:a.$toStyle,value:function(){var e=(0,o.toStyle)(this,"fill"),t=e.color;t&&("#000000"===t?delete e.color:t.startsWith("#")||(e.background=t,e.backgroundClip="text",e.color="transparent")),this.baselineShift&&(e.verticalAlign=(0,o.measureToString)(this.baselineShift)),"none"!==this.kerningMode&&(e.fontKerning="normal"),this.letterSpacing&&(e.letterSpacing=(0,o.measureToString)(this.letterSpacing)),0!==this.lineThrough&&(e.textDecoration="line-through",2===this.lineThrough&&(e.textDecorationStyle="double")),0!==this.overline&&(e.textDecoration="overline",2===this.overline&&(e.textDecorationStyle="double")),"normal"!==this.posture&&(e.fontStyle=this.posture);var r=(0,o.measureToString)(.99*this.size);return"10px"!==r&&(e.fontSize=r),e.fontFamily=(0,o.getFonts)(this.typeface),0!==this.underline&&(e.textDecoration="underline",2===this.underline&&(e.textDecorationStyle="double")),"normal"!==this.weight&&(e.fontWeight=this.weight),e}}]),r}(a.XFAObject),Ce=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"format",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.picture=null,n}return r}(a.XFAObject),Te=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"handler")).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),Fe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"hyphenation")).excludeAllCaps=(0,c.getInteger)({data:e.excludeAllCaps,defaultValue:0,validate:function(e){return 1===e}}),n.excludeInitialCap=(0,c.getInteger)({data:e.excludeInitialCap,defaultValue:0,validate:function(e){return 1===e}}),n.hyphenate=(0,c.getInteger)({data:e.hyphenate,defaultValue:0,validate:function(e){return 1===e}}),n.id=e.id||"",n.pushCharacterCount=(0,c.getInteger)({data:e.pushCharacterCount,defaultValue:3,validate:function(e){return e>=0}}),n.remainCharacterCount=(0,c.getInteger)({data:e.remainCharacterCount,defaultValue:3,validate:function(e){return e>=0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.wordCharacterCount=(0,c.getInteger)({data:e.wordCharacterCount,defaultValue:7,validate:function(e){return e>=0}}),n}return r}(a.XFAObject),Pe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"image")).aspect=(0,c.getStringOption)(e.aspect,["fit","actual","height","none","width"]),n.contentType=e.contentType||"",n.href=e.href||"",n.id=e.id||"",n.name=e.name||"",n.transferEncoding=(0,c.getStringOption)(e.transferEncoding,["base64","none","package"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$toHTML,value:function(){if(this.href||!this[a.$content])return c.HTMLResult.EMPTY;if("base64"===this.transferEncoding){var e=(0,u.stringToBytes)(atob(this[a.$content])),t=new Blob([e],{type:this.contentType});return c.HTMLResult.success({name:"img",attributes:{class:"xfaImage",style:{},src:URL.createObjectURL(t)}})}return c.HTMLResult.EMPTY}}]),r}(a.StringObject),_e=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"imageEdit",!0)).data=(0,c.getStringOption)(e.data,["link","embed"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){return"embed"===this.data?c.HTMLResult.success({name:"div",children:[],attributes:{}}):c.HTMLResult.EMPTY}}]),r}(a.XFAObject),Ie=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"integer")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){var e=parseInt(this[a.$content].trim(),10);this[a.$content]=isNaN(e)?null:e}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(null!==this[a.$content]?this[a.$content].toString():"")}}]),r}(a.ContentObject),Ee=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"issuers",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.certificate=new a.XFAObjectArray,n}return r}(a.XFAObject),je=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"items",!0)).id=e.id||"",n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.ref=e.ref||"",n.save=(0,c.getInteger)({data:e.save,defaultValue:0,validate:function(e){return 1===e}}),n.use=e.use||"",n.usehref=e.usehref||"",n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return m(r,[{key:a.$hasItem,value:function(e){return this.hasOwnProperty(e[a.$nodeName])&&this[e[a.$nodeName]].children.some((function(t){return t[a.$content]===e[a.$content]}))}},{key:a.$toHTML,value:function(){var e,t=[],r=f(this[a.$getChildren]());try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n[a.$text]())}}catch(e){r.e(e)}finally{r.f()}return c.HTMLResult.success(t)}}]),r}(a.XFAObject);t.Items=je;var Re=function(e){y(r,e);var t=w(r);function r(e){var n;v(this,r),(n=t.call(this,x,"keep",!0)).id=e.id||"";var a=["none","contentArea","pageArea"];return n.intact=(0,c.getStringOption)(e.intact,a),n.next=(0,c.getStringOption)(e.next,a),n.previous=(0,c.getStringOption)(e.previous,a),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return r}(a.XFAObject),Me=function(e){y(r,e);var t=w(r);function r(e){var n;v(this,r);var a=["","yes","no"];return(n=t.call(this,x,"keyUsage")).crlSign=(0,c.getStringOption)(e.crlSign,a),n.dataEncipherment=(0,c.getStringOption)(e.dataEncipherment,a),n.decipherOnly=(0,c.getStringOption)(e.decipherOnly,a),n.digitalSignature=(0,c.getStringOption)(e.digitalSignature,a),n.encipherOnly=(0,c.getStringOption)(e.encipherOnly,a),n.id=e.id||"",n.keyAgreement=(0,c.getStringOption)(e.keyAgreement,a),n.keyCertSign=(0,c.getStringOption)(e.keyCertSign,a),n.keyEncipherment=(0,c.getStringOption)(e.keyEncipherment,a),n.nonRepudiation=(0,c.getStringOption)(e.nonRepudiation,a),n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),Ne=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"line",!0)).hand=(0,c.getStringOption)(e.hand,["even","left","right"]),n.id=e.id||"",n.slope=(0,c.getStringOption)(e.slope,["\\\\","/"]),n.use=e.use||"",n.usehref=e.usehref||"",n.edge=null,n}return r}(a.XFAObject),Be=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"linear",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["toRight","toBottom","toLeft","toTop"]),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){e=e?e[a.$toStyle]():"#FFFFFF";var t=this.type.replace(/([RBLT])/," $1").toLowerCase(),r=this.color?this.color[a.$toStyle]():"#000000";return"linear-gradient(".concat(t,", ").concat(e,", ").concat(r,")")}}]),r}(a.XFAObject),De=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"lockDocument")).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=(0,c.getStringOption)(this[a.$content],["auto","0","1"])}}]),r}(a.ContentObject),Le=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"manifest",!0)).action=(0,c.getStringOption)(e.action,["include","all","exclude"]),n.id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.ref=new a.XFAObjectArray,n}return r}(a.XFAObject),Ue=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"margin",!0)).bottomInset=(0,c.getMeasurement)(e.bottomInset,"0"),n.id=e.id||"",n.leftInset=(0,c.getMeasurement)(e.leftInset,"0"),n.rightInset=(0,c.getMeasurement)(e.rightInset,"0"),n.topInset=(0,c.getMeasurement)(e.topInset,"0"),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(){return{margin:(0,o.measureToString)(this.topInset)+" "+(0,o.measureToString)(this.rightInset)+" "+(0,o.measureToString)(this.bottomInset)+" "+(0,o.measureToString)(this.leftInset)}}}]),r}(a.XFAObject),qe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"mdp")).id=e.id||"",n.permissions=(0,c.getInteger)({data:e.permissions,defaultValue:2,validate:function(e){return 1===e||3===e}}),n.signatureType=(0,c.getStringOption)(e.signatureType,["filler","author"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),Xe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"medium")).id=e.id||"",n.imagingBBox=(0,c.getBBox)(e.imagingBBox),n.long=(0,c.getMeasurement)(e.long),n.orientation=(0,c.getStringOption)(e.orientation,["portrait","landscape"]),n.short=(0,c.getMeasurement)(e.short),n.stock=e.stock||"",n.trayIn=(0,c.getStringOption)(e.trayIn,["auto","delegate","pageFront"]),n.trayOut=(0,c.getStringOption)(e.trayOut,["auto","delegate"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),He=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"message",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.text=new a.XFAObjectArray,n}return r}(a.XFAObject),$e=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"numericEdit",!0)).hScrollPolicy=(0,c.getStringOption)(e.hScrollPolicy,["auto","off","on"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.comb=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t=(0,o.toStyle)(this,"border","font","margin"),r={name:"input",attributes:{type:"text",fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],class:"xfaTextfield",style:t}};return c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[r]})}}]),r}(a.XFAObject),ze=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"occur",!0)).id=e.id||"",n.initial=(0,c.getInteger)({data:e.initial,defaultValue:1,validate:function(e){return!0}}),n.max=(0,c.getInteger)({data:e.max,defaultValue:1,validate:function(e){return!0}}),n.min=(0,c.getInteger)({data:e.min,defaultValue:1,validate:function(e){return!0}}),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return r}(a.XFAObject),Ge=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"oid")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),We=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"oids",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.oid=new a.XFAObjectArray,n}return r}(a.XFAObject),Ve=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"overflow")).id=e.id||"",n.leader=e.leader||"",n.target=e.target||"",n.trailer=e.trailer||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),Ke=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"pageArea",!0)).blankOrNotBlank=(0,c.getStringOption)(e.blankOrNotBlank,["any","blank","notBlank"]),n.id=e.id||"",n.initialNumber=(0,c.getInteger)({data:e.initialNumber,defaultValue:1,validate:function(e){return!0}}),n.name=e.name||"",n.numbered=(0,c.getInteger)({data:e.numbered,defaultValue:1,validate:function(e){return!0}}),n.oddOrEven=(0,c.getStringOption)(e.oddOrEven,["any","even","odd"]),n.pagePosition=(0,c.getStringOption)(e.pagePosition,["any","first","last","only","rest"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.desc=null,n.extras=null,n.medium=null,n.occur=null,n.area=new a.XFAObjectArray,n.contentArea=new a.XFAObjectArray,n.draw=new a.XFAObjectArray,n.exclGroup=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n}return m(r,[{key:a.$getNextPage,value:function(){this[a.$extra]||(this[a.$extra]={numberOfUse:1});var e=this[a.$getParent]();return"orderedOccurrence"===e.relation&&this.occur&&(-1===this.occur.max||this[a.$extra].numberOfUse<this.occur.max)?(this[a.$extra].numberOfUse+=1,this):(delete this[a.$extra],e[a.$getNextPage]())}},{key:a.$getAvailableSpace,value:function(){return{width:1/0,height:1/0}}},{key:a.$toHTML,value:function(){this[a.$extra]||(this[a.$extra]={numberOfUse:1});var e=[];this[a.$extra].children=e;var t=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(t.width=(0,o.measureToString)(this.medium.short),t.height=(0,o.measureToString)(this.medium.long),"landscape"===this.medium.orientation){var r=t.width;t.width=t.height,t.height=r}}else(0,u.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[a.$childrenToHTML]({filter:new Set(["area","draw","field","subform","contentArea"]),include:!0}),c.HTMLResult.success({name:"div",children:e,attributes:{id:this[a.$uid],style:t}})}}]),r}(a.XFAObject),Ye=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"pageSet",!0)).duplexImposition=(0,c.getStringOption)(e.duplexImposition,["longEdge","shortEdge"]),n.id=e.id||"",n.name=e.name||"",n.relation=(0,c.getStringOption)(e.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.occur=null,n.pageArea=new a.XFAObjectArray,n.pageSet=new a.XFAObjectArray,n}return m(r,[{key:a.$getNextPage,value:function(){if(this[a.$extra]||(this[a.$extra]={numberOfUse:1,currentIndex:-1}),"orderedOccurrence"===this.relation){if(this[a.$extra].currentIndex+1<this.pageArea.children.length)return this[a.$extra].currentIndex+=1,this.pageArea.children[this[a.$extra].currentIndex];if(this[a.$extra].currentIndex+1<this.pageSet.children.length)return this[a.$extra].currentIndex+=1,this.pageSet.children[this[a.$extra].currentIndex];if(this.occur&&(-1===this.occur.max||this[a.$extra].numberOfUse<this.occur.max))return this[a.$extra].numberOfUse+=1,this[a.$extra].currentIndex=0,this.pageArea.children.length>0?this.pageArea.children[0]:this.pageSet.children[0][a.$getNextPage]();delete this[a.$extra];var e=this[a.$getParent]();return e instanceof r?e[a.$getNextPage]():this[a.$getNextPage]()}var t=O(this)[a.$extra].pageNumber,n=t%2==0?"even":"odd",i=0===t?"first":"rest",o=this.pageArea.children.find((function(e){return e.oddOrEven===n&&e.pagePosition===i}));return o||((o=this.pageArea.children.find((function(e){return"any"===e.oddOrEven&&e.pagePosition===i})))?o:(o=this.pageArea.children.find((function(e){return"any"===e.oddOrEven&&"any"===e.pagePosition})))||this.pageArea.children[0])}}]),r}(a.XFAObject),Je=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"para",!0)).hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.lineHeight=e.lineHeight?(0,c.getMeasurement)(e.lineHeight,"0pt"):"",n.marginLeft=e.marginLeft?(0,c.getMeasurement)(e.marginLeft,"0pt"):"",n.marginRight=e.marginRight?(0,c.getMeasurement)(e.marginRight,"0pt"):"",n.orphans=(0,c.getInteger)({data:e.orphans,defaultValue:0,validate:function(e){return e>=0}}),n.preserve=e.preserve||"",n.radixOffset=e.radixOffset?(0,c.getMeasurement)(e.radixOffset,"0pt"):"",n.spaceAbove=e.spaceAbove?(0,c.getMeasurement)(e.spaceAbove,"0pt"):"",n.spaceBelow=e.spaceBelow?(0,c.getMeasurement)(e.spaceBelow,"0pt"):"",n.tabDefault=e.tabDefault?(0,c.getMeasurement)(n.tabDefault):"",n.tabStops=(e.tabStops||"").trim().split(/\\s+/).map((function(e,t){return t%2==1?(0,c.getMeasurement)(e):e})),n.textIndent=e.textIndent?(0,c.getMeasurement)(e.textIndent,"0pt"):"",n.use=e.use||"",n.usehref=e.usehref||"",n.vAlign=(0,c.getStringOption)(e.vAlign,["top","bottom","middle"]),n.widows=(0,c.getInteger)({data:e.widows,defaultValue:0,validate:function(e){return e>=0}}),n.hyphenation=null,n}return m(r,[{key:a.$toStyle,value:function(){var e=(0,o.toStyle)(this,"hAlign");return""!==this.marginLeft&&(e.marginLeft=(0,o.measureToString)(this.marginLeft)),""!==this.marginRight&&(e.marginRight=(0,o.measureToString)(this.marginRight)),""!==this.spaceAbove&&(e.marginTop=(0,o.measureToString)(this.spaceAbove)),""!==this.spaceBelow&&(e.marginBottom=(0,o.measureToString)(this.spaceBelow)),""!==this.textIndent&&(e.textIndent=(0,o.measureToString)(this.textIndent),(0,o.fixTextIndent)(e)),this.lineHeight>0&&(e.lineHeight=(0,o.measureToString)(this.lineHeight)),""!==this.tabDefault&&(e.tabSize=(0,o.measureToString)(this.tabDefault)),this.tabStops.length,this.hyphenatation&&Object.assign(e,this.hyphenatation[a.$toStyle]()),e}}]),r}(a.XFAObject),Ze=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"passwordEdit",!0)).hScrollPolicy=(0,c.getStringOption)(e.hScrollPolicy,["auto","off","on"]),n.id=e.id||"",n.passwordChar=e.passwordChar||"*",n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.margin=null,n}return r}(a.XFAObject),Qe=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"pattern",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){e=e?e[a.$toStyle]():"#FFFFFF";var t=this.color?this.color[a.$toStyle]():"#000000",r="repeating-linear-gradient",n="".concat(e,",").concat(e," ").concat(5,"px,").concat(t," ").concat(5,"px,").concat(t," ").concat(10,"px");switch(this.type){case"crossHatch":return"".concat(r,"(to top,").concat(n,") ").concat(r,"(to right,").concat(n,")");case"crossDiagonal":return"".concat(r,"(45deg,").concat(n,") ").concat(r,"(-45deg,").concat(n,")");case"diagonalLeft":return"".concat(r,"(45deg,").concat(n,")");case"diagonalRight":return"".concat(r,"(-45deg,").concat(n,")");case"horizontal":return"".concat(r,"(to top,").concat(n,")");case"vertical":return"".concat(r,"(to right,").concat(n,")")}return""}}]),r}(a.XFAObject),et=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"picture")).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),tt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"proto",!0)).appearanceFilter=new a.XFAObjectArray,n.arc=new a.XFAObjectArray,n.area=new a.XFAObjectArray,n.assist=new a.XFAObjectArray,n.barcode=new a.XFAObjectArray,n.bindItems=new a.XFAObjectArray,n.bookend=new a.XFAObjectArray,n.boolean=new a.XFAObjectArray,n.border=new a.XFAObjectArray,n.break=new a.XFAObjectArray,n.breakAfter=new a.XFAObjectArray,n.breakBefore=new a.XFAObjectArray,n.button=new a.XFAObjectArray,n.calculate=new a.XFAObjectArray,n.caption=new a.XFAObjectArray,n.certificate=new a.XFAObjectArray,n.certificates=new a.XFAObjectArray,n.checkButton=new a.XFAObjectArray,n.choiceList=new a.XFAObjectArray,n.color=new a.XFAObjectArray,n.comb=new a.XFAObjectArray,n.connect=new a.XFAObjectArray,n.contentArea=new a.XFAObjectArray,n.corner=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.dateTimeEdit=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.defaultUi=new a.XFAObjectArray,n.desc=new a.XFAObjectArray,n.digestMethod=new a.XFAObjectArray,n.digestMethods=new a.XFAObjectArray,n.draw=new a.XFAObjectArray,n.edge=new a.XFAObjectArray,n.encoding=new a.XFAObjectArray,n.encodings=new a.XFAObjectArray,n.encrypt=new a.XFAObjectArray,n.encryptData=new a.XFAObjectArray,n.encryption=new a.XFAObjectArray,n.encryptionMethod=new a.XFAObjectArray,n.encryptionMethods=new a.XFAObjectArray,n.event=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.exObject=new a.XFAObjectArray,n.exclGroup=new a.XFAObjectArray,n.execute=new a.XFAObjectArray,n.extras=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.fill=new a.XFAObjectArray,n.filter=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.font=new a.XFAObjectArray,n.format=new a.XFAObjectArray,n.handler=new a.XFAObjectArray,n.hyphenation=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.imageEdit=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.issuers=new a.XFAObjectArray,n.items=new a.XFAObjectArray,n.keep=new a.XFAObjectArray,n.keyUsage=new a.XFAObjectArray,n.line=new a.XFAObjectArray,n.linear=new a.XFAObjectArray,n.lockDocument=new a.XFAObjectArray,n.manifest=new a.XFAObjectArray,n.margin=new a.XFAObjectArray,n.mdp=new a.XFAObjectArray,n.medium=new a.XFAObjectArray,n.message=new a.XFAObjectArray,n.numericEdit=new a.XFAObjectArray,n.occur=new a.XFAObjectArray,n.oid=new a.XFAObjectArray,n.oids=new a.XFAObjectArray,n.overflow=new a.XFAObjectArray,n.pageArea=new a.XFAObjectArray,n.pageSet=new a.XFAObjectArray,n.para=new a.XFAObjectArray,n.passwordEdit=new a.XFAObjectArray,n.pattern=new a.XFAObjectArray,n.picture=new a.XFAObjectArray,n.radial=new a.XFAObjectArray,n.reason=new a.XFAObjectArray,n.reasons=new a.XFAObjectArray,n.rectangle=new a.XFAObjectArray,n.ref=new a.XFAObjectArray,n.script=new a.XFAObjectArray,n.setProperty=new a.XFAObjectArray,n.signData=new a.XFAObjectArray,n.signature=new a.XFAObjectArray,n.signing=new a.XFAObjectArray,n.solid=new a.XFAObjectArray,n.speak=new a.XFAObjectArray,n.stipple=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n.subformSet=new a.XFAObjectArray,n.subjectDN=new a.XFAObjectArray,n.subjectDNs=new a.XFAObjectArray,n.submit=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.textEdit=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n.timeStamp=new a.XFAObjectArray,n.toolTip=new a.XFAObjectArray,n.traversal=new a.XFAObjectArray,n.traverse=new a.XFAObjectArray,n.ui=new a.XFAObjectArray,n.validate=new a.XFAObjectArray,n.value=new a.XFAObjectArray,n.variables=new a.XFAObjectArray,n}return r}(a.XFAObject),rt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"radial",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["toEdge","toCenter"]),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){e=e?e[a.$toStyle]():"#FFFFFF";var t=this.color?this.color[a.$toStyle]():"#000000",r="toEdge"===this.type?"".concat(e,",").concat(t):"".concat(t,",").concat(e);return"radial-gradient(circle to center, ".concat(r,")")}}]),r}(a.XFAObject),nt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"reason")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),at=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"reasons",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.reason=new a.XFAObjectArray,n}return r}(a.XFAObject),it=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"rectangle",!0)).hand=(0,c.getStringOption)(e.hand,["even","left","right"]),n.id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.corner=new a.XFAObjectArray(4),n.edge=new a.XFAObjectArray(4),n.fill=null,n}return r}(a.XFAObject),ot=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"ref")).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),st=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"script")).binding=e.binding||"",n.contentType=e.contentType||"",n.id=e.id||"",n.name=e.name||"",n.runAt=(0,c.getStringOption)(e.runAt,["client","both","server"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),ct=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"setProperty")).connection=e.connection||"",n.ref=e.ref||"",n.target=e.target||"",n}return r}(a.XFAObject);t.SetProperty=ct;var ut=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"signData",!0)).id=e.id||"",n.operation=(0,c.getStringOption)(e.operation,["sign","clear","verify"]),n.ref=e.ref||"",n.target=e.target||"",n.use=e.use||"",n.usehref=e.usehref||"",n.filter=null,n.manifest=null,n}return r}(a.XFAObject),lt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"signature",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["PDF1.3","PDF1.6"]),n.use=e.use||"",n.usehref=e.usehref||"",n.border=null,n.extras=null,n.filter=null,n.manifest=null,n.margin=null,n}return r}(a.XFAObject),ft=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"signing",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.certificate=new a.XFAObjectArray,n}return r}(a.XFAObject),ht=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"solid",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){return e?e[a.$toStyle]():"#FFFFFF"}}]),r}(a.XFAObject),dt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"speak")).disable=(0,c.getInteger)({data:e.disable,defaultValue:0,validate:function(e){return 1===e}}),n.id=e.id||"",n.priority=(0,c.getStringOption)(e.priority,["custom","caption","name","toolTip"]),n.rid=e.rid||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),pt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"stipple",!0)).id=e.id||"",n.rate=(0,c.getInteger)({data:e.rate,defaultValue:50,validate:function(e){return e>=0&&e<=100}}),n.use=e.use||"",n.usehref=e.usehref||"",n.color=null,n.extras=null,n}return m(r,[{key:a.$toStyle,value:function(e){var t=this.rate/100;return u.Util.makeHexColor(Math.round(e.value.r*(1-t)+this.value.r*t),Math.round(e.value.g*(1-t)+this.value.g*t),Math.round(e.value.b*(1-t)+this.value.b*t))}}]),r}(a.XFAObject),gt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"subform",!0)).access=(0,c.getStringOption)(e.access,["open","nonInteractive","protected","readOnly"]),n.allowMacro=(0,c.getInteger)({data:e.allowMacro,defaultValue:0,validate:function(e){return 1===e}}),n.anchorType=(0,c.getStringOption)(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),n.colSpan=(0,c.getInteger)({data:e.colSpan,defaultValue:1,validate:function(e){return e>=1||-1===e}}),n.columnWidths=(e.columnWidths||"").trim().split(/\\s+/).map((function(e){return"-1"===e?-1:(0,c.getMeasurement)(e)})),n.h=e.h?(0,c.getMeasurement)(e.h):"",n.hAlign=(0,c.getStringOption)(e.hAlign,["left","center","justify","justifyAll","radix","right"]),n.id=e.id||"",n.layout=(0,c.getStringOption)(e.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),n.locale=e.locale||"",n.maxH=(0,c.getMeasurement)(e.maxH,"0pt"),n.maxW=(0,c.getMeasurement)(e.maxW,"0pt"),n.mergeMode=(0,c.getStringOption)(e.mergeMode,["consumeData","matchTemplate"]),n.minH=(0,c.getMeasurement)(e.minH,"0pt"),n.minW=(0,c.getMeasurement)(e.minW,"0pt"),n.name=e.name||"",n.presence=(0,c.getStringOption)(e.presence,["visible","hidden","inactive","invisible"]),n.relevant=(0,c.getRelevant)(e.relevant),n.restoreState=(0,c.getStringOption)(e.restoreState,["manual","auto"]),n.scope=(0,c.getStringOption)(e.scope,["name","none"]),n.use=e.use||"",n.usehref=e.usehref||"",n.w=e.w?(0,c.getMeasurement)(e.w):"",n.x=(0,c.getMeasurement)(e.x,"0pt"),n.y=(0,c.getMeasurement)(e.y,"0pt"),n.assist=null,n.bind=null,n.bookend=null,n.border=null,n.break=null,n.calculate=null,n.desc=null,n.extras=null,n.keep=null,n.margin=null,n.occur=null,n.overflow=null,n.pageSet=null,n.para=null,n.traversal=null,n.validate=null,n.variables=null,n.area=new a.XFAObjectArray,n.breakAfter=new a.XFAObjectArray,n.breakBefore=new a.XFAObjectArray,n.connect=new a.XFAObjectArray,n.draw=new a.XFAObjectArray,n.event=new a.XFAObjectArray,n.exObject=new a.XFAObjectArray,n.exclGroup=new a.XFAObjectArray,n.field=new a.XFAObjectArray,n.proto=new a.XFAObjectArray,n.setProperty=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n.subformSet=new a.XFAObjectArray,n}return m(r,[{key:a.$flushHTML,value:function(){return(0,s.flushHTML)(this)}},{key:a.$addHTML,value:function(e,t){(0,s.addHTML)(this,e,t)}},{key:a.$getAvailableSpace,value:function(){return(0,s.getAvailableSpace)(this)}},{key:a.$toHTML,value:function(e){if("helpText"===this.name)return c.HTMLResult.EMPTY;if(this[a.$extra]&&this[a.$extra].afterBreakAfter){var t=this[a.$extra].afterBreakAfter;return delete this[a.$extra],t}if("hidden"===this.presence||"inactive"===this.presence)return c.HTMLResult.EMPTY;(this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,u.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),(0,o.fixDimensions)(this);var r=[],n={id:this[a.$uid]};if(this[a.$extra]||(this[a.$extra]=Object.create(null)),Object.assign(this[a.$extra],{children:r,attributes:n,attempt:0,availableSpace:e,width:0,height:0,prevHeight:0,currentWidth:0}),this.breakBefore.children.length>=1){var i=this.breakBefore.children[0];if(!i[a.$extra])return i[a.$extra]=!0,O(this)[a.$break](i),c.HTMLResult.FAILURE}switch(C(this,e)){case 0:return c.HTMLResult.EMPTY;case 1:return c.HTMLResult.FAILURE}var s=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){var l=this[a.$getParent]().columnWidths;Array.isArray(l)&&l.length>0&&(this[a.$extra].columnWidths=l,this[a.$extra].currentColumn=0)}var f,h=(0,o.toStyle)(this,"anchorType","dimensions","position","presence","borderMarginPadding","hAlign"),d=["xfaSubform"],p=(0,o.layoutClass)(this);if(p&&d.push(p),n.style=h,n.class=d.join(" "),this.name&&(n.xfaName=this.name),"lr-tb"===this.layout||"rl-tb"===this.layout){for(;this[a.$extra].attempt<2&&!this[a.$childrenToHTML]({filter:s,include:!0});this[a.$extra].attempt++);f=2===this[a.$extra].attempt}else f=!this[a.$childrenToHTML]({filter:s,include:!0});if(f)return c.HTMLResult.FAILURE;var g=0,m=0;this.margin&&(g=this.margin.leftInset+this.margin.rightInset,m=this.margin.topInset+this.margin.bottomInset),""===this.w&&(h.width=(0,o.measureToString)(this[a.$extra].width+g)),""===this.h&&(h.height=(0,o.measureToString)(this[a.$extra].height+m));var v,y={name:"div",attributes:n,children:r};if(y=(0,o.addExtraDivForBorder)(y),""!==this.w&&""!==this.h)v=[this.x,this.y,this.w,this.h];else{var b=""===this.w?g+this[a.$extra].width:this.w,w=""===this.h?m+this[a.$extra].height:this.h;v=[this.x,this.y,b,w]}if(this.breakAfter.children.length>=1){var k=this.breakAfter.children[0];return O(this)[a.$break](k),this[a.$extra].afterBreakAfter=c.HTMLResult.success(y,v),c.HTMLResult.FAILURE}return delete this[a.$extra],c.HTMLResult.success(y,v)}}]),r}(a.XFAObject),mt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"subformSet",!0)).id=e.id||"",n.name=e.name||"",n.relation=(0,c.getStringOption)(e.relation,["ordered","choice","unordered"]),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.bookend=null,n.break=null,n.desc=null,n.extras=null,n.occur=null,n.overflow=null,n.breakAfter=new a.XFAObjectArray,n.breakBefore=new a.XFAObjectArray,n.subform=new a.XFAObjectArray,n.subformSet=new a.XFAObjectArray,n}return m(r,[{key:a.$toHTML,value:function(){var e=[];return this[a.$extra]||(this[a.$extra]=Object.create(null)),this[a.$extra].children=e,this[a.$childrenToHTML]({filter:new Set(["subform","subformSet"]),include:!0}),c.HTMLResult.success({name:"div",children:e,attributes:{id:this[a.$uid]}})}}]),r}(a.XFAObject),vt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"subjectDN")).delimiter=e.delimiter||",",n.id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=new Map(this[a.$content].split(this.delimiter).map((function(e){return(e=e.split("=",2))[0]=e[0].trim(),e})))}}]),r}(a.ContentObject),yt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"subjectDNs",!0)).id=e.id||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n.subjectDN=new a.XFAObjectArray,n}return r}(a.XFAObject),bt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"submit",!0)).embedPDF=(0,c.getInteger)({data:e.embedPDF,defaultValue:0,validate:function(e){return 1===e}}),n.format=(0,c.getStringOption)(e.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),n.id=e.id||"",n.target=e.target||"",n.textEncoding=(0,c.getKeyword)({data:e.textEncoding?e.textEncoding.toLowerCase():"",defaultValue:"",validate:function(e){return["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(e)||e.match(/iso-8859-[0-9]{2}/)}}),n.use=e.use||"",n.usehref=e.usehref||"",n.xdpContent=e.xdpContent||"",n.encrypt=null,n.encryptData=new a.XFAObjectArray,n.signData=new a.XFAObjectArray,n}return r}(a.XFAObject),wt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"template",!0)).baseProfile=(0,c.getStringOption)(e.baseProfile,["full","interactiveForms"]),n.extras=null,n.subform=new a.XFAObjectArray,n}return m(r,[{key:a.$finalize,value:function(){0===this.subform.children.length&&(0,u.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,u.warn)("XFA - Several subforms in template node: please file a bug.")}},{key:a.$break,value:function(e){this[a.$extra].breakingNode=e}},{key:a.$searchNode,value:function(e,t){return e.startsWith("#")?[this[a.$ids].get(e.slice(1))]:(0,l.searchNode)(this,t,e,!0,!0)}},{key:a.$toHTML,value:function(){if(!this.subform.children.length)return c.HTMLResult.success({name:"div",children:[]});this[a.$extra]={breakingNode:null,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank"};var e=this.subform.children[0],t=e.pageSet.pageArea.children,r={name:"div",children:[]},n=null,i=null,o=null;if(e.breakBefore.children.length>=1?o=(i=e.breakBefore.children[0]).target:e.subform.children.length>=1&&e.subform.children[0].breakBefore.children.length>=1?o=(i=e.subform.children[0].breakBefore.children[0]).target:e.break&&e.break.beforeTarget?o=(i=e.break).beforeTarget:e.subform.children.length>=1&&e.subform.children[0].break&&e.subform.children[0].break.beforeTarget&&(o=(i=e.subform.children[0].break).beforeTarget),i){var s=this[a.$searchNode](o,i[a.$getParent]());s instanceof Ke&&(n=s,i[a.$extra]={})}n||(n=t[0]);var u,l=n[a.$getParent]();l[a.$extra]={numberOfUse:1,currentIndex:l.pageArea.children.indexOf(n)};for(var f=null,h=null;;){u=null;var d=n[a.$toHTML]().html;r.children.push(d),f&&(d.children.push(f[a.$toHTML](d[a.$extra].space).html),f=null),h&&(d.children.push(h[a.$toHTML](d[a.$extra].space).html),h=null);for(var p=n.contentArea.children,g=d.children.filter((function(e){return"xfaContentarea"===e.attributes.class})),m=0,v=p.length;m<v;m++){var y=this[a.$extra].currentContentArea=p[m],b={width:y.w,height:y.h};f&&(g[m].children.push(f[a.$toHTML](b).html),f=null),h&&(g[m].children.push(h[a.$toHTML](b).html),h=null);var w=e[a.$toHTML](b);if(w.success)return w.html&&g[m].children.push(w.html),r;var k=!1;if(this[a.$extra].breakingNode){var S=this[a.$extra].breakingNode;if(this[a.$extra].breakingNode=null,"auto"===S.targetType){m--;continue}var x=1===S.startNew;S.leader&&(f=(f=this[a.$searchNode](S.leader,S[a.$getParent]()))?f[0]:null),S.trailer&&(h=(h=this[a.$searchNode](S.trailer,S[a.$getParent]()))?h[0]:null);var A=null;if(S.target&&(A=(A=this[a.$searchNode](S.target,S[a.$getParent]()))?A[0]:A),"pageArea"===S.targetType)if(x)k=!0;else{if(!(A!==n&&A instanceof Ke)){m--;continue}u=A,k=!0}else if("contentArea"===A||!(A instanceof Y)){m--;continue}}if((w=e[a.$flushHTML]())&&g[m].children.push(w),k)break}this[a.$extra].pageNumber+=1,n=u||n[a.$getNextPage]()}}}]),r}(a.XFAObject);t.Template=wt;var kt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"text")).id=e.id||"",n.maxChars=(0,c.getInteger)({data:e.maxChars,defaultValue:0,validate:function(e){return e>=0}}),n.name=e.name||"",n.rid=e.rid||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$onChild,value:function(e){return e[a.$namespaceId]===i.NamespaceIds.xhtml.id?(this[a.$content]=e,!0):((0,u.warn)("XFA - Invalid content in Text: ".concat(e[a.$nodeName],".")),!1)}},{key:a.$toHTML,value:function(e){if("string"==typeof this[a.$content]){var t={name:"span",attributes:{class:"xfaRich",style:{}},value:this[a.$content]};return this[a.$content].includes("\\u2029")?(t.name="div",t.children=[],this[a.$content].split("\\u2029").map((function(e){return e.split(/[\\u2028\\n]/).reduce((function(e,t){return e.push({name:"span",value:t},{name:"br"}),e}),[])})).forEach((function(e){t.children.push({name:"p",children:e})}))):/[\\u2028\\n]/.test(this[a.$content])&&(t.name="div",t.children=[],this[a.$content].split(/[\\u2028\\n]/).forEach((function(e){t.children.push({name:"span",value:e},{name:"br"})}))),c.HTMLResult.success(t)}return this[a.$content][a.$toHTML](e)}}]),r}(a.ContentObject);t.Text=kt;var St=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"textEdit",!0)).allowRichText=(0,c.getInteger)({data:e.allowRichText,defaultValue:0,validate:function(e){return 1===e}}),n.hScrollPolicy=(0,c.getStringOption)(e.hScrollPolicy,["auto","off","on"]),n.id=e.id||"",n.multiLine=(0,c.getInteger)({data:e.multiLine,defaultValue:1,validate:function(e){return 0===e}}),n.use=e.use||"",n.usehref=e.usehref||"",n.vScrollPolicy=(0,c.getStringOption)(e.vScrollPolicy,["auto","off","on"]),n.border=null,n.comb=null,n.extras=null,n.margin=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t,r=(0,o.toStyle)(this,"border","font","margin");return t=1===this.multiLine?{name:"textarea",attributes:{fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],class:"xfaTextfield",style:r}}:{name:"input",attributes:{type:"text",fieldId:this[a.$getParent]()[a.$getParent]()[a.$uid],class:"xfaTextfield",style:r}},c.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[t]})}}]),r}(a.XFAObject),xt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"time")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return m(r,[{key:a.$finalize,value:function(){this[a.$content]=new Date(this[a.$content])}},{key:a.$toHTML,value:function(e){return c.HTMLResult.success(this[a.$content].toString())}}]),r}(a.StringObject),At=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"timeStamp")).id=e.id||"",n.server=e.server||"",n.type=(0,c.getStringOption)(e.type,["optional","required"]),n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.XFAObject),Ot=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"toolTip")).id=e.id||"",n.rid=e.rid||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(a.StringObject),Ct=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"traversal",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.traverse=new a.XFAObjectArray,n}return r}(a.XFAObject),Tt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"traverse",!0)).id=e.id||"",n.operation=(0,c.getStringOption)(e.operation,["next","back","down","first","left","right","up"]),n.ref=e.ref||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.script=null,n}return m(r,[{key:"name",get:function(){return this.operation}},{key:a.$isTransparent,value:function(){return!1}}]),r}(a.XFAObject),Ft=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"ui",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.picture=null,n.barcode=null,n.button=null,n.checkButton=null,n.choiceList=null,n.dateTimeEdit=null,n.defaultUi=null,n.imageEdit=null,n.numericEdit=null,n.passwordEdit=null,n.signature=null,n.textEdit=null,n}return m(r,[{key:a.$toHTML,value:function(e){var t,r=f(Object.getOwnPropertyNames(this));try{for(r.s();!(t=r.n()).done;){var n=t.value;if("extras"!==n&&"picture"!==n){var i=this[n];if(i instanceof a.XFAObject)return i[a.$toHTML](e)}}}catch(e){r.e(e)}finally{r.f()}return c.HTMLResult.EMPTY}}]),r}(a.XFAObject),Pt=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"validate",!0)).formatTest=(0,c.getStringOption)(e.formatTest,["warning","disabled","error"]),n.id=e.id||"",n.nullTest=(0,c.getStringOption)(e.nullTest,["disabled","error","warning"]),n.scriptTest=(0,c.getStringOption)(e.scriptTest,["error","disabled","warning"]),n.use=e.use||"",n.usehref=e.usehref||"",n.extras=null,n.message=null,n.picture=null,n.script=null,n}return r}(a.XFAObject),_t=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"value",!0)).id=e.id||"",n.override=(0,c.getInteger)({data:e.override,defaultValue:0,validate:function(e){return 1===e}}),n.relevant=(0,c.getRelevant)(e.relevant),n.use=e.use||"",n.usehref=e.usehref||"",n.arc=null,n.boolean=null,n.date=null,n.dateTime=null,n.decimal=null,n.exData=null,n.float=null,n.image=null,n.integer=null,n.line=null,n.rectangle=null,n.text=null,n.time=null,n}return m(r,[{key:a.$setValue,value:function(e){var t=this[a.$getParent]();if(t instanceof ke&&t.ui&&t.ui.imageEdit)return this.image||(this.image=new Pe({})),void(this.image[a.$content]=e[a.$content]);var r=e[a.$nodeName];if(null===this[r]){var n,i=f(Object.getOwnPropertyNames(this));try{for(i.s();!(n=i.n()).done;){var o=n.value,s=this[o];s instanceof a.XFAObject&&(this[o]=null,this[a.$removeChild](s))}}catch(e){i.e(e)}finally{i.f()}this[e[a.$nodeName]]=e,this[a.$appendChild](e)}else this[r][a.$content]=e[a.$content]}},{key:a.$text,value:function(){if(this.exData)return this.exData[a.$content][a.$text]().trim();var e,t=f(Object.getOwnPropertyNames(this));try{for(t.s();!(e=t.n()).done;){var r=e.value;if("image"!==r){var n=this[r];if(n instanceof a.XFAObject)return(n[a.$content]||"").toString().trim()}}}catch(e){t.e(e)}finally{t.f()}return null}},{key:a.$toHTML,value:function(e){var t,r=f(Object.getOwnPropertyNames(this));try{for(r.s();!(t=r.n()).done;){var n=this[t.value];if(n instanceof a.XFAObject)return n[a.$toHTML](e)}}catch(e){r.e(e)}finally{r.f()}return c.HTMLResult.EMPTY}}]),r}(a.XFAObject);t.Value=_t;var It=function(e){y(r,e);var t=w(r);function r(e){var n;return v(this,r),(n=t.call(this,x,"variables",!0)).id=e.id||"",n.use=e.use||"",n.usehref=e.usehref||"",n.boolean=new a.XFAObjectArray,n.date=new a.XFAObjectArray,n.dateTime=new a.XFAObjectArray,n.decimal=new a.XFAObjectArray,n.exData=new a.XFAObjectArray,n.float=new a.XFAObjectArray,n.image=new a.XFAObjectArray,n.integer=new a.XFAObjectArray,n.manifest=new a.XFAObjectArray,n.script=new a.XFAObjectArray,n.text=new a.XFAObjectArray,n.time=new a.XFAObjectArray,n}return m(r,[{key:a.$isTransparent,value:function(){return!0}}]),r}(a.XFAObject),Et=function(){function e(){v(this,e)}return m(e,null,[{key:i.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t)){var n=e[t](r);return n[a.$setSetAttributes](r),n}}},{key:"appearanceFilter",value:function(e){return new T(e)}},{key:"arc",value:function(e){return new F(e)}},{key:"area",value:function(e){return new P(e)}},{key:"assist",value:function(e){return new _(e)}},{key:"barcode",value:function(e){return new I(e)}},{key:"bind",value:function(e){return new E(e)}},{key:"bindItems",value:function(e){return new j(e)}},{key:"bookend",value:function(e){return new R(e)}},{key:"boolean",value:function(e){return new M(e)}},{key:"border",value:function(e){return new N(e)}},{key:"break",value:function(e){return new B(e)}},{key:"breakAfter",value:function(e){return new D(e)}},{key:"breakBefore",value:function(e){return new L(e)}},{key:"button",value:function(e){return new U(e)}},{key:"calculate",value:function(e){return new q(e)}},{key:"caption",value:function(e){return new X(e)}},{key:"certificate",value:function(e){return new H(e)}},{key:"certificates",value:function(e){return new $(e)}},{key:"checkButton",value:function(e){return new z(e)}},{key:"choiceList",value:function(e){return new G(e)}},{key:"color",value:function(e){return new W(e)}},{key:"comb",value:function(e){return new V(e)}},{key:"connect",value:function(e){return new K(e)}},{key:"contentArea",value:function(e){return new Y(e)}},{key:"corner",value:function(e){return new J(e)}},{key:"date",value:function(e){return new Z(e)}},{key:"dateTime",value:function(e){return new Q(e)}},{key:"dateTimeEdit",value:function(e){return new ee(e)}},{key:"decimal",value:function(e){return new te(e)}},{key:"defaultUi",value:function(e){return new re(e)}},{key:"desc",value:function(e){return new ne(e)}},{key:"digestMethod",value:function(e){return new ae(e)}},{key:"digestMethods",value:function(e){return new ie(e)}},{key:"draw",value:function(e){return new oe(e)}},{key:"edge",value:function(e){return new se(e)}},{key:"encoding",value:function(e){return new ce(e)}},{key:"encodings",value:function(e){return new ue(e)}},{key:"encrypt",value:function(e){return new le(e)}},{key:"encryptData",value:function(e){return new fe(e)}},{key:"encryption",value:function(e){return new he(e)}},{key:"encryptionMethod",value:function(e){return new de(e)}},{key:"encryptionMethods",value:function(e){return new pe(e)}},{key:"event",value:function(e){return new ge(e)}},{key:"exData",value:function(e){return new me(e)}},{key:"exObject",value:function(e){return new ve(e)}},{key:"exclGroup",value:function(e){return new ye(e)}},{key:"execute",value:function(e){return new be(e)}},{key:"extras",value:function(e){return new we(e)}},{key:"field",value:function(e){return new ke(e)}},{key:"fill",value:function(e){return new Se(e)}},{key:"filter",value:function(e){return new xe(e)}},{key:"float",value:function(e){return new Ae(e)}},{key:"font",value:function(e){return new Oe(e)}},{key:"format",value:function(e){return new Ce(e)}},{key:"handler",value:function(e){return new Te(e)}},{key:"hyphenation",value:function(e){return new Fe(e)}},{key:"image",value:function(e){return new Pe(e)}},{key:"imageEdit",value:function(e){return new _e(e)}},{key:"integer",value:function(e){return new Ie(e)}},{key:"issuers",value:function(e){return new Ee(e)}},{key:"items",value:function(e){return new je(e)}},{key:"keep",value:function(e){return new Re(e)}},{key:"keyUsage",value:function(e){return new Me(e)}},{key:"line",value:function(e){return new Ne(e)}},{key:"linear",value:function(e){return new Be(e)}},{key:"lockDocument",value:function(e){return new De(e)}},{key:"manifest",value:function(e){return new Le(e)}},{key:"margin",value:function(e){return new Ue(e)}},{key:"mdp",value:function(e){return new qe(e)}},{key:"medium",value:function(e){return new Xe(e)}},{key:"message",value:function(e){return new He(e)}},{key:"numericEdit",value:function(e){return new $e(e)}},{key:"occur",value:function(e){return new ze(e)}},{key:"oid",value:function(e){return new Ge(e)}},{key:"oids",value:function(e){return new We(e)}},{key:"overflow",value:function(e){return new Ve(e)}},{key:"pageArea",value:function(e){return new Ke(e)}},{key:"pageSet",value:function(e){return new Ye(e)}},{key:"para",value:function(e){return new Je(e)}},{key:"passwordEdit",value:function(e){return new Ze(e)}},{key:"pattern",value:function(e){return new Qe(e)}},{key:"picture",value:function(e){return new et(e)}},{key:"proto",value:function(e){return new tt(e)}},{key:"radial",value:function(e){return new rt(e)}},{key:"reason",value:function(e){return new nt(e)}},{key:"reasons",value:function(e){return new at(e)}},{key:"rectangle",value:function(e){return new it(e)}},{key:"ref",value:function(e){return new ot(e)}},{key:"script",value:function(e){return new st(e)}},{key:"setProperty",value:function(e){return new ct(e)}},{key:"signData",value:function(e){return new ut(e)}},{key:"signature",value:function(e){return new lt(e)}},{key:"signing",value:function(e){return new ft(e)}},{key:"solid",value:function(e){return new ht(e)}},{key:"speak",value:function(e){return new dt(e)}},{key:"stipple",value:function(e){return new pt(e)}},{key:"subform",value:function(e){return new gt(e)}},{key:"subformSet",value:function(e){return new mt(e)}},{key:"subjectDN",value:function(e){return new vt(e)}},{key:"subjectDNs",value:function(e){return new yt(e)}},{key:"submit",value:function(e){return new bt(e)}},{key:"template",value:function(e){return new wt(e)}},{key:"text",value:function(e){return new kt(e)}},{key:"textEdit",value:function(e){return new St(e)}},{key:"time",value:function(e){return new xt(e)}},{key:"timeStamp",value:function(e){return new At(e)}},{key:"toolTip",value:function(e){return new Ot(e)}},{key:"traversal",value:function(e){return new Ct(e)}},{key:"traverse",value:function(e){return new Tt(e)}},{key:"ui",value:function(e){return new Ft(e)}},{key:"validate",value:function(e){return new Pt(e)}},{key:"value",value:function(e){return new _t(e)}},{key:"variables",value:function(e){return new It(e)}}]),e}();t.TemplateNamespace=Et},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addExtraDivForBorder=function(e){for(var t=e.attributes.style,r=t.borderData,n=[],a={class:"xfaWrapper",style:Object.create(null)},i=0,s=["top","left"];i<s.length;i++){var c=s[i];void 0!==t[c]&&(a.style[c]=t[c])}if(delete t.top,delete t.left,"absolute"===t.position?a.style.position="absolute":a.style.position="relative",delete t.position,t.justifyContent&&(a.style.justifyContent=t.justifyContent,delete t.justifyContent),r){var u;delete t.borderData,r.margin?(u=r.margin.split(" "),delete r.margin):u=["0px","0px","0px","0px"];var l="100%",f=l;"0px"===u[1]&&"0px"===u[3]||(l="calc(100% - ".concat(parseInt(u[1])+parseInt(u[3]),"px")),"0px"===u[0]&&"0px"===u[2]||(f="calc(100% - ".concat(parseInt(u[0])+parseInt(u[2]),"px"));for(var h={top:u[0],left:u[3],width:l,height:f},d=0,p=Object.entries(r);d<p.length;d++){var g=(b=p[d],w=2,function(e){if(Array.isArray(e))return e}(b)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(b,w)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(b,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=g[0],v=g[1];h[m]=v}t.transform&&(h.transform=t.transform);var y={name:"div",attributes:{class:"xfaBorderDiv",style:h}};n.push(y)}var b,w;return n.push(e),{name:"div",attributes:a,children:n}},t.computeBbox=function(e,t,r){var a;if(""!==e.w&&""!==e.h)a=[e.x,e.y,e.w,e.h];else{if(!r)return null;var i=e.w;if(""===i){if(0===e.maxW){var o=e[n.$getParent]();i="position"===o.layout&&""!==o.w?0:e.minW}else i=Math.min(e.maxW,r.width);t.attributes.style.width=u(i)}var s=e.h;if(""===s){if(0===e.maxH){var c=e[n.$getParent]();s="position"===c.layout&&""!==c.h?0:e.minH}else s=Math.min(e.maxH,r.height);t.attributes.style.height=u(s)}a=[e.x,e.y,i,s]}return a},t.fixDimensions=function(e){var t=e[n.$getParent]();if(t.layout&&t.layout.includes("row")){var r,a=t[n.$extra],i=e.colSpan;r=-1===i?a.columnWidths.slice(a.currentColumn).reduce((function(e,t){return e+t}),0):a.columnWidths.slice(a.currentColumn,a.currentColumn+i).reduce((function(e,t){return e+t}),0),isNaN(r)||(e.w=r)}t.w&&e.w&&(e.w=Math.min(t.w,e.w)),t.h&&e.h&&(e.h=Math.min(t.h,e.h)),t.layout&&"position"!==t.layout&&(e.x=e.y=0,"tb"===t.layout&&""!==t.w&&(""===e.w||0===e.w||e.w>t.w)&&(e.w=t.w)),"position"===e.layout?(e.minW=e.minH=0,e.maxW=e.maxH=1/0):"table"===e.layout&&""===e.w&&Array.isArray(e.columnWidths)&&(e.w=e.columnWidths.reduce((function(e,t){return e+t}),0))},t.fixTextIndent=function(e){var t=(0,a.getMeasurement)(e.textIndent,"0px");if(!(t>=0)){var r=e.textAlign||"left";if("left"===r||"right"===r){var n="margin"+("left"===r?"Left":"Right"),i=(0,a.getMeasurement)(e[n],"0px");e[n]="".concat(i-t,"pt")}}},t.getFonts=function(e){e.startsWith("'")?e='"'.concat(e.slice(1,e.length-1),'"'):e.includes(" ")&&!e.startsWith('"')&&(e='"'.concat(e,'"'));var t=[e];switch(e){case'"Myriad Pro"':t.push('"Roboto Condensed"','"Ubuntu Condensed"','"Microsoft Sans Serif"','"Apple Symbols"',"Helvetica",'"sans serif"');break;case"Arial":t.push("Helvetica",'"Liberation Sans"',"Arimo",'"sans serif"')}return t.join(",")},t.layoutClass=function(e){switch(e.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},t.layoutText=function(e,t,r){for(var n=0,a=0,i=0,o=1.5*t,u=.4*t,l=Math.floor(r.width/u),f=e.match(s),h=0,d=0,p=f[0];p;){var g=p.length*u;if(n+g<=r.width)n+=g,h+=p.length,p=f[d++];else if(!c.test(p)||p.length>l){var m=Math.floor((r.width-n)/u);if(p=p.slice(m),h+=m,a+o>r.height)return{width:0,height:0,splitPos:h};i=Math.max(n,i),n=0,a+=o}else{if(a+o>r.height)return{width:0,height:0,splitPos:h};i=Math.max(n,i),n=g,a+=o,p=f[d++]}}return 0===i&&(i=n),0!==i&&(a+=o),{width:i,height:a,splitPos:-1}},t.measureToString=u,t.toStyle=function(e){for(var t=Object.create(null),r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];for(var s=0,c=a;s<c.length;s++){var u=c[s],f=e[u];if(null!==f)if(f instanceof n.XFAObject){var h=f[n.$toStyle]();h?Object.assign(t,h):(0,i.warn)("(DEBUG) - XFA - style for ".concat(u," not implemented yet"))}else l.hasOwnProperty(u)&&l[u](e,t)}return t};var n=r(176),a=r(177),i=r(4);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=new RegExp("([\\\\p{N}\\\\p{L}\\\\p{M}]+)|([^\\\\p{N}\\\\p{L}\\\\p{M}]+)","gu"),c=new RegExp("^[\\\\p{N}\\\\p{L}\\\\p{M}]","u");function u(e){return"string"==typeof e?"0px":Number.isInteger(e)?"".concat(e,"px"):"".concat(e.toFixed(2),"px")}var l={anchorType:function(e,t){var r=e[n.$getParent]();if(r&&(!r.layout||"position"===r.layout))switch("transform"in t||(t.transform=""),e.anchorType){case"bottomCenter":t.transform+="translate(-50%, -100%)";break;case"bottomLeft":t.transform+="translate(0,-100%)";break;case"bottomRight":t.transform+="translate(-100%,-100%)";break;case"middleCenter":t.transform+="translate(-50%,-50%)";break;case"middleLeft":t.transform+="translate(0,-50%)";break;case"middleRight":t.transform+="translate(-100%,-50%)";break;case"topCenter":t.transform+="translate(-50%,0)";break;case"topRight":t.transform+="translate(-100%,0)"}},dimensions:function(e,t){var r=e[n.$getParent](),a=e.w,i=e.h;if(r.layout&&r.layout.includes("row")){var o,s=r[n.$extra],c=e.colSpan;-1===c?(o=s.columnWidths.slice(s.currentColumn).reduce((function(e,t){return e+t}),0),s.currentColumn=0):(o=s.columnWidths.slice(s.currentColumn,s.currentColumn+c).reduce((function(e,t){return e+t}),0),s.currentColumn=(s.currentColumn+e.colSpan)%s.columnWidths.length),isNaN(o)||(a=e.w=o)}""!==a?t.width=u(a):(t.width="auto",e.maxW>0&&(t.maxWidth=u(e.maxW)),"position"===r.layout&&(t.minWidth=u(e.minW))),""!==i?t.height=u(i):(t.height="auto",e.maxH>0&&(t.maxHeight=u(e.maxH)),"position"===r.layout&&(t.minHeight=u(e.minH)))},position:function(e,t){var r=e[n.$getParent]();r&&r.layout&&"position"!==r.layout||(t.position="absolute",t.left=u(e.x),t.top=u(e.y))},rotate:function(e,t){e.rotate&&("transform"in t||(t.transform=""),t.transform+="rotate(-".concat(e.rotate,"deg)"),t.transformOrigin="top left")},presence:function(e,t){switch(e.presence){case"invisible":t.visibility="hidden";break;case"hidden":case"inactive":t.display="none"}},hAlign:function(e,t){if("para"===e[n.$nodeName])switch(e.hAlign){case"justifyAll":t.textAlign="justify-all";break;case"radix":t.textAlign="left";break;default:t.textAlign=e.hAlign}else switch(e.hAlign){case"right":case"center":t.justifyContent=e.hAlign}},borderMarginPadding:function(e,t){var r,a=[0,0,0,0],i=e.margin?[e.margin.topInset,e.margin.rightInset,e.margin.bottomInset,e.margin.leftInset]:[0,0,0,0];if(e.border&&(Object.assign(t,e.border[n.$toStyle](a,[0,0,0,0])),r=t.margin,delete t.margin),a.every((function(e){return 0===e}))){if(i.every((function(e){return 0===e})))return;return Object.assign(t,e.margin[n.$toStyle]()),t.padding=t.margin,delete t.margin,delete t.outline,void delete t.outlineOffset}e.margin&&(Object.assign(t,e.margin[n.$toStyle]()),t.padding=t.margin,delete t.margin),t.borderWidth&&(t.borderData={borderWidth:t.borderWidth,borderColor:t.borderColor,borderStyle:t.borderStyle,margin:r},delete t.borderWidth,delete t.borderColor,delete t.borderStyle)}}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addHTML=function(e,t,r){var s=e[n.$extra],c=s.availableSpace;switch(e.layout){case"position":var u=i(r,4),l=u[0],f=u[1],h=u[2],d=u[3];s.width=Math.max(s.width,l+h),s.height=Math.max(s.height,f+d),s.children.push(t);break;case"lr-tb":case"rl-tb":if(s.line&&1!==s.attempt||(s.line={name:"div",attributes:{class:"lr-tb"===e.layout?"xfaLr":"xfaRl"},children:[]},s.children.push(s.line)),s.line.children.push(t),0===s.attempt){var p=i(r,4),g=p[2],m=p[3];s.currentWidth+=g,s.height=Math.max(s.height,s.prevHeight+m)}else{var v=i(r,4),y=v[2],b=v[3];s.width=Math.max(s.width,s.currentWidth),s.currentWidth=y,s.prevHeight=s.height,s.height+=b,s.attempt=0}break;case"rl-row":case"row":s.children.push(t);var w=i(r,4),k=w[2],S=w[3];s.width+=k,s.height=Math.max(s.height,S);var x,A=(0,a.measureToString)(s.height),O=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}(s.children);try{for(O.s();!(x=O.n()).done;){var C=x.value;"xfaWrapper"===C.attributes.class?C.children[C.children.length-1].attributes.style.height=A:C.attributes.style.height=A}}catch(e){O.e(e)}finally{O.f()}break;case"table":var T=i(r,4),F=T[2],P=T[3];s.width=Math.min(c.width,Math.max(s.width,F)),s.height+=P,s.children.push(t);break;case"tb":var _=i(r,4)[3];s.width=c.width,s.height+=_,s.children.push(t)}},t.flushHTML=function(e){var t={name:"div",attributes:e[n.$extra].attributes,children:e[n.$extra].children};if(e[n.$extra].failingNode){var r=e[n.$extra].failingNode[n.$flushHTML]();r&&t.children.push(r)}return 0===t.children.length?null:(e[n.$extra].children=[],delete e[n.$extra].line,t)},t.getAvailableSpace=function(e){var t=e[n.$extra].availableSpace;switch(e.layout){case"lr-tb":case"rl-tb":switch(e[n.$extra].attempt){case 0:return{width:t.width-e[n.$extra].currentWidth,height:t.height-e[n.$extra].prevHeight};case 1:return{width:t.width,height:t.height-e[n.$extra].height};default:return{width:1/0,height:t.height-e[n.$extra].prevHeight}}case"rl-row":case"row":return{width:e[n.$extra].columnWidths.slice(e[n.$extra].currentColumn).reduce((function(e,t){return e+t})),height:t.height};case"table":case"tb":return{width:t.width,height:t.height-e[n.$extra].height};default:return t}};var n=r(176),a=r(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDataNode=function(e,t,r){var i=b(r);if(!i)return null;if(i.some((function(e){return e.operator===d})))return null;var o=v.get(i[0].name),s=0;o?(e=o(e,t),s=1):e=t||e;for(var c=i.length;s<c;s++){var u=i[s],l=u.name,f=u.operator,g=u.index;if(!isFinite(g))return i[s].index=0,w(e,i.slice(s));var m=void 0;switch(f){case h:m=e[n.$getChildrenByName](l,!1);break;case d:m=e[n.$getChildrenByName](l,!0);break;case p:m=(m=e[n.$getChildrenByClass](l))instanceof n.XFAObjectArray?m.children:[m]}if(0===m.length)return w(e,i.slice(s));if(!(g<m.length))return i[s].index=m.length-g,w(e,i.slice(s));var y=m[g];if(!(y instanceof n.XFAObject))return(0,a.warn)("XFA - Cannot create a node."),null;e=y}return null},t.searchNode=function(e,t,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=b(r,a);if(!c)return null;var u,l=v.get(c[0].name),f=0;l?(u=!0,e=[l(e,t)],f=1):(u=null===t,e=[t||e]);for(var g=function(r){var a,o=c[f],l=o.name,g=o.cacheName,m=o.operator,v=o.index,b=[],w=i(e);try{for(w.s();!(a=w.n()).done;){var k=a.value;if(k instanceof n.XFAObject){var S=void 0,x=void 0;if(s&&((x=y.get(k))||(x=new Map,y.set(k,x)),S=x.get(g)),!S){switch(m){case h:S=k[n.$getChildrenByName](l,!1);break;case d:S=k[n.$getChildrenByName](l,!0);break;case p:S=(S=k[n.$getChildrenByClass](l))instanceof n.XFAObjectArray?S.children:[S]}s&&x.set(g,S)}S.length>0&&b.push(S)}}}catch(e){w.e(e)}finally{w.f()}if(0===b.length&&!u&&0===f){var A=t[n.$getParent]();return(t=A)?(f=-1,e=[t],"continue"):{v:null}}e=isFinite(v)?b.filter((function(e){return v<e.length})).map((function(e){return e[v]})):b.reduce((function(e,t){return e.concat(t)}),[])},m=c.length;f<m;f++){var w=g(m);if("continue"!==w&&"object"===o(w))return w.v}return 0===e.length?null:e};var n=r(176),a=r(4);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=/^[^.[]+/,f=/^[^\\]]+/,h=0,d=1,p=2,g=3,m=4,v=new Map([["$data",function(e,t){return e.datasets.data}],["$template",function(e,t){return e.template}],["$connectionSet",function(e,t){return e.connectionSet}],["$form",function(e,t){return e.form}],["$layout",function(e,t){return e.layout}],["$host",function(e,t){return e.host}],["$dataWindow",function(e,t){return e.dataWindow}],["$event",function(e,t){return e.event}],["!",function(e,t){return e.datasets}],["$xfa",function(e,t){return e}],["xfa",function(e,t){return e}],["$",function(e,t){return t}]]),y=new WeakMap;function b(e,t){var r=e.match(l);if(!r)return null;for(var n,i=s(r,1)[0],o=[{name:i,cacheName:"."+i,index:0,js:null,formCalc:null,operator:h}],c=i.length;c<e.length;){var u=c;if("["!==e.charAt(c++)){var v=void 0;switch(e.charAt(c)){case".":if(!t)return null;c++,v=d;break;case"#":c++,v=p;break;case"[":v=g;break;case"(":v=m;break;default:v=h}if(!(r=e.slice(c).match(l)))break;c+=(i=s(r,1)[0]).length,o.push({name:i,cacheName:e.slice(u,c),operator:v,index:0,js:null,formCalc:null})}else{if(!(r=e.slice(c).match(f)))return(0,a.warn)("XFA - Invalid index in SOM expression"),null;o[o.length-1].index="*"===(n=(n=r[0]).trim())?1/0:parseInt(n,10)||0,c+=r[0].length+1}}return o}function w(e,t){var r,a=null,o=i(t);try{for(o.s();!(r=o.n()).done;){for(var s=r.value,c=s.name,u=s.index,l=0;l<=u;l++)a=new n.XmlObject(e[n.$namespaceId],c),e[n.$appendChild](a);e=a}}catch(e){o.e(e)}finally{o.f()}return a}},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XFAParser=void 0;var a=r(176),i=r(169),o=r(185),s=r(4);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(p,e);var t,r,n,l=d(p);function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=l.call(this))._builder=new o.Builder,e._stack=[],e._ids=new Map,e._current=e._builder.buildRoot(e._ids),e._errorCode=i.XMLParserErrorCode.NoError,e._whiteRegex=/^\\s+$/,e._nbsps=/\\xa0+/g,e}return t=p,(r=[{key:"parse",value:function(e){if(this.parseXml(e),this._errorCode===i.XMLParserErrorCode.NoError)return this._current[a.$finalize](),this._current.element}},{key:"onText",value:function(e){e=e.replace(this._nbsps,(function(e){return e.slice(1)+" "})),this._current[a.$acceptWhitespace]()?this._current[a.$onText](e):this._whiteRegex.test(e)||this._current[a.$onText](e.trim())}},{key:"onCdata",value:function(e){this._current[a.$onText](e)}},{key:"_mkAttributes",value:function(e,t){var r,n=null,i=null,o=Object.create({}),c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(c.s();!(r=c.n()).done;){var l=r.value,f=l.name,h=l.value;if("xmlns"===f)n?(0,s.warn)("XFA - multiple namespace definition in <".concat(t,">")):n=h;else if(f.startsWith("xmlns:")){var d=f.substring("xmlns:".length);i||(i=[]),i.push({prefix:d,value:h})}else{var p=f.indexOf(":");if(-1===p)o[f]=h;else{var g=o[a.$nsAttributes];g||(g=o[a.$nsAttributes]=Object.create(null));var m=[f.slice(0,p),f.slice(p+1)],v=m[0],y=m[1],b=g[v];b||(b=g[v]=Object.create(null)),b[y]=h}}}}catch(e){c.e(e)}finally{c.f()}return[n,i,o]}},{key:"_getNameAndPrefix",value:function(e){var t=e.indexOf(":");return-1===t?[e,null]:[e.substring(t+1),e.substring(0,t)]}},{key:"onBeginElement",value:function(e,t,r){var n=c(this._mkAttributes(t,e),3),i=n[0],o=n[1],s=n[2],u=c(this._getNameAndPrefix(e),2),l=u[0],f=u[1],h=this._builder.build({nsPrefix:f,name:l,attributes:s,namespace:i,prefixes:o});if(r)return h[a.$finalize](),this._current[a.$onChild](h)&&h[a.$setId](this._ids),void h[a.$clean](this._builder);this._stack.push(this._current),this._current=h}},{key:"onEndElement",value:function(e){var t=this._current;t[a.$finalize](),this._current=this._stack.pop(),this._current[a.$onChild](t)&&t[a.$setId](this._ids),t[a.$clean](this._builder)}},{key:"onError",value:function(e){this._errorCode=e}}])&&f(t.prototype,r),n&&f(t,n),p}(i.XMLParserBase);t.XFAParser=m},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Builder=void 0;var a=r(178),i=r(176),o=r(186),s=r(180),c=r(195),u=r(4);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}function v(e,t,r){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}},v(e,t,r||e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var a=S(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var x=function(e){y(r,e);var t=w(r);function r(e){var n;return p(this,r),(n=t.call(this,-1,"root",Object.create(null))).element=null,n[i.$ids]=e,n}return m(r,[{key:i.$onChild,value:function(e){return this.element=e,!0}},{key:i.$finalize,value:function(){v(S(r.prototype),i.$finalize,this).call(this),this.element.template instanceof s.Template&&(this.element.template[i.$resolvePrototypes](this[i.$ids]),this.element.template[i.$ids]=this[i.$ids])}}]),r}(i.XFAObject),A=function(e){y(r,e);var t=w(r);function r(){return p(this,r),t.call(this,-1,"",Object.create(null))}return m(r,[{key:i.$onChild,value:function(e){return!1}}]),r}(i.XFAObject),O=function(){function e(){p(this,e),this._namespaceStack=[],this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max.apply(Math,f(Object.values(a.NamespaceIds).map((function(e){return e.id})))),this._currentNamespace=new c.UnknownNamespace(++this._nextNsId)}return m(e,[{key:"buildRoot",value:function(e){return new x(e)}},{key:"build",value:function(e){var t=e.nsPrefix,r=e.name,n=e.attributes,s=e.namespace,c=e.prefixes,u=null!==s;if(u&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(s)),c&&this._addNamespacePrefix(c),n.hasOwnProperty(i.$nsAttributes)){for(var f=o.NamespaceSetUp.datasets,h=n[i.$nsAttributes],d=null,p=0,g=Object.entries(h);p<g.length;p++){var m=l(g[p],2),v=m[0],y=m[1];if(this._getNamespaceToUse(v)===f){d={xfa:y};break}}d?n[i.$nsAttributes]=d:delete n[i.$nsAttributes]}var b=this._getNamespaceToUse(t),w=b&&b[a.$buildXFAObject](r,n)||new A;return(u||c)&&(w[i.$cleanup]={hasNamespace:u,prefixes:c}),w}},{key:"_searchNamespace",value:function(e){var t=this._namespaces.get(e);if(t)return t;for(var r=0,n=Object.entries(a.NamespaceIds);r<n.length;r++){var i=l(n[r],2),s=i[0];if((0,i[1].check)(e)){if(t=o.NamespaceSetUp[s])return this._namespaces.set(e,t),t;break}}return t=new c.UnknownNamespace(++this._nextNsId),this._namespaces.set(e,t),t}},{key:"_addNamespacePrefix",value:function(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.prefix,i=n.value,o=this._searchNamespace(i),s=this._namespacePrefixes.get(a);s||(s=[],this._namespacePrefixes.set(a,s)),s.push(o)}}catch(e){r.e(e)}finally{r.f()}}},{key:"_getNamespaceToUse",value:function(e){if(!e)return this._currentNamespace;var t=this._namespacePrefixes.get(e);return t&&t.length>0?t[t.length-1]:((0,u.warn)("Unknown namespace prefix: ".concat(e,".")),null)}},{key:"clean",value:function(e){var t=this,r=e.hasNamespace,n=e.prefixes;r&&(this._currentNamespace=this._namespaceStack.pop()),n&&n.forEach((function(e){var r=e.prefix;t._namespacePrefixes.get(r).pop()}))}}]),e}();t.Builder=O},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamespaceSetUp=void 0;var n=r(187),a=r(188),i=r(189),o=r(190),s=r(191),c=r(192),u=r(180),l=r(193),f=r(194),h={config:n.ConfigNamespace,connection:a.ConnectionSetNamespace,datasets:i.DatasetsNamespace,localeSet:o.LocaleSetNamespace,signature:s.SignatureNamespace,stylesheet:c.StylesheetNamespace,template:u.TemplateNamespace,xdp:l.XdpNamespace,xhtml:f.XhtmlNamespace};t.NamespaceSetUp=h},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigNamespace=void 0;var a=r(178),i=r(176),o=r(177),s=r(4);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var a=v(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var y=a.NamespaceIds.config.id,b=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"acrobat",!0)).acrobat7=null,n.autoSave=null,n.common=null,n.validate=null,n.validateApprovalSignatures=null,n.submitUrl=new i.XFAObjectArray,n}return r}(i.XFAObject),w=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"acrobat7",!0)).dynamicRender=null,n}return r}(i.XFAObject),k=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"ADBE_JSConsole",["delegate","Enable","Disable"])}return r}(i.OptionObject),S=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"ADBE_JSDebugger",["delegate","Enable","Disable"])}return r}(i.OptionObject),x=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"addSilentPrint")}return r}(i.Option01),A=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"addViewerPreferences")}return r}(i.Option01),O=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"adjustData")}return r}(i.Option10),C=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"adobeExtensionLevel",0,(function(e){return e>=1&&e<=8}))}return r}(i.IntegerObject),T=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"agent",!0)).name=e.name?e.name.trim():"",n.common=new i.XFAObjectArray,n}return r}(i.XFAObject),F=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"alwaysEmbed")}return r}(i.ContentObject),P=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"amd")}return r}(i.StringObject),_=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"area")).level=(0,o.getInteger)({data:e.level,defaultValue:0,validate:function(e){return e>=1&&e<=3}}),n.name=(0,o.getStringOption)(e.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"]),n}return r}(i.XFAObject),I=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"attributes",["preserve","delegate","ignore"])}return r}(i.OptionObject),E=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"autoSave",["disabled","enabled"])}return r}(i.OptionObject),j=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"base")}return r}(i.StringObject),R=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"batchOutput")).format=(0,o.getStringOption)(e.format,["none","concat","zip","zipCompress"]),n}return r}(i.XFAObject),M=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"behaviorOverride")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=new Map(this[i.$content].trim().split(/\\s+/).filter((function(e){return!!e&&e.include(":")})).map((function(e){return e.split(":",2)})))}}]),r}(i.ContentObject),N=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"cache",!0)).templateCache=null,n}return r}(i.XFAObject),B=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"change")}return r}(i.Option01),D=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"common",!0)).data=null,n.locale=null,n.localeSet=null,n.messaging=null,n.suppressBanner=null,n.template=null,n.validationMessaging=null,n.versionControl=null,n.log=new i.XFAObjectArray,n}return r}(i.XFAObject),L=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"compress")).scope=(0,o.getStringOption)(e.scope,["imageOnly","document"]),n}return r}(i.XFAObject),U=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"compressLogicalStructure")}return r}(i.Option01),q=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"compressObjectStream")}return r}(i.Option10),X=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"compression",!0)).compressLogicalStructure=null,n.compressObjectStream=null,n.level=null,n.type=null,n}return r}(i.XFAObject),H=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"config",!0)).acrobat=null,n.present=null,n.trace=null,n.agent=new i.XFAObjectArray,n}return r}(i.XFAObject),$=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"conformance",["A","B"])}return r}(i.OptionObject),z=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"contentCopy")}return r}(i.Option01),G=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"copies",1,(function(e){return e>=1}))}return r}(i.IntegerObject),W=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"creator")}return r}(i.StringObject),V=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"currentPage",0,(function(e){return e>=0}))}return r}(i.IntegerObject),K=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"data",!0)).adjustData=null,n.attributes=null,n.incrementalLoad=null,n.outputXSL=null,n.range=null,n.record=null,n.startNode=null,n.uri=null,n.window=null,n.xsl=null,n.excludeNS=new i.XFAObjectArray,n.transform=new i.XFAObjectArray,n}return r}(i.XFAObject),Y=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"debug",!0)).uri=null,n}return r}(i.XFAObject),J=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"defaultTypeface")).writingScript=(0,o.getStringOption)(e.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"]),n}return r}(i.ContentObject),Z=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"destination",["pdf","pcl","ps","webClient","zpl"])}return r}(i.OptionObject),Q=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"documentAssembly")}return r}(i.Option01),ee=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"driver",!0)).name=e.name?e.name.trim():"",n.fontInfo=null,n.xdc=null,n}return r}(i.XFAObject),te=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}return r}(i.OptionObject),re=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"dynamicRender",["forbidden","required"])}return r}(i.OptionObject),ne=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"embed")}return r}(i.Option01),ae=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"encrypt")}return r}(i.Option01),ie=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"encryption",!0)).encrypt=null,n.encryptionLevel=null,n.permissions=null,n}return r}(i.XFAObject),oe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"encryptionLevel",["40bit","128bit"])}return r}(i.OptionObject),se=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"enforce")}return r}(i.StringObject),ce=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"equate")).force=(0,o.getInteger)({data:e.force,defaultValue:1,validate:function(e){return 0===e}}),n.from=e.from||"",n.to=e.to||"",n}return r}(i.XFAObject),ue=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"equateRange")).from=e.from||"",n.to=e.to||"",n._unicodeRange=e.unicodeRange||"",n}return f(r,[{key:"unicodeRange",get:function(){var e,t=[],r=/U\\+([0-9a-fA-F]+)/,n=c(this._unicodeRange.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})));try{for(n.s();!(e=n.n()).done;){var a=e.value;1===(a=a.split("-",2).map((function(e){var t=e.match(r);return t?parseInt(t[1],16):0}))).length&&a.push(a[0]),t.push(a)}}catch(e){n.e(e)}finally{n.f()}return(0,s.shadow)(this,"unicodeRange",t)}}]),r}(i.XFAObject),le=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"exclude")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim().split(/\\s+/).filter((function(e){return e&&["calculate","close","enter","exit","initialize","ready","validate"].includes(e)}))}}]),r}(i.ContentObject),fe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"excludeNS")}return r}(i.StringObject),he=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"flipLabel",["usePrinterSetting","on","off"])}return r}(i.OptionObject),de=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"fontInfo",!0)).embed=null,n.map=null,n.subsetBelow=null,n.alwaysEmbed=new i.XFAObjectArray,n.defaultTypeface=new i.XFAObjectArray,n.neverEmbed=new i.XFAObjectArray,n}return r}(i.XFAObject),pe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"formFieldFilling")}return r}(i.Option01),ge=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"groupParent")}return r}(i.StringObject),me=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}return r}(i.OptionObject),ve=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"includeXDPContent")}return r}(i.StringObject),ye=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"incrementalLoad",["none","forwardOnly"])}return r}(i.OptionObject),be=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"incrementalMerge")}return r}(i.Option01),we=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"interactive")}return r}(i.Option01),ke=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"jog",["usePrinterSetting","none","pageSet"])}return r}(i.OptionObject),Se=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"labelPrinter",!0)).name=(0,o.getStringOption)(e.name,["zpl","dpl","ipl","tcpl"]),n.batchOutput=null,n.flipLabel=null,n.fontInfo=null,n.xdc=null,n}return r}(i.XFAObject),xe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"layout",["paginate","panel"])}return r}(i.OptionObject),Ae=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"level",0,(function(e){return e>0}))}return r}(i.IntegerObject),Oe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"linearized")}return r}(i.Option01),Ce=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"locale")}return r}(i.StringObject),Te=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"localeSet")}return r}(i.StringObject),Fe=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"log",!0)).mode=null,n.threshold=null,n.to=null,n.uri=null,n}return r}(i.XFAObject),Pe=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"map",!0)).equate=new i.XFAObjectArray,n.equateRange=new i.XFAObjectArray,n}return r}(i.XFAObject),_e=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"mediumInfo",!0)).map=null,n}return r}(i.XFAObject),Ie=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"message",!0)).msgId=null,n.severity=null,n}return r}(i.XFAObject),Ee=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"messaging",!0)).message=new i.XFAObjectArray,n}return r}(i.XFAObject),je=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"mode",["append","overwrite"])}return r}(i.OptionObject),Re=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"modifyAnnots")}return r}(i.Option01),Me=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"msgId",1,(function(e){return e>=1}))}return r}(i.IntegerObject),Ne=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"nameAttr")}return r}(i.StringObject),Be=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"neverEmbed")}return r}(i.ContentObject),De=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"numberOfCopies",null,(function(e){return e>=2&&e<=5}))}return r}(i.IntegerObject),Le=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"openAction",!0)).destination=null,n}return r}(i.XFAObject),Ue=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"output",!0)).to=null,n.type=null,n.uri=null,n}return r}(i.XFAObject),qe=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"outputBin")}return r}(i.StringObject),Xe=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"outputXSL",!0)).uri=null,n}return r}(i.XFAObject),He=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"overprint",["none","both","draw","field"])}return r}(i.OptionObject),$e=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"packets")}return f(r,[{key:i.$finalize,value:function(){"*"!==this[i.$content]&&(this[i.$content]=this[i.$content].trim().split(/\\s+/).filter((function(e){return["config","datasets","template","xfdf","xslt"].includes(e)})))}}]),r}(i.StringObject),ze=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"pageOffset")).x=(0,o.getInteger)({data:e.x,defaultValue:"useXDCSetting",validate:function(e){return!0}}),n.y=(0,o.getInteger)({data:e.y,defaultValue:"useXDCSetting",validate:function(e){return!0}}),n}return r}(i.XFAObject),Ge=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"pageRange")}return f(r,[{key:i.$finalize,value:function(){for(var e=this[i.$content].trim().split(/\\s+/).map((function(e){return parseInt(e,10)})),t=[],r=0,n=e.length;r<n;r+=2)t.push(e.slice(r,r+2));this[i.$content]=t}}]),r}(i.StringObject),We=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}return r}(i.OptionObject),Ve=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}return r}(i.OptionObject),Ke=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"part",1,(function(e){return!1}))}return r}(i.IntegerObject),Ye=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"pcl",!0)).name=e.name||"",n.batchOutput=null,n.fontInfo=null,n.jog=null,n.mediumInfo=null,n.outputBin=null,n.pageOffset=null,n.staple=null,n.xdc=null,n}return r}(i.XFAObject),Je=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"pdf",!0)).name=e.name||"",n.adobeExtensionLevel=null,n.batchOutput=null,n.compression=null,n.creator=null,n.encryption=null,n.fontInfo=null,n.interactive=null,n.linearized=null,n.openAction=null,n.pdfa=null,n.producer=null,n.renderPolicy=null,n.scriptModel=null,n.silentPrint=null,n.submitFormat=null,n.tagged=null,n.version=null,n.viewerPreferences=null,n.xdc=null,n}return r}(i.XFAObject),Ze=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"pdfa",!0)).amd=null,n.conformance=null,n.includeXDPContent=null,n.part=null,n}return r}(i.XFAObject),Qe=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"permissions",!0)).accessibleContent=null,n.change=null,n.contentCopy=null,n.documentAssembly=null,n.formFieldFilling=null,n.modifyAnnots=null,n.plaintextMetadata=null,n.print=null,n.printHighQuality=null,n}return r}(i.XFAObject),et=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"pickTrayByPDFSize")}return r}(i.Option01),tt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"picture")}return r}(i.StringObject),rt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"plaintextMetadata")}return r}(i.Option01),nt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}return r}(i.OptionObject),at=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"present",!0)).behaviorOverride=null,n.cache=null,n.common=null,n.copies=null,n.destination=null,n.incrementalMerge=null,n.layout=null,n.output=null,n.overprint=null,n.pagination=null,n.paginationOverride=null,n.script=null,n.validate=null,n.xdp=null,n.driver=new i.XFAObjectArray,n.labelPrinter=new i.XFAObjectArray,n.pcl=new i.XFAObjectArray,n.pdf=new i.XFAObjectArray,n.ps=new i.XFAObjectArray,n.submitUrl=new i.XFAObjectArray,n.webClient=new i.XFAObjectArray,n.zpl=new i.XFAObjectArray,n}return r}(i.XFAObject),it=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"print")}return r}(i.Option01),ot=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"printHighQuality")}return r}(i.Option01),st=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"printScaling",["appdefault","noScaling"])}return r}(i.OptionObject),ct=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"printerName")}return r}(i.StringObject),ut=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"producer")}return r}(i.StringObject),lt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"ps",!0)).name=e.name||"",n.batchOutput=null,n.fontInfo=null,n.jog=null,n.mediumInfo=null,n.outputBin=null,n.staple=null,n.xdc=null,n}return r}(i.XFAObject),ft=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"range")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim().split(/\\s*,\\s*/,2).map((function(e){return e.split("-").map((function(e){return parseInt(e.trim(),10)}))})).filter((function(e){return e.every((function(e){return!isNaN(e)}))})).map((function(e){return 1===e.length&&e.push(e[0]),e}))}}]),r}(i.ContentObject),ht=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"record")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim();var e=parseInt(this[i.$content],10);!isNaN(e)&&e>=0&&(this[i.$content]=e)}}]),r}(i.ContentObject),dt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"relevant")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim().split(/\\s+/)}}]),r}(i.ContentObject),pt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"rename")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim(),(this[i.$content].toLowerCase().startsWith("xml")||this[i.$content].match(new RegExp("[\\\\p{L}_][\\\\p{L}\\\\d._\\\\p{M}-]*","u")))&&(0,s.warn)("XFA - Rename: invalid XFA name")}}]),r}(i.ContentObject),gt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"renderPolicy",["server","client"])}return r}(i.OptionObject),mt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"runScripts",["both","client","none","server"])}return r}(i.OptionObject),vt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"script",!0)).currentPage=null,n.exclude=null,n.runScripts=null,n}return r}(i.XFAObject),yt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"scriptModel",["XFA","none"])}return r}(i.OptionObject),bt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"severity",["ignore","error","information","trace","warning"])}return r}(i.OptionObject),wt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"silentPrint",!0)).addSilentPrint=null,n.printerName=null,n}return r}(i.XFAObject),kt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"staple")).mode=(0,o.getStringOption)(e.mode,["usePrinterSetting","on","off"]),n}return r}(i.XFAObject),St=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"startNode")}return r}(i.StringObject),xt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"startPage",0,(function(e){return!0}))}return r}(i.IntegerObject),At=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"submitFormat",["html","delegate","fdf","xml","pdf"])}return r}(i.OptionObject),Ot=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"submitUrl")}return r}(i.StringObject),Ct=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"subsetBelow",100,(function(e){return e>=0&&e<=100}))}return r}(i.IntegerObject),Tt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"suppressBanner")}return r}(i.Option01),Ft=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"tagged")}return r}(i.Option01),Pt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"template",!0)).base=null,n.relevant=null,n.startPage=null,n.uri=null,n.xsl=null,n}return r}(i.XFAObject),_t=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"threshold",["trace","error","information","warning"])}return r}(i.OptionObject),It=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"to",["null","memory","stderr","stdout","system","uri"])}return r}(i.OptionObject),Et=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"templateCache")).maxEntries=(0,o.getInteger)({data:e.maxEntries,defaultValue:5,validate:function(e){return e>=0}}),n}return r}(i.XFAObject),jt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"trace",!0)).area=new i.XFAObjectArray,n}return r}(i.XFAObject),Rt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"transform",!0)).groupParent=null,n.ifEmpty=null,n.nameAttr=null,n.picture=null,n.presence=null,n.rename=null,n.whitespace=null,n}return r}(i.XFAObject),Mt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}return r}(i.OptionObject),Nt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"uri")}return r}(i.StringObject),Bt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"validate",["preSubmit","prePrint","preExecute","preSave"])}return r}(i.OptionObject),Dt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"validateApprovalSignatures")}return f(r,[{key:i.$finalize,value:function(){this[i.$content]=this[i.$content].trim().split(/\\s+/).filter((function(e){return["docReady","postSign"].includes(e)}))}}]),r}(i.ContentObject),Lt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}return r}(i.OptionObject),Ut=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}return r}(i.OptionObject),qt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"VersionControl")).outputBelow=(0,o.getStringOption)(e.outputBelow,["warn","error","update"]),n.sourceAbove=(0,o.getStringOption)(e.sourceAbove,["warn","error"]),n.sourceBelow=(0,o.getStringOption)(e.sourceBelow,["update","maintain"]),n}return r}(i.XFAObject),Xt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"viewerPreferences",!0)).ADBE_JSConsole=null,n.ADBE_JSDebugger=null,n.addViewerPreferences=null,n.duplexOption=null,n.enforce=null,n.numberOfCopies=null,n.pageRange=null,n.pickTrayByPDFSize=null,n.printScaling=null,n}return r}(i.XFAObject),Ht=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"webClient",!0)).name=e.name?e.name.trim():"",n.fontInfo=null,n.xdc=null,n}return r}(i.XFAObject),$t=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}return r}(i.OptionObject),zt=function(e){d(r,e);var t=g(r);function r(e){return h(this,r),t.call(this,y,"window")}return f(r,[{key:i.$finalize,value:function(){var e=this[i.$content].trim().split(/\\s*,\\s*/,2).map((function(e){return parseInt(e,10)}));e.some((function(e){return isNaN(e)}))?this[i.$content]=[0,0]:(1===e.length&&e.push(e[0]),this[i.$content]=e)}}]),r}(i.ContentObject),Gt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"xdc",!0)).uri=new i.XFAObjectArray,n.xsl=new i.XFAObjectArray,n}return r}(i.XFAObject),Wt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"xdp",!0)).packets=null,n}return r}(i.XFAObject),Vt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"xsl",!0)).debug=null,n.uri=null,n}return r}(i.XFAObject),Kt=function(e){d(r,e);var t=g(r);function r(e){var n;return h(this,r),(n=t.call(this,y,"zpl",!0)).name=e.name?e.name.trim():"",n.batchOutput=null,n.flipLabel=null,n.fontInfo=null,n.xdc=null,n}return r}(i.XFAObject),Yt=function(){function e(){h(this,e)}return f(e,null,[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"acrobat",value:function(e){return new b(e)}},{key:"acrobat7",value:function(e){return new w(e)}},{key:"ADBE_JSConsole",value:function(e){return new k(e)}},{key:"ADBE_JSDebugger",value:function(e){return new S(e)}},{key:"addSilentPrint",value:function(e){return new x(e)}},{key:"addViewerPreferences",value:function(e){return new A(e)}},{key:"adjustData",value:function(e){return new O(e)}},{key:"adobeExtensionLevel",value:function(e){return new C(e)}},{key:"agent",value:function(e){return new T(e)}},{key:"alwaysEmbed",value:function(e){return new F(e)}},{key:"amd",value:function(e){return new P(e)}},{key:"area",value:function(e){return new _(e)}},{key:"attributes",value:function(e){return new I(e)}},{key:"autoSave",value:function(e){return new E(e)}},{key:"base",value:function(e){return new j(e)}},{key:"batchOutput",value:function(e){return new R(e)}},{key:"behaviorOverride",value:function(e){return new M(e)}},{key:"cache",value:function(e){return new N(e)}},{key:"change",value:function(e){return new B(e)}},{key:"common",value:function(e){return new D(e)}},{key:"compress",value:function(e){return new L(e)}},{key:"compressLogicalStructure",value:function(e){return new U(e)}},{key:"compressObjectStream",value:function(e){return new q(e)}},{key:"compression",value:function(e){return new X(e)}},{key:"config",value:function(e){return new H(e)}},{key:"conformance",value:function(e){return new $(e)}},{key:"contentCopy",value:function(e){return new z(e)}},{key:"copies",value:function(e){return new G(e)}},{key:"creator",value:function(e){return new W(e)}},{key:"currentPage",value:function(e){return new V(e)}},{key:"data",value:function(e){return new K(e)}},{key:"debug",value:function(e){return new Y(e)}},{key:"defaultTypeface",value:function(e){return new J(e)}},{key:"destination",value:function(e){return new Z(e)}},{key:"documentAssembly",value:function(e){return new Q(e)}},{key:"driver",value:function(e){return new ee(e)}},{key:"duplexOption",value:function(e){return new te(e)}},{key:"dynamicRender",value:function(e){return new re(e)}},{key:"embed",value:function(e){return new ne(e)}},{key:"encrypt",value:function(e){return new ae(e)}},{key:"encryption",value:function(e){return new ie(e)}},{key:"encryptionLevel",value:function(e){return new oe(e)}},{key:"enforce",value:function(e){return new se(e)}},{key:"equate",value:function(e){return new ce(e)}},{key:"equateRange",value:function(e){return new ue(e)}},{key:"exclude",value:function(e){return new le(e)}},{key:"excludeNS",value:function(e){return new fe(e)}},{key:"flipLabel",value:function(e){return new he(e)}},{key:"fontInfo",value:function(e){return new de(e)}},{key:"formFieldFilling",value:function(e){return new pe(e)}},{key:"groupParent",value:function(e){return new ge(e)}},{key:"ifEmpty",value:function(e){return new me(e)}},{key:"includeXDPContent",value:function(e){return new ve(e)}},{key:"incrementalLoad",value:function(e){return new ye(e)}},{key:"incrementalMerge",value:function(e){return new be(e)}},{key:"interactive",value:function(e){return new we(e)}},{key:"jog",value:function(e){return new ke(e)}},{key:"labelPrinter",value:function(e){return new Se(e)}},{key:"layout",value:function(e){return new xe(e)}},{key:"level",value:function(e){return new Ae(e)}},{key:"linearized",value:function(e){return new Oe(e)}},{key:"locale",value:function(e){return new Ce(e)}},{key:"localeSet",value:function(e){return new Te(e)}},{key:"log",value:function(e){return new Fe(e)}},{key:"map",value:function(e){return new Pe(e)}},{key:"mediumInfo",value:function(e){return new _e(e)}},{key:"message",value:function(e){return new Ie(e)}},{key:"messaging",value:function(e){return new Ee(e)}},{key:"mode",value:function(e){return new je(e)}},{key:"modifyAnnots",value:function(e){return new Re(e)}},{key:"msgId",value:function(e){return new Me(e)}},{key:"nameAttr",value:function(e){return new Ne(e)}},{key:"neverEmbed",value:function(e){return new Be(e)}},{key:"numberOfCopies",value:function(e){return new De(e)}},{key:"openAction",value:function(e){return new Le(e)}},{key:"output",value:function(e){return new Ue(e)}},{key:"outputBin",value:function(e){return new qe(e)}},{key:"outputXSL",value:function(e){return new Xe(e)}},{key:"overprint",value:function(e){return new He(e)}},{key:"packets",value:function(e){return new $e(e)}},{key:"pageOffset",value:function(e){return new ze(e)}},{key:"pageRange",value:function(e){return new Ge(e)}},{key:"pagination",value:function(e){return new We(e)}},{key:"paginationOverride",value:function(e){return new Ve(e)}},{key:"part",value:function(e){return new Ke(e)}},{key:"pcl",value:function(e){return new Ye(e)}},{key:"pdf",value:function(e){return new Je(e)}},{key:"pdfa",value:function(e){return new Ze(e)}},{key:"permissions",value:function(e){return new Qe(e)}},{key:"pickTrayByPDFSize",value:function(e){return new et(e)}},{key:"picture",value:function(e){return new tt(e)}},{key:"plaintextMetadata",value:function(e){return new rt(e)}},{key:"presence",value:function(e){return new nt(e)}},{key:"present",value:function(e){return new at(e)}},{key:"print",value:function(e){return new it(e)}},{key:"printHighQuality",value:function(e){return new ot(e)}},{key:"printScaling",value:function(e){return new st(e)}},{key:"printerName",value:function(e){return new ct(e)}},{key:"producer",value:function(e){return new ut(e)}},{key:"ps",value:function(e){return new lt(e)}},{key:"range",value:function(e){return new ft(e)}},{key:"record",value:function(e){return new ht(e)}},{key:"relevant",value:function(e){return new dt(e)}},{key:"rename",value:function(e){return new pt(e)}},{key:"renderPolicy",value:function(e){return new gt(e)}},{key:"runScripts",value:function(e){return new mt(e)}},{key:"script",value:function(e){return new vt(e)}},{key:"scriptModel",value:function(e){return new yt(e)}},{key:"severity",value:function(e){return new bt(e)}},{key:"silentPrint",value:function(e){return new wt(e)}},{key:"staple",value:function(e){return new kt(e)}},{key:"startNode",value:function(e){return new St(e)}},{key:"startPage",value:function(e){return new xt(e)}},{key:"submitFormat",value:function(e){return new At(e)}},{key:"submitUrl",value:function(e){return new Ot(e)}},{key:"subsetBelow",value:function(e){return new Ct(e)}},{key:"suppressBanner",value:function(e){return new Tt(e)}},{key:"tagged",value:function(e){return new Ft(e)}},{key:"template",value:function(e){return new Pt(e)}},{key:"templateCache",value:function(e){return new Et(e)}},{key:"threshold",value:function(e){return new _t(e)}},{key:"to",value:function(e){return new It(e)}},{key:"trace",value:function(e){return new jt(e)}},{key:"transform",value:function(e){return new Rt(e)}},{key:"type",value:function(e){return new Mt(e)}},{key:"uri",value:function(e){return new Nt(e)}},{key:"validate",value:function(e){return new Bt(e)}},{key:"validateApprovalSignatures",value:function(e){return new Dt(e)}},{key:"validationMessaging",value:function(e){return new Lt(e)}},{key:"version",value:function(e){return new Ut(e)}},{key:"versionControl",value:function(e){return new qt(e)}},{key:"viewerPreferences",value:function(e){return new Xt(e)}},{key:"webClient",value:function(e){return new Ht(e)}},{key:"whitespace",value:function(e){return new $t(e)}},{key:"window",value:function(e){return new zt(e)}},{key:"xdc",value:function(e){return new Gt(e)}},{key:"xdp",value:function(e){return new Wt(e)}},{key:"xsl",value:function(e){return new Vt(e)}},{key:"zpl",value:function(e){return new Kt(e)}}]),e}();t.ConfigNamespace=Yt},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionSetNamespace=void 0;var a=r(178),i=r(176);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=a.NamespaceIds.connectionSet.id,p=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"connectionSet",!0)).wsdlConnection=new i.XFAObjectArray,n.xmlConnection=new i.XFAObjectArray,n.xsdConnection=new i.XFAObjectArray,n}return r}(i.XFAObject),g=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"effectiveInputPolicy")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.XFAObject),m=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"effectiveOutputPolicy")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.XFAObject),v=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"operation")).id=e.id||"",n.input=e.input||"",n.name=e.name||"",n.output=e.output||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),y=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"rootElement")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),b=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"soapAction")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),w=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"soapAddress")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),k=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"uri")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),S=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"wsdlAddress")).id=e.id||"",n.name=e.name||"",n.use=e.use||"",n.usehref=e.usehref||"",n}return r}(i.StringObject),x=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"wsdlConnection",!0)).dataDescription=e.dataDescription||"",n.name=e.name||"",n.effectiveInputPolicy=null,n.effectiveOutputPolicy=null,n.operation=null,n.soapAction=null,n.soapAddress=null,n.wsdlAddress=null,n}return r}(i.XFAObject),A=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"xmlConnection",!0)).dataDescription=e.dataDescription||"",n.name=e.name||"",n.uri=null,n}return r}(i.XFAObject),O=function(e){c(r,e);var t=l(r);function r(e){var n;return s(this,r),(n=t.call(this,d,"xsdConnection",!0)).dataDescription=e.dataDescription||"",n.name=e.name||"",n.rootElement=null,n.uri=null,n}return r}(i.XFAObject),C=function(){function e(){s(this,e)}var t,r,n;return t=e,r=null,n=[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"connectionSet",value:function(e){return new p(e)}},{key:"effectiveInputPolicy",value:function(e){return new g(e)}},{key:"effectiveOutputPolicy",value:function(e){return new m(e)}},{key:"operation",value:function(e){return new v(e)}},{key:"rootElement",value:function(e){return new y(e)}},{key:"soapAction",value:function(e){return new b(e)}},{key:"soapAddress",value:function(e){return new w(e)}},{key:"uri",value:function(e){return new k(e)}},{key:"wsdlAddress",value:function(e){return new S(e)}},{key:"wsdlConnection",value:function(e){return new x(e)}},{key:"xmlConnection",value:function(e){return new A(e)}},{key:"xsdConnection",value:function(e){return new O(e)}}],r&&o(t.prototype,r),n&&o(t,n),e}();t.ConnectionSetNamespace=C},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetsNamespace=void 0;var a=r(176),i=r(178);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=i.NamespaceIds.datasets.id,g=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"data",e)}return r}(a.XmlObject),m=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"datasets",!0)).data=null,n.Signature=null,n}return s(r,[{key:a.$onChild,value:function(e){var t=e[a.$nodeName];"data"===t&&e[a.$namespaceId]===p||"Signature"===t&&e[a.$namespaceId]===i.NamespaceIds.signature.id?this[t]=e:e[a.$global]=!0,this[a.$appendChild](e)}}]),r}(a.XFAObject),v=function(){function e(){c(this,e)}return s(e,null,[{key:i.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"datasets",value:function(e){return new m(e)}},{key:"data",value:function(e){return new g(e)}}]),e}();t.DatasetsNamespace=v},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleSetNamespace=void 0;var a=r(178),i=r(176),o=r(177);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=a.NamespaceIds.localeSet.id,g=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"calendarSymbols",!0)).name="gregorian",n.dayNames=new i.XFAObjectArray(2),n.eraNames=null,n.meridiemNames=null,n.monthNames=new i.XFAObjectArray(2),n}return r}(i.XFAObject),m=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"currencySymbol")).name=(0,o.getStringOption)(e.name,["symbol","isoname","decimal"]),n}return r}(i.StringObject),v=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"currencySymbols",!0)).currencySymbol=new i.XFAObjectArray(3),n}return r}(i.XFAObject),y=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"datePattern")).name=(0,o.getStringOption)(e.name,["full","long","med","short"]),n}return r}(i.StringObject),b=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"datePatterns",!0)).datePattern=new i.XFAObjectArray(4),n}return r}(i.XFAObject),w=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"dateTimeSymbols")}return r}(i.ContentObject),k=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"day")}return r}(i.StringObject),S=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"dayNames",!0)).abbr=(0,o.getInteger)({data:e.abbr,defaultValue:0,validate:function(e){return 1===e}}),n.day=new i.XFAObjectArray(7),n}return r}(i.XFAObject),x=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"era")}return r}(i.StringObject),A=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"eraNames",!0)).era=new i.XFAObjectArray(2),n}return r}(i.XFAObject),O=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"locale",!0)).desc=e.desc||"",n.name="isoname",n.calendarSymbols=null,n.currencySymbols=null,n.datePatterns=null,n.dateTimeSymbols=null,n.numberPatterns=null,n.numberSymbols=null,n.timePatterns=null,n.typeFaces=null,n}return r}(i.XFAObject),C=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"localeSet",!0)).locale=new i.XFAObjectArray,n}return r}(i.XFAObject),T=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"meridiem")}return r}(i.StringObject),F=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"meridiemNames",!0)).meridiem=new i.XFAObjectArray(2),n}return r}(i.XFAObject),P=function(e){u(r,e);var t=f(r);function r(e){return c(this,r),t.call(this,p,"month")}return r}(i.StringObject),_=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"monthNames",!0)).abbr=(0,o.getInteger)({data:e.abbr,defaultValue:0,validate:function(e){return 1===e}}),n.month=new i.XFAObjectArray(12),n}return r}(i.XFAObject),I=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"numberPattern")).name=(0,o.getStringOption)(e.name,["full","long","med","short"]),n}return r}(i.StringObject),E=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"numberPatterns",!0)).numberPattern=new i.XFAObjectArray(4),n}return r}(i.XFAObject),j=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"numberSymbol")).name=(0,o.getStringOption)(e.name,["decimal","grouping","percent","minus","zero"]),n}return r}(i.StringObject),R=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"numberSymbols",!0)).numberSymbol=new i.XFAObjectArray(5),n}return r}(i.XFAObject),M=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"timePattern")).name=(0,o.getStringOption)(e.name,["full","long","med","short"]),n}return r}(i.StringObject),N=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"timePatterns",!0)).timePattern=new i.XFAObjectArray(4),n}return r}(i.XFAObject),B=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"typeFace",!0)).name=""|e.name,n}return r}(i.XFAObject),D=function(e){u(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,p,"typeFaces",!0)).typeFace=new i.XFAObjectArray,n}return r}(i.XFAObject),L=function(){function e(){c(this,e)}var t,r,n;return t=e,r=null,n=[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"calendarSymbols",value:function(e){return new g(e)}},{key:"currencySymbol",value:function(e){return new m(e)}},{key:"currencySymbols",value:function(e){return new v(e)}},{key:"datePattern",value:function(e){return new y(e)}},{key:"datePatterns",value:function(e){return new b(e)}},{key:"dateTimeSymbols",value:function(e){return new w(e)}},{key:"day",value:function(e){return new k(e)}},{key:"dayNames",value:function(e){return new S(e)}},{key:"era",value:function(e){return new x(e)}},{key:"eraNames",value:function(e){return new A(e)}},{key:"locale",value:function(e){return new O(e)}},{key:"localeSet",value:function(e){return new C(e)}},{key:"meridiem",value:function(e){return new T(e)}},{key:"meridiemNames",value:function(e){return new F(e)}},{key:"month",value:function(e){return new P(e)}},{key:"monthNames",value:function(e){return new _(e)}},{key:"numberPattern",value:function(e){return new I(e)}},{key:"numberPatterns",value:function(e){return new E(e)}},{key:"numberSymbol",value:function(e){return new j(e)}},{key:"numberSymbols",value:function(e){return new R(e)}},{key:"timePattern",value:function(e){return new M(e)}},{key:"timePatterns",value:function(e){return new N(e)}},{key:"typeFace",value:function(e){return new B(e)}},{key:"typeFaces",value:function(e){return new D(e)}}],r&&s(t.prototype,r),n&&s(t,n),e}();t.LocaleSetNamespace=L},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureNamespace=void 0;var a=r(178),i=r(176);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=a.NamespaceIds.signature.id,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e);var t=u(r);function r(e){return s(this,r),t.call(this,h,"signature",!0)}return r}(i.XFAObject),p=function(){function e(){s(this,e)}var t,r,n;return t=e,r=null,n=[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"signature",value:function(e){return new d(e)}}],r&&o(t.prototype,r),n&&o(t,n),e}();t.SignatureNamespace=p},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.StylesheetNamespace=void 0;var a=r(178),i=r(176);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=a.NamespaceIds.stylesheet.id,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e);var t=u(r);function r(e){return s(this,r),t.call(this,h,"stylesheet",!0)}return r}(i.XFAObject),p=function(){function e(){s(this,e)}var t,r,n;return t=e,r=null,n=[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"stylesheet",value:function(e){return new d(e)}}],r&&o(t.prototype,r),n&&o(t,n),e}();t.StylesheetNamespace=p},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XdpNamespace=void 0;var a=r(178),i=r(176);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=a.NamespaceIds.xdp.id,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t=l(r);function r(e){var n;return o(this,r),(n=t.call(this,d,"xdp",!0)).uuid=e.uuid||"",n.timeStamp=e.timeStamp||"",n.config=null,n.connectionSet=null,n.datasets=null,n.localeSet=null,n.stylesheet=new i.XFAObjectArray,n.template=null,n}return c(r,[{key:i.$onChildCheck,value:function(e){var t=a.NamespaceIds[e[i.$nodeName]];return t&&e[i.$namespaceId]===t.id}}]),r}(i.XFAObject),g=function(){function e(){o(this,e)}return c(e,null,[{key:a.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"xdp",value:function(e){return new p(e)}}]),e}();t.XdpNamespace=g},(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.XhtmlNamespace=void 0;var a=r(176),i=r(178),o=r(181),s=r(177);function c(e,t,r){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}},c(e,t,r||e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=i.NamespaceIds.xhtml.id,k=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),S=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",function(e){return"none"===e?"none":"normal"}],["xfa-font-horizontal-scale",function(e){return"scaleX(".concat(Math.max(0,Math.min(parseInt(e)/100)).toFixed(2),")")}],["xfa-font-vertical-scale",function(e){return"scaleY(".concat(Math.max(0,Math.min(parseInt(e)/100)).toFixed(2),")")}],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",function(e){return(0,o.measureToString)(1*(0,s.getMeasurement)(e))}],["letter-spacing",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["line-height",function(e){return(0,o.measureToString)(.99*(0,s.getMeasurement)(e))}],["margin",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["margin-bottom",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["margin-left",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["margin-right",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["margin-top",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["text-indent",function(e){return(0,o.measureToString)((0,s.getMeasurement)(e))}],["font-family",function(e){return(0,o.getFonts)(e)}]]),x=/\\s+/g,A=/[\\r\\n]+/g;function O(e){var t=Object.create(null);if(!e)return t;var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(e.split(";").map((function(e){return e.split(":",2)})));try{for(n.s();!(r=n.n()).done;){var a=v(r.value,2),i=a[0],s=a[1],c=S.get(i);if(""!==c){var u=s;c&&(u="string"==typeof c?c:c(s)),i.endsWith("scale")?t.transform?t.transform="".concat(t[i]," ").concat(u):t.transform=u:t[i.replaceAll(/-([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))]=u}}}catch(e){n.e(e)}finally{n.f()}return(0,o.fixTextIndent)(t),t}var C=new Set(["body","html"]),T=function(e){h(r,e);var t=p(r);function r(e,n){var a,i;return u(this,r),(a=t.call(this,w,n)).style=(i=e.style)?i.trim().split(/\\s*;\\s*/).filter((function(e){return!!e})).map((function(e){return e.split(/\\s*:\\s*/,2)})).filter((function(e){var t=v(e,1)[0];return k.has(t)})).map((function(e){return e.join(":")})).join(";"):"",a}return f(r,[{key:a.$acceptWhitespace,value:function(){return!C.has(this[a.$nodeName])}},{key:a.$onText,value:function(e){e=e.replace(A,""),this.style.includes("xfa-spacerun:yes")||(e=e.replace(x," ")),e&&(this[a.$content]+=e)}},{key:a.$toHTML,value:function(e){var t=[];return this[a.$extra]={children:t},this[a.$childrenToHTML]({}),0!==t.length||this[a.$content]?s.HTMLResult.success({name:this[a.$nodeName],attributes:{href:this.href,style:O(this.style)},children:t,value:this[a.$content]||""}):s.HTMLResult.EMPTY}}]),r}(a.XmlObject),F=function(e){h(r,e);var t=p(r);function r(e){var n;return u(this,r),(n=t.call(this,e,"a")).href=e.href||"",n}return r}(T),P=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"b")}return r}(T),_=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"body")}return f(r,[{key:a.$toHTML,value:function(e){var t=c(m(r.prototype),a.$toHTML,this).call(this,e),n=t.html;return n?(n.name="div",n.attributes.class="xfaRich",t):s.HTMLResult.EMPTY}}]),r}(T),I=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"br")}return f(r,[{key:a.$text,value:function(){return"\\n"}},{key:a.$toHTML,value:function(e){return s.HTMLResult.success({name:"br"})}}]),r}(T),E=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"html")}return f(r,[{key:a.$toHTML,value:function(e){var t=[];if(this[a.$extra]={children:t},this[a.$childrenToHTML]({}),0===t.length)return s.HTMLResult.success({name:"div",attributes:{class:"xfaRich",style:{}},value:this[a.$content]||""});if(1===t.length){var r=t[0];if(r.attributes&&"xfaRich"===r.attributes.class)return s.HTMLResult.success(r)}return s.HTMLResult.success({name:"div",attributes:{class:"xfaRich",style:{}},children:t})}}]),r}(T),j=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"i")}return r}(T),R=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"li")}return r}(T),M=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"ol")}return r}(T),N=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"p")}return f(r,[{key:a.$text,value:function(){return c(m(r.prototype),a.$text,this).call(this)+"\\n"}}]),r}(T),B=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"span")}return r}(T),D=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"sub")}return r}(T),L=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"sup")}return r}(T),U=function(e){h(r,e);var t=p(r);function r(e){return u(this,r),t.call(this,e,"ul")}return r}(T),q=function(){function e(){u(this,e)}return f(e,null,[{key:i.$buildXFAObject,value:function(t,r){if(e.hasOwnProperty(t))return e[t](r)}},{key:"a",value:function(e){return new F(e)}},{key:"b",value:function(e){return new P(e)}},{key:"body",value:function(e){return new _(e)}},{key:"br",value:function(e){return new I(e)}},{key:"html",value:function(e){return new E(e)}},{key:"i",value:function(e){return new j(e)}},{key:"li",value:function(e){return new R(e)}},{key:"ol",value:function(e){return new M(e)}},{key:"p",value:function(e){return new N(e)}},{key:"span",value:function(e){return new B(e)}},{key:"sub",value:function(e){return new D(e)}},{key:"sup",value:function(e){return new L(e)}},{key:"ul",value:function(e){return new U(e)}}]),e}();t.XhtmlNamespace=q},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownNamespace=void 0;var n=r(178),a=r(176);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.namespaceId=t}var t,r,o;return t=e,(r=[{key:n.$buildXFAObject,value:function(e,t){return new a.XmlObject(this.namespaceId,e,t)}}])&&i(t.prototype,r),o&&i(t,o),e}();t.UnknownNamespace=o},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XRef=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4),o=r(113),s=r(125),c=r(117),u=r(173);function l(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){l(i,n,a,o,s,"next",e)}function s(e){l(i,n,a,o,s,"throw",e)}o(void 0)}))}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stream=t,this.pdfManager=r,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this.stats={streamTypes:Object.create(null),fontTypes:Object.create(null)},this._newRefNum=null}var t,r,n,l,d;return t=e,r=[{key:"getNewRef",value:function(){return null===this._newRefNum&&(this._newRefNum=this.entries.length),o.Ref.get(this._newRefNum++,0)}},{key:"resetNewRef",value:function(){this._newRefNum=null}},{key:"setStartXRef",value:function(e){this.startXRefQueue=[e]}},{key:"parse",value:function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n?((0,i.warn)("Indexing all PDF objects"),e=this.indexObjects()):e=this.readXRef(),e.assignXref(this),this.trailer=e;try{t=e.get("Encrypt")}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.warn)('XRef.parse - Invalid "Encrypt" reference: "'.concat(e,'".'))}if((0,o.isDict)(t)){var a=e.get("ID"),s=a&&a.length?a[0]:"";t.suppressEncryption=!0,this.encrypt=new u.CipherTransformFactory(t,s,this.pdfManager.password)}try{r=e.get("Root")}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.warn)('XRef.parse - Invalid "Root" reference: "'.concat(e,'".'))}if(!(0,o.isDict)(r)||!r.has("Pages")){if(!n)throw new c.XRefParseException;throw new i.FormatError("Invalid root reference")}this.root=r}},{key:"processXRefTable",value:function(e){"tableState"in this||(this.tableState={entryNum:0,streamPos:e.lexer.stream.pos,parserBuf1:e.buf1,parserBuf2:e.buf2});var t=this.readXRefTable(e);if(!(0,o.isCmd)(t,"trailer"))throw new i.FormatError("Invalid XRef table: could not find trailer dictionary");var r=e.getObj();if(!(0,o.isDict)(r)&&r.dict&&(r=r.dict),!(0,o.isDict)(r))throw new i.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,r}},{key:"readXRefTable",value:function(e){var t,r=e.lexer.stream,n=this.tableState;for(r.pos=n.streamPos,e.buf1=n.parserBuf1,e.buf2=n.parserBuf2;;){if(!("firstEntryNum"in n)||!("entryCount"in n)){if((0,o.isCmd)(t=e.getObj(),"trailer"))break;n.firstEntryNum=t,n.entryCount=e.getObj()}var a=n.firstEntryNum,s=n.entryCount;if(!Number.isInteger(a)||!Number.isInteger(s))throw new i.FormatError("Invalid XRef table: wrong types in subsection header");for(var c=n.entryNum;c<s;c++){n.streamPos=r.pos,n.entryNum=c,n.parserBuf1=e.buf1,n.parserBuf2=e.buf2;var u={};u.offset=e.getObj(),u.gen=e.getObj();var l=e.getObj();if(l instanceof o.Cmd)switch(l.cmd){case"f":u.free=!0;break;case"n":u.uncompressed=!0}if(!Number.isInteger(u.offset)||!Number.isInteger(u.gen)||!u.free&&!u.uncompressed)throw new i.FormatError("Invalid entry in XRef subsection: ".concat(a,", ").concat(s));0===c&&u.free&&1===a&&(a=0),this.entries[c+a]||(this.entries[c+a]=u)}n.entryNum=0,n.streamPos=r.pos,n.parserBuf1=e.buf1,n.parserBuf2=e.buf2,delete n.firstEntryNum,delete n.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new i.FormatError("Invalid XRef table: unexpected first object");return t}},{key:"processXRefStream",value:function(e){if(!("streamState"in this)){var t=e.dict,r=t.get("W"),n=t.get("Index");n||(n=[0,t.get("Size")]),this.streamState={entryRanges:n,byteWidths:r,entryNum:0,streamPos:e.pos}}return this.readXRefStream(e),delete this.streamState,e.dict}},{key:"readXRefStream",value:function(e){var t,r,n=this.streamState;e.pos=n.streamPos;for(var a=n.byteWidths,o=a[0],s=a[1],c=a[2],u=n.entryRanges;u.length>0;){var l=u[0],f=u[1];if(!Number.isInteger(l)||!Number.isInteger(f))throw new i.FormatError("Invalid XRef range fields: ".concat(l,", ").concat(f));if(!Number.isInteger(o)||!Number.isInteger(s)||!Number.isInteger(c))throw new i.FormatError("Invalid XRef entry fields length: ".concat(l,", ").concat(f));for(t=n.entryNum;t<f;++t){n.entryNum=t,n.streamPos=e.pos;var h=0,d=0,p=0;for(r=0;r<o;++r)h=h<<8|e.getByte();for(0===o&&(h=1),r=0;r<s;++r)d=d<<8|e.getByte();for(r=0;r<c;++r)p=p<<8|e.getByte();var g={};switch(g.offset=d,g.gen=p,h){case 0:g.free=!0;break;case 1:g.uncompressed=!0;break;case 2:break;default:throw new i.FormatError("Invalid XRef entry type: ".concat(h))}this.entries[l+t]||(this.entries[l+t]=g)}n.entryNum=0,n.streamPos=e.pos,u.splice(0,2)}}},{key:"indexObjects",value:function(){function e(e,t){for(var r="",n=e[t];10!==n&&13!==n&&60!==n&&!(++t>=e.length);)r+=String.fromCharCode(n),n=e[t];return r}function t(e,t,r){for(var n=r.length,a=e.length,i=0;t<a;){for(var o=0;o<n&&e[t+o]===r[o];)++o;if(o>=n)break;t++,i++}return i}var r=/^(\\d+)\\s+(\\d+)\\s+obj\\b/,n=/\\bendobj[\\b\\s]$/,a=/\\s+(\\d+\\s+\\d+\\s+obj[\\b\\s<])$/,c=new Uint8Array([116,114,97,105,108,101,114]),u=new Uint8Array([115,116,97,114,116,120,114,101,102]),l=new Uint8Array([111,98,106]),f=new Uint8Array([47,88,82,101,102]);this.entries.length=0;var h=this.stream;h.pos=0;for(var d,p=h.getBytes(),g=p.length,m=h.start,v=[],y=[];m<g;){var b=p[m];if(9!==b&&10!==b&&13!==b&&32!==b)if(37!==b){var w=e(p,m),k=void 0;if(w.startsWith("xref")&&(4===w.length||/\\s/.test(w[4])))m+=t(p,m,c),v.push(m),m+=t(p,m,u);else if(k=r.exec(w)){var S=0|k[1],x=0|k[2];this.entries[S]&&this.entries[S].gen!==x||(this.entries[S]={offset:m-h.start,gen:x,uncompressed:!0});for(var A=void 0,O=m+w.length;O<p.length;){var C=O+t(p,O,l)+4;A=C-m;var T=Math.max(C-25,O),F=(0,i.bytesToString)(p.subarray(T,C));if(n.test(F))break;var P=a.exec(F);if(P&&P[1]){(0,i.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),A-=P[1].length;break}O=C}var _=p.subarray(m,m+A),I=t(_,0,f);I<A&&_[I+5]<64&&(y.push(m-h.start),this.xrefstms[m-h.start]=1),m+=A}else w.startsWith("trailer")&&(7===w.length||/\\s/.test(w[7]))?(v.push(m),m+=t(p,m,u)):m+=w.length+1}else do{if(++m>=g)break;b=p[m]}while(10!==b&&13!==b);else++m}for(var E=0,j=y.length;E<j;++E)this.startXRefQueue.push(y[E]),this.readXRef(!0);for(var R=0,M=v.length;R<M;++R){h.pos=v[R];var N=new s.Parser({lexer:new s.Lexer(h),xref:this,allowStreams:!0,recoveryMode:!0}),B=N.getObj();if((0,o.isCmd)(B,"trailer")){var D=N.getObj();if((0,o.isDict)(D)){try{var L=D.get("Root");if(!(L instanceof o.Dict))continue;var U=L.get("Pages");if(!(U instanceof o.Dict))continue;var q=U.get("Count");if(!Number.isInteger(q))continue}catch(e){continue}if(D.has("ID"))return D;d=D}}}if(d)return d;throw new i.InvalidPDFException("Invalid PDF structure.")}},{key:"readXRef",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.stream,r=new Set;try{for(;this.startXRefQueue.length;){var n=this.startXRefQueue[0];if(r.has(n))(0,i.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();else{r.add(n),t.pos=n+t.start;var a=new s.Parser({lexer:new s.Lexer(t),xref:this,allowStreams:!0}),u=a.getObj(),l=void 0;if((0,o.isCmd)(u,"xref")){if(l=this.processXRefTable(a),this.topDict||(this.topDict=l),u=l.get("XRefStm"),Number.isInteger(u)){var f=u;f in this.xrefstms||(this.xrefstms[f]=1,this.startXRefQueue.push(f))}}else{if(!Number.isInteger(u))throw new i.FormatError("Invalid XRef stream header");if(!Number.isInteger(a.getObj())||!(0,o.isCmd)(a.getObj(),"obj")||!(0,o.isStream)(u=a.getObj()))throw new i.FormatError("Invalid XRef stream");if(l=this.processXRefStream(u),this.topDict||(this.topDict=l),!l)throw new i.FormatError("Failed to read XRef stream")}u=l.get("Prev"),Number.isInteger(u)?this.startXRefQueue.push(u):(0,o.isRef)(u)&&this.startXRefQueue.push(u.num),this.startXRefQueue.shift()}}return this.topDict}catch(e){if(e instanceof c.MissingDataException)throw e;(0,i.info)("(while reading XRef): "+e)}if(!e)throw new c.XRefParseException}},{key:"getEntry",value:function(e){var t=this.entries[e];return t&&!t.free&&t.offset?t:null}},{key:"fetchIfRef",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e instanceof o.Ref?this.fetch(e,t):e}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof o.Ref))throw new Error("ref object is not a reference");var r=e.num,n=this._cacheMap.get(r);if(void 0!==n)return n instanceof o.Dict&&!n.objId&&(n.objId=e.toString()),n;var a=this.getEntry(r);return null===a?(this._cacheMap.set(r,a),a):(a=a.uncompressed?this.fetchUncompressed(e,a,t):this.fetchCompressed(e,a,t),(0,o.isDict)(a)?a.objId=e.toString():(0,o.isStream)(a)&&(a.dict.objId=e.toString()),a)}},{key:"fetchUncompressed",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.gen,a=e.num;if(t.gen!==n)throw new c.XRefEntryException("Inconsistent generation in XRef: ".concat(e));var i=this.stream.makeSubStream(t.offset+this.stream.start),u=new s.Parser({lexer:new s.Lexer(i),xref:this,allowStreams:!0}),l=u.getObj(),f=u.getObj(),h=u.getObj();if(l!==a||f!==n||!(h instanceof o.Cmd))throw new c.XRefEntryException("Bad (uncompressed) XRef entry: ".concat(e));if("obj"!==h.cmd){if(h.cmd.startsWith("obj")&&(a=parseInt(h.cmd.substring(3),10),!Number.isNaN(a)))return a;throw new c.XRefEntryException("Bad (uncompressed) XRef entry: ".concat(e))}return t=this.encrypt&&!r?u.getObj(this.encrypt.createCipherTransform(a,n)):u.getObj(),(0,o.isStream)(t)||this._cacheMap.set(a,t),t}},{key:"fetchCompressed",value:function(e,t){var r=t.offset,n=this.fetch(o.Ref.get(r,0));if(!(0,o.isStream)(n))throw new i.FormatError("bad ObjStm stream");var a=n.dict.get("First"),u=n.dict.get("N");if(!Number.isInteger(a)||!Number.isInteger(u))throw new i.FormatError("invalid first and n parameters for ObjStm stream");for(var l=new s.Parser({lexer:new s.Lexer(n),xref:this,allowStreams:!0}),f=new Array(u),h=new Array(u),d=0;d<u;++d){var p=l.getObj();if(!Number.isInteger(p))throw new i.FormatError("invalid object number in the ObjStm stream: ".concat(p));var g=l.getObj();if(!Number.isInteger(g))throw new i.FormatError("invalid object offset in the ObjStm stream: ".concat(g));f[d]=p,h[d]=g}for(var m=(n.start||0)+a,v=new Array(u),y=0;y<u;++y){var b=y<u-1?h[y+1]-h[y]:void 0;if(b<0)throw new i.FormatError("Invalid offset in the ObjStm stream.");var w=(l=new s.Parser({lexer:new s.Lexer(n.makeSubStream(m+h[y],b,n.dict)),xref:this,allowStreams:!0})).getObj();if(v[y]=w,!(0,o.isStream)(w)){var k=f[y],S=this.entries[k];S&&S.offset===r&&S.gen===y&&this._cacheMap.set(k,w)}}if(void 0===(t=v[t.gen]))throw new c.XRefEntryException("Bad (compressed) XRef entry: ".concat(e));return t}},{key:"fetchIfRefAsync",value:(d=f(a.default.mark((function e(t,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof o.Ref)){e.next=2;break}return e.abrupt("return",this.fetchAsync(t,r));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"fetchAsync",value:(l=f(a.default.mark((function e(t,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.fetch(t,r));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof c.MissingDataException){e.next=8;break}throw e.t0;case 8:return e.next=10,this.pdfManager.requestRange(e.t0.begin,e.t0.end);case 10:return e.abrupt("return",this.fetchAsync(t,r));case 11:case"end":return e.stop()}}),e,this,[[0,4]])}))),function(e,t){return l.apply(this,arguments)})},{key:"getCatalogObj",value:function(){return this.root}}],r&&h(t.prototype,r),n&&h(t,n),e}();t.XRef=d},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4);function o(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var u=1,l=2,f=1,h=2,d=3,p=4,g=5,m=6,v=7,y=8;function b(e){if("object"!==c(e)||null===e)return e;switch(e.name){case"AbortException":return new i.AbortException(e.message);case"MissingPDFException":return new i.MissingPDFException(e.message);case"UnexpectedResponseException":return new i.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new i.UnknownErrorException(e.message,e.details);default:return new i.UnknownErrorException(e.message,e.toString())}}var w=function(){function e(t,r,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceName=t,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===a.sourceName)if(t.stream)a._processStreamMessage(t);else if(t.callback){var r=t.callbackId,i=a.callbackCapabilities[r];if(!i)throw new Error("Cannot resolve callback ".concat(r));if(delete a.callbackCapabilities[r],t.callback===u)i.resolve(t.data);else{if(t.callback!==l)throw new Error("Unexpected callback case");i.reject(b(t.reason))}}else{var o=a.actionHandler[t.action];if(!o)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var s=a.sourceName,c=t.sourceName;new Promise((function(e){e(o(t.data))})).then((function(e){n.postMessage({sourceName:s,targetName:c,callback:u,callbackId:t.callbackId,data:e})}),(function(e){n.postMessage({sourceName:s,targetName:c,callback:l,callbackId:t.callbackId,reason:b(e)})}))}else t.streamId?a._createStreamSink(t):o(t.data)}},n.addEventListener("message",this._onComObjOnMessage)}var t,r,n,c,w;return t=e,r=[{key:"on",value:function(e,t){var r=this.actionHandler;if(r[e])throw new Error('There is already an actionName called "'.concat(e,'"'));r[e]=t}},{key:"send",value:function(e,t,r){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}},{key:"sendWithPromise",value:function(e,t,r){var n=this.callbackId++,a=(0,i.createPromiseCapability)();this.callbackCapabilities[n]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},r)}catch(e){a.reject(e)}return a.promise}},{key:"sendWithStream",value:function(e,t,r,n){var a=this,o=this.streamId++,s=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:function(r){var u=(0,i.createPromiseCapability)();return a.streamControllers[o]={controller:r,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},a._postMessage({sourceName:s,targetName:c,action:e,streamId:o,data:t,desiredSize:r.desiredSize},n),u.promise},pull:function(e){var t=(0,i.createPromiseCapability)();return a.streamControllers[o].pullCall=t,u.postMessage({sourceName:s,targetName:c,stream:m,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,i.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,i.createPromiseCapability)();return a.streamControllers[o].cancelCall=t,a.streamControllers[o].isClosed=!0,u.postMessage({sourceName:s,targetName:c,stream:f,streamId:o,reason:b(e)}),t.promise}},r)}},{key:"_createStreamSink",value:function(e){var t=this,r=this.actionHandler[e.action],n=e.streamId,a=this.sourceName,o=e.sourceName,s=this.comObj,c={enqueue:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=r,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:a,targetName:o,stream:p,streamId:n,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:a,targetName:o,stream:d,streamId:n}),delete t.streamSinks[n])},error:function(e){(0,i.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:a,targetName:o,stream:g,streamId:n,reason:b(e)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,new Promise((function(t){t(r(e.data,c))})).then((function(){s.postMessage({sourceName:a,targetName:o,stream:y,streamId:n,success:!0})}),(function(e){s.postMessage({sourceName:a,targetName:o,stream:y,streamId:n,reason:b(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,r=this.sourceName,n=e.sourceName,a=this.comObj;switch(e.stream){case y:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(b(e.reason));break;case v:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(b(e.reason));break;case m:if(!this.streamSinks[t]){a.postMessage({sourceName:r,targetName:n,stream:v,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var o=this.streamSinks[e.streamId].onPull;new Promise((function(e){e(o&&o())})).then((function(){a.postMessage({sourceName:r,targetName:n,stream:v,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:r,targetName:n,stream:v,streamId:t,reason:b(e)})}));break;case p:if((0,i.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case d:if((0,i.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case g:(0,i.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(b(e.reason)),this._deleteStreamController(t);break;case h:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(b(e.reason)),this._deleteStreamController(t);break;case f:if(!this.streamSinks[t])break;var s=this.streamSinks[e.streamId].onCancel;new Promise((function(t){t(s&&s(b(e.reason)))})).then((function(){a.postMessage({sourceName:r,targetName:n,stream:h,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:r,targetName:n,stream:h,streamId:t,reason:b(e)})})),this.streamSinks[t].sinkCapability.reject(b(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(c=a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(e){return e&&e.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}}),e,this)})),w=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=c.apply(e,t);function i(e){o(a,r,n,i,s,"next",e)}function s(e){o(a,r,n,i,s,"throw",e)}i(void 0)}))},function(e){return w.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}],r&&s(t.prototype,r),n&&s(t,n),e}();t.MessageHandler=w},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFWorkerStream=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},i=r(4);function o(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,c,"next",e)}function c(e){o(i,n,a,s,c,"throw",e)}s(void 0)}))}}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}var d=function(){function e(t){l(this,e),this._msgHandler=t,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(e,[{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._msgHandler),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var r=new g(e,t,this._msgHandler);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,r=c(this._rangeRequestReaders.slice(0));try{for(r.s();!(t=r.n()).done;)t.value.cancel(e)}catch(e){r.e(e)}finally{r.f()}}}]),e}();t.PDFWorkerStream=d;var p=function(){function e(t){var r=this;l(this,e),this._msgHandler=t,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;var n=this._msgHandler.sendWithStream("GetReader");this._reader=n.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then((function(e){r._isStreamingSupported=e.isStreamingSupported,r._isRangeSupported=e.isRangeSupported,r._contentLength=e.contentLength}))}var t;return h(e,[{key:"headersReady",get:function(){return this._headersReady}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"read",value:(t=s(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reader.read();case 2:if(t=e.sent,r=t.value,!t.done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return e.abrupt("return",{value:r.buffer,done:!1});case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader.cancel(e)}}]),e}(),g=function(){function e(t,r,n){l(this,e),this._msgHandler=n,this.onProgress=null;var a=this._msgHandler.sendWithStream("GetRangeReader",{begin:t,end:r});this._reader=a.getReader()}var t;return h(e,[{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=s(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reader.read();case 2:if(t=e.sent,r=t.value,!t.done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return e.abrupt("return",{value:r.buffer,done:!1});case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader.cancel(e)}}]),e}()}],t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var a={};return(()=>{"use strict";var e=a;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"WorkerMessageHandler",{enumerable:!0,get:function(){return t.WorkerMessageHandler}});var t=n(1)})(),a})()},e.exports=n()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();r(636)})();`,"Worker",void 0,void 0)};const k={name:"VuePdfEmbed",props:{disableAnnotationLayer:Boolean,disableTextLayer:Boolean,height:[Number,String],id:String,imageResourcesPath:String,page:Number,rotation:{type:[Number,String],validator:function(T){if(T%90!=0)throw new Error("Rotation must be 0 or a multiple of 90.");return!0}},scale:Number,source:{type:[Object,String,Uint8Array],required:!0},width:[Number,String]},data:function(){return{document:null,pageCount:null,pageNums:[]}},computed:{linkService:function(){var T=this;if(!this.document||this.disableAnnotationLayer)return null;var x=new u.PDFLinkService;return x.setDocument(this.document),x.setViewer({scrollPageIntoView:function(g){var f=g.pageNumber;T.$emit("internal-link-clicked",f)}}),x}},created:function(){var T=this;this.$watch(function(){return[T.source,T.disableAnnotationLayer,T.disableTextLayer,T.height,T.page,T.rotation,T.width]},function(){var x=w(regeneratorRuntime.mark(function g(f,d){var v,c,O,H;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(v=L(f,1),c=v[0],O=L(d,1),H=O[0],c===H){N.next=6;break}return I(T.$el),N.next=6,T.load();case 6:T.render();case 7:case"end":return N.stop()}},g)}));return function(g,f){return x.apply(this,arguments)}}())},mounted:function(){var T=this;return w(regeneratorRuntime.mark(function x(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,T.load();case 2:T.render();case 3:case"end":return g.stop()}},x)}))()},beforeDestroy:function(){var T;I(this.$el),(T=this.document)===null||T===void 0||T.destroy()},beforeUnmount:function(){var T;I(this.$el),(T=this.document)===null||T===void 0||T.destroy()},methods:{getPageDimensions:function(T){var x,g;return this.height&&!this.width?x=(g=this.height)/T:g=(x=this.width||this.$el.clientWidth)*T,[x,g]},load:function(){var T=this;return w(regeneratorRuntime.mark(function x(){var g;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(T.source){f.next=2;break}return f.abrupt("return");case 2:if(f.prev=2,!T.source._pdfInfo){f.next=7;break}T.document=T.source,f.next=13;break;case 7:return(g=o.getDocument(T.source)).onProgress=function(d){T.$emit("progress",d)},g.onPassword=function(d,v){var c=v===o.PasswordResponses.INCORRECT_PASSWORD;T.$emit("password-requested",d,c)},f.next=12,g.promise;case 12:T.document=f.sent;case 13:T.pageCount=T.document.numPages,T.$emit("loaded",T.document),f.next=23;break;case 17:f.prev=17,f.t0=f.catch(2),T.document=null,T.pageCount=null,T.pageNums=[],T.$emit("loading-failed",f.t0);case 23:case"end":return f.stop()}},x,null,[[2,17]])}))()},print:function(){var T=arguments,x=this;return w(regeneratorRuntime.mark(function g(){var f,d,v,c,O,H,N,U,y,C;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(f=T.length>0&&T[0]!==void 0?T[0]:300,d=T.length>1&&T[1]!==void 0?T[1]:"",v=T.length>2&&T[2]!==void 0&&T[2],x.document){E.next=5;break}return E.abrupt("return");case 5:return c=f/72,O=96/72,E.prev=7,(H=document.createElement("div")).style.display="none",window.document.body.appendChild(H),E.next=13,b(H);case 13:return N=E.sent,y=x.page&&!v?[x.page]:j(Array(x.document.numPages+1).keys()).slice(1),E.next=17,Promise.all(y.map(function(){var F=w(regeneratorRuntime.mark(function X(G,q){var ne,ie,ee,te,se,le;return regeneratorRuntime.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,x.document.getPage(G);case 2:return ne=de.sent,ie=ne.getViewport({scale:1}),q===0&&(ee=ie.width*c/O,te=ie.height*c/O,m(N,ee,te)),(se=document.createElement("canvas")).width=ie.width*c,se.height=ie.height*c,H.appendChild(se),le=se.cloneNode(),N.contentWindow.document.body.appendChild(le),de.next=13,ne.render({canvasContext:se.getContext("2d"),intent:"print",transform:[c,0,0,c,0,0],viewport:ie}).promise;case 13:le.getContext("2d").drawImage(se,0,0);case 14:case"end":return de.stop()}},X)}));return function(X,G){return F.apply(this,arguments)}}()));case 17:d&&(U=window.document.title,window.document.title=d),N.contentWindow.focus(),N.contentWindow.print(),E.next=25;break;case 22:E.prev=22,E.t0=E.catch(7),x.$emit("printing-failed",E.t0);case 25:return E.prev=25,U&&(window.document.title=U),I(H),(C=H.parentNode)===null||C===void 0||C.removeChild(H),E.finish(25);case 30:case"end":return E.stop()}},g,null,[[7,22,25,30]])}))()},render:function(){var T=this;return w(regeneratorRuntime.mark(function x(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(T.document){g.next=2;break}return g.abrupt("return");case 2:return g.prev=2,T.pageNums=T.page?[T.page]:j(Array(T.document.numPages+1).keys()).slice(1),g.next=6,Promise.all(T.pageNums.map(function(){var f=w(regeneratorRuntime.mark(function d(v,c){var O,H,N,U,y,C,E,F,X;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,T.document.getPage(v);case 2:return O=G.sent,H=L(T.$el.children[c].children,3),N=H[0],U=H[1],y=H[2],C=T.getPageDimensions(O.view[3]/O.view[2]),E=L(C,2),F=E[0],X=E[1],T.rotation/90%2?(N.style.width="".concat(Math.floor(X),"px"),N.style.height="".concat(Math.floor(F),"px")):(N.style.width="".concat(Math.floor(F),"px"),N.style.height="".concat(Math.floor(X),"px")),G.next=8,T.renderPage(O,N,F);case 8:if(T.disableTextLayer){G.next=11;break}return G.next=11,T.renderPageTextLayer(O,U,F);case 11:if(T.disableAnnotationLayer){G.next=14;break}return G.next=14,T.renderPageAnnotationLayer(O,y||U,F);case 14:case"end":return G.stop()}},d)}));return function(d,v){return f.apply(this,arguments)}}()));case 6:T.$emit("rendered"),g.next=15;break;case 9:g.prev=9,g.t0=g.catch(2),T.document=null,T.pageCount=null,T.pageNums=[],T.$emit("rendering-failed",g.t0);case 15:case"end":return g.stop()}},x,null,[[2,9]])}))()},renderPage:function(T,x,g){var f=this;return w(regeneratorRuntime.mark(function d(){var v,c;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return c=T.getViewport({scale:(v=f.scale)!==null&&v!==void 0?v:Math.ceil(g/T.view[2])+1,rotation:f.rotation}),x.width=c.width,x.height=c.height,O.next=5,T.render({canvasContext:x.getContext("2d"),viewport:c}).promise;case 5:case"end":return O.stop()}},d)}))()},renderPageAnnotationLayer:function(T,x,g){var f=this;return w(regeneratorRuntime.mark(function d(){return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return _(x),v.t0=o.AnnotationLayer,v.next=4,T.getAnnotations();case 4:v.t1=v.sent,v.t2=x,v.t3=f.linkService,v.t4=T,v.t5=T.getViewport({scale:g/T.view[2],rotation:f.rotation}).clone({dontFlip:!0}),v.t6=f.imageResourcesPath,v.t7={annotations:v.t1,div:v.t2,linkService:v.t3,page:v.t4,renderInteractiveForms:!1,viewport:v.t5,imageResourcesPath:v.t6},v.t0.render.call(v.t0,v.t7);case 12:case"end":return v.stop()}},d)}))()},renderPageTextLayer:function(T,x,g){var f=this;return w(regeneratorRuntime.mark(function d(){return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return _(x),v.t0=o,v.t1=x,v.next=5,T.getTextContent();case 5:return v.t2=v.sent,v.t3=T.getViewport({scale:g/T.view[2],rotation:f.rotation}),v.t4={container:v.t1,textContent:v.t2,viewport:v.t3},v.next=10,v.t0.renderTextLayer.call(v.t0,v.t4).promise;case 10:case"end":return v.stop()}},d)}))()}}};__webpack_require__(18);var A=function(T,x,g,f,d,v,c,O){var H,N=typeof T=="function"?T.options:T;if(x&&(N.render=x,N.staticRenderFns=g,N._compiled=!0),f&&(N.functional=!0),v&&(N._scopeId="data-v-"+v),c?(H=function(C){(C=C||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__=="undefined"||(C=__VUE_SSR_CONTEXT__),d&&d.call(this,C),C&&C._registeredComponents&&C._registeredComponents.add(c)},N._ssrRegister=H):d&&(H=O?function(){d.call(this,(N.functional?this.parent:this).$root.$options.shadowRoot)}:d),H)if(N.functional){N._injectStyles=H;var U=N.render;N.render=function(C,E){return H.call(E),U(C,E)}}else{var y=N.beforeCreate;N.beforeCreate=y?[].concat(y,H):[H]}return{exports:T,options:N}}(k,a,t.staticRenderFns,!1,null,null,null);A.options.__file="src/vue-pdf-embed.vue";const D=A.exports;D.getDocument=o.getDocument,typeof window!="undefined"&&window.Vue&&(window.VuePdfEmbed=D);const P=D})(),__webpack_exports__})()})})(vue3PdfEmbed);var VuePdfEmbed=getDefaultExportFromCjs(vue3PdfEmbed.exports),FileBrowser_vue_vue_type_style_index_0_lang=(()=>`.photo-popup-content{text-align:center}.photo-popup-content .photo-popup-image{max-height:100%;max-width:100%}.photo-popup-image{display:inline-block}.photo-popup-content .popup-video{max-height:80%;max-width:70%}.popup-video{display:inline-block;text-align:center;line-height:1px;background:#30b479;position:relative}
`)();const remoteProvider=new RemoteFileSystemProvider$1({endpointUrl:"/api/file-manager"}),_sfc_main={name:"VueDisk",components:{DxFileManager:DxFileManager_1,DxPermissions:DxPermissions_1,DxPopup:DxPopup_1,DxScrollView:DxScrollView_1,VuePlayerVideo,VuePdfEmbed},data(){return{remoteProvider,popupImageVisible:!1,popupVideoVisible:!1,popupTxTVisible:!1,popupPDFVisible:!1,txtContent:"",imageItemToDisplay:{name:"",url:""}}},methods:{displayImagePopup(t){if(this.imageItemToDisplay={name:t.file.name,url:t.file.dataItem.url},this.check_is_img(t.file.name)&&(this.popupImageVisible=!0),this.check_is_video(t.file.name)&&(this.popupVideoVisible=!0),this.check_is_txt(t.file.name)){this.popupTxTVisible=!0;const e=this.imageItemToDisplay.url;axios.get(e,{responseType:"text"}).then(r=>{this.txtContent=r.data})}this.check_is_pdf(t.file.name)&&(this.popupPDFVisible=!0)},fileManager_customizeDetailColumns(t){console.log("time time...");const e=t.slice();return e.find(r=>r.dataField==="dateModified").format="yyyy-MM-dd HH:mm:ss",e},customizeIcon:function(t){if(t.isDirectory)return"folder";const e=t.getFileExtension().toLowerCase();if(this.check_is_txt(e))return"txtfile";if(this.check_is_img(e))return"image";if(this.check_is_video(e))return"video"},check_is_img(t){return t.match(/\.(bmp|jpg|png|tif|gif|pcx|tga|exif|fpx|svg|psd|cdr|pcd|dxf|ufo|eps|ai|raw|wmf|jpeg)/i)!=null},check_is_video(t){return t.match(/\.(FLV|AVI|MOV|MP4|WMV)/i)!=null},check_is_txt(t){return t.match(/\.(txt|json)/i)!=null},check_is_pdf(t){return t.match(/\.(pdf)/i)!=null}}},_hoisted_1=["src"],_hoisted_2={class:"txt",style:{"white-space":"pre-wrap"}};function _sfc_render(t,e,r,n,i,a){const o=resolveComponent("DxPermissions"),s=resolveComponent("DxFileManager"),l=resolveComponent("DxPopup"),u=resolveComponent("vue-player-video"),m=resolveComponent("DxScrollView"),b=resolveComponent("vue-pdf-embed");return openBlock(),createElementBlock("div",null,[createVNode$1(s,{"file-system-provider":i.remoteProvider,"on-selected-file-opened":a.displayImagePopup,"current-path":"Widescreen","customize-detail-columns":a.fileManager_customizeDetailColumns,"customize-thumbnail":a.customizeIcon},{default:withCtx(()=>[createVNode$1(o,{create:!0,copy:!0,move:!0,delete:!0,rename:!0,upload:!0,download:!0})]),_:1},8,["file-system-provider","on-selected-file-opened","customize-detail-columns","customize-thumbnail"]),createVNode$1(l,{"close-on-outside-click":!0,visible:i.popupImageVisible,"onUpdate:visible":e[0]||(e[0]=_=>i.popupImageVisible=_),title:i.imageItemToDisplay.name,"onUpdate:title":e[1]||(e[1]=_=>i.imageItemToDisplay.name=_),"max-height":"1000","min-height":"10",class:"photo-popup-content"},{default:withCtx(()=>[createBaseVNode("img",{src:i.imageItemToDisplay.url,class:"photo-popup-image"},null,8,_hoisted_1)]),_:1},8,["visible","title"]),createVNode$1(l,{"close-on-outside-click":!0,visible:i.popupVideoVisible,"onUpdate:visible":e[2]||(e[2]=_=>i.popupVideoVisible=_),title:i.imageItemToDisplay.name,"onUpdate:title":e[3]||(e[3]=_=>i.imageItemToDisplay.name=_),"max-height":"1000px","min-height":"10",class:"photo-popup-content"},{default:withCtx(()=>[createVNode$1(m,{height:"100%"},{default:withCtx(()=>[createVNode$1(u,{src:i.imageItemToDisplay.url,theme:"gradient",class:"popup-video"},null,8,["src"])]),_:1})]),_:1},8,["visible","title"]),createVNode$1(l,{"close-on-outside-click":!0,visible:i.popupTxTVisible,"onUpdate:visible":e[4]||(e[4]=_=>i.popupTxTVisible=_),title:i.imageItemToDisplay.name,"onUpdate:title":e[5]||(e[5]=_=>i.imageItemToDisplay.name=_)},{default:withCtx(()=>[createVNode$1(m,{"scroll-by-content":!1,"scroll-by-thumb":!0,"show-scrollbar":"onScroll","bounce-enabled":!1},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2,toDisplayString(i.txtContent),1)]),_:1})]),_:1},8,["visible","title"]),createVNode$1(l,{"close-on-outside-click":!0,visible:i.popupPDFVisible,"onUpdate:visible":e[6]||(e[6]=_=>i.popupPDFVisible=_),title:i.imageItemToDisplay.name,"onUpdate:title":e[7]||(e[7]=_=>i.imageItemToDisplay.name=_)},{default:withCtx(()=>[createVNode$1(m,{"scroll-by-content":!1,"scroll-by-thumb":!0,"show-scrollbar":"onScroll","bounce-enabled":!1},{default:withCtx(()=>[createVNode$1(b,{source:i.imageItemToDisplay.url},null,8,["source"])]),_:1})]),_:1},8,["visible","title"])])}var FileBrowser=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{FileBrowser as default};
